{
  final DataContext dataContext=DataManager.getInstance().getDataContext(runConfigurationEditorComponent);
  final ConfigurationSettingsEditorWrapper editor=ConfigurationSettingsEditorWrapper.CONFIGURATION_EDITOR_KEY.getData(dataContext);
  if (editor != null) {
    List<T> tasks=ContainerUtil.findAll(editor.getStepsBeforeLaunch(),myTaskClass);
    if (enable && tasks.isEmpty()) {
      T task=doCreateTask(myProject);
      task.addArtifact(artifact);
      task.setEnabled(true);
      editor.addBeforeLaunchStep(task);
    }
 else {
      for (      T task : tasks) {
        if (enable) {
          task.addArtifact(artifact);
          task.setEnabled(true);
        }
 else {
          task.removeArtifact(artifact);
          if (task.getArtifactPointers().isEmpty()) {
            task.setEnabled(false);
          }
        }
      }
    }
  }
}
