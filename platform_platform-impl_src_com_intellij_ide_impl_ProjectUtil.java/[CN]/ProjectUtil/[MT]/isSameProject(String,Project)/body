{
  IProjectStore projectStore=(IProjectStore)ServiceKt.getStateStore(project);
  String toOpen=FileUtil.toSystemIndependentName(path);
  String existing=projectStore.getProjectFilePath();
  String existingBaseDir=projectStore.getProjectBasePath();
  if (existingBaseDir == null) {
    return false;
  }
  final File openFile=new File(toOpen);
  if (openFile.isDirectory()) {
    return FileUtil.pathsEqual(toOpen,existingBaseDir);
  }
  if (StorageScheme.DIRECTORY_BASED == projectStore.getStorageScheme()) {
    return FileUtil.pathsEqual(FileUtil.toSystemIndependentName(openFile.getParentFile().getPath()),existingBaseDir);
  }
  return FileUtil.pathsEqual(toOpen,existing);
}
