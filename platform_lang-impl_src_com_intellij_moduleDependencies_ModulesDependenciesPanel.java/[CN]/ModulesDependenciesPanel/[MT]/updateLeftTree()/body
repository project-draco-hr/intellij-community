{
  final DefaultMutableTreeNode root=(DefaultMutableTreeNode)myLeftTree.getModel().getRoot();
  root.removeAllChildren();
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    @Override public void run(){
      for (      Module module : myModules) {
        if (module.isDisposed())         continue;
        ProgressManager.progress(AnalysisScopeBundle.message("update.module.tree.progress.text",module.getName()));
        DefaultMutableTreeNode moduleNode=new DefaultMutableTreeNode(new MyUserObject(isInCycle(module),module));
        root.add(moduleNode);
        for (        Module dependency : getModuleDependencies(module)) {
          moduleNode.add(new DefaultMutableTreeNode(new MyUserObject(isInCycle(dependency),dependency)));
        }
      }
    }
  }
,AnalysisScopeBundle.message("update.module.tree.progress.title"),true,myProject);
  TreeUtil.sort(root,NODE_COMPARATOR);
  ((DefaultTreeModel)myLeftTree.getModel()).reload();
  TreeUtil.selectFirstNode(myLeftTree);
}
