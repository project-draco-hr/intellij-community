{
  myProject=project;
  mySdk=sdk;
  if (project.isDisposed()) {
    return;
  }
  Disposer.register(project,this);
  project.getMessageBus().connect(this).subscribe(ProjectJdkTable.JDK_TABLE_TOPIC,new ProjectJdkTable.Adapter(){
    @Override public void jdkRemoved(    Sdk jdk){
      if (jdk == sdk) {
        Disposer.dispose(PythonSdkPathCache.this);
      }
    }
  }
);
  sdk.getRootProvider().addRootSetChangedListener(new RootProvider.RootSetChangedListener(){
    @Override public void rootSetChanged(    RootProvider wrapper){
      clearCache();
      if (!project.isDisposed()) {
        final Module[] modules=ModuleManager.getInstance(project).getModules();
        for (        Module module : modules) {
          PythonModulePathCache.getInstance(module).clearCache();
        }
      }
      myBuiltins.set(null);
    }
  }
,this);
  VirtualFileManager.getInstance().addVirtualFileListener(new MyVirtualFileAdapter(),this);
}
