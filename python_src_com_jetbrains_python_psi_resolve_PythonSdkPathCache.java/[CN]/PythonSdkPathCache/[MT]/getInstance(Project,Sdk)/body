{
synchronized (KEY) {
    Map<Project,PythonPathCache> cacheMap=sdk.getUserData(KEY);
    if (cacheMap == null) {
      cacheMap=new WeakHashMap<Project,PythonPathCache>();
      sdk.putUserData(KEY,cacheMap);
    }
    PythonPathCache cache=cacheMap.get(project);
    if (cache == null) {
      cache=new PythonSdkPathCache(project,sdk);
      cacheMap.put(project,cache);
    }
    return cache;
  }
}
