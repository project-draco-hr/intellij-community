{
  String suffix='/' + Constants.DOT_GIT;
  if (url.endsWith(suffix)) {
    url=url.substring(0,url.length() - suffix.length());
  }
  File file=new File(url);
  if (file.exists()) {
    if (!file.isDirectory()) {
      Messages.showErrorDialog(getContentPane(),"Specified path is not a directory","Specified Path is Invalid");
      return false;
    }
 else     if (repositoryManager.isValidRepository(file)) {
      return true;
    }
  }
  if (Messages.showYesNoDialog(getContentPane(),IcsBundle.message("init.dialog.message"),IcsBundle.message("init.dialog.title"),Messages.getQuestionIcon()) == Messages.YES) {
    try {
      repositoryManager.initRepository(file);
      return true;
    }
 catch (    IOException e) {
      Messages.showErrorDialog(getContentPane(),IcsBundle.message("init.failed.message",e.getMessage()),IcsBundle.message("init.failed.title"));
      return false;
    }
  }
 else {
    return false;
  }
}
