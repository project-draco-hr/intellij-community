{
  String url=StringUtil.nullize(urlTextField.getText());
  if (url != null) {
    boolean isFile;
    if (url.startsWith(StandardFileSystems.FILE_PROTOCOL_PREFIX)) {
      url=url.substring(StandardFileSystems.FILE_PROTOCOL_PREFIX.length());
      isFile=true;
    }
 else {
      isFile=!URLUtil.containsScheme(url);
    }
    if (isFile) {
      File file=new File(url);
      if (file.exists()) {
        if (!file.isDirectory()) {
          return;
        }
      }
 else {
        if (Messages.showYesNoDialog(getContentPane(),"Path not exists, would you like to init repository here?","Init repository",Messages.getQuestionIcon()) == 1) {
          try {
            IcsManager.getInstance().getRepositoryManager().initRepository(file);
          }
 catch (          IOException e) {
            Messages.showErrorDialog(getContentPane(),IcsBundle.message("init.failed.message",e.getMessage()),IcsBundle.message("init.failed.title"));
          }
        }
 else {
          return;
        }
      }
    }
  }
  IcsManager.getInstance().getRepositoryManager().setRemoteRepositoryUrl(url);
}
