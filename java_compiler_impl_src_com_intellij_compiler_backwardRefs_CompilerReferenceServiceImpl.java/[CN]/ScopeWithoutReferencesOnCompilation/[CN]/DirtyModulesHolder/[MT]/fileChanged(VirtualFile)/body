{
  if (myProjectFileIndex.isInSourceContent(file) && myFileTypes.contains(file.getFileType())) {
    final Module module=myProjectFileIndex.getModuleForFile(file);
    if (module != null) {
synchronized (myLock) {
        if (myCompilationPhase) {
          myChangedModulesDuringCompilation.add(module);
        }
 else {
          myChangedModules.add(module);
        }
      }
    }
  }
}
