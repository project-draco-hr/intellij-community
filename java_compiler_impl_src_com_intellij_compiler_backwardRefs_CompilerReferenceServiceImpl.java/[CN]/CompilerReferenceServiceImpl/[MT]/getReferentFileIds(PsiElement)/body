{
  final CompilerElementInfo compilerElementInfo=asCompilerElements(element,true);
  if (compilerElementInfo == null)   return null;
  myReadDataLock.lock();
  try {
    if (myReader == null)     return null;
    TIntHashSet referentFileIds=new TIntHashSet();
    for (    LightRef ref : compilerElementInfo.searchElements) {
      final TIntHashSet referents=myReader.findReferentFileIds(ref,compilerElementInfo.place == ElementPlace.SRC);
      if (referents == null)       return null;
      referentFileIds.addAll(referents.toArray());
    }
    return referentFileIds;
  }
  finally {
    myReadDataLock.unlock();
  }
}
