{
  final SvnRepositoryContentRevision before=(SvnRepositoryContentRevision)change.getBeforeRevision();
  final SvnRepositoryContentRevision after=(SvnRepositoryContentRevision)change.getAfterRevision();
  final String path=myCurrentBranchUrl.toString();
  final String beforeUrl=before.getFullPath();
  final String afterUrl=after.getFullPath();
  final File afterPath=SvnUtil.fileFromUrl(myTarget,path,afterUrl);
  MergeClient client=myVcs.getFactory(myTarget).createMergeClient();
  SvnTarget source1=SvnTarget.fromURL(SVNURL.parseURIEncoded(beforeUrl),((SvnRevisionNumber)before.getRevisionNumber()).getRevision());
  SvnTarget source2=SvnTarget.fromURL(SVNURL.parseURIEncoded(afterUrl),((SvnRevisionNumber)after.getRevisionNumber()).getRevision());
  client.merge(source1,source2,afterPath,SVNDepth.FILES,true,mySvnConfig.MERGE_DRY_RUN,false,false,mySvnConfig.getMergeOptions(),myHandler);
}
