{
  List<TreePath> pathsToRemove=new ArrayList<TreePath>();
  for (  LibraryProjectStructureElement element : libraries) {
    getModelProvider().getModifiableModel().removeLibrary(element.getLibrary());
    MyNode node=findNodeByObject(myRoot,element.getLibrary());
    if (node != null) {
      pathsToRemove.add(TreeUtil.getPathFromRoot(node));
    }
  }
  myContext.getDaemonAnalyzer().removeElements(libraries);
  removePaths(pathsToRemove.toArray(new TreePath[pathsToRemove.size()]));
}
