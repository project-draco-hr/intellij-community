{
  if (!anyCaret || !myEditor.getCaretModel().supportsMultipleCarets()) {
    return myEditor.getCaretModel().getCurrentCaret().hasSelection();
  }
  for (  Caret caret : myEditor.getCaretModel().getAllCarets()) {
    if (caret.hasSelection()) {
      return true;
    }
  }
  return false;
}
