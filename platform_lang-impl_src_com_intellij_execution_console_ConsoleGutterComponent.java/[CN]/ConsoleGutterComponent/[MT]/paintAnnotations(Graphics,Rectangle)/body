{
  g.setColor(JBColor.blue);
  g.setFont(editor.getColorsScheme().getFont(EditorFontType.PLAIN));
  int lineHeight=editor.getLineHeight();
  int startLineNumber=clip.y / lineHeight;
  int endLineNumber=(clip.y + clip.height) / lineHeight + 1;
  int lastLine=editor.logicalToVisualPosition(new LogicalPosition(getEndLineNumber(),0)).line;
  endLineNumber=Math.min(endLineNumber,lastLine + 1);
  if (startLineNumber >= endLineNumber) {
    return;
  }
  gutterContentProvider.beforeUiComponentUpdate(editor);
  for (int i=startLineNumber; i < endLineNumber; i++) {
    int logLine=editor.visualToLogicalPosition(new VisualPosition(i,0)).line;
    String text=gutterContentProvider.getText(logLine,editor);
    if (text != null) {
      g.drawString(text,0,(i + 1) * lineHeight - editor.getDescent());
    }
  }
}
