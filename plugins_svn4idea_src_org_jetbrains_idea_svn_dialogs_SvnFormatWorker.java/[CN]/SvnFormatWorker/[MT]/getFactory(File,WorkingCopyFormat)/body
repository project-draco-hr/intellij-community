{
  ClientFactory factory=myVcs.getFactory(path);
  ClientFactory otherFactory=myVcs.getOtherFactory(factory);
  List<WorkingCopyFormat> factoryFormats=factory.createUpgradeClient().getSupportedFormats();
  List<WorkingCopyFormat> otherFactoryFormats=getOtherFactoryFormats(otherFactory);
  return factoryFormats.contains(format) || !otherFactoryFormats.contains(format) ? factory : otherFactory;
}
