{
  Set<String> names=myNontrivialPackagePrefixes;
  if (names == null) {
    names=new HashSet<String>();
    final ProjectRootManager rootManager=ProjectRootManager.getInstance(myManager.getProject());
    final List<VirtualFile> sourceRoots=rootManager.getModuleSourceRoots(JavaModuleSourceRootTypes.SOURCES);
    final ProjectFileIndex fileIndex=rootManager.getFileIndex();
    for (    final VirtualFile sourceRoot : sourceRoots) {
      final String packageName=fileIndex.getPackageNameByDirectory(sourceRoot);
      if (packageName != null && !packageName.isEmpty()) {
        names.add(packageName);
      }
    }
    myNontrivialPackagePrefixes=names;
  }
  return names;
}
