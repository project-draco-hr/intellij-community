{
  myManager=(PsiManagerEx)PsiManager.getInstance(project);
  myPackageIndex=PackageIndex.getInstance(myManager.getProject());
  project.getMessageBus().connect().subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootAdapter(){
    @Override public void rootsChanged(    final ModuleRootEvent event){
      myNontrivialPackagePrefixes=null;
    }
  }
);
  myManager.registerRunnableToRunOnChange(new Runnable(){
    @Override public void run(){
      myCachedObjectClassMap.clear();
    }
  }
);
}
