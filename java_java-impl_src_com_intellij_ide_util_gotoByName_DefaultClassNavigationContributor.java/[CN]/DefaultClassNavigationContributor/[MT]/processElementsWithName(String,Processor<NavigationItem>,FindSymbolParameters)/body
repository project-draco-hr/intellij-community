{
  PsiShortNamesCache.getInstance(parameters.getProject()).processClassesWithName(name,new Processor<PsiClass>(){
    final boolean isAnnotation=parameters.getLocalPatternName().startsWith("@");
    @Override public boolean process(    PsiClass aClass){
      if (aClass.getContainingFile().getVirtualFile() == null || !aClass.isPhysical())       return true;
      if (isAnnotation && !aClass.isAnnotationType())       return true;
      return processor.process(aClass);
    }
  }
,parameters.getSearchScope(),parameters.getIdFilter());
}
