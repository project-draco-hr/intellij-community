{
  final MultiMap<VirtualFile,VirtualFile> parentToSelectedChildren=MultiMap.createSmart();
  final CvsContext context=CvsContextWrapper.createCachedInstance(e);
  final VirtualFile[] selectedFiles=context.getSelectedFiles();
  for (  VirtualFile selectedFile : selectedFiles) {
    final VirtualFile parent=selectedFile.getParent();
    parentToSelectedChildren.putValue(parent,selectedFile);
    try {
      CvsUtil.ignoreFile(selectedFile);
    }
 catch (    IOException e1) {
      final String message=CvsBundle.message("message.error.ignore.files",selectedFile.getPresentableUrl(),e1.getLocalizedMessage());
      VcsBalloonProblemNotifier.showOverChangesView(context.getProject(),message,MessageType.ERROR);
    }
  }
  refreshFilesAndStatuses(context,parentToSelectedChildren);
}
