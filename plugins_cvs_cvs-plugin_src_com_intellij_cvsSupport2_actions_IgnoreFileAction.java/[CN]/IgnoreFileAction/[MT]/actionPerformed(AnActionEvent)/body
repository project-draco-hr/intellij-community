{
  final CvsContext context=CvsContextWrapper.createCachedInstance(e);
  final VirtualFile[] selectedFiles=context.getSelectedFiles();
  for (  VirtualFile selectedFile : selectedFiles) {
    final VirtualFile parent=selectedFile.getParent();
    if (!myParentToSelectedChildren.containsKey(parent))     myParentToSelectedChildren.put(parent,new HashSet<VirtualFile>());
    myParentToSelectedChildren.get(parent).add(selectedFile);
    try {
      CvsUtil.ignoreFile(selectedFile);
    }
 catch (    IOException e1) {
      final String message=CvsBundle.message("message.error.ignore.files",selectedFile.getPresentableUrl(),e1.getLocalizedMessage());
      VcsBalloonProblemNotifier.showOverChangesView(context.getProject(),message,MessageType.ERROR);
    }
  }
  refreshFilesAndStatuses(context);
}
