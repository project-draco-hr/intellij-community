{
  Element element=new Element("state");
  writeExternal(element,myPersistentEntryPoints,ADDITIONAL_ANNOTATIONS);
  if (!getPatterns().isEmpty()) {
    for (    ClassPattern pattern : getPatterns()) {
      element.addContent(XmlSerializer.serialize(pattern,new SkipDefaultsSerializationFilter()));
    }
  }
  if (!myWriteAnnotations.isEmpty()) {
    final Element writeAnnotations=new Element("writeAnnotations");
    for (    String writeAnnotation : myWriteAnnotations) {
      writeAnnotations.addContent(new Element("writeAnnotation").setAttribute("name",writeAnnotation));
    }
    element.addContent(writeAnnotations);
  }
  return element;
}
