{
  final Description root=Description.createSuiteDescription("root");
  final String className="ATest";
  final String methodName="test1";
  final List<Description> tests=new ArrayList<>();
  for (  String suiteName : new String[]{"ASuite1","ASuite2"}) {
    final Description aSuite=Description.createSuiteDescription(suiteName);
    root.addChild(aSuite);
    final Description aTest=Description.createSuiteDescription(className);
    aSuite.addChild(aTest);
    final Description testDescription=Description.createTestDescription(className,methodName);
    tests.add(testDescription);
    aTest.addChild(testDescription);
  }
  doTest(root,tests,"##teamcity[enteredTheMatrix]\n" + "##teamcity[suiteTreeStarted name='ASuite1' locationHint='java:suite://ASuite1']\n" + "##teamcity[suiteTreeStarted name='ATest' locationHint='java:suite://ATest']\n"+ "##teamcity[suiteTreeNode name='ATest.test1' locationHint='java:test://ATest.test1']\n"+ "##teamcity[suiteTreeEnded name='ATest']\n"+ "##teamcity[suiteTreeEnded name='ASuite1']\n"+ "##teamcity[suiteTreeStarted name='ASuite2' locationHint='java:suite://ASuite2']\n"+ "##teamcity[suiteTreeStarted name='ATest' locationHint='java:suite://ATest']\n"+ "##teamcity[suiteTreeNode name='ATest.test1' locationHint='java:test://ATest.test1']\n"+ "##teamcity[suiteTreeEnded name='ATest']\n"+ "##teamcity[suiteTreeEnded name='ASuite2']\n"+ "##teamcity[treeEnded]\n","##teamcity[rootName name = 'root' location = 'java:suite://root']\n" + "\n" + "##teamcity[testSuiteStarted name='ASuite1']\n"+ "\n"+ "##teamcity[testSuiteStarted name='ATest']\n"+ "\n"+ "##teamcity[testStarted name='ATest.test1' locationHint='java:test://ATest.test1']\n"+ "\n"+ "##teamcity[testFinished name='ATest.test1']\n"+ "\n"+ "##teamcity[testSuiteFinished name='ATest']\n"+ "\n"+ "##teamcity[testSuiteFinished name='ASuite1']\n"+ "\n"+ "##teamcity[testSuiteStarted name='ASuite2']\n"+ "\n"+ "##teamcity[testSuiteStarted name='ATest']\n"+ "\n"+ "##teamcity[testStarted name='ATest.test1' locationHint='java:test://ATest.test1']\n"+ "\n"+ "##teamcity[testFinished name='ATest.test1']\n"+ "\n"+ "##teamcity[testSuiteFinished name='ATest']\n"+ "##teamcity[testSuiteFinished name='ASuite2']");
}
