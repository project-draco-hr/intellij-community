{
  PsiElement[] children=aClass.getChildren();
  for (  PsiElement child : children) {
    ProgressIndicatorProvider.checkCanceled();
    if (child instanceof PsiMethod) {
      PsiMethod method=(PsiMethod)child;
      PsiCodeBlock body=method.getBody();
      if (body != null) {
        addCodeBlockFolds(body);
      }
    }
 else     if (child instanceof PsiField) {
      PsiField field=(PsiField)child;
      PsiExpression initializer=field.getInitializer();
      if (initializer != null) {
        addCodeBlockFolds(initializer);
      }
 else       if (field instanceof PsiEnumConstant) {
        addCodeBlockFolds(field);
      }
    }
 else     if (child instanceof PsiClassInitializer) {
      PsiClassInitializer initializer=(PsiClassInitializer)child;
      addCodeBlockFolds(initializer);
    }
 else     if (child instanceof PsiClass) {
      addElementsToFold((PsiClass)child);
    }
  }
}
