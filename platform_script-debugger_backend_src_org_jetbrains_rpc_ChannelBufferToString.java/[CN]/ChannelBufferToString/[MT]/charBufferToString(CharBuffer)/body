{
  char[] array=charBuffer.array();
  if (array.length == charBuffer.position()) {
    return StringFactory.createShared(array);
  }
 else {
    return charBuffer.flip().toString();
  }
}
