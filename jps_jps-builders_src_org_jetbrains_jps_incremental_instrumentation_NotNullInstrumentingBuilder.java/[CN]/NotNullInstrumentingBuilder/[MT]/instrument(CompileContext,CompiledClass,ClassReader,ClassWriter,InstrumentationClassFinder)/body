{
  try {
    if (NotNullVerifyingInstrumenter.processClassFile(reader,writer)) {
      return new BinaryContent(writer.toByteArray());
    }
  }
 catch (  Throwable e) {
    final StringBuilder msg=new StringBuilder();
    msg.append("@NotNull instrumentation failed ");
    final File sourceFile=compiledClass.getSourceFile();
    msg.append(" for ").append(sourceFile.getName());
    msg.append(": ").append(e.getMessage());
    context.processMessage(new CompilerMessage(getPresentableName(),BuildMessage.Kind.ERROR,msg.toString(),sourceFile.getPath()));
  }
  return null;
}
