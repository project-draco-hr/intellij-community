{
  if (!type.isValid()) {
    Thread.yield();
    if (type.isValid()) {
      LOG.error("PsiType resurrected: " + type + " of "+ type.getClass());
      return;
    }
    if (type instanceof PsiClassType) {
      ((PsiClassType)type).resolve();
    }
    throw new AssertionError("Invalid type: " + type + " of class "+ type.getClass());
  }
}
