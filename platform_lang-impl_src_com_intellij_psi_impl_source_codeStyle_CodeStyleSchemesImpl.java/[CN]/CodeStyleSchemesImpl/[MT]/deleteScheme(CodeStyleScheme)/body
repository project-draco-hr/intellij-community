{
  if (scheme.isDefault()) {
    throw new IllegalArgumentException("Unable to delete default scheme!");
  }
  CodeStyleSchemeImpl currentScheme=(CodeStyleSchemeImpl)getCurrentScheme();
  if (currentScheme == scheme) {
    CodeStyleScheme newCurrentScheme=getDefaultScheme();
    if (newCurrentScheme == null) {
      throw new IllegalStateException("Unable to load default scheme!");
    }
    setCurrentScheme(newCurrentScheme);
  }
  mySchemeManager.removeScheme(scheme);
}
