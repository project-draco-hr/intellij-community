{
  mySchemesManager=schemesManagerFactory.createSchemesManager(CODE_STYLES_DIR_PATH,new BaseSchemeProcessor<CodeStyleSchemeImpl>(){
    @NotNull @Override public CodeStyleSchemeImpl readScheme(    @NotNull Element element){
      return new CodeStyleSchemeImpl(element.getAttributeValue("name"),element.getAttributeValue("parent"),element);
    }
    @Override public Element writeScheme(    @NotNull CodeStyleSchemeImpl scheme) throws WriteExternalException {
      Element newElement=new Element("code_scheme");
      newElement.setAttribute("name",scheme.getName());
      scheme.writeExternal(newElement);
      return newElement;
    }
    @NotNull @Override public State getState(    @NotNull CodeStyleSchemeImpl scheme){
      return scheme.isDefault() ? State.NON_PERSISTENT : State.POSSIBLY_CHANGED;
    }
    @Override public void initScheme(    @NotNull CodeStyleSchemeImpl scheme){
      scheme.init(CodeStyleSchemesImpl.this);
    }
  }
,RoamingType.PER_USER);
  mySchemesManager.loadSchemes();
  addScheme(new CodeStyleSchemeImpl(DEFAULT_SCHEME_NAME,true,null));
  setCurrentScheme(getDefaultScheme());
}
