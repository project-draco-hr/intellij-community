{
  final PsiElement body=expression.getBody();
  if (!(body instanceof PsiCodeBlock)) {
    return;
  }
  final PsiCodeBlock block=(PsiCodeBlock)body;
  final PsiJavaToken brace=block.getLBrace();
  if (brace == null) {
    return;
  }
  final NCSSVisitor visitor=new NCSSVisitor();
  block.accept(visitor);
  final int count=visitor.getStatementCount();
  if (count <= getLimit()) {
    return;
  }
  registerErrorAtOffset(expression,0,body.getStartOffsetInParent() + 1,Integer.valueOf(count));
}
