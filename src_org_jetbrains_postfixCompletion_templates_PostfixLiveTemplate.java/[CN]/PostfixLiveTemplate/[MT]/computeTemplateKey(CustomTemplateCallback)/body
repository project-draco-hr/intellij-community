{
  Editor editor=callback.getEditor();
  CharSequence documentContent=editor.getDocument().getCharsSequence();
  int currentOffset=editor.getCaretModel().getOffset();
  int startOffset=currentOffset;
  while (startOffset > 0) {
    char currentChar=documentContent.charAt(startOffset - 1);
    if (!Character.isJavaIdentifierPart(currentChar)) {
      if (currentChar != '.') {
        return null;
      }
      startOffset--;
      break;
    }
    startOffset--;
  }
  String key=String.valueOf(documentContent.subSequence(startOffset,currentOffset));
  PostfixTemplate template=getTemplateByKey(key);
  return isApplicableTemplate(template,callback.getContext().getContainingFile(),editor) ? key : null;
}
