{
  if (item instanceof JavaPsiClassReferenceElement) {
    String forced=((JavaPsiClassReferenceElement)item).getForcedPresentableName();
    if (forced != null) {
      return forced;
    }
  }
  String name=PsiUtilCore.getName(psiClass);
  if (diamond) {
    return name + "<>";
  }
  if (substitutor != PsiSubstitutor.EMPTY) {
    final PsiTypeParameter[] params=psiClass.getTypeParameters();
    if (params.length > 0) {
      return name + formatTypeParameters(substitutor,params);
    }
  }
  return StringUtil.notNullize(name);
}
