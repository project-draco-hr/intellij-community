{
  for (  DirectNode node : dgraph.nodes) {
    updated.remove(node.id);
    mergeInVarMaps(node,dgraph);
    SFormsFastMapDirect varmap=new SFormsFastMapDirect(inVarVersions.get(node.id));
    SFormsFastMapDirect[] varmaparr=new SFormsFastMapDirect[]{varmap,null};
    if (node.exprents != null) {
      for (      Exprent expr : node.exprents) {
        processExprent(expr,varmaparr,node.statement,calcLiveVars);
      }
    }
    if (varmaparr[1] == null) {
      varmaparr[1]=varmaparr[0];
    }
    boolean allow_field_propagation=node.succs.isEmpty() || (node.succs.size() == 1 && node.succs.get(0).preds.size() == 1);
    if (!allow_field_propagation && varmaparr[0] != null) {
      varmaparr[0].removeAllFields();
      varmaparr[1].removeAllFields();
    }
    boolean this_updated=!mapsEqual(varmaparr[0],outVarVersions.get(node.id)) || (outNegVarVersions.containsKey(node.id) && !mapsEqual(varmaparr[1],outNegVarVersions.get(node.id)));
    if (this_updated) {
      outVarVersions.put(node.id,varmaparr[0]);
      if (dgraph.mapNegIfBranch.containsKey(node.id)) {
        outNegVarVersions.put(node.id,varmaparr[1]);
      }
      for (      DirectNode nd : node.succs) {
        updated.add(nd.id);
      }
    }
  }
}
