{
  List<LighterASTNode> children=ast.getChildren(element.node);
  IndexedLighterASTNode[] indexedChildren=children.isEmpty() ? IndexedLighterASTNode.EMPTY_ARRAY : new IndexedLighterASTNode[children.size()];
  for (int i=0; i < children.size(); i++) {
    LighterASTNode child=children.get(i);
    IndexedLighterASTNode indexedNode=new IndexedLighterASTNode(child,i);
    indexedChildren[i]=indexedNode;
  }
  childrenStack.push(indexedChildren);
  parentStack.push(element);
  return children.isEmpty() ? null : indexedChildren[0];
}
