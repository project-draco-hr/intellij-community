{
  if (isMutable(item) || !isEditable(item)) {
    return item;
  }
 else {
    T mutable=originalToModified.get(item);
    if (mutable == null) {
      mutable=itemEditor.clone(item,false);
      modifiedToOriginal.put(mutable,item);
      originalToModified.put(item,mutable);
      List<T> items=getItems();
      items.set(index == -1 ? ContainerUtil.indexOfIdentity(items,item) : index,mutable);
    }
    return mutable;
  }
}
