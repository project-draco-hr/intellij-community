{
  File tempFile=FileUtil.createTempFile("configr","temp");
  try {
    FileOutputStream out=new FileOutputStream(tempFile);
    try {
      FileUtil.copy(bytes,(int)size,out);
    }
  finally {
      out.close();
    }
    return tempFile;
  }
 catch (  IOException e) {
    FileUtil.delete(tempFile);
    throw e;
  }
catch (  Throwable e) {
    FileUtil.delete(tempFile);
    LOG.info(e);
    throw new IOException(e.getLocalizedMessage());
  }
}
