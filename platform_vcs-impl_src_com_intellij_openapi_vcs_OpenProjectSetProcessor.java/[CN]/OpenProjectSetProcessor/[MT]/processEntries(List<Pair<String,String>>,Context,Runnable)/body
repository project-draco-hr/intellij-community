{
  final String root=context.directory == null || context.directoryName == null ? null : context.directory.getPath() + "/" + context.directoryName;
  for (  final Pair<String,String> entry : entries) {
    if ("project".equals(entry.getFirst())) {
      context.project=UIUtil.invokeAndWaitIfNeeded(new Computable<Project>(){
        @Override public Project compute(){
          String path=root == null ? entry.getSecond() : (root + "/" + entry.getSecond());
          return ProjectUtil.openProject(path,null,true);
        }
      }
);
      if (context.project != null) {
        runNext.run();
      }
      return;
    }
  }
  final VirtualFile dir=LocalFileSystem.getInstance().refreshAndFindFileByPath(root);
  if (dir != null) {
    Project project=PlatformProjectOpenProcessor.getInstance().doOpenProject(dir,null,false);
    if (project != null)     runNext.run();
  }
}
