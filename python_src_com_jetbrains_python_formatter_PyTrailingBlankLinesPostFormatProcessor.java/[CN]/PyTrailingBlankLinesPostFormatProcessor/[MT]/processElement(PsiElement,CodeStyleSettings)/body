{
  if (source instanceof PyFile) {
    final PyFile pyFile=(PyFile)source;
    final List<PsiElement> range=findTrailingWhitespaces(pyFile);
    if (!range.isEmpty() && PsiTreeUtil.isAncestor(source,ContainerUtil.getFirstItem(range),false) && PsiTreeUtil.isAncestor(source,ContainerUtil.getLastItem(range),false)) {
      replaceOrDeleteTrailingWhitespaces(pyFile,range);
    }
  }
  return source;
}
