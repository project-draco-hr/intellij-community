{
  for (  NonProjectFileWritingAccessExtension each : Extensions.getExtensions(NonProjectFileWritingAccessExtension.EP_NAME,project)) {
    if (each.isWritable(file))     return true;
    if (each.isNotWritable(file))     return false;
  }
  ProjectFileIndex fileIndex=ProjectFileIndex.SERVICE.getInstance(project);
  if (fileIndex.isInContent(file))   return true;
  if (!Registry.is("ide.hide.excluded.files") && fileIndex.isExcluded(file) && !fileIndex.isUnderIgnored(file))   return true;
  if (project instanceof ProjectEx && !project.isDefault()) {
    if (ProjectKt.getStateStore(project).isProjectFile(file)) {
      return true;
    }
    String filePath=file.getPath();
    for (    Module module : ModuleManager.getInstance(project).getModules()) {
      if (FileUtil.namesEqual(filePath,module.getModuleFilePath())) {
        return true;
      }
    }
  }
  return false;
}
