{
  if (myArgumentList instanceof PsiExpressionList) {
    final PsiMethod method=getElement();
    final PsiParameter[] parameters=method.getParameterList().getParameters();
    final PsiExpression[] expressions=((PsiExpressionList)myArgumentList).getExpressions();
    if (!isVarargs() && myLanguageLevel.isAtLeast(LanguageLevel.JDK_1_8)) {
      if (expressions.length != parameters.length) {
        return false;
      }
    }
 else {
      if (expressions.length < parameters.length - 1) {
        return false;
      }
      if (parameters.length == 0 && expressions.length != parameters.length) {
        return false;
      }
    }
    for (int i=0; i < expressions.length; i++) {
      final PsiExpression expression=expressions[i];
      PsiType formalParameterType=i < parameters.length ? parameters[i].getType() : parameters[parameters.length - 1].getType();
      if (formalParameterType instanceof PsiEllipsisType && isVarargs()) {
        formalParameterType=((PsiEllipsisType)formalParameterType).getComponentType();
      }
      if (!isPotentialCompatible(expression,getSiteSubstitutor().substitute(formalParameterType),method)) {
        return false;
      }
    }
    if (method.hasTypeParameters() && myTypeArguments != null) {
      return method.getTypeParameters().length == myTypeArguments.length;
    }
  }
  return true;
}
