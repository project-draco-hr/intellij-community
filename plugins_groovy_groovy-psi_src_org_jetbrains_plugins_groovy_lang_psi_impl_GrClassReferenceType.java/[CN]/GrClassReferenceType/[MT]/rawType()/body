{
  final PsiElementFactory factory=JavaPsiFacade.getElementFactory(myReferenceElement.getProject());
  final PsiClass clazz=resolve();
  if (clazz != null) {
    return factory.createType(clazz,factory.createRawSubstitutor(clazz));
  }
 else {
    String qName=myReferenceElement.getClassNameText();
    return factory.createTypeByFQClassName(qName,myReferenceElement.getResolveScope());
  }
}
