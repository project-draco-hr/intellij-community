{
  if (filter == null) {
    return CollapsedVisibleGraph.newInstance(this,headsOfVisibleBranches);
  }
 else {
    return FilterVisibleGraph.newInstance(this,headsOfVisibleBranches,filter);
  }
}
