{
  if (head instanceof Integer) {
    final TIntHashSet branchNodes=new TIntHashSet();
    myBranchesGetter.walkBranch(myPermanentCommitsInfo.getNodeId(head),new Consumer<Integer>(){
      @Override public void consume(      Integer node){
        branchNodes.add((Integer)myPermanentCommitsInfo.getCommitId(node));
      }
    }
);
    return new Condition<CommitId>(){
      @Override public boolean value(      CommitId commitId){
        return branchNodes.contains((Integer)commitId);
      }
    }
;
  }
 else {
    final Set<CommitId> branchNodes=ContainerUtil.newHashSet();
    myBranchesGetter.walkBranch(myPermanentCommitsInfo.getNodeId(head),new Consumer<Integer>(){
      @Override public void consume(      Integer node){
        branchNodes.add(myPermanentCommitsInfo.getCommitId(node));
      }
    }
);
    return new Condition<CommitId>(){
      @Override public boolean value(      CommitId commitId){
        return branchNodes.contains(commitId);
      }
    }
;
  }
}
