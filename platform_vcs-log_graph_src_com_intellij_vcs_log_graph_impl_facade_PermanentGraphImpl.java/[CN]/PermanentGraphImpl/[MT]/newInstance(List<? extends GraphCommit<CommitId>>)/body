{
  PermanentCommitsInfo<CommitId> commitIdPermanentCommitsInfo=PermanentCommitsInfo.newInstance(graphCommits);
  PermanentLinearGraphBuilder<CommitId> permanentLinearGraphBuilder=PermanentLinearGraphBuilder.newInstance(graphCommits);
  PermanentLinearGraphImpl linearGraph=permanentLinearGraphBuilder.build();
  Map<CommitId,GraphCommit<CommitId>> commitsWithNotLoadParent=permanentLinearGraphBuilder.getCommitsWithNotLoadParent();
  return new PermanentGraphImpl<CommitId>(commitIdPermanentCommitsInfo,linearGraph,commitsWithNotLoadParent);
}
