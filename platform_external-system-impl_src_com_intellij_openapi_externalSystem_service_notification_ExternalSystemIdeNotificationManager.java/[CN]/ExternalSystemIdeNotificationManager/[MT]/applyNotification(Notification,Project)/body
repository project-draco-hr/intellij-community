{
  final Notification oldNotification=myNotification.get();
  if (oldNotification != null && myNotification.compareAndSet(oldNotification,null)) {
    oldNotification.expire();
  }
  if (!myNotification.compareAndSet(null,notification)) {
    notification.expire();
    return;
  }
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      if (!project.isDisposed() && project.isOpen()) {
        notification.notify(project);
      }
    }
  }
);
}
