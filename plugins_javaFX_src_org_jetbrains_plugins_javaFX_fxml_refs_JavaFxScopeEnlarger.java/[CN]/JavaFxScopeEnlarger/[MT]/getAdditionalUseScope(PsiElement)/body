{
  PsiClass containingClass=null;
  if (element instanceof PsiField) {
    containingClass=((PsiField)element).getContainingClass();
  }
 else   if (element instanceof PsiMethod) {
    containingClass=((PsiMethod)element).getContainingClass();
  }
 else   if (element instanceof PsiParameter) {
    final PsiElement declarationScope=((PsiParameter)element).getDeclarationScope();
    if (declarationScope instanceof PsiMethod && PropertyUtil.isSimplePropertySetter((PsiMethod)declarationScope)) {
      containingClass=((PsiMethod)declarationScope).getContainingClass();
    }
  }
  if (containingClass != null) {
    if (element instanceof PsiField && needToEnlargeScope((PsiField)element) || element instanceof PsiMethod && needToEnlargeScope((PsiMethod)element) || element instanceof PsiParameter) {
      if (InheritanceUtil.isInheritor(containingClass,JavaFxCommonNames.JAVAFX_SCENE_NODE) || isControllerClass(containingClass)) {
        final GlobalSearchScope projectScope=GlobalSearchScope.projectScope(element.getProject());
        return new GlobalFxmlSearchScope(projectScope);
      }
    }
  }
  return null;
}
