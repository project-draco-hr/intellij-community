{
  if (myTools != null) {
    for (    ScopeToolState state : myTools) {
      final Element scopeElement=new Element("scope");
      scopeElement.setAttribute("name",state.getScopeName());
      scopeElement.setAttribute(LEVEL_ATTRIBUTE,state.getLevel().toString());
      scopeElement.setAttribute(ENABLED_ATTRIBUTE,Boolean.toString(state.isEnabled()));
      InspectionToolWrapper toolWrapper=(InspectionToolWrapper)state.getTool();
      toolWrapper.writeSettings(scopeElement);
      inspectionElement.addContent(scopeElement);
    }
  }
  inspectionElement.setAttribute(ENABLED_ATTRIBUTE,Boolean.toString(isEnabled()));
  inspectionElement.setAttribute(LEVEL_ATTRIBUTE,getLevel().toString());
  inspectionElement.setAttribute(ENABLED_BY_DEFAULT_ATTRIBUTE,Boolean.toString(myDefaultState.isEnabled()));
  InspectionToolWrapper toolWrapper=(InspectionToolWrapper)myDefaultState.getTool();
  toolWrapper.writeSettings(inspectionElement);
}
