{
  if (Thread.currentThread() == writeThread) {
    throw new IllegalStateException("Must not start read from the write thread: " + Thread.currentThread());
  }
}
