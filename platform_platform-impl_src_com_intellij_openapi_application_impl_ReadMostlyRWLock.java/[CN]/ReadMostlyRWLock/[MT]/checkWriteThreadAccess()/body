{
  if (Thread.currentThread() != writeThread) {
    throw new IllegalStateException("Current thread: " + Thread.currentThread() + "; expected: "+ writeThread);
  }
}
