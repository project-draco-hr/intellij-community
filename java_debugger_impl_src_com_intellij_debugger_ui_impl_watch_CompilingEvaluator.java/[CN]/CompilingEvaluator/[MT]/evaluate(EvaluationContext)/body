{
  try {
    DebugProcess process=context.getDebugProcess();
    ThreadReference threadReference=context.getSuspendContext().getThread().getThreadReference();
    ClassLoaderReference classLoader=getClassLoader(context);
    Collection<OutputFileObject> classes=compile();
    ClassType mainClass=defineClasses(classes,context,process,threadReference,classLoader);
    Method foo=mainClass.methodsByName(GEN_METHOD_NAME).get(0);
    return mainClass.invokeMethod(threadReference,foo,Collections.<Value>emptyList(),ClassType.INVOKE_SINGLE_THREADED);
  }
 catch (  Exception e) {
    throw new EvaluateException(e.getMessage());
  }
}
