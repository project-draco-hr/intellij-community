{
  final List<PsiField> referencedElements=new ArrayList<PsiField>();
  expression.accept(new JavaRecursiveElementVisitor(){
    @Override public void visitReferenceExpression(    PsiReferenceExpression expression){
      PsiElement ref=expression.resolve();
      if (ref instanceof PsiField) {
        referencedElements.add((PsiField)ref);
      }
    }
  }
);
  return referencedElements;
}
