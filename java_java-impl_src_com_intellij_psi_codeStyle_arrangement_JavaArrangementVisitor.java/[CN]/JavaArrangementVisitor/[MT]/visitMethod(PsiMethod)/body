{
  boolean isSectionCommentsDetected=registerSectionComments(method);
  final TextRange range=isSectionCommentsDetected ? getElementRangeWithoutComments(method) : method.getTextRange();
  ArrangementSettingsToken type=method.isConstructor() ? CONSTRUCTOR : METHOD;
  JavaElementArrangementEntry entry=createNewEntry(method,range,type,method.getName(),true);
  if (entry == null) {
    return;
  }
  processEntry(entry,method,method.getBody());
  parseProperties(method,entry);
  myInfo.onMethodEntryCreated(method,entry);
  MethodSignatureBackedByPsiMethod overridden=SuperMethodsSearch.search(method,null,true,false).findFirst();
  if (overridden != null) {
    entry.addModifier(OVERRIDDEN);
    myInfo.onOverriddenMethod(overridden.getMethod(),method);
  }
  boolean reset=myMethodBodyProcessor.setBaseMethod(method);
  try {
    method.accept(myMethodBodyProcessor);
  }
  finally {
    if (reset) {
      myMethodBodyProcessor.setBaseMethod(null);
    }
  }
}
