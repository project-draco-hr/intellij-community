{
  HgCommandResult result;
  do {
    resolvePossibleConflicts(updatedFiles);
    if (!HgConflictResolver.findConflicts(project,updatedFiles,repoRoot).isEmpty()) {
      return;
    }
    HgRebaseCommand rebaseCommand=new HgRebaseCommand(project,repoRoot);
    result=rebaseCommand.continueRebase();
    if (HgErrorUtil.isAbort(result)) {
      new HgCommandResultNotifier(project).notifyError(result,"Hg Error","Couldn't continue rebasing");
      return;
    }
  }
 while (result.getExitValue() == 1);
}
