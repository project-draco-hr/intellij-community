{
  HgRepository repository=HgUtil.getRepositoryManager(project).getRepositoryForRoot(repoRoot);
  HgCommandResult result;
  do {
    resolvePossibleConflicts(updatedFiles);
    if (repository == null || !HgConflictResolver.findConflicts(project,repoRoot).isEmpty()) {
      return;
    }
    HgRebaseCommand rebaseCommand=new HgRebaseCommand(project,repository);
    result=rebaseCommand.continueRebase();
    if (HgErrorUtil.isAbort(result)) {
      new HgCommandResultNotifier(project).notifyError(result,"Hg Error","Couldn't continue rebasing");
      return;
    }
  }
 while (result.getExitValue() == 1);
}
