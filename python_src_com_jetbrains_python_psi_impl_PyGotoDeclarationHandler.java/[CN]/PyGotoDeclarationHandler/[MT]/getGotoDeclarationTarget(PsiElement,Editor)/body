{
  if (sourceElement == null) {
    return null;
  }
  final PyResolveContext context=PyResolveContext.noImplicits().withTypeEvalContext(TypeEvalContext.userInitiated(sourceElement.getProject(),sourceElement.getContainingFile()));
  PyReferenceOwner referenceOwner=null;
  final PsiElement parent=sourceElement.getParent();
  if (sourceElement instanceof PyReferenceOwner) {
    referenceOwner=(PyReferenceOwner)sourceElement;
  }
 else   if (parent instanceof PyReferenceOwner) {
    referenceOwner=(PyReferenceOwner)parent;
  }
  if (referenceOwner != null) {
    return referenceOwner.getReference(context).resolve();
  }
  final PsiElement element=findProvidedReferenceAndResolve(sourceElement);
  if (element != null) {
    return element;
  }
  if (parent != null) {
    return findProvidedReferenceAndResolve(parent);
  }
  return null;
}
