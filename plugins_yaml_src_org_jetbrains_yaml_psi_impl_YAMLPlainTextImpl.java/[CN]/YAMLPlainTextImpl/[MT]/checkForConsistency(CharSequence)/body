{
  if (input.length() == 0) {
    throw new IllegalArgumentException("Cannot be empty");
  }
  if (!YAMLGrammarCharUtil.isNonSpaceChar(input.charAt(0)) || !YAMLGrammarCharUtil.isNonSpaceChar(input.charAt(input.length() - 1))) {
    throw new IllegalArgumentException("Cannot have leading or trailing whitespaces");
  }
  final char firstChar=input.charAt(0);
  if ((firstChar == '?' || firstChar == ':' || firstChar == '-') && input.length() > 1 && YAMLGrammarCharUtil.isPlainSafe(input.charAt(1))) {
  }
 else   if (YAMLGrammarCharUtil.isIndicatorChar(firstChar)) {
    throw new IllegalArgumentException("Could not start with indicator chars");
  }
  for (int i=1; i < input.length(); ++i) {
    final char c=input.charAt(i);
    if (c == '\n' && !isSurroundedByNoSpace(input,i)) {
      throw new IllegalArgumentException("Could not form line with leading/trailing whitespace");
    }
    if (YAMLGrammarCharUtil.isSpaceLike(c) || (YAMLGrammarCharUtil.isPlainSafe(c) && c != ':' && c != '#') || (c == '#' && YAMLGrammarCharUtil.isNonSpaceChar(input.charAt(i - 1)))|| (c == ':' && i + 1 < input.length() && YAMLGrammarCharUtil.isPlainSafe(input.charAt(i + 1)))) {
    }
 else {
      throw new IllegalArgumentException("Restricted characters appeared");
    }
  }
}
