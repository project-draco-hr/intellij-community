{
  StringBuffer buffer=new StringBuffer();
  buffer.append("digraph G {\r\n");
  List<BasicBlock> blocks=graph.getBlocks();
  for (int i=0; i < blocks.size(); i++) {
    BasicBlock block=(BasicBlock)blocks.get(i);
    buffer.append(block.id + " [shape=box,label=\"" + block.id+ "\"];\r\n");
    List<BasicBlock> suc=block.getSuccs();
    if (!showMultipleEdges) {
      HashSet<BasicBlock> set=new HashSet<BasicBlock>();
      set.addAll(suc);
      suc=Collections.list(Collections.enumeration(set));
    }
    for (int j=0; j < suc.size(); j++) {
      buffer.append(block.id + "->" + ((BasicBlock)suc.get(j)).id+ ";\r\n");
    }
    suc=block.getSuccExceptions();
    if (!showMultipleEdges) {
      HashSet<BasicBlock> set=new HashSet<BasicBlock>();
      set.addAll(suc);
      suc=Collections.list(Collections.enumeration(set));
    }
    for (int j=0; j < suc.size(); j++) {
      buffer.append(block.id + " -> " + ((BasicBlock)suc.get(j)).id+ " [style=dotted];\r\n");
    }
  }
  buffer.append("}");
  return buffer.toString();
}
