{
  myRepository.setUrl(JIRA_5_TEST_SERVER_URL);
  Task task=myRepository.findTask("UT-8");
  assertNotNull("Test task not found",task);
  if (task.getState() != TaskState.REOPENED) {
    myRepository.setTaskState(task,TaskState.REOPENED);
  }
  try {
    myRepository.setTaskState(task,TaskState.RESOLVED);
    task=myRepository.findTask("UT-8");
    assertEquals(task.getState(),TaskState.RESOLVED);
  }
  finally {
    try {
      myRepository.setTaskState(task,TaskState.REOPENED);
    }
 catch (    Exception ignored) {
    }
  }
}
