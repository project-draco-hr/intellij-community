{
  myRepository.setUrl(JIRA_4_TEST_SERVER_URL);
  final Calendar utc=Calendar.getInstance(TimeZone.getTimeZone("UTC"));
  final String subject=String.format("Test issue created for state updates (%1$tY-%1$tm-%1$td %1tH:%1$tM UTC)",utc);
  final String issueKey=createIssueViaXmlRpc("UT",subject);
  final Task original=myRepository.findTask(issueKey);
  assertNotNull(original);
  myRepository.setTaskState(original,TaskState.IN_PROGRESS);
  final Task updated=myRepository.findTask(issueKey);
  assertNotNull(updated);
  assertEquals(TaskState.IN_PROGRESS,updated.getState());
}
