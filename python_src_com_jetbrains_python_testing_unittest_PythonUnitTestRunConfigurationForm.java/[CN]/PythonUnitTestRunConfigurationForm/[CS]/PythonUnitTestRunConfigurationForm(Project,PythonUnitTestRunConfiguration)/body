{
  myRootPanel=new JPanel(new BorderLayout());
  myTestRunConfigurationForm=new PythonTestRunConfigurationForm(project,configuration);
  myIsPureUnittest=new JCheckBox("Inspect only subclasses of unittest.TestCase");
  myIsPureUnittest.setSelected(configuration.isPureUnittest());
  final ActionListener testTypeListener=new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      myIsPureUnittest.setVisible(myTestRunConfigurationForm.getTestType() != AbstractPythonTestRunConfiguration.TestType.TEST_FUNCTION);
    }
  }
;
  myTestRunConfigurationForm.addTestTypeListener(testTypeListener);
  myIsPureUnittest.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      configuration.setPureUnittest(myIsPureUnittest.isSelected());
    }
  }
);
  myTestRunConfigurationForm.getAdditionalPanel().add(myIsPureUnittest);
  TitledBorder border=(TitledBorder)myTestRunConfigurationForm.getTestsPanel().getBorder();
  border.setTitle(PyBundle.message("runcfg.unittest.display_name"));
  myTestRunConfigurationForm.addTestTypeListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      myTestRunConfigurationForm.setPatternVisible(myTestRunConfigurationForm.getTestType() == AbstractPythonTestRunConfiguration.TestType.TEST_FOLDER);
    }
  }
);
  myRootPanel.add(myTestRunConfigurationForm.getPanel(),BorderLayout.CENTER);
}
