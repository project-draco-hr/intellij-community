{
  String fileText;
  try {
    if (OVERWRITE_TESTDATA) {
      VfsTestUtil.overwriteTestData(filePath,actualText);
      System.out.println("File " + filePath + " created.");
    }
    fileText=FileUtil.loadFile(new File(filePath),CharsetToolkit.UTF8_CHARSET);
  }
 catch (  FileNotFoundException e) {
    VfsTestUtil.overwriteTestData(filePath,actualText);
    throw new AssertionFailedError("No output text found. File " + filePath + " created.");
  }
catch (  IOException e) {
    throw new RuntimeException(e);
  }
  String expected=StringUtil.convertLineSeparators(fileText.trim());
  String actual=StringUtil.convertLineSeparators(actualText.trim());
  if (!Comparing.equal(expected,actual)) {
    throw new FileComparisonFailure(null,expected,actual,filePath);
  }
}
