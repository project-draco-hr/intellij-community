{
  final PsiElement other=myMatchingVisitor.getElement();
  final PsiAnnotation[] annotations=PsiTreeUtil.getChildrenOfType(ref,PsiAnnotation.class);
  if (annotations != null) {
    final PsiAnnotation[] otherAnnotations=PsiTreeUtil.getChildrenOfType(other,PsiAnnotation.class);
    myMatchingVisitor.setResult(otherAnnotations != null && myMatchingVisitor.matchInAnyOrder(annotations,otherAnnotations));
    if (!myMatchingVisitor.getResult())     return;
  }
  myMatchingVisitor.setResult(matchType(ref,other));
}
