{
  if (element == null) {
    return 0;
  }
  final PsiElement parent=element.getParent();
  if (parent instanceof PsiVariable) {
    final PsiVariable variable=(PsiVariable)parent;
    final PsiType type=variable.getType();
    return type.getArrayDimensions();
  }
 else   if (parent instanceof PsiMethod) {
    final PsiMethod method=(PsiMethod)parent;
    final PsiType type=method.getReturnType();
    return (type == null) ? 0 : type.getArrayDimensions();
  }
 else   if (element instanceof PsiTypeElement) {
    final PsiTypeElement typeElement=(PsiTypeElement)element;
    final PsiType type=typeElement.getType();
    return type.getArrayDimensions();
  }
  return 0;
}
