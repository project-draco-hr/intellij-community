{
  final TextRange expressionRange=expression.getTextRange();
  final PsiExpression qualifier=parentContext.referenceExpression.getQualifierExpression();
  if (qualifier != null && qualifier.isValid()) {
    final int qualifierEndRange=qualifier.getTextRange().getEndOffset();
    if (expressionRange.getEndOffset() > qualifierEndRange) {
      return new TextRange(expressionRange.getStartOffset(),qualifierEndRange);
    }
  }
  return expressionRange;
}
