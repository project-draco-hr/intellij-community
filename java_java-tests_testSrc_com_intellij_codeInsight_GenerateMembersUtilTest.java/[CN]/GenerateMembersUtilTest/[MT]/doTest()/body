{
  configureByFile(BASE_PATH + getTestName(false) + ".java");
  PsiElementFactory factory=JavaPsiFacade.getInstance(getProject()).getElementFactory();
  PsiMethod method=factory.createMethod("foo",PsiType.VOID);
  int offset=getEditor().getCaretModel().getOffset();
  List<GenerationInfo> list=Collections.<GenerationInfo>singletonList(new PsiGenerationInfo<PsiMethod>(method));
  List<GenerationInfo> members=ApplicationManager.getApplication().runWriteAction(new Computable<List<GenerationInfo>>(){
    @Override public List<GenerationInfo> compute(){
      return GenerateMembersUtil.insertMembersAtOffset(getFile(),offset,list);
    }
  }
);
  members.get(0).positionCaret(myEditor,true);
  checkResultByFile(null,BASE_PATH + getTestName(false) + "_after.java",true);
}
