{
  List<T> list=new ArrayList<>();
  TreePath[] selectionPaths=tree.getSelectionPaths();
  if (selectionPaths != null) {
    for (    TreePath selectionPath : selectionPaths) {
      Object element=selectionPath.getLastPathComponent();
      if (nodeClass.isInstance(element)) {
        list.add(nodeClass.cast(element));
      }
    }
  }
  return list;
}
