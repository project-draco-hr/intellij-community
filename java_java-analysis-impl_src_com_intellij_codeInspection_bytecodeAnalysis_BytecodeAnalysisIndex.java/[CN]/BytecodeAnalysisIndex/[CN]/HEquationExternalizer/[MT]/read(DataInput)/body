{
  boolean isFinal=in.readBoolean();
  if (isFinal) {
    int ordinal=DataInputOutputUtil.readINT(in);
    Value value=Value.values()[ordinal];
    return new HFinal(value);
  }
 else {
    int sumLength=DataInputOutputUtil.readINT(in);
    HComponent[] components=new HComponent[sumLength];
    for (int i=0; i < sumLength; i++) {
      int ordinal=DataInputOutputUtil.readINT(in);
      Value value=Value.values()[ordinal];
      int componentSize=DataInputOutputUtil.readINT(in);
      HKey[] ids=new HKey[componentSize];
      for (int j=0; j < componentSize; j++) {
        ids[j]=KEY_DESCRIPTOR.read(in);
      }
      components[i]=new HComponent(value,ids);
    }
    return new HPending(components);
  }
}
