{
  out.writeBoolean(eqs.stable);
  DataInputOutputUtil.writeINT(out,eqs.results.size());
  for (  DirectionResultPair pair : eqs.results) {
    DataInputOutputUtil.writeINT(out,pair.directionKey);
    HResult rhs=pair.hResult;
    if (rhs instanceof HFinal) {
      HFinal finalResult=(HFinal)rhs;
      out.writeBoolean(true);
      DataInputOutputUtil.writeINT(out,finalResult.value.ordinal());
    }
 else     if (rhs instanceof HPending) {
      HPending pendResult=(HPending)rhs;
      out.writeBoolean(false);
      DataInputOutputUtil.writeINT(out,pendResult.delta.length);
      for (      HComponent component : pendResult.delta) {
        DataInputOutputUtil.writeINT(out,component.value.ordinal());
        HKey[] ids=component.ids;
        DataInputOutputUtil.writeINT(out,ids.length);
        for (        HKey hKey : ids) {
          out.write(hKey.key);
          int rawDirKey=hKey.negated ? -hKey.dirKey : hKey.dirKey;
          DataInputOutputUtil.writeINT(out,rawDirKey);
          out.writeBoolean(hKey.stable);
        }
      }
    }
 else     if (rhs instanceof HEffects) {
      HEffects effects=(HEffects)rhs;
      DataInputOutputUtil.writeINT(out,effects.effects.size());
      for (      HEffectQuantum effect : effects.effects) {
        if (effect == HEffectQuantum.TopEffectQuantum) {
          DataInputOutputUtil.writeINT(out,-1);
        }
 else         if (effect == HEffectQuantum.ThisChangeQuantum) {
          DataInputOutputUtil.writeINT(out,-2);
        }
 else         if (effect instanceof HEffectQuantum.CallQuantum) {
          DataInputOutputUtil.writeINT(out,-3);
          HEffectQuantum.CallQuantum callQuantum=(HEffectQuantum.CallQuantum)effect;
          out.write(callQuantum.key.key);
          DataInputOutputUtil.writeINT(out,callQuantum.key.dirKey);
          out.writeBoolean(callQuantum.key.stable);
          out.writeBoolean(callQuantum.isStatic);
          DataInputOutputUtil.writeINT(out,callQuantum.data.length);
          for (          DataValue dataValue : callQuantum.data) {
            if (dataValue == DataValue.ThisDataValue) {
              DataInputOutputUtil.writeINT(out,-1);
            }
 else             if (dataValue == DataValue.LocalDataValue) {
              DataInputOutputUtil.writeINT(out,-2);
            }
 else             if (dataValue == DataValue.OwnedDataValue) {
              DataInputOutputUtil.writeINT(out,-3);
            }
 else             if (dataValue == DataValue.UnknownDataValue1 || dataValue == DataValue.UnknownDataValue2) {
              DataInputOutputUtil.writeINT(out,-4);
            }
 else             if (dataValue instanceof DataValue.ParameterDataValue) {
              DataInputOutputUtil.writeINT(out,((DataValue.ParameterDataValue)dataValue).n);
            }
          }
        }
 else         if (effect instanceof HEffectQuantum.ParamChangeQuantum) {
          DataInputOutputUtil.writeINT(out,((HEffectQuantum.ParamChangeQuantum)effect).n);
        }
      }
    }
  }
}
