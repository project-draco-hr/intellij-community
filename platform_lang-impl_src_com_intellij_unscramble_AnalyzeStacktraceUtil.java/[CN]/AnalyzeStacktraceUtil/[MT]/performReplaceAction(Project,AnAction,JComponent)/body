{
  IdeFocusManager.getInstance(project).doWhenFocusSettlesDown(new Runnable(){
    @Override public void run(){
      DataContext context=DataManager.getInstance().getDataContext(contextComponent);
      AnActionEvent actionEvent=AnActionEvent.createFromAnAction(replaceAction,null,ActionPlaces.UNKNOWN,context);
      replaceAction.update(actionEvent);
      if (actionEvent.getPresentation().isEnabledAndVisible()) {
        ActionUtil.performActionDumbAware(replaceAction,actionEvent);
      }
    }
  }
);
}
