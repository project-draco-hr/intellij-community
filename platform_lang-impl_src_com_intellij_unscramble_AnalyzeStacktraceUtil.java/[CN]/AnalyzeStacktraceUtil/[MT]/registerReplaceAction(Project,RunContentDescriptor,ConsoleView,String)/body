{
  AnAction replaceAction=ActionManager.getInstance().getAction(IdeActions.ACTION_REPLACE);
  if (replaceAction == null) {
    return;
  }
  ActionUtil.registerForEveryKeyboardShortcut(consoleView.getComponent(),new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      AnalyzeStacktraceDialog dialog=new AnalyzeStacktraceDialog(project){
        @Override protected JComponent createCenterPanel(){
          JComponent result=super.createCenterPanel();
          myEditorPanel.setText(stacktrace);
          UiNotifyConnector.doWhenFirstShown(myEditorPanel,new Runnable(){
            @Override public void run(){
              ActionManager.getInstance().tryToExecute(replaceAction,ActionCommand.getInputEvent(IdeActions.ACTION_REPLACE),myEditorPanel,ActionPlaces.UNKNOWN,false);
            }
          }
);
          return result;
        }
        @Override protected void doOKAction(){
          super.doOKAction();
          RunContentManager contentManager=ExecutionManager.getInstance(project).getContentManager();
          contentManager.removeRunContent(DefaultRunExecutor.getRunExecutorInstance(),descriptor);
        }
      }
;
      dialog.show();
    }
  }
,replaceAction.getShortcutSet());
}
