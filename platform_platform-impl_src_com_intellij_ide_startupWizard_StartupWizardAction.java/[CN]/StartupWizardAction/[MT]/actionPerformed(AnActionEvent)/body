{
  if (ApplicationManager.getApplication().isInternal()) {
    new CustomizeIDEWizardDialog(new CustomizeIdeaWizardStepsProvider()).show();
    return;
  }
  List<ApplicationInfoEx.PluginChooserPage> pages=ApplicationInfoEx.getInstanceEx().getPluginChooserPages();
  if (!pages.isEmpty()) {
    StartupWizard startupWizard=new StartupWizard(e.getProject(),pages);
    String title=ApplicationNamesInfo.getInstance().getFullProductName() + " Plugin Configuration Wizard";
    startupWizard.setTitle(title);
    startupWizard.show();
    if (startupWizard.getExitCode() == DialogWrapper.OK_EXIT_CODE) {
      Messages.showInfoMessage(e.getProject(),"Please restart the IDE to apply changes",title);
    }
  }
}
