{
  if (anchor == null) {
    if (before == null || before.booleanValue()) {
      anchor=findChildByRole(ChildRole.RPARENTH);
      before=Boolean.TRUE;
    }
 else {
      anchor=findChildByRole(ChildRole.LPARENTH);
      before=Boolean.FALSE;
    }
  }
  TreeElement firstAdded=super.addInternal(first,last,anchor,before);
  if (first == last && PARAMETER_SET.contains(first.getElementType())) {
    JavaSourceUtil.addSeparatingComma(this,first,PARAMETER_SET);
  }
  try {
    CodeStyleManager.getInstance(getManager().getProject()).reformat(getPsi());
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
  return firstAdded;
}
