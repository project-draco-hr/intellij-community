{
  AddModuleWizard dialog=new AddModuleWizard(null,file.getPath(),new GradleProjectImportProvider(getBuilder()));
  getBuilder().prepare(wizardContext);
  getBuilder().getControl(null).setLinkedProjectPath(file.getPath());
  dialog.getWizardContext().setProjectBuilder(getBuilder());
  dialog.navigateToStep(new Function<Step,Boolean>(){
    @Override public Boolean fun(    Step step){
      return step instanceof SelectExternalProjectStep;
    }
  }
);
  boolean result=dialog.showAndGet();
  if (result && getBuilder().getExternalProjectNode() != null) {
    wizardContext.setProjectName(getBuilder().getExternalProjectNode().getData().getInternalName());
  }
  return result;
}
