{
  final PsiFile file=place.getContainingFile().getOriginalFile();
  final BaseInjection injection=file.getUserData(BaseInjection.INJECTION_KEY);
  Processor<PsiElement> processor=new Processor<PsiElement>(){
    @Override public boolean process(    PsiElement element){
      return element.processDeclarations(scopeProcessor,state,null,place);
    }
  }
;
  if (injection == null) {
    processDevContext(file,processor);
  }
 else {
    processPatternContext(injection,file,processor);
  }
}
