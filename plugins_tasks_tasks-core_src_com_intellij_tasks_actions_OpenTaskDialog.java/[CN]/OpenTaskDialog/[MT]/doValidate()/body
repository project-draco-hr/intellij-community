{
  if (myCreateBranch.isSelected()) {
    String branchName=myBranchName.getText().trim();
    if (branchName.isEmpty()) {
      return new ValidationInfo("Branch name should not be empty",myBranchName);
    }
 else     if (myVcsTaskHandler != null) {
      String regExp=myVcsTaskHandler.getProhibitedSymbolsInBranchNames();
      if (regExp != null && (Pattern.compile(regExp).matcher(branchName)).find()) {
        return new ValidationInfo("Branch name contains prohibited symbols or regexp: \'" + regExp + "\'");
      }
    }
 else     if (branchName.contains(" ")) {
      return new ValidationInfo("Branch name should not contain spaces");
    }
 else {
      return null;
    }
  }
  if (myCreateChangelist.isSelected()) {
    if (myChangelistName.getText().trim().isEmpty()) {
      return new ValidationInfo("Changelist name should not be empty");
    }
  }
  return null;
}
