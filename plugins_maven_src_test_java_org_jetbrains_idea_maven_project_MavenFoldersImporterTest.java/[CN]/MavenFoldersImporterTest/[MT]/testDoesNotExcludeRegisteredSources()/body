{
  importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>");
  new File(myProjectRoot.getPath(),"target/foo").mkdirs();
  final File sourceDir=new File(myProjectRoot.getPath(),"target/src");
  sourceDir.mkdirs();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      MavenRootModelAdapter adapter=new MavenRootModelAdapter(myProjectsTree.findProject(myProjectPom),getModule("project"),new IdeModifiableModelsProviderImpl(myProject));
      adapter.addSourceFolder(sourceDir.getPath(),JavaSourceRootType.SOURCE);
      adapter.getRootModel().commit();
    }
  }
);
  updateProjectFolders();
  assertSources("project","target/src");
  assertExcludes("project","target/foo");
}
