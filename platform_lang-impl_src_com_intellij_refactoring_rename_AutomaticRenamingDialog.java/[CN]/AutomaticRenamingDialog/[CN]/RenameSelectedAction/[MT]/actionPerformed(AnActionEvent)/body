{
  final int[] selectedRows=myTable.getSelectedRows();
  final String newName=Messages.showInputDialog(myTable,"New name","Rename Selected",null,(String)myModel.getValueAt(selectedRows[0],NEW_NAME_COLUMN),new InputValidatorEx(){
    @Override public boolean checkInput(    String inputString){
      return getErrorText(inputString) == null;
    }
    @Override public boolean canClose(    String inputString){
      return checkInput(inputString);
    }
    @Nullable @Override public String getErrorText(    String inputString){
      final int selectedRow=myTable.getSelectedRow();
      if (!isValidName(inputString,selectedRow)) {
        return "Identifier \'" + inputString + "\' is invalid";
      }
      return null;
    }
  }
);
  if (newName == null)   return;
  for (  int i : selectedRows) {
    myModel.setValueAt(newName,i,NEW_NAME_COLUMN);
  }
  myModel.fireTableDataChanged();
  for (  int row : selectedRows) {
    myTable.getSelectionModel().addSelectionInterval(row,row);
  }
}
