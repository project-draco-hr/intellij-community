{
  PsiElement referenceNameElement=elementToHighlight.getReferenceNameElement();
  TextRange range;
  if (referenceNameElement == null) {
    range=elementToHighlight.getTextRange();
  }
 else {
    PsiElement nextSibling=PsiTreeUtil.nextLeaf(referenceNameElement);
    if (nextSibling != null && nextSibling.getTextRange().isEmpty()) {
      nextSibling=PsiTreeUtil.nextLeaf(nextSibling);
    }
    if (nextSibling instanceof PsiJavaToken && ((PsiJavaToken)nextSibling).getTokenType() == JavaTokenType.DOT) {
      range=new TextRange(referenceNameElement.getTextRange().getStartOffset(),nextSibling.getTextRange().getEndOffset());
    }
 else {
      range=referenceNameElement.getTextRange();
    }
  }
  HighlightInfoType type=JavaHighlightInfoTypes.CLASS_NAME;
  TextAttributes attributes=mergeWithScopeAttributes(resolved,type,scheme);
  HighlightInfo.Builder builder=HighlightInfo.newHighlightInfo(type).range(range);
  if (attributes != null) {
    builder.textAttributes(attributes);
  }
  return builder.createUnconditionally();
}
