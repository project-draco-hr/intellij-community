{
  int offset=myEditor.logicalPositionToOffset(pos);
  final SyntaxHighlighter highlighter=myPage.getHighlighter();
  String type=null;
  HighlightData highlightData=getDataFromOffset(offset);
  if (highlightData != null) {
    type=RainbowHighlighter.isRainbowTempKey(highlightData.getHighlightKey()) ? RainbowHighlighter.RAINBOW_TYPE : highlightData.getHighlightType();
  }
 else {
    type=selectItem(((EditorEx)myEditor).getHighlighter().createIterator(offset),highlighter);
  }
  setCursor(type == null ? Cursor.TEXT_CURSOR : Cursor.HAND_CURSOR);
  if (select && type != null) {
    myDispatcher.getMulticaster().selectionInPreviewChanged(type);
  }
}
