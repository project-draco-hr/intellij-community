{
  myOptions=options;
  myPage=page;
  String text=page.getDemoText();
  myHighlightsExtractor=new HighlightsExtractor(page.getAdditionalHighlightingTagToDescriptorMap());
  String stripped=myHighlightsExtractor.extractHighlights(text,myHighlightData);
  int selectedLine=-1;
  myEditor=(EditorEx)FontEditorPreview.createPreviewEditor(stripped,10,3,selectedLine,myOptions,false);
  FontEditorPreview.installTrafficLights(myEditor);
  myBlinkingAlarm=new Alarm().setActivationComponent(myEditor.getComponent());
  if (navigatable) {
    addMouseMotionListener(myEditor,page.getHighlighter(),false);
    CaretListener listener=new CaretAdapter(){
      @Override public void caretPositionChanged(      CaretEvent e){
        if (!myTextIsChanging) {
          navigate(myEditor,true,e.getNewPosition(),page.getHighlighter(),false);
        }
      }
    }
;
    myEditor.getCaretModel().addCaretListener(listener);
  }
}
