{
  super(IntroduceFieldHandler.REFACTORING_NAME,choice,context);
  finalListener=new GrFinalListener(myEditor);
  GrVariable var=context.getVar();
  if (var != null) {
    ArrayList<String> result=ContainerUtil.newArrayList(var.getName());
    GrExpression initializer=var.getInitializerGroovy();
    if (initializer != null) {
      ContainerUtil.addAll(result,GroovyNameSuggestionUtil.suggestVariableNames(initializer,new GroovyInplaceFieldValidator(getContext()),false));
    }
    mySuggestedNames=ArrayUtil.toStringArray(result);
  }
 else {
    mySuggestedNames=GroovyNameSuggestionUtil.suggestVariableNames(context.getExpression(),new GroovyInplaceFieldValidator(getContext()),false);
  }
  myApplicablePlaces=getApplicableInitPlaces();
}
