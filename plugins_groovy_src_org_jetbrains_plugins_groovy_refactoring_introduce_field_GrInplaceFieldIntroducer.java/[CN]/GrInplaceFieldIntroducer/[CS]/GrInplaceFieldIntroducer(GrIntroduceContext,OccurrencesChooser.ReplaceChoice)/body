{
  super(IntroduceFieldHandler.REFACTORING_NAME,choice,context);
  finalListener=new GrFinalListener(myEditor);
  myLocalVar=GrIntroduceHandlerBase.resolveLocalVar(context);
  if (myLocalVar != null) {
    ArrayList<String> result=ContainerUtil.newArrayList(myLocalVar.getName());
    GrExpression initializer=myLocalVar.getInitializerGroovy();
    if (initializer != null) {
      ContainerUtil.addAll(result,GroovyNameSuggestionUtil.suggestVariableNames(initializer,new GroovyInplaceFieldValidator(getContext()),false));
    }
    mySuggestedNames=ArrayUtil.toStringArray(result);
  }
 else {
    mySuggestedNames=GroovyNameSuggestionUtil.suggestVariableNames(context.getExpression(),new GroovyInplaceFieldValidator(getContext()),false);
  }
  myApplicablePlaces=getApplicableInitPlaces();
}
