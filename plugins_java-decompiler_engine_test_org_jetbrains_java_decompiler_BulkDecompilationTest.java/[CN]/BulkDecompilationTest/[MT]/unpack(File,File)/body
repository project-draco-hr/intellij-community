{
  try {
    ZipFile zip=new ZipFile(archive);
    try {
      Enumeration<? extends ZipEntry> entries=zip.entries();
      while (entries.hasMoreElements()) {
        ZipEntry entry=entries.nextElement();
        if (!entry.isDirectory()) {
          File file=new File(targetDir,entry.getName());
          assertTrue(file.getParentFile().mkdirs() || file.getParentFile().isDirectory());
          InputStream in=zip.getInputStream(entry);
          OutputStream out=new FileOutputStream(file);
          InterpreterUtil.copyStream(in,out);
          out.close();
          in.close();
        }
      }
    }
  finally {
      zip.close();
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
