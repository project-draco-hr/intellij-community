{
  super("Annotate revision","Annotate selected revision in new tab",AllIcons.Actions.Annotate);
  myAnnotation=annotation;
  myVcs=vcs;
  Map<VcsRevisionNumber,VcsFileRevision> map=new HashMap<VcsRevisionNumber,VcsFileRevision>();
  List<VcsFileRevision> revisions=myAnnotation.getRevisions();
  if (revisions != null) {
    for (    VcsFileRevision revision : revisions) {
      map.put(revision.getRevisionNumber(),revision);
    }
  }
  myRevisions=new ArrayList<VcsFileRevision>(myAnnotation.getLineCount());
  for (int i=0; i < myAnnotation.getLineCount(); i++) {
    myRevisions.add(map.get(myAnnotation.getLineRevisionNumber(i)));
  }
}
