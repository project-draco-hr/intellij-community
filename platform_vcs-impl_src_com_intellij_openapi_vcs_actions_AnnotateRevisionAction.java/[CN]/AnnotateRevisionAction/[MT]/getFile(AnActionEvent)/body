{
  VcsFileRevision revision=getFileRevision(e);
  if (revision == null)   return null;
  FilePath filePath=(revision instanceof VcsFileRevisionEx ? ((VcsFileRevisionEx)revision).getPath() : new FilePathImpl(myAnnotation.getFile()));
  return new VcsVirtualFile(filePath.getPath(),revision,VcsFileSystem.getInstance());
}
