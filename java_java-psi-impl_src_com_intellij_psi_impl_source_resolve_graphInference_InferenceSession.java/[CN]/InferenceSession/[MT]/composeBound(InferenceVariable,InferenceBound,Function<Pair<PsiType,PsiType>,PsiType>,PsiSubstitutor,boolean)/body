{
  final List<PsiType> lowerBounds=variable.getBounds(boundType);
  PsiType lub=PsiType.NULL;
  for (  PsiType lowerBound : lowerBounds) {
    lowerBound=substituteNonProperBound(lowerBound,substitutor);
    if (includeNonProperBounds || isProperType(lowerBound)) {
      if (lub == PsiType.NULL) {
        lub=lowerBound;
      }
 else {
        final Pair<PsiType,PsiType> pair=Pair.create(lub,lowerBound);
        lub=fun.fun(pair);
        if (lub == null) {
          return PsiType.NULL;
        }
      }
    }
  }
  return lub;
}
