{
  if (returnExpression instanceof PsiCallExpression) {
    final PsiMethod calledMethod=getCalledMethod((PsiCallExpression)returnExpression);
    if (PsiPolyExpressionUtil.isMethodCallPolyExpression(returnExpression,calledMethod)) {
      collectAdditionalConstraints(additionalConstraints,(PsiCallExpression)returnExpression);
    }
  }
 else   if (returnExpression instanceof PsiParenthesizedExpression) {
    processReturnExpression(additionalConstraints,((PsiParenthesizedExpression)returnExpression).getExpression(),functionalType);
  }
 else   if (returnExpression instanceof PsiConditionalExpression) {
    processReturnExpression(additionalConstraints,((PsiConditionalExpression)returnExpression).getThenExpression(),functionalType);
    processReturnExpression(additionalConstraints,((PsiConditionalExpression)returnExpression).getElseExpression(),functionalType);
  }
 else   if (returnExpression instanceof PsiLambdaExpression) {
    collectLambdaReturnExpression(additionalConstraints,(PsiLambdaExpression)returnExpression,functionalType);
  }
}
