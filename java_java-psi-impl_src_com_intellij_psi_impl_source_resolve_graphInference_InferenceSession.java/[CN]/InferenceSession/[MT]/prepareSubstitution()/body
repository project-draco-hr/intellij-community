{
  boolean foundErrorMessage=false;
  Iterator<List<InferenceVariable>> iterator=InferenceVariablesOrder.resolveOrderIterator(myInferenceVariables,this);
  while (iterator.hasNext()) {
    final List<InferenceVariable> variables=iterator.next();
    for (    InferenceVariable inferenceVariable : variables) {
      final PsiTypeParameter typeParameter=inferenceVariable.getParameter();
      PsiType instantiation=inferenceVariable.getInstantiation();
      if (instantiation == PsiType.NULL) {
        if (!foundErrorMessage) {
          foundErrorMessage=checkBoundsConsistency(mySiteSubstitutor,inferenceVariable) == PsiType.NULL;
        }
        mySiteSubstitutor=mySiteSubstitutor.put(typeParameter,JavaPsiFacade.getInstance(typeParameter.getProject()).getElementFactory().createType(typeParameter));
      }
    }
  }
  return mySiteSubstitutor;
}
