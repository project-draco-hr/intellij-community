{
  if (callExpression instanceof PsiNewExpression) {
    final PsiJavaCodeReferenceElement classReference=((PsiNewExpression)callExpression).getClassOrAnonymousClassReference();
    final JavaResolveResult resolveResult=classReference != null ? classReference.advancedResolve(false) : null;
    final PsiElement psiClass=resolveResult != null ? resolveResult.getElement() : null;
    if (psiClass instanceof PsiClass) {
      return CachedValuesManager.getCachedValue(classReference,new CachedValueProvider<JavaResolveResult>(){
        @Nullable @Override public Result<JavaResolveResult> compute(){
          final JavaPsiFacade facade=JavaPsiFacade.getInstance(callExpression.getProject());
          final JavaResolveResult constructor=facade.getResolveHelper().resolveConstructor(facade.getElementFactory().createType((PsiClass)psiClass).rawType(),argumentList,callExpression);
          return new Result<JavaResolveResult>(constructor.getElement() == null ? resolveResult : constructor,PsiModificationTracker.JAVA_STRUCTURE_MODIFICATION_COUNT);
        }
      }
);
    }
 else {
      return JavaResolveResult.EMPTY;
    }
  }
  return callExpression.resolveMethodGenerics();
}
