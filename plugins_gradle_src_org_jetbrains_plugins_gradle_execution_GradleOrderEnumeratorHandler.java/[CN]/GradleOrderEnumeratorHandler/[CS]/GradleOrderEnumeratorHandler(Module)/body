{
  String rootProjectPath=ExternalSystemApiUtil.getExternalRootProjectPath(module);
  if (rootProjectPath != null) {
    GradleProjectSettings settings=GradleSettings.getInstance(module.getProject()).getLinkedProjectSettings(rootProjectPath);
    myResolveModulePerSourceSet=settings != null && settings.isResolveModulePerSourceSet();
    String gradleVersion=GradleLocalSettings.getInstance(module.getProject()).getGradleVersion(rootProjectPath);
    myShouldProcessDependenciesRecursively=gradleVersion != null && GradleVersion.version(gradleVersion).compareTo(GradleVersion.version("2.5")) < 0;
  }
 else {
    myShouldProcessDependenciesRecursively=false;
    myResolveModulePerSourceSet=false;
  }
}
