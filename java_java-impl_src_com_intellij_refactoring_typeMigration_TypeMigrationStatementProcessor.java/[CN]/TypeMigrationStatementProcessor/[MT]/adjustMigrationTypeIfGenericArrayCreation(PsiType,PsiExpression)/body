{
  if (expression instanceof PsiNewExpression) {
    if (migrationType instanceof PsiArrayType) {
      final PsiType componentType=migrationType.getDeepComponentType();
      if (componentType instanceof PsiClassType) {
        final PsiClassType rawType=((PsiClassType)componentType).rawType();
        if (!rawType.equals(componentType)) {
          return com.intellij.refactoring.typeCook.Util.createArrayType(rawType,migrationType.getArrayDimensions());
        }
      }
    }
  }
  return migrationType;
}
