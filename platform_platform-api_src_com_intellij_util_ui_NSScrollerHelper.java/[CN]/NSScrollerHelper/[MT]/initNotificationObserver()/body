{
  Foundation.NSAutoreleasePool pool=new Foundation.NSAutoreleasePool();
  ID delegateClass=Foundation.allocateObjcClassPair(Foundation.getObjcClass("NSObject"),"NSScrollerChangesObserver");
  if (!Foundation.addMethod(delegateClass,Foundation.createSelector("handleScrollerStyleChanged:"),CALLBACK,"v@")) {
    throw new RuntimeException("Cannot add observer method");
  }
  ;
  Foundation.registerObjcClassPair(delegateClass);
  ID delegate=invoke("NSScrollerChangesObserver","new");
  try {
    ID defaultCenter=invoke("NSNotificationCenter","defaultCenter");
    invoke(defaultCenter,"addObserver:selector:name:object:",delegate,Foundation.createSelector("handleScrollerStyleChanged:"),Foundation.nsString("NSPreferredScrollerStyleDidChangeNotification"),ID.NIL);
  }
  finally {
    pool.drain();
  }
}
