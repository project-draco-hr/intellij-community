{
  final Query<PyClass> query=PyClassInheritorsSearch.search(classUnderRefactoring,false);
  if (query.findFirst() == null) {
    final String message=RefactoringBundle.message("class.0.does.not.have.inheritors",classUnderRefactoring.getName());
    CommonRefactoringUtil.showErrorHint(project,editor,message,getTitle(),getHelpId());
    return;
  }
  ViewPresenterUtils.linkViewWithPresenterAndLaunch(PyPushDownPresenter.class,PyPushDownView.class,new Creator<PyPushDownView,PyPushDownPresenter>(){
    @NotNull @Override public PyPushDownPresenter createPresenter(    @NotNull PyPushDownView view){
      return new PyPushDownPresenterImpl(view,classUnderRefactoring,infoStorage);
    }
    @NotNull @Override public PyPushDownView createView(    @NotNull PyPushDownPresenter presenter){
      return new PyPushDownViewSwingImpl(classUnderRefactoring,project,presenter);
    }
  }
);
}
