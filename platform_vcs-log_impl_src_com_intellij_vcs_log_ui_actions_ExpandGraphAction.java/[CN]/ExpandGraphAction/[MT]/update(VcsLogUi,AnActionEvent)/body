{
  if (!ui.getFilterUi().getFilters().getDetailsFilters().isEmpty()) {
    e.getPresentation().setEnabled(false);
  }
  if (ui.getBekType() == PermanentGraph.SortType.LinearBek) {
    e.getPresentation().setIcon(VcsLogIcons.ExpandMerges);
    e.getPresentation().setText("Expand all merges");
    e.getPresentation().setDescription("Expand all merges");
  }
 else {
    e.getPresentation().setIcon(VcsLogIcons.ExpandBranches);
    e.getPresentation().setText("Expand all linear branches");
    e.getPresentation().setDescription("Expand all linear branches");
  }
}
