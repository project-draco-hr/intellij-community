{
  try {
    ToolWindowAnchor anchor=myInfo.getAnchor();
    JComponent c=getComponentAt(anchor);
    if (c instanceof Splitter) {
      Splitter splitter=(Splitter)c;
      if (myInfo.isSplit()) {
        InternalDecorator component=(InternalDecorator)splitter.getFirstComponent();
        if (component != null) {
          myId2SplitProportion.put(component.getWindowInfo().getId(),splitter.getProportion());
        }
        setComponent(component,anchor,component != null ? component.getWindowInfo().getWeight() : 0);
      }
 else {
        InternalDecorator component=(InternalDecorator)splitter.getSecondComponent();
        setComponent(component,anchor,component != null ? component.getWindowInfo().getWeight() : 0);
      }
    }
 else {
      setComponent(null,anchor,0);
    }
    if (!myDirtyMode) {
      myLayeredPane.validate();
      myLayeredPane.repaint();
    }
  }
  finally {
    finish();
  }
}
