{
  AbstractBlockWrapper anchorBlock=alignment.getOffsetRespBlockBefore(child);
  if (anchorBlock == null) {
    anchorBlock=this;
    if (anchorBlock instanceof CompositeBlockWrapper) {
      List<AbstractBlockWrapper> children=((CompositeBlockWrapper)anchorBlock).getChildren();
      for (      AbstractBlockWrapper c : children) {
        if (c.getStartOffset() != getStartOffset() && c.getStartOffset() < targetBlockStartOffset) {
          anchorBlock=c;
          break;
        }
      }
    }
  }
  return anchorBlock;
}
