{
  try {
    String filename=new File(getAbsolutePath(destpath),archivename).getAbsolutePath();
    if (!addEntryName(filename,entryName)) {
      DecompilerContext.getLogger().writeMessage("Zip entry already exists: " + destpath + ","+ archivename+ ","+ entryName,IFernflowerLogger.WARNING);
      return;
    }
    ZipFile srcarchive=new ZipFile(new File(source));
    Enumeration<? extends ZipEntry> en=srcarchive.entries();
    while (en.hasMoreElements()) {
      ZipEntry entr=en.nextElement();
      if (entr.getName().equals(entryName)) {
        InputStream in=srcarchive.getInputStream(entr);
        ZipOutputStream out=mapArchiveStreams.get(filename);
        out.putNextEntry(new ZipEntry(entryName));
        InterpreterUtil.copyInputStream(in,out);
        in.close();
      }
    }
    srcarchive.close();
  }
 catch (  IOException ex) {
    DecompilerContext.getLogger().writeMessage("Error copying zip file entry: " + source + ","+ destpath+ ","+ archivename+ ","+ entryName,IFernflowerLogger.WARNING);
    ex.printStackTrace();
  }
}
