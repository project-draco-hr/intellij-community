{
  final Ref<Integer> result=Ref.create(-1);
  final Ref<Integer> index=Ref.create(0);
  myHost.iterateCharacterRanges(new TextRangeConsumer(){
    @Override public boolean process(    int startOffset,    int endOffset,    String value){
      if (startOffset >= rangeInsideHost.getStartOffset()) {
        final Integer i=index.get();
        if (i == offsetInDecoded) {
          result.set(startOffset);
          return false;
        }
        index.set(i + 1);
      }
      return true;
    }
  }
);
  return result.get();
}
