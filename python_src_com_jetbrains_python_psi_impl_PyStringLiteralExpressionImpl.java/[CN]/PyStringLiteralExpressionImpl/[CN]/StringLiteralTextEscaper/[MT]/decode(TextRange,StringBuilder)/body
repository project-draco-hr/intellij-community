{
  final PyDocStringOwner docStringOwner=PsiTreeUtil.getParentOfType(myHost,PyDocStringOwner.class);
  if (docStringOwner != null && myHost.equals(docStringOwner.getDocStringExpression())) {
    outChars.append(myHost.getText(),rangeInsideHost.getStartOffset(),rangeInsideHost.getEndOffset());
  }
 else {
    myHost.iterateCharacterRanges(new TextRangeConsumer(){
      public boolean process(      int startOffset,      int endOffset,      String value){
        int xsectStart=Math.max(startOffset,rangeInsideHost.getStartOffset());
        int xsectEnd=Math.min(endOffset,rangeInsideHost.getEndOffset());
        if (xsectEnd > xsectStart) {
          outChars.append(value);
        }
        return endOffset < rangeInsideHost.getEndOffset();
      }
    }
);
  }
  return true;
}
