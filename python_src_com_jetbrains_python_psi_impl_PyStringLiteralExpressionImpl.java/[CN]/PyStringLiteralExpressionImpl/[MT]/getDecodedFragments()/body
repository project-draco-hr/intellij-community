{
  if (myDecodedFragments == null) {
    final List<Pair<TextRange,String>> result=new ArrayList<Pair<TextRange,String>>();
    final int elementStart=getTextRange().getStartOffset();
    final boolean unicodeByDefault=isUnicodeByDefault();
    for (    ASTNode node : getStringNodes()) {
      final String text=node.getText();
      final TextRange textRange=getNodeTextRange(text);
      final int offset=node.getTextRange().getStartOffset() - elementStart + textRange.getStartOffset();
      final String encoded=textRange.substring(text);
      result.addAll(getDecodedFragments(encoded,offset,isRaw(text),unicodeByDefault || isUnicode(text)));
    }
    myDecodedFragments=result;
  }
  return myDecodedFragments;
}
