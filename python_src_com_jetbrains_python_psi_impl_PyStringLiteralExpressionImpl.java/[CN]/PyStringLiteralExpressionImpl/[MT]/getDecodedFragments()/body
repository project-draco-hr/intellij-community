{
  if (myDecodedFragments == null) {
    final List<Pair<TextRange,String>> result=new ArrayList<>();
    final int elementStart=getTextRange().getStartOffset();
    final boolean unicodeByDefault=isUnicodeByDefault();
    for (    ASTNode node : getStringNodes()) {
      final String text=node.getText();
      final TextRange textRange=getNodeTextRange(text);
      final int offset=node.getTextRange().getStartOffset() - elementStart + textRange.getStartOffset();
      final String encoded=textRange.substring(text);
      final boolean hasRawPrefix=PythonStringUtil.isRawPrefix(PythonStringUtil.getPrefix(text));
      final boolean hasUnicodePrefix=PythonStringUtil.isUnicodePrefix(PythonStringUtil.getPrefix(text));
      result.addAll(getDecodedFragments(encoded,offset,hasRawPrefix,unicodeByDefault || hasUnicodePrefix));
    }
    myDecodedFragments=result;
  }
  return myDecodedFragments;
}
