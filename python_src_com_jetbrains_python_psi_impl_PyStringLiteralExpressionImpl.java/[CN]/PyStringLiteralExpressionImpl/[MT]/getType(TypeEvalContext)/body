{
  final List<ASTNode> nodes=getStringNodes();
  if (nodes.size() > 0) {
    String text=getStringNodes().get(0).getText();
    SyntaxHighlighter highlighter=PySyntaxHighlighterFactory.getSyntaxHighlighter(PythonLanguage.getInstance(),getProject(),getContainingFile().getVirtualFile());
    Lexer lexer=highlighter.getHighlightingLexer();
    if (lexer instanceof PythonHighlightingLexer) {
      IElementType type=((PythonHighlightingLexer)lexer).convertStringType(getStringNodes().get(0).getElementType(),text);
      if (PyTokenTypes.UNICODE_NODES.contains(type)) {
        return PyBuiltinCache.getInstance(this).getUnicodeType(LanguageLevel.forElement(this));
      }
    }
  }
  return PyBuiltinCache.getInstance(this).getBytesType(LanguageLevel.forElement(this));
}
