{
  Project project=e.getRequiredData(CommonDataKeys.PROJECT);
  VcsLogUi logUi=e.getRequiredData(VcsLogDataKeys.VCS_LOG_UI);
  VcsLogSettings settings=ServiceManager.getService(project,VcsLogSettings.class);
  ListPopup popup=JBPopupFactory.getInstance().createActionGroupPopup(null,new MySettingsActionGroup(settings,logUi),e.getDataContext(),JBPopupFactory.ActionSelectionAid.MNEMONICS,true,ToolWindowContentUi.POPUP_PLACE);
  Component component=e.getInputEvent().getComponent();
  if (component instanceof ActionButtonComponent) {
    popup.showUnderneathOf(component);
  }
 else {
    popup.showInCenterOf(component);
  }
}
