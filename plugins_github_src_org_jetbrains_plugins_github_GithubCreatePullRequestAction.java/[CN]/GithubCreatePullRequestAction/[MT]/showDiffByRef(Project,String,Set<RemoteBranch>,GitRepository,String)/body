{
  RemoteBranch branch=findRemoteBranch(branches,ref);
  if (branch == null || branch.getLocalBranch() == null) {
    GithubNotifications.showErrorDialog(project,"Can't show diff","Can't find local branch");
    return;
  }
  String targetBranch=branch.getLocalBranch();
  DiffInfo info=getDiffInfo(project,gitRepository,currentBranch,targetBranch);
  if (info == null) {
    GithubNotifications.showErrorDialog(project,"Can't show diff","Can't get diff info");
    return;
  }
  GitCompareBranchesDialog dialog=new GitCompareBranchesDialog(project,info.getTo(),info.getFrom(),info.getInfo(),gitRepository);
  dialog.show();
}
