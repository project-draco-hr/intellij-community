{
  File jar=new File(dir,name);
  IoTestUtil.createTestJar(jar);
  MessageDigest digest;
  try {
    digest=MessageDigest.getInstance("SHA1");
  }
 catch (  NoSuchAlgorithmException e) {
    throw new RuntimeException(e);
  }
  digest.update(FileUtil.loadFileBytes(jar));
  byte[] sha1=digest.digest();
  PrintWriter out=new PrintWriter(new File(dir,name + ".sha1"),"UTF-8");
  try {
    for (    byte b : sha1)     out.printf("%02x",b);
    out.println("  " + name);
  }
  finally {
    out.close();
  }
}
