{
  final FileEditorManager fileEditorManager=FileEditorManager.getInstance(project);
  if (fileEditorManager instanceof FileEditorManagerImpl) {
    Runnable runnable=new Runnable(){
      @Override public void run(){
        FileEditorManagerImpl manager=(FileEditorManagerImpl)fileEditorManager;
        manager.getMainSplitters().openFiles();
        manager.initDockableContentFactory();
      }
    }
;
    if (Registry.is("ide.open.editors.asynchronously")) {
      ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
      if (indicator != null) {
        indicator.pushState();
        indicator.setText("Preparing editors to open...");
      }
      runnable.run();
      if (indicator != null) {
        indicator.popState();
      }
    }
 else {
      UIUtil.invokeLaterIfNeeded(runnable);
    }
  }
}
