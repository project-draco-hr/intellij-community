{
  final Pair<HttpClient,HttpConnection> pair=createConnection(builder);
  try {
    final PostMethod postMethod=new PostMethod(builder.getServerUrl() + "/" + "ping");
    postMethod.setQueryString(builder.getPingQueryString());
    postMethod.execute(pair.getFirst().getState(),pair.getSecond());
    if (postMethod.getStatusCode() != HttpStatus.SC_OK) {
      throw new IOException(postMethod.getResponseBodyAsString());
    }
 else {
      return postMethod.getResponseBodyAsString().trim();
    }
  }
  finally {
    pair.getSecond().close();
  }
}
