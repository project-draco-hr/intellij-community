{
  final MyItem root=createItem(rootPath,depth,false);
  myQueue.add(root);
  while (!myQueue.isEmpty()) {
    myPartner.checkCanceled();
    final MyItem item=myQueue.removeFirst();
    final FilePath path=item.getPath();
    final File ioFile=path.getIOFile();
    if (path.isDirectory()) {
      myHandler.setCurrentItem(item);
      try {
        final StatusClient client=item.getClient();
        client.doStatus(ioFile,SVNRevision.WORKING,item.getDepth(),false,false,true,true,myHandler,null);
        myHandler.checkIfCopyRootWasReported(null,ioFile);
      }
 catch (      SvnBindException e) {
        handleStatusException(item,path,e);
      }
    }
 else {
      try {
        final Status status=item.getClient().doStatus(ioFile,false);
        myReceiver.process(path,status);
      }
 catch (      SvnBindException e) {
        handleStatusException(item,path,e);
      }
catch (      SVNException e) {
        handleStatusException(item,path,new SvnBindException(e));
      }
    }
  }
}
