{
  return new MavenEmbedderWrapper(this){
    @NotNull @Override protected MavenServerEmbedder create() throws RemoteException {
      MavenServerSettings settings=convertSettings(MavenProjectsManager.getInstance(project).getGeneralSettings());
      if (alwaysOnline && settings.isOffline()) {
        settings=settings.clone();
        settings.setOffline(false);
      }
      settings.setProjectJdk(MavenUtil.getSdkPath(ProjectRootManager.getInstance(project).getProjectSdk()));
      return MavenServerManager.this.getOrCreateWrappee().createEmbedder(new MavenEmbedderSettings(settings,workingDirectory,multiModuleProjectDirectory));
    }
  }
;
}
