{
  if (myIgnoreAccessScope) {
    return myScope;
  }
  SearchScope scope=myEffectiveScope;
  if (scope == null) {
    SearchScope useScope=PsiSearchHelper.SERVICE.getInstance(myElementToSearch.getProject()).getUseScope(myElementToSearch);
    myEffectiveScope=scope=myScope.intersectWith(useScope);
  }
  return scope;
}
