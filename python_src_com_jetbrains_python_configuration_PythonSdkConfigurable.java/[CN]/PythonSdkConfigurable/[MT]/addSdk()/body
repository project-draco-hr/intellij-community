{
  final PythonSdkType sdkType=PythonSdkType.getInstance();
  final FileChooserDescriptor descriptor=new FileChooserDescriptor(false,true,false,false,false,false){
    public void validateSelectedFiles(    final VirtualFile[] files) throws Exception {
      final String path=files[0].getPath();
      if (files.length > 0 && !sdkType.isValidSdkHome(path)) {
        throw new Exception(FileUtil.toSystemDependentName(path) + " is not a valid Python SDK home");
      }
    }
  }
;
  final FileChooserDialog dialog=FileChooserFactory.getInstance().createFileChooser(descriptor,myProject);
  String suggestedPath=sdkType.suggestHomePath();
  VirtualFile suggestedDir=suggestedPath == null ? null : LocalFileSystem.getInstance().findFileByPath(FileUtil.toSystemIndependentName(suggestedPath));
  final VirtualFile[] selection=dialog.choose(suggestedDir,myProject);
  if (selection.length > 0) {
    setupSdk(selection[0]);
  }
}
