{
  for (  Map.Entry<Repository,PushSpec> entry : pushSpecs.entrySet()) {
    Repository repository=entry.getKey();
    HgRepository hgRepository=(HgRepository)repository;
    PushSpec hgSpec=entry.getValue();
    HgTarget destination=(HgTarget)hgSpec.getTarget();
    if (destination == null) {
      continue;
    }
    HgSource source=(HgSource)hgSpec.getSource();
    Project project=repository.getProject();
    final HgPushCommand pushCommand=new HgPushCommand(project,repository.getRoot(),destination.myTarget);
    pushCommand.setIsNewBranch(true);
    pushCommand.setForce(force);
    if (source.mySource.equals(hgRepository.getCurrentBookmark())) {
      if (vcsPushOptionValue == HgVcsPushOptionValue.Current) {
        pushCommand.setBookmarkName(source.mySource);
      }
 else {
        pushCommand.setRevision(source.mySource);
      }
    }
 else {
      pushCommand.setBranchName(source.mySource);
    }
    push(project,pushCommand);
  }
}
