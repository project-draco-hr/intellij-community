{
  for (  Map.Entry<Repository,PushSpec> entry : pushSpecs.entrySet()) {
    Repository repository=entry.getKey();
    HgRepository hgRepository=(HgRepository)repository;
    PushSpec hgSpec=entry.getValue();
    HgTarget destination=(HgTarget)hgSpec.getTarget();
    if (destination == null) {
      continue;
    }
    HgPushSource source=(HgPushSource)hgSpec.getSource();
    Project project=repository.getProject();
    final HgPushCommand pushCommand=new HgPushCommand(project,repository.getRoot(),destination.myTarget);
    pushCommand.setIsNewBranch(true);
    pushCommand.setForce(force);
    String branchName=source.getBranch();
    if (branchName.equals(hgRepository.getCurrentBookmark())) {
      if (vcsPushOptionValue == HgVcsPushOptionValue.Current) {
        pushCommand.setBookmarkName(branchName);
      }
 else {
        pushCommand.setRevision(branchName);
      }
    }
 else {
      pushCommand.setBranchName(branchName);
    }
    push(project,pushCommand);
  }
}
