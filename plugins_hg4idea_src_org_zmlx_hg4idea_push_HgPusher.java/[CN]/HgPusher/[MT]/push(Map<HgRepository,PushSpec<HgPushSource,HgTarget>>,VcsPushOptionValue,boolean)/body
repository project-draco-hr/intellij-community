{
  for (  Map.Entry<HgRepository,PushSpec<HgPushSource,HgTarget>> entry : pushSpecs.entrySet()) {
    HgRepository repository=entry.getKey();
    PushSpec<HgPushSource,HgTarget> hgSpec=entry.getValue();
    HgTarget destination=hgSpec.getTarget();
    if (destination == null) {
      continue;
    }
    HgPushSource source=hgSpec.getSource();
    Project project=repository.getProject();
    final HgPushCommand pushCommand=new HgPushCommand(project,repository.getRoot(),destination.myTarget);
    pushCommand.setIsNewBranch(true);
    pushCommand.setForce(force);
    String branchName=source.getBranch();
    if (branchName.equals(repository.getCurrentBookmark())) {
      if (vcsPushOptionValue == HgVcsPushOptionValue.Current) {
        pushCommand.setBookmarkName(branchName);
      }
 else {
        pushCommand.setRevision(branchName);
      }
    }
 else {
      pushCommand.setBranchName(branchName);
    }
    push(project,pushCommand);
  }
}
