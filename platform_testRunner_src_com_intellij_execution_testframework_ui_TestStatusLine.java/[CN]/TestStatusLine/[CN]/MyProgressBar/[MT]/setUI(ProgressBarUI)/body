{
  boolean nativeLaf=UIUtil.isUnderWindowsLookAndFeel() || UIUtil.isUnderAquaLookAndFeel() || UIUtil.isUnderGTKLookAndFeel();
  if (nativeLaf) {
    ui=new DarculaProgressBarUI();
  }
  super.setUI(ui);
  if (nativeLaf) {
    setPreferredSize(new Dimension(getPreferredSize().width,NATIVE_LAF_HEIGHT));
  }
}
