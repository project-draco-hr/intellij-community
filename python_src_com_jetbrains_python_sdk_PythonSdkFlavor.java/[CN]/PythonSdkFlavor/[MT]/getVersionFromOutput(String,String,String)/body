{
  Pattern pattern=Pattern.compile(version_regexp);
  String run_dir=new File(sdkHome).getParent();
  final ProcessOutput process_output=SdkUtil.getProcessOutput(run_dir,new String[]{sdkHome,version_opt});
  if (process_output.getExitCode() != 0) {
    String err=process_output.getStderr();
    if (StringUtil.isEmpty(err)) {
      err=process_output.getStdout();
    }
    LOG.warn("Couldn't get interpreter version: process exited with code " + process_output.getExitCode() + "\n"+ err);
    return null;
  }
  final String result=SdkUtil.getFirstMatch(process_output.getStderrLines(),pattern);
  if (result != null) {
    return result;
  }
  return SdkUtil.getFirstMatch(process_output.getStdoutLines(),pattern);
}
