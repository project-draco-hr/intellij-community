{
  node.setAlreadySorted(true);
  int bucketThreshold=XCompositeNode.MAX_CHILDREN_TO_SHOW;
  if (!sparse && (endInclusive - startInclusive) > bucketThreshold) {
    node.addChildren(XValueChildrenList.topGroups(computeNotSparseGroups(value,context,startInclusive,endInclusive + 1,bucketThreshold)),true);
    return;
  }
  value.getIndexedProperties(startInclusive,endInclusive + 1,bucketThreshold,new VariableView.ObsolescentIndexedVariablesConsumer(node){
    @Override public void consumeRanges(    @Nullable int[] ranges){
      if (ranges == null) {
        XValueChildrenList groupList=new XValueChildrenList();
        addGroups(value,GROUP_FACTORY,groupList,startInclusive,endInclusive,XCompositeNode.MAX_CHILDREN_TO_SHOW,context);
        getNode().addChildren(groupList,true);
      }
 else {
        addRanges(value,ranges,getNode(),context,true);
      }
    }
    @Override public void consumeVariables(    @NotNull List<Variable> variables){
      getNode().addChildren(VariablesKt.createVariablesList(variables,context,null),true);
    }
  }
,componentType);
}
