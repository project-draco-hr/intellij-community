{
  TextAttributes schemeAttributes=scheme.getAttributes(rainbowKey);
  @NotNull Color defaultRainbow=rainbowKey.getDefaultAttributes().getForegroundColor();
  Pair<Boolean,Color> pair;
  if (schemeAttributes == null) {
    pair=Pair.create(false,defaultRainbow);
  }
 else {
    Color schemeColor=schemeAttributes.getForegroundColor();
    if (schemeColor == null) {
      pair=Pair.create(false,defaultRainbow);
    }
 else {
      pair=Pair.create(!defaultRainbow.equals(schemeColor),schemeColor);
    }
  }
  return pair;
}
