{
  if (scheme == null) {
    scheme=getScheme();
  }
  if (scheme instanceof EditorColorsSchemeImpl) {
    if (!isInherited()) {
      ((EditorColorsSchemeImpl)scheme).setAttributes(key,getTextAttributes(),myIsInheritedInitial);
    }
 else     if (!myIsInheritedInitial) {
      scheme.setAttributes(key,USE_INHERITED_MARKER);
    }
  }
 else {
    scheme.setAttributes(key,isInherited() ? USE_INHERITED_MARKER : getTextAttributes());
  }
}
