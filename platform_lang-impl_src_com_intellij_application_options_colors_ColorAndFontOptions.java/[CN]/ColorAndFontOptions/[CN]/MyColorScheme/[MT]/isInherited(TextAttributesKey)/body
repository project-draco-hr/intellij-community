{
  TextAttributesKey fallbackKey=key.getFallbackAttributeKey();
  if (fallbackKey != null) {
    if (myParentScheme instanceof AbstractColorsScheme) {
      TextAttributes ownAttrs=((AbstractColorsScheme)myParentScheme).getDirectlyDefinedAttributes(key);
      if (ownAttrs != null) {
        return ownAttrs == TextAttributes.USE_INHERITED_MARKER;
      }
    }
    TextAttributes attributes=getAttributes(key);
    if (attributes != null) {
      TextAttributes fallbackAttributes=getAttributes(fallbackKey);
      return attributes == fallbackAttributes;
    }
  }
  return false;
}
