{
  ChannelFuture channelFuture=send(message);
  if (messageId == -1) {
    return null;
  }
  ChannelFutureAwareAsyncResult<T> callback=new ChannelFutureAwareAsyncResult<T>(messageId,messageCallbackMap);
  channelFuture.addListener(callback);
  messageCallbackMap.put(messageId,callback);
  return callback;
}
