{
  settings=new IdeaConfigurationServerSettings();
  updateRequest=new Runnable(){
    @SuppressWarnings("StatementWithEmptyBody") @Override public void run(){
      updateAlarm.cancelAllRequests();
      try {
        try {
          if (settings.getStatus() == IdeaConfigurationServerStatus.CONNECTION_FAILED && settings.getUserName() != null && settings.getPassword() != null) {
            login();
          }
 else           if (settings.getStatus() == IdeaConfigurationServerStatus.LOGGED_IN && settings.getUserName() != null && settings.getPassword() != null) {
          }
        }
 catch (        Exception e) {
        }
      }
  finally {
        updateAlarm.addRequest(updateRequest,30 * 1000);
      }
    }
  }
;
  ApplicationManager.getApplication().getMessageBus().connect().subscribe(StatusListener.TOPIC,new StatusListener(){
    @Override public void statusChanged(    final IdeaConfigurationServerStatus status){
      if (status == IdeaConfigurationServerStatus.LOGGED_IN) {
        serverConnector.updateRepo();
      }
    }
  }
);
}
