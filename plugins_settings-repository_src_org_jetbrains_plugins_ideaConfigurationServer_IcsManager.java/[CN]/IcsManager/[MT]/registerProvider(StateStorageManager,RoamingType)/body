{
  storageManager.registerStreamProvider(new ICSStreamProvider(null,type){
    @Override public String[] listSubFiles(    final String fileSpec){
      return serverConnector.listSubFileNames(IcsUrlBuilder.buildPath(fileSpec,roamingType,null));
    }
    @Override public void deleteFile(    String fileSpec,    RoamingType roamingType){
      final String path=IcsUrlBuilder.buildPath(fileSpec,this.roamingType,null);
      ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
        @Override public void run(){
          try {
            serverConnector.delete(path);
          }
 catch (          IOException e) {
            LOG.debug(e);
          }
        }
      }
);
    }
  }
,type);
}
