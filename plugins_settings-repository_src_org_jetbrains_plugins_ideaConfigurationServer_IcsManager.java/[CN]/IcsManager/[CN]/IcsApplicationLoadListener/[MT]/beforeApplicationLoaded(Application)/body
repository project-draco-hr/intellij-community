{
  if (application.isUnitTestMode()) {
    return;
  }
  getInstance().registerApplicationLevelProviders(application);
  ApplicationManager.getApplication().getMessageBus().connect().subscribe(ProjectLifecycleListener.TOPIC,new ProjectLifecycleListener.Adapter(){
    @Override public void beforeProjectLoaded(    @NotNull Project project){
      if (!project.isDefault()) {
        getInstance().registerProjectLevelProviders(project);
      }
    }
  }
);
}
