{
  Collection<VirtualFile> visibleRoots=VcsLogFileFilter.getAllVisibleRoots(getAllRoots(),filter);
  if (visibleRoots.size() == getAllRoots().size()) {
    return ALL;
  }
 else   if (visibleRoots.size() == 1) {
    VirtualFile file=visibleRoots.iterator().next();
    return StringUtil.shortenPathWithEllipsis(file.getPresentableUrl(),FILTER_LABEL_LENGTH);
  }
 else {
    return visibleRoots.size() + " roots";
  }
}
