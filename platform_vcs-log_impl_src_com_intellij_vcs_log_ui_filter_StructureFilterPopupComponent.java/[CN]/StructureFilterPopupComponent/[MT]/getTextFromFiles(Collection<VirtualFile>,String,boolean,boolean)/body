{
  return getText(files,category,shorten ? FILE_BY_NAME_COMPARATOR : FILE_BY_PATH_COMPARATOR,new NotNullFunction<VirtualFile,String>(){
    @NotNull @Override public String fun(    VirtualFile file){
      return shorten ? file.getName() : StringUtil.shortenPathWithEllipsis(file.getPresentableUrl(),FILTER_LABEL_LENGTH);
    }
  }
,full);
}
