{
  super.update(e);
  Presentation presentation=e.getPresentation();
  boolean enabled;
  if (myFilterModel.getFilter() == null || myFilterModel.getFilter().getStructureFilter() == null) {
    enabled=true;
  }
 else {
    enabled=VcsLogFileFilter.getAllVisibleRoots(getAllRoots(),null,myFilterModel.getFilter().getStructureFilter()).contains(myRoot);
  }
  myIcon.prepare(enabled,isSelected(e));
  presentation.setIcon(myIcon);
  presentation.setEnabled(enabled);
  presentation.setVisible(true);
}
