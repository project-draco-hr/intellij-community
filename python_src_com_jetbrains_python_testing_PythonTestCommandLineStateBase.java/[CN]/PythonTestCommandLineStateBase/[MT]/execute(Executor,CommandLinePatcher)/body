{
  final ProcessHandler processHandler=startProcess(patchers);
  final ConsoleView console=createAndAttachConsole(myConfiguration.getProject(),processHandler,executor);
  List<AnAction> actions=Lists.newArrayList(createActions(console,processHandler));
  DefaultExecutionResult executionResult=new DefaultExecutionResult(console,processHandler,actions.toArray(new AnAction[actions.size()]));
  PyRerunFailedTestsAction rerunFailedTestsAction=new PyRerunFailedTestsAction(console);
  if (console instanceof SMTRunnerConsoleView) {
    rerunFailedTestsAction.init(((BaseTestsOutputConsoleView)console).getProperties(),getEnvironment());
    rerunFailedTestsAction.setModelProvider(new Getter<TestFrameworkRunningModel>(){
      @Override public TestFrameworkRunningModel get(){
        return ((SMTRunnerConsoleView)console).getResultsViewer();
      }
    }
);
  }
  executionResult.setRestartActions(rerunFailedTestsAction,new ToggleAutoTestAction(getEnvironment()));
  return executionResult;
}
