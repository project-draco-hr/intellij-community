{
  final PythonTRunnerConsoleProperties consoleProperties=new PythonTRunnerConsoleProperties(myConfiguration,executor);
  if (isDebug()) {
    final ConsoleView testsOutputConsoleView=SMTestRunnerConnectionUtil.createConsole(PythonTRunnerConsoleProperties.FRAMEWORK_NAME,consoleProperties,getRunnerSettings(),getConfigurationSettings());
    final ConsoleView consoleView=new PythonDebugLanguageConsoleView(project,PythonSdkType.findSdkByPath(myConfiguration.getSdkHome()),testsOutputConsoleView);
    consoleView.addMessageFilter(new PythonTracebackFilter(project,myConfiguration.getWorkingDirectory()));
    consoleView.attachToProcess(processHandler);
    return consoleView;
  }
  final ConsoleView consoleView=SMTestRunnerConnectionUtil.createAndAttachConsole(PythonTRunnerConsoleProperties.FRAMEWORK_NAME,processHandler,consoleProperties,getRunnerSettings(),getConfigurationSettings());
  consoleView.addMessageFilter(new PythonTracebackFilter(project,myConfiguration.getWorkingDirectory()));
  return consoleView;
}
