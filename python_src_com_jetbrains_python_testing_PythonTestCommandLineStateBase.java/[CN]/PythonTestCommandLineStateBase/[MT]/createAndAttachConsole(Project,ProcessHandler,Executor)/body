{
  final PythonTRunnerConsoleProperties consoleProperties=createConsoleProperties(executor);
  if (isDebug()) {
    final ConsoleView testsOutputConsoleView=SMTestRunnerConnectionUtil.createConsole(PythonTRunnerConsoleProperties.FRAMEWORK_NAME,consoleProperties,getEnvironment());
    final ConsoleView consoleView=new PythonDebugLanguageConsoleView(project,PythonSdkType.findSdkByPath(myConfiguration.getInterpreterPath()),testsOutputConsoleView);
    consoleView.attachToProcess(processHandler);
    return consoleView;
  }
  final ConsoleView consoleView=SMTestRunnerConnectionUtil.createAndAttachConsole(PythonTRunnerConsoleProperties.FRAMEWORK_NAME,processHandler,consoleProperties,getEnvironment());
  addTracebackFilter(project,consoleView,processHandler);
  return consoleView;
}
