{
  SearchDialog dialog=createDialog(searchDialogFactory);
  if (!dialog.showAndGet()) {
    return;
  }
  Configuration configuration=dialog.getConfiguration();
  if (configuration.getName() == null || configuration.getName().equals(SearchDialog.USER_DEFINED)) {
    String name=dialog.showSaveTemplateAsDialog();
    if (name != null) {
      name=ConfigurationManager.findAppropriateName(myConfigurations,name,dialog.getProject());
    }
    if (name == null)     return;
    configuration.setName(name);
  }
  myConfigurations.add(configuration);
  configurationsChanged(dialog.getSearchContext());
}
