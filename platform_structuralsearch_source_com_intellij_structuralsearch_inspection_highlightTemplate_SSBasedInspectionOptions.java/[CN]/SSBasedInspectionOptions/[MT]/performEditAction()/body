{
  final Configuration configuration=(Configuration)myTemplatesList.getSelectedValue();
  if (configuration == null)   return;
  SearchDialog dialog=createDialog(new SearchDialogFactory(){
    public SearchDialog createDialog(    SearchContext searchContext){
      if (configuration instanceof SearchConfiguration) {
        return new SearchDialog(searchContext,false,false){
          public Configuration createConfiguration(){
            SearchConfiguration newConfiguration=new SearchConfiguration();
            copyConfiguration(configuration,newConfiguration);
            return newConfiguration;
          }
        }
;
      }
 else {
        return new ReplaceDialog(searchContext,false,false){
          public Configuration createConfiguration(){
            ReplaceConfiguration newConfiguration=new ReplaceConfiguration();
            copyConfiguration(configuration,newConfiguration);
            return newConfiguration;
          }
        }
;
      }
    }
  }
);
  dialog.setValuesFromConfig(configuration);
  dialog.setUseLastConfiguration(true);
  if (!dialog.showAndGet()) {
    return;
  }
  Configuration newConfiguration=dialog.getConfiguration();
  copyConfiguration(newConfiguration,configuration);
  configurationsChanged(dialog.getSearchContext());
}
