{
  if (vFile != null && vFile.isValid()) {
    ProjectFileIndex index=ProjectRootManager.getInstance(myProject).getFileIndex();
    if (index.getContentRootForFile(vFile,false) != null) {
      return true;
    }
    if (index.isInLibraryClasses(vFile) || index.isInLibrarySource(vFile)) {
      return true;
    }
    return Comparing.equal(vFile.getParent(),myProject.getBaseDir());
  }
  return false;
}
