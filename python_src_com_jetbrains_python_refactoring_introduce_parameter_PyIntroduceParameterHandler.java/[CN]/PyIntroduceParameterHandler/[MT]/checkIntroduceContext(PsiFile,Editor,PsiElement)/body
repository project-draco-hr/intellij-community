{
  if (element != null) {
    final PyFunction function=PsiTreeUtil.getParentOfType(element,PyFunction.class);
    if (function == null) {
      CommonRefactoringUtil.showErrorHint(file.getProject(),editor,"Introduce Parameter refactoring cannot be performed outside any function",RefactoringBundle.message("introduce.parameter.title"),null);
      return false;
    }
    if (isResolvedToParameter(element)) {
      CommonRefactoringUtil.showErrorHint(file.getProject(),editor,PyBundle.message("refactoring.introduce.selection.error"),RefactoringBundle.message("introduce.parameter.title"),null);
      return false;
    }
  }
  return super.checkIntroduceContext(file,editor,element);
}
