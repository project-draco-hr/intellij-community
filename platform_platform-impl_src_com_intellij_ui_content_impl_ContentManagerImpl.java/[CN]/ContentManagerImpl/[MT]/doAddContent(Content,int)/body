{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (myContents.contains(content)) {
    myContents.remove(content);
    myContents.add(index == -1 ? myContents.size() : index,content);
    return;
  }
  ((ContentImpl)content).setManager(this);
  final int insertIndex=index == -1 ? myContents.size() : index;
  myContents.add(insertIndex,content);
  content.addPropertyChangeListener(this);
  fireContentAdded(content,insertIndex);
  if (myUI.isToSelectAddedContent() || mySelection.isEmpty() && !myUI.canBeEmptySelection()) {
    if (myUI.isSingleSelection()) {
      setSelectedContent(content);
    }
 else {
      addSelectedContent(content);
    }
  }
  Disposer.register(this,content);
}
