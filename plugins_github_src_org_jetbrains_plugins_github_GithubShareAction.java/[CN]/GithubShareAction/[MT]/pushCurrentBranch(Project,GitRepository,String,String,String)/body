{
  Git git=ServiceManager.getService(Git.class);
  GitLocalBranch currentBranch=repository.getCurrentBranch();
  if (currentBranch == null) {
    GithubNotifications.showError(project,"Can't finish GitHub sharing process","Successfully created project '" + name + "' on GitHub, but initial push failed: "+ "no current branch");
    return false;
  }
  GitCommandResult result=git.push(repository,remoteName,remoteUrl,currentBranch.getName(),true);
  if (!result.success()) {
    GithubNotifications.showError(project,"Can't finish GitHub sharing process","Successfully created project '" + name + "' on GitHub, but initial push failed:<br/>"+ result.getErrorOutputAsHtmlString());
    return false;
  }
  return true;
}
