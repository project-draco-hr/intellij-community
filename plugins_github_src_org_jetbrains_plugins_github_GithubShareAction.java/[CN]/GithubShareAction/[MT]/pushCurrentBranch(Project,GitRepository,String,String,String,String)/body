{
  Git git=ServiceManager.getService(Git.class);
  GitLocalBranch currentBranch=repository.getCurrentBranch();
  if (currentBranch == null) {
    GithubNotifications.showErrorURL(project,"Can't finish GitHub sharing process","Successfully created project ","'" + name + "'"," on GitHub, but initial push failed: no current branch",url);
    return false;
  }
  GitCommandResult result=git.push(repository,remoteName,remoteUrl,currentBranch.getName(),true);
  if (!result.success()) {
    GithubNotifications.showErrorURL(project,"Can't finish GitHub sharing process","Successfully created project ","'" + name + "'"," on GitHub, but initial push failed:<br/>" + result.getErrorOutputAsHtmlString(),url);
    return false;
  }
  return true;
}
