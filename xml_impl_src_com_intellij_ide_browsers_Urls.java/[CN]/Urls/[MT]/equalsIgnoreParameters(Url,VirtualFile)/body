{
  if (file.isInLocalFileSystem()) {
    return url.isInLocalFileSystem() && url.getPath().equals(file.getPath());
  }
 else   if (url.isInLocalFileSystem()) {
    return false;
  }
  Url fileUrl=parseUrl(file.getUrl());
  return fileUrl != null && fileUrl.equalsIgnoreParameters(url);
}
