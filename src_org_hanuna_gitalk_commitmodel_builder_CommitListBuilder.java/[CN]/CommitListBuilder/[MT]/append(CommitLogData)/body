{
  MutableCommit commit=getCommit(logData.getHash());
  List<Commit> parents=new ArrayList<Commit>(logData.getParentsHash().size());
  for (  Hash hash : logData.getParentsHash()) {
    MutableCommit parent=getCommit(hash);
    parents.add(parent);
    parent.addChildren(commit);
  }
  removeCommit(logData.getHash());
  commit.set(logData,new SimpleReadOnlyList<Commit>(parents),commits.size());
  commits.add(commit);
}
