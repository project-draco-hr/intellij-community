{
  int version=9;
  FileType[] types=myFileTypeManager.getRegisteredFileTypes();
  Arrays.sort(types,new Comparator<FileType>(){
    @Override public int compare(    FileType o1,    FileType o2){
      return Comparing.compare(o1.getName(),o2.getName());
    }
  }
);
  for (  FileType fileType : types) {
    DataIndexer<TodoIndexEntry,Integer,FileContent> indexer=TodoIndexers.INSTANCE.forFileType(fileType);
    if (indexer == null)     continue;
    int versionFromIndexer=indexer instanceof VersionedTodoIndexer ? (((VersionedTodoIndexer)indexer).getVersion()) : 0xFF;
    version=version * 31 + (versionFromIndexer ^ indexer.getClass().getName().hashCode());
  }
  return version;
}
