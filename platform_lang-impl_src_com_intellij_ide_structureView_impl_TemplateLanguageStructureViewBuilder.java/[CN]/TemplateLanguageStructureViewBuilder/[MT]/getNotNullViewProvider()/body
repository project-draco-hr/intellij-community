{
  final FileViewProvider provider=PsiManager.getInstance(myProject).findViewProvider(myVirtualFile);
  if (provider == null || !(provider instanceof TemplateLanguageFileViewProvider)) {
    throw new AssertionError("Not a template view provider for " + myVirtualFile + ": "+ provider);
  }
  return (TemplateLanguageFileViewProvider)provider;
}
