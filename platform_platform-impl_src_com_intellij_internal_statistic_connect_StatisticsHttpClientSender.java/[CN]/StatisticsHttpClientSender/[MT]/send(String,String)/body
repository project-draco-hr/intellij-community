{
  try {
    HttpConfigurable.getInstance().prepareURL(url);
    Response response=Request.Post(url).bodyForm(Form.form().add("content",content).add("uuid",UpdateChecker.getInstallationUID(PropertiesComponent.getInstance())).add("patch",String.valueOf(false)).add("ide",ApplicationNamesInfo.getInstance().getProductName()).build()).execute();
    final HttpResponse httpResponse=response.returnResponse();
    if (httpResponse.getStatusLine().getStatusCode() != HttpStatus.SC_OK) {
      throw new StatServiceException("Error during data sending... Code: " + httpResponse.getStatusLine().getStatusCode());
    }
    final Header errors=httpResponse.getFirstHeader("errors");
    if (errors != null) {
      String value=errors.getValue();
      throw new StatServiceException("Error during updating statistics " + (!StringUtil.isEmptyOrSpaces(value) ? " : " + value : ""));
    }
  }
 catch (  StatServiceException e) {
    throw e;
  }
catch (  Exception e) {
    throw new StatServiceException("Error during data sending...",e);
  }
}
