{
  if (SystemInfo.isMac) {
    text=Normalizer.normalize(text,Normalizer.Form.NFC);
  }
  String _text=text;
  int paramIndex=text.lastIndexOf('?');
  if (paramIndex >= 0) {
    _text=text.substring(0,paramIndex);
  }
  if (myFileReferenceSet.isUrlEncoded()) {
    try {
      return StringUtil.notNullize(new URI(_text).getPath(),text);
    }
 catch (    Exception ignored) {
      return text;
    }
  }
  return _text;
}
