{
  final String path=ObjectUtils.assertNotNull(patch.getBeforeName() == null ? patch.getAfterName() : patch.getBeforeName());
  if (basePath == null)   return path;
  String result=FileUtil.getRelativePath(new File(newBaseDir),new File(basePath,path));
  return result == null ? path : result;
}
