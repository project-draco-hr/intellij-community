{
  if (resultType != null) {
    for (    PsiAnnotation annotation : resultType.getAnnotations()) {
      String qualifiedName=annotation.getQualifiedName();
      NullableNotNullManager nnn=NullableNotNullManager.getInstance(annotation.getProject());
      if (nnn.getNullables().contains(qualifiedName)) {
        return Nullness.NULLABLE;
      }
      if (nnn.getNotNulls().contains(qualifiedName)) {
        return Nullness.NOT_NULL;
      }
    }
  }
  if (owner == null || resultType instanceof PsiPrimitiveType) {
    return Nullness.UNKNOWN;
  }
  if (owner instanceof PsiEnumConstant || PsiUtil.isAnnotationMethod(owner)) {
    return Nullness.NOT_NULL;
  }
  if (owner instanceof PsiMethod && isEnumValueOf((PsiMethod)owner)) {
    return Nullness.NOT_NULL;
  }
  if (NullableNotNullManager.isNullable(owner)) {
    return Nullness.NULLABLE;
  }
  if (NullableNotNullManager.isNotNull(owner)) {
    return Nullness.NOT_NULL;
  }
  return Nullness.UNKNOWN;
}
