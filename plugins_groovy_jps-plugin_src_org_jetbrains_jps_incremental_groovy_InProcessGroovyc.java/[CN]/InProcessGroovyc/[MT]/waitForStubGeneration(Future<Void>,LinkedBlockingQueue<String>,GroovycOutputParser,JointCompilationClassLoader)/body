{
  while (true) {
    if (future.isDone()) {
      return null;
    }
    Object msg=mailbox.poll(10,TimeUnit.MILLISECONDS);
    if (GroovyRtConstants.STUBS_GENERATED.equals(msg)) {
      loader.resetCache();
      return createContinuation(future,mailbox,parser);
    }
    if (msg != null) {
      throw new AssertionError("Unknown message: " + msg);
    }
  }
}
