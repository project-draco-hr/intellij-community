{
  ExtensionsArea rootArea=Extensions.getRootArea();
  if (rootArea.hasExtensionPoint(JpsPluginBean.EP_NAME.getName())) {
    rootArea.getExtensionPoint(JpsPluginBean.EP_NAME).addExtensionPointListener(new ExtensionPointListener<JpsPluginBean>(){
      @Override public void extensionAdded(      @NotNull JpsPluginBean extension,      @Nullable PluginDescriptor pluginDescriptor){
        ContainerUtil.addIfNotNull(pluginDescriptor,myExternalBuildPlugins);
      }
      @Override public void extensionRemoved(      @NotNull JpsPluginBean extension,      @Nullable PluginDescriptor pluginDescriptor){
      }
    }
);
  }
  if (rootArea.hasExtensionPoint("com.intellij.compileServer.plugin")) {
    ExtensionPoint extensionPoint=rootArea.getExtensionPoint("com.intellij.compileServer.plugin");
    extensionPoint.addExtensionPointListener(new ExtensionPointListener(){
      @Override public void extensionAdded(      @NotNull Object extension,      @Nullable PluginDescriptor pluginDescriptor){
        ContainerUtil.addIfNotNull(pluginDescriptor,myExternalBuildPlugins);
      }
      @Override public void extensionRemoved(      @NotNull Object extension,      @Nullable PluginDescriptor pluginDescriptor){
      }
    }
);
  }
}
