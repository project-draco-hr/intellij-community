{
  isApplyingSettings=true;
  String filePath=file.getCanonicalPath();
  List<OutPair> outPairs=SettingsProviderComponent.getInstance().getOutPairs(filePath);
  EncodingProjectManager encodingProjectManager=EncodingProjectManager.getInstance(project);
  String charset=ConfigConverter.valueForKey(outPairs,charsetKey);
  if (!charset.isEmpty()) {
    if (encodingMap.containsKey(charset)) {
      encodingProjectManager.setEncoding(file,encodingMap.get(charset));
    }
 else {
      LOG.warn(new InvalidConfigException(charsetKey,charset,filePath));
    }
  }
  isApplyingSettings=false;
  LOG.debug("Applied encoding settings for: " + filePath);
}
