{
  @NonNls Element element=new Element("NotificationsConfiguration");
  for (  NotificationSettings settings : myIdToSettingsMap.values()) {
    element.addContent(settings.save());
  }
  for (  String entry : myToolWindowCapable.keySet()) {
    element.addContent(new Element("toolWindow").setAttribute("group",entry));
  }
  for (  NotificationGroup group : NotificationGroup.getAllRegisteredGroups()) {
    String displayId=group.getDisplayId();
    if (!myToolWindowCapable.containsKey(displayId) && group.getToolWindowId() != null) {
      element.addContent(new Element("toolWindow").setAttribute("group",displayId));
    }
  }
  if (!SHOW_BALLOONS) {
    element.setAttribute(SHOW_BALLOONS_ATTRIBUTE,"false");
  }
  return element;
}
