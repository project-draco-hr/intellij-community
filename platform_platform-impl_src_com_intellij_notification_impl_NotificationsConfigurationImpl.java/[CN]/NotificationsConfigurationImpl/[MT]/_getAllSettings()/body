{
  Collection<NotificationSettings> settings=ContainerUtil.newHashSet(myIdToSettingsMap.values());
  for (  NotificationGroup group : NotificationGroup.getAllRegisteredGroups()) {
    settings.add(getSettings(group.getDisplayId()));
  }
  NotificationSettings[] result=settings.toArray(new NotificationSettings[settings.size()]);
  Arrays.sort(result,new Comparator<NotificationSettings>(){
    @Override public int compare(    NotificationSettings o1,    NotificationSettings o2){
      return o1.getGroupId().compareToIgnoreCase(o2.getGroupId());
    }
  }
);
  return result;
}
