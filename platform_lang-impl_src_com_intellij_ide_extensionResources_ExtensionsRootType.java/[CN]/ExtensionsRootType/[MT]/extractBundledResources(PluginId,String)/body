{
  List<URL> bundledResources=getBundledResourceUrls(pluginId,path);
  if (bundledResources.isEmpty())   return;
  VirtualFile resourcesDirectory=findExtensionsDirectoryImpl(pluginId,path,true);
  if (resourcesDirectory == null)   return;
  Application application=ApplicationManager.getApplication();
  for (  URL bundledResourceDirUrl : bundledResources) {
    VirtualFile bundledResourcesDir=VfsUtil.findFileByURL(bundledResourceDirUrl);
    if (bundledResourcesDir == null || !bundledResourcesDir.isDirectory())     continue;
    AccessToken token=application.acquireWriteActionLock(ExtensionsRootType.class);
    try {
      FileDocumentManager.getInstance().saveAllDocuments();
      extractResources(bundledResourcesDir,resourcesDirectory);
    }
  finally {
      token.finish();
    }
  }
}
