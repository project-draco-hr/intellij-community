{
  Enumeration<URL> bundledResources=getBundledResourceUrls(pluginId,path);
  if (!bundledResources.hasMoreElements())   return;
  VirtualFile resourcesDirectory=findExtensionsDirectoryImpl(pluginId,path,true);
  if (resourcesDirectory == null)   return;
  Application application=ApplicationManager.getApplication();
  while (bundledResources.hasMoreElements()) {
    URL bundledResourceDirUrl=bundledResources.nextElement();
    VirtualFile bundledResourcesDir=VfsUtil.findFileByURL(bundledResourceDirUrl);
    if (!bundledResourcesDir.isDirectory())     continue;
    AccessToken token=application.acquireWriteActionLock(ExtensionsRootType.class);
    try {
      FileDocumentManager.getInstance().saveAllDocuments();
      extractResources(bundledResourcesDir,resourcesDirectory);
    }
  finally {
      token.finish();
    }
  }
}
