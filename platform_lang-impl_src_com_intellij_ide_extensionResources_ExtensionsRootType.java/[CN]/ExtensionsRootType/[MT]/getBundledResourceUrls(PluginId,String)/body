{
  String resourcesPath=EXTENSIONS_PATH + "/" + path;
  IdeaPluginDescriptor plugin=PluginManager.getPlugin(pluginId);
  ClassLoader pluginClassLoader=plugin != null ? plugin.getPluginClassLoader() : null;
  Set<URL> urls=plugin == null ? null : ContainerUtil.newLinkedHashSet(ContainerUtil.toList(pluginClassLoader.getResources(resourcesPath)));
  if (urls == null)   return ContainerUtil.emptyList();
  PluginId corePluginId=PluginId.findId(PluginManagerCore.CORE_PLUGIN_ID);
  IdeaPluginDescriptor corePlugin=ObjectUtils.notNull(PluginManager.getPlugin(corePluginId));
  ClassLoader coreClassLoader=corePlugin.getPluginClassLoader();
  if (coreClassLoader != pluginClassLoader && !plugin.getUseIdeaClassLoader() && !pluginId.equals(corePluginId)) {
    urls.removeAll(ContainerUtil.toList(coreClassLoader.getResources(resourcesPath)));
  }
  return ContainerUtil.newArrayList(urls);
}
