{
  String fullPath=getPath(pluginId,path);
  File dir=new File(FileUtil.toSystemDependentName(fullPath));
  if (createIfMissing && !dir.exists() && !dir.mkdirs()) {
    throw new IOException("Failed to create directory: " + dir.getPath());
  }
  if (!dir.exists())   return null;
  if (!dir.isDirectory())   throw new IOException("Not a directory: " + dir.getPath());
  return dir;
}
