{
  Collection<VcsRef> allRefs=myDataHolder.getDataPack().getRefsModel().getBranches();
  List<VcsRef> refsToShow=new ArrayList<VcsRef>();
  for (  Map.Entry<VirtualFile,Collection<VcsRef>> entry : groupByRoot(allRefs).entrySet()) {
    VirtualFile root=entry.getKey();
    Collection<VcsRef> refs=entry.getValue();
    VcsLogProvider provider=myDataHolder.getLogProvider(root);
    VcsLogRefManager refManager=provider.getReferenceManager();
    List<RefGroup> groups=refManager.group(refs);
    for (    RefGroup group : groups) {
      if (group.getRefs().size() == 1) {
        refsToShow.add(group.getRefs().iterator().next());
      }
    }
  }
  return refsToShow;
}
