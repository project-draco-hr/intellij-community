{
  super(new FlowLayout(FlowLayout.LEADING,BIG_ROOTS_GAP - 2 * SMALL_ROOTS_GAP,0));
  setBorder(new EmptyBorder(TOP,SMALL_ROOTS_GAP,BOTTOM,SMALL_ROOTS_GAP));
  myDataHolder=dataHolder;
  myUI=UI;
  myRefGroups=getRefsToDisplayOnPanel(initialRefsModel);
  myReferencePainter=new VcsRefPainter(myUI.getColorManager(),true);
  recreateComponents();
  myUI.addLogListener(new VcsLogListener(){
    @Override public void onChange(    @NotNull VcsLogDataPack dataPack,    boolean refresh){
      if (refresh) {
        rebuild(dataPack.getRefs());
      }
    }
  }
);
}
