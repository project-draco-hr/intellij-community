{
  if (myListener instanceof UndoRefactoringElementListener) {
    boolean hasGeneratedName=myConfiguration.isGeneratedName();
    ((UndoRefactoringElementListener)myListener).undoElementMovedOrRenamed(newElement,oldQualifiedName);
    if (hasGeneratedName) {
      myConfiguration.setName(myConfiguration.suggestedName());
    }
  }
}
