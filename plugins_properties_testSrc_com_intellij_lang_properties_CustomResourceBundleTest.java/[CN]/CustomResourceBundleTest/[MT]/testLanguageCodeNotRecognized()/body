{
  final PsiFile file=myFixture.addFileToProject("p.properties","");
  final PsiFile file2=myFixture.addFileToProject("p_asd.properties","");
  final PropertiesFile propertiesFile=PropertiesImplUtil.getPropertiesFile(file);
  final PropertiesFile propertiesFile2=PropertiesImplUtil.getPropertiesFile(file2);
  assertNotNull(propertiesFile);
  assertNotNull(propertiesFile2);
  final ResourceBundle bundle=propertiesFile.getResourceBundle();
  final ResourceBundle bundle2=propertiesFile2.getResourceBundle();
  assertSize(1,bundle.getPropertiesFiles());
  assertSize(1,bundle2.getPropertiesFiles());
  assertEquals("p",bundle.getBaseName());
  assertEquals("p_asd",bundle2.getBaseName());
  final ResourceBundleManager manager=ResourceBundleManager.getInstance(getProject());
  final ArrayList<PropertiesFile> rawBundle=ContainerUtil.newArrayList(propertiesFile,propertiesFile2);
  final String suggestedBaseName=PropertiesUtil.getDefaultBaseName(rawBundle);
  assertEquals("p",suggestedBaseName);
  manager.combineToResourceBundle(rawBundle,suggestedBaseName);
  assertEquals("asd",propertiesFile2.getLocale().getLanguage());
}
