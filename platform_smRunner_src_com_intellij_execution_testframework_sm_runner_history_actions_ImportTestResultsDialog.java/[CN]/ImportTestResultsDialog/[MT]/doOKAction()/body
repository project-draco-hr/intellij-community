{
  PropertiesComponent.getInstance().setValue(ImportTestsAction.TEST_HISTORY_SIZE,myHistorySizeField.getText().trim());
  final File testHistoryRoot=ImportTestsAction.getTestHistoryRoot(myProject);
  final String[] historyFiles=testHistoryRoot.list();
  final DefaultListModel model=(DefaultListModel)myList.getModel();
  final ArrayList<File> toDelete=new ArrayList<File>();
  for (  String fileName : historyFiles) {
    if (!model.contains(fileName)) {
      toDelete.add(new File(testHistoryRoot,fileName));
    }
  }
  for (  File file : toDelete) {
    FileUtil.delete(file);
  }
  super.doOKAction();
}
