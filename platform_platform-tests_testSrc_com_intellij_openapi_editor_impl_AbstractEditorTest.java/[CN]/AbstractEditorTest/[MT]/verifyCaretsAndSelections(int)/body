{
  int caretCount=coordinates.length / 6;
  List<Caret> carets=myEditor.getCaretModel().getAllCarets();
  assertEquals("Unexpected caret count",caretCount,carets.size());
  for (int i=0; i < caretCount; i++) {
    Caret caret=carets.get(i);
    assertEquals("Unexpected position for caret " + (i + 1),new VisualPosition(coordinates[i * 6],coordinates[i * 6 + 1]),caret.getVisualPosition());
    assertEquals("Unexpected selection start for caret " + (i + 1),new VisualPosition(coordinates[i * 6 + 2],coordinates[i * 6 + 3]),caret.getSelectionStartPosition());
    assertEquals("Unexpected selection end for caret " + (i + 1),new VisualPosition(coordinates[i * 6 + 4],coordinates[i * 6 + 5]),caret.getSelectionEndPosition());
  }
}
