{
  StackFrameDescriptorImpl descriptor=getSelectedStackFrameDescriptor(e);
  if (descriptor != null) {
    if (descriptor.getFrameProxy().isBottom()) {
      return null;
    }
    return descriptor.getFrameProxy();
  }
 else {
    JavaStackFrame stackFrame=getSelectedStackFrame(e);
    if (stackFrame != null) {
      return stackFrame.getStackFrameProxy();
    }
  }
  return null;
}
