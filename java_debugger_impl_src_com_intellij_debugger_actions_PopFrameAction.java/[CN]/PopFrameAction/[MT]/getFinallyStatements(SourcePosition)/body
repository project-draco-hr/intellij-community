{
  List<PsiStatement> res=new ArrayList<PsiStatement>();
  PsiElement element=position.getFile().findElementAt(position.getOffset());
  PsiTryStatement tryStatement=PsiTreeUtil.getParentOfType(element,PsiTryStatement.class);
  while (tryStatement != null) {
    PsiCodeBlock finallyBlock=tryStatement.getFinallyBlock();
    if (finallyBlock != null) {
      ContainerUtil.addAll(res,finallyBlock.getStatements());
    }
    tryStatement=PsiTreeUtil.getParentOfType(tryStatement,PsiTryStatement.class);
  }
  return res;
}
