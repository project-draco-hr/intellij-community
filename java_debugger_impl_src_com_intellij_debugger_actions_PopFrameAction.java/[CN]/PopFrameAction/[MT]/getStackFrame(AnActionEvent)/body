{
  StackFrameDescriptorImpl descriptor=getSelectedStackFrameDescriptor(e);
  if (descriptor != null) {
    if (descriptor.getFrameProxy().isBottom()) {
      return null;
    }
    return new JavaStackFrame(descriptor,false);
  }
  JavaStackFrame frame=getSelectedStackFrame(e);
  if (frame != null) {
    StackFrameProxyImpl proxy=frame.getStackFrameProxy();
    if (proxy == null || proxy.isBottom())     return null;
    return frame;
  }
  return null;
}
