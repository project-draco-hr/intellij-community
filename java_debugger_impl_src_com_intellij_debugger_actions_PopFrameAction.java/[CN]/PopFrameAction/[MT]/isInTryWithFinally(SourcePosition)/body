{
  PsiElement element=position.getFile().findElementAt(position.getOffset());
  PsiTryStatement tryStatement=PsiTreeUtil.getParentOfType(element,PsiTryStatement.class);
  while (tryStatement != null) {
    PsiCodeBlock finallyBlock=tryStatement.getFinallyBlock();
    if (finallyBlock != null && finallyBlock.getStatements().length > 0) {
      return true;
    }
    tryStatement=PsiTreeUtil.getParentOfType(tryStatement,PsiTryStatement.class);
  }
  return false;
}
