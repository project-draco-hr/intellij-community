{
  assertUrl(myTarget2);
  if (myTarget1.isFile()) {
    assertDirectory(myTarget1);
    WorkingCopyFormat format=myVcs.getWorkingCopyFormat(myTarget1.getFile());
    myChanges.addAll(WorkingCopyFormat.ONE_DOT_SIX.equals(format) ? run16Diff() : run17Diff());
  }
 else {
    myChanges.addAll(runUrlDiff());
  }
}
