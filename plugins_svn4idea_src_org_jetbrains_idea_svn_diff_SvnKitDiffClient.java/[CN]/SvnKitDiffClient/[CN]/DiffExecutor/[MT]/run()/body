{
  assertUrl(myTarget1);
  if (myTarget2.isFile()) {
    assertDirectory(myTarget2);
    WorkingCopyFormat format=myVcs.getWorkingCopyFormat(myTarget2.getFile());
    myChanges.addAll(WorkingCopyFormat.ONE_DOT_SIX.equals(format) ? run16Diff() : run17Diff());
  }
 else {
    myChanges.addAll(runUrlDiff());
  }
}
