{
  final PsiClass languageClass=DomJavaUtil.findClass(Language.class.getName(),context.getInvocationElement());
  if (languageClass == null) {
    return Collections.emptyList();
  }
  GlobalSearchScope scope=GlobalSearchScopesCore.projectProductionScope(context.getProject());
  final Collection<PsiClass> languages=ClassInheritorsSearch.search(languageClass,scope,true).findAll();
  return ContainerUtil.mapNotNull(languages,new NullableFunction<PsiClass,LanguageDefinition>(){
    @Nullable @Override public LanguageDefinition fun(    final PsiClass language){
      if (language.hasModifierProperty(PsiModifier.ABSTRACT)) {
        return null;
      }
      if (ContainerUtil.exists(libraryLanguages,new Condition<LanguageDefinition>(){
        @Override public boolean value(        LanguageDefinition definition){
          return definition.clazz.equals(language);
        }
      }
)) {
        return null;
      }
      String id=computeConstantSuperCtorCallParameter(language,0);
      if (id == null) {
        id=computeConstantSuperCtorCallParameter(language,1);
      }
      if (id == null) {
        id=computeConstantReturnValue(language,"getID");
      }
      if (id == null) {
        return null;
      }
      return new LanguageDefinition(id,language,null,computeConstantReturnValue(language,"getDisplayName"));
    }
  }
);
}
