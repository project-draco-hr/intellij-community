{
  return ContainerUtil.mapNotNull(Language.getRegisteredLanguages(),new NullableFunction<Language,LanguageDefinition>(){
    @Override public LanguageDefinition fun(    Language language){
      if (language.getID().isEmpty() || language instanceof DependentLanguage) {
        return null;
      }
      final PsiClass psiClass=DomJavaUtil.findClass(language.getClass().getName(),context.getInvocationElement());
      if (psiClass == null) {
        return null;
      }
      final LanguageFileType type=language.getAssociatedFileType();
      final Icon icon=type != null ? type.getIcon() : null;
      return new LanguageDefinition(language.getID(),psiClass,icon,language.getDisplayName());
    }
  }
);
}
