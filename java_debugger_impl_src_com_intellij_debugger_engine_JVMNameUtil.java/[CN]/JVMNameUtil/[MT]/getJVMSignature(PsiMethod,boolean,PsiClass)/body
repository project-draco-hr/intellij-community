{
  JVMNameBuffer signature=new JVMNameBuffer();
  signature.append("(");
  if (constructor) {
    if (declaringClass != null) {
      final PsiClass outerClass=declaringClass.getContainingClass();
      if (outerClass != null) {
        if (!declaringClass.hasModifierProperty(PsiModifier.STATIC)) {
          appendJvmClassQualifiedName(signature,getJVMQualifiedName(outerClass));
        }
      }
    }
  }
  if (method != null) {
    for (    PsiParameter psiParameter : method.getParameterList().getParameters()) {
      appendJVMSignature(signature,psiParameter.getType());
    }
  }
  signature.append(")");
  if (!constructor && method != null) {
    appendJVMSignature(signature,method.getReturnType());
  }
 else {
    signature.append(new JVMRawText("V"));
  }
  return signature.toName();
}
