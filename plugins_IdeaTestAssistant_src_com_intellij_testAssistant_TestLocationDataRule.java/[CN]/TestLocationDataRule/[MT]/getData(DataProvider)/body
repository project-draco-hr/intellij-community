{
  final Project project=CommonDataKeys.PROJECT.getData(dataProvider);
  final VirtualFile file=CommonDataKeys.VIRTUAL_FILE.getData(dataProvider);
  if (project != null && file != null) {
    final List<Location> locations=collectRelativeLocations(project,file);
    return locations.size() == 1 ? locations.get(0) : null;
  }
  return null;
}
