{
  Class<? extends T> implementation=myClientImplementations.get(type);
  if (implementation == null) {
    throw new IllegalArgumentException("No implementation registered for " + type);
  }
  return implementation;
}
