{
  if (el.getLastChild() instanceof PsiComment) {
    PsiElement firstElementAfterStatementEnd=el.getLastChild();
    for (PsiElement curElement=firstElementAfterStatementEnd.getPrevSibling(); curElement != null; curElement=curElement.getPrevSibling()) {
      if (!(curElement instanceof PsiWhiteSpace) && !(curElement instanceof PsiComment))       break;
      firstElementAfterStatementEnd=curElement;
    }
    replacement.addRangeAfter(firstElementAfterStatementEnd,el.getLastChild(),replacement.getLastChild());
  }
  final PsiElement firstChild=el.getFirstChild();
  if (firstChild instanceof PsiComment && !(firstChild instanceof PsiDocComment)) {
    PsiElement lastElementBeforeStatementStart=firstChild;
    for (PsiElement curElement=lastElementBeforeStatementStart.getNextSibling(); curElement != null; curElement=curElement.getNextSibling()) {
      if (!(curElement instanceof PsiWhiteSpace) && !(curElement instanceof PsiComment))       break;
      lastElementBeforeStatementStart=curElement;
    }
    replacement.addRangeBefore(el.getFirstChild(),lastElementBeforeStatementStart,replacement.getFirstChild());
  }
}
