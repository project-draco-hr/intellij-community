{
  final boolean orientation="vertical".equals(splitterElement.getAttributeValue("split-orientation"));
  final float proportion=Float.valueOf(splitterElement.getAttributeValue("split-proportion")).floatValue();
  final Element first=splitterElement.getChild("split-first");
  final Element second=splitterElement.getChild("split-second");
  Splitter splitter;
  if (panel == null) {
    panel=new JPanel(new BorderLayout());
    panel.setOpaque(false);
    splitter=new Splitter(orientation,proportion,0.1f,0.9f);
    panel.add(splitter,BorderLayout.CENTER);
    splitter.setFirstComponent(readExternalPanel(first,null));
    splitter.setSecondComponent(readExternalPanel(second,null));
  }
 else   if (panel.getComponent(0) instanceof Splitter) {
    splitter=(Splitter)panel.getComponent(0);
    readExternalPanel(first,(JPanel)splitter.getFirstComponent());
    readExternalPanel(second,(JPanel)splitter.getSecondComponent());
  }
 else {
    readExternalPanel(first,panel);
    readExternalPanel(second,panel);
  }
  return panel;
}
