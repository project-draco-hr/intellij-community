{
  if (element instanceof PyFile) {
    final VirtualFile file=((PyFile)element).getVirtualFile();
    if (file != null) {
      if (myName.equals(file.getNameWithoutExtension())) {
        myResult=element;
        return false;
      }
 else       if (PyNames.INIT_DOT_PY.equals(file.getName())) {
        VirtualFile dir=file.getParent();
        if ((dir != null) && myName.equals(dir.getName())) {
          myResult=element;
          return false;
        }
      }
    }
  }
 else   if (element instanceof PsiNamedElement) {
    if (myName.equals(((PsiNamedElement)element).getName())) {
      myResult=element;
      return false;
    }
  }
 else   if (element instanceof PyReferenceExpression) {
    PyReferenceExpression expr=(PyReferenceExpression)element;
    String referencedName=expr.getReferencedName();
    if (referencedName != null && referencedName.equals(myName)) {
      myResult=element;
      return false;
    }
  }
 else   if (element instanceof NameDefiner) {
    final NameDefiner definer=(NameDefiner)element;
    PsiElement by_name=definer.getElementNamed(myName);
    if (by_name != null) {
      myResult=by_name;
      if (!PsiTreeUtil.isAncestor(element,by_name,true)) {
        addNameDefiner(definer);
      }
      return false;
    }
  }
  return true;
}
