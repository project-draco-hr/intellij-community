{
  if (aClass instanceof PsiAnonymousClass) {
    final PsiClass returnClass=(PsiClass)((PsiAnonymousClass)aClass).getBaseClassReference().resolve();
    if (returnClass != null && CommonClassNames.JAVA_LANG_OBJECT.equals(returnClass.getQualifiedName()))     return null;
    return returnClass;
  }
  final PsiReferenceList extendsList=aClass.getExtendsList();
  if (extendsList != null) {
    final PsiJavaCodeReferenceElement[] referenceElements=extendsList.getReferenceElements();
    if (referenceElements.length == 1) {
      PsiClass returnClass=(PsiClass)referenceElements[0].resolve();
      if (returnClass != null && !CommonClassNames.JAVA_LANG_OBJECT.equals(returnClass.getQualifiedName()) && !returnClass.isInterface()) {
        return returnClass;
      }
    }
  }
  final PsiReferenceList implementsList=aClass.getImplementsList();
  if (implementsList != null) {
    final PsiJavaCodeReferenceElement[] referenceElements=implementsList.getReferenceElements();
    if (referenceElements.length == 1) {
      PsiClass returnClass=(PsiClass)referenceElements[0].resolve();
      if (returnClass != null && returnClass.isInterface()) {
        return returnClass;
      }
    }
  }
  return null;
}
