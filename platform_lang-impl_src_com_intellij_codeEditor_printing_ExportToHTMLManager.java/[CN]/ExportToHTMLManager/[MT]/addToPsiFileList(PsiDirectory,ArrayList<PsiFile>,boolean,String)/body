{
  if (!psiDirectory.isValid()) {
    return;
  }
  PsiFile[] files=psiDirectory.getFiles();
  for (  PsiFile file : files) {
    if (file.isValid()) {
      filesList.add(file);
    }
  }
  generateIndexHtml(psiDirectory,isRecursive,outputDirectoryName);
  if (isRecursive) {
    PsiDirectory[] directories=psiDirectory.getSubdirectories();
    for (    PsiDirectory directory : directories) {
      addToPsiFileList(directory,filesList,isRecursive,outputDirectoryName);
    }
  }
}
