{
  final GrExpression lvalue=assignment.getLValue();
  if (lvalue instanceof GrReferenceExpression) {
    final GrExpression metaClassRef=((GrReferenceExpression)lvalue).getQualifier();
    if (metaClassRef instanceof GrReferenceExpression && (GrImportUtil.acceptName((GrReferenceElement)metaClassRef,"metaClass") || GrImportUtil.acceptName((GrReferenceElement)metaClassRef,"getMetaClass"))) {
      final PsiElement resolved=((GrReferenceElement)metaClassRef).resolve();
      if (resolved instanceof PsiMethod && isMetaClassMethod((PsiMethod)resolved)) {
        return getPsiClassFromReference(((GrReferenceExpression)metaClassRef).getQualifier());
      }
    }
  }
  return null;
}
