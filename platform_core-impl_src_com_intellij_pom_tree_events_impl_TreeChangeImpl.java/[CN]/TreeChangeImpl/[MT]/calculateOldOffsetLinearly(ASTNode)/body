{
  int oldOffsetInParent=0;
  ASTNode current=myParent.getFirstChildNode();
  while (current != child) {
    if (!myChanges.containsKey(current)) {
      oldOffsetInParent+=current.getTextLength();
    }
    current=current.getTreeNext();
  }
  for (  Pair<ASTNode,Integer> offset : mySortedChanges) {
    if (offset.getSecond() > oldOffsetInParent)     break;
    final ChangeInfo change=myChanges.get(offset.getFirst());
    oldOffsetInParent+=change.getOldLength();
  }
  return oldOffsetInParent;
}
