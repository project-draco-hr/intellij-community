{
  if (SystemInfo.isWindows) {
    return new ProcessListWin32();
  }
  if (SystemInfo.isLinux) {
    return new ProcessListLinux();
  }
  if (SystemInfo.isMac) {
    return new ProcessListMac();
  }
  LOG.error("Unexpected platform. Unable to list processes.");
  return new IProcessList(){
    @Override public ProcessInfo[] getProcessList(){
      return new ProcessInfo[0];
    }
  }
;
}
