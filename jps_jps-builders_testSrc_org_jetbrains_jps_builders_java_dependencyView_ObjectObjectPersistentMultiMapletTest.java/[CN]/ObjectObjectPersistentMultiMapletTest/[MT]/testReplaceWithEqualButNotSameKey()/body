{
  File file=FileUtil.createTempFile(getTestDirectoryName(),null);
  ObjectObjectPersistentMultiMaplet<String,IntValueStreamable> maplet=new ObjectObjectPersistentMultiMaplet<String,IntValueStreamable>(file,new CaseInsensitiveEnumeratorStringDescriptor(),new IntValueExternalizer(),COLLECTION_FACTORY);
  try {
    maplet.put("a",new IntValueStreamable(1));
    assertEquals(1,assertOneElement(maplet.get("a")).value);
    maplet.replace("A",Collections.singletonList(new IntValueStreamable(2)));
    assertEquals(2,assertOneElement(maplet.get("a")).value);
  }
  finally {
    maplet.close();
    IOUtil.deleteAllFilesStartingWith(file);
  }
}
