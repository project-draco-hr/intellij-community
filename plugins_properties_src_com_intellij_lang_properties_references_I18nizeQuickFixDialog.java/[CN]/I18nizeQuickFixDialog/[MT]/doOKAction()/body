{
  if (!createPropertiesFileIfNotExists())   return;
  Collection<PropertiesFile> propertiesFiles=getAllPropertiesFiles();
  for (  PropertiesFile propertiesFile : propertiesFiles) {
    IProperty existingProperty=propertiesFile.findPropertyByKey(getKey());
    final String propValue=myValue.getText();
    if (existingProperty != null && !Comparing.strEqual(existingProperty.getValue(),propValue)) {
      final String messageText=CodeInsightBundle.message("i18nize.dialog.error.property.already.defined.message",getKey(),propertiesFile.getName());
      final int code=Messages.showOkCancelDialog(myProject,messageText,CodeInsightBundle.message("i18nize.dialog.error.property.already.defined.title"),null);
      if (code == Messages.CANCEL) {
        return;
      }
    }
  }
  super.doOKAction();
}
