{
  if (StringUtil.isEmpty(fileListString)) {
    return Collections.emptyMap();
  }
 else {
    Map<String,String> copies=new HashMap<String,String>();
    String[] filesList=fileListString.split("\\s+\\(");
    String target=filesList[0];
    for (int i=1; i < filesList.length; ++i) {
      String source=filesList[i];
      int afterRightBraceIndex=findRightBracePosition(source);
      if (afterRightBraceIndex == -1) {
        break;
      }
      copies.put(source.substring(0,afterRightBraceIndex - 1),target);
      if (afterRightBraceIndex >= source.length()) {
        break;
      }
      target=source.substring(afterRightBraceIndex);
    }
    return copies;
  }
}
