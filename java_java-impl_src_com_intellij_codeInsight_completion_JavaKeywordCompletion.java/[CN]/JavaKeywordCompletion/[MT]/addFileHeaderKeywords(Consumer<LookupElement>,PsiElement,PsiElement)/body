{
  PsiFile file=position.getContainingFile();
  if (!(file instanceof PsiExpressionCodeFragment) && !(file instanceof PsiJavaCodeReferenceCodeFragment) && !(file instanceof PsiTypeCodeFragment)) {
    if (prevLeaf == null) {
      result.consume(new OverrideableSpace(createKeyword(position,PsiKeyword.PACKAGE),TailType.HUMBLE_SPACE_BEFORE_WORD));
      result.consume(new OverrideableSpace(createKeyword(position,PsiKeyword.IMPORT),TailType.HUMBLE_SPACE_BEFORE_WORD));
    }
 else     if (END_OF_BLOCK.getValue().isAcceptable(position,position) && PsiTreeUtil.getParentOfType(position,PsiMember.class) == null) {
      result.consume(new OverrideableSpace(createKeyword(position,PsiKeyword.IMPORT),TailType.HUMBLE_SPACE_BEFORE_WORD));
    }
  }
  if (PsiUtil.isLanguageLevel5OrHigher(position) && prevLeaf != null && prevLeaf.textMatches(PsiKeyword.IMPORT)) {
    result.consume(new OverrideableSpace(createKeyword(position,PsiKeyword.STATIC),TailType.HUMBLE_SPACE_BEFORE_WORD));
  }
}
