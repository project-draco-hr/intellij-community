{
  String githubRemoteUrl=GithubUtil.findGithubRemoteUrl(repository);
  if (githubRemoteUrl == null) {
    LOG.info(String.format("Repository is not under GitHub. Root: %s, Remotes: %s",repository.getRoot(),GitUtil.getPrintableRemotes(repository.getRemotes())));
    return;
  }
  String relativePath=VfsUtilCore.getRelativePath(virtualFile,repository.getRoot());
  if (relativePath == null) {
    GithubNotifications.showError(project,CANNOT_OPEN_IN_BROWSER,"File is not under repository root","Root: " + repository.getRoot().getPresentableUrl() + ", file: "+ virtualFile.getPresentableUrl());
    return;
  }
  String hash=getCurrentFileRevisionHash(project,virtualFile);
  if (hash == null) {
    GithubNotifications.showError(project,CANNOT_OPEN_IN_BROWSER,"Can't get last revision.");
    return;
  }
  String githubUrl=makeUrlToOpen(editor,relativePath,hash,githubRemoteUrl);
  if (githubUrl != null)   BrowserUtil.browse(githubUrl);
}
