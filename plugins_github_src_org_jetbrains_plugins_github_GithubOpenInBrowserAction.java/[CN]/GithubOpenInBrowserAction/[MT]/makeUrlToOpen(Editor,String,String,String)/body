{
  final StringBuilder builder=new StringBuilder();
  final String githubRepoUrl=GithubUrlUtil.makeGithubRepoUrlFromRemoteUrl(githubRemoteUrl);
  if (githubRepoUrl == null) {
    return null;
  }
  if (StringUtil.isEmptyOrSpaces(relativePath)) {
    builder.append(githubRepoUrl).append("/tree/").append(branch);
  }
 else {
    builder.append(githubRepoUrl).append("/blob/").append(branch).append('/').append(relativePath);
  }
  if (editor != null && editor.getDocument().getLineCount() >= 1) {
    SelectionModel selectionModel=editor.getSelectionModel();
    final int begin=editor.getDocument().getLineNumber(selectionModel.getSelectionStart()) + 1;
    final int selectionEnd=selectionModel.getSelectionEnd();
    int end=editor.getDocument().getLineNumber(selectionEnd) + 1;
    if (editor.getDocument().getLineStartOffset(end - 1) == selectionEnd) {
      end-=1;
    }
    builder.append("#L").append(begin).append("-L").append(end);
  }
  return builder.toString();
}
