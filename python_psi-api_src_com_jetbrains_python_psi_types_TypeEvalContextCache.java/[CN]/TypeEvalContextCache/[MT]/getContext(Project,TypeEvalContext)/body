{
  final PsiModificationTracker tracker=SERVICE.getInstance(project);
synchronized (myLock) {
    final long currentCount=tracker.getOutOfCodeBlockModificationCount();
    if (currentCount == myModificationCount) {
      final TypeEvalContext valueFromCache=myCache.get(standard.getConstraints());
      if (valueFromCache != null) {
        return valueFromCache;
      }
    }
 else {
      myCache.clear();
      myModificationCount=currentCount;
    }
    myCache.put(standard.getConstraints(),standard);
    return standard;
  }
}
