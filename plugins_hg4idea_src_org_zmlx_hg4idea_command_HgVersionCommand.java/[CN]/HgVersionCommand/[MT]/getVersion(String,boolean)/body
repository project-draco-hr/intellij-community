{
  String hgExecutable=executable == null ? null : executable.trim();
  ShellCommand shellCommand=new ShellCommand(isRunViaBash);
  List<String> cmdArgs=new ArrayList<String>();
  cmdArgs.add(hgExecutable);
  cmdArgs.add("version");
  cmdArgs.add("-q");
  try {
    HgCommandResult versionResult=shellCommand.execute(cmdArgs,null,Charset.defaultCharset());
    return parseVersion(versionResult);
  }
 catch (  InterruptedException e) {
    LOGGER.error(e);
  }
catch (  ShellCommandException e) {
    LOGGER.error(e);
  }
  return null;
}
