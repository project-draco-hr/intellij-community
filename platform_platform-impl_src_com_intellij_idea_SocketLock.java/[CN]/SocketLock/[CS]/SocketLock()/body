{
  serverSocket=acquireSocket();
  if (serverSocket == null) {
    acquiredPort=-1;
    if (!Main.isHeadless()) {
      String pathToLogFile=PathManager.getLogPath() + "/idea.log file".replace('/',File.separatorChar);
      JOptionPane.showMessageDialog(JOptionPane.getRootFrame(),CommonBundle.message("cannot.start.other.instance.is.running.error.message",ApplicationNamesInfo.getInstance().getProductName(),pathToLogFile),CommonBundle.message("title.warning"),JOptionPane.WARNING_MESSAGE);
    }
  }
 else {
    acquiredPort=serverSocket.getLocalPort();
    Thread thread=new Thread(new MyRunnable(),LOCK_THREAD_NAME);
    thread.setPriority(Thread.MIN_PRIORITY);
    thread.start();
  }
}
