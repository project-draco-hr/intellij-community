{
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: destroyProcess()");
  }
  BuiltInServer server=this.server;
  boolean doRemovePortMarker=server != null;
  try {
    if (server != null) {
      Disposer.dispose(server);
    }
  }
  finally {
    if (doRemovePortMarker) {
      try {
        executeAndClose(new Executor<Void>(){
          @Override public Void execute(          @NotNull List<Closeable> closeables) throws IOException {
            File config=new File(configPath);
            File system=new File(systemPath);
            lockPortMarker(config,closeables);
            lockPortMarker(system,closeables);
            FileUtil.delete(new File(config,"port"));
            FileUtil.delete(new File(system,"port"));
            return null;
          }
        }
);
      }
 catch (      Throwable e) {
        logError(e);
      }
    }
  }
}
