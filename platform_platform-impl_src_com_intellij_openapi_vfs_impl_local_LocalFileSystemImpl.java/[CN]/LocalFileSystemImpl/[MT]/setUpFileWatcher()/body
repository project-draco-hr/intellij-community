{
  Application app=ApplicationManager.getApplication();
  app.assertReadAccessAllowed();
  if (app.isDisposeInProgress() || !myWatcher.isOperational())   return;
synchronized (myLock) {
    List<String> recursiveRoots=new ArrayList<>();
    List<String> flatRoots=new ArrayList<>();
    for (    WatchRequestImpl request : normalizeRootsForRefresh()) {
      (request.isToWatchRecursively() ? recursiveRoots : flatRoots).add(request.myFSRootPath);
    }
    myWatcher.setWatchRoots(recursiveRoots,flatRoots);
  }
}
