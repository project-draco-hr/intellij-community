{
  List<String> defaultRoots=descriptor.getLibraryClassesRoots();
  LocateLibraryDialog dialog=new LocateLibraryDialog(module,defaultRoots,descriptor.getPresentableName());
  List<String> classesRoots=dialog.showAndGetResult();
  if (!classesRoots.isEmpty()) {
    String libraryName=classesRoots.size() > 1 ? descriptor.getPresentableName() : null;
    List<String> urls=OrderEntryFix.refreshAndConvertToUrls(classesRoots);
    ModuleRootModificationUtil.addModuleLibrary(module,libraryName,urls,Collections.<String>emptyList(),scope);
  }
  return true;
}
