{
  Font[] allFonts=GraphicsEnvironment.getLocalGraphicsEnvironment().getAllFonts();
  for (  Font font : allFonts) {
    String name=font.getName();
    int style;
    if (name.endsWith("-Italic")) {
      style=Font.ITALIC;
    }
 else     if (name.endsWith("-Bold")) {
      style=Font.BOLD;
    }
 else     if (name.endsWith("-BoldItalic")) {
      style=Font.BOLD | Font.ITALIC;
    }
 else {
      style=Font.PLAIN;
    }
    if (style != Font.PLAIN) {
      String baseName=name.substring(0,name.lastIndexOf('-'));
      Pair<String,Integer>[] entry=ourStyledFontMap.get(baseName);
      if (entry == null) {
        entry=new Pair[4];
        for (int i=1; i < 4; i++) {
          entry[i]=Pair.create(baseName,i);
        }
        ourStyledFontMap.put(baseName,entry);
      }
      entry[style]=Pair.create(name,Font.PLAIN);
    }
  }
}
