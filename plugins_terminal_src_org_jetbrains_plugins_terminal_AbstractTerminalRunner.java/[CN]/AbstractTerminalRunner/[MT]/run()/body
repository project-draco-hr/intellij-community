{
  ProgressManager.getInstance().run(new Task.Backgroundable(myProject,"Running the terminal",false){
    public void run(    @NotNull final ProgressIndicator indicator){
      indicator.setText("Running the terminal...");
      try {
        doRun();
      }
 catch (      final Exception e) {
        LOG.warn("Error running terminal",e);
        UIUtil.invokeLaterIfNeeded(new Runnable(){
          @Override public void run(){
            Messages.showErrorDialog(AbstractTerminalRunner.this.getProject(),e.getMessage(),getTitle());
          }
        }
);
      }
    }
  }
);
}
