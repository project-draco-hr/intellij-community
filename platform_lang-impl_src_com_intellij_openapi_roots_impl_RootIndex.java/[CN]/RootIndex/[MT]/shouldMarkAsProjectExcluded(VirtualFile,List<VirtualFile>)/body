{
  if (hierarchy == null)   return false;
  if (!myRoots.excludedFromProject.contains(root) && !myRoots.excludedFromModule.containsKey(root))   return false;
  return ContainerUtil.find(hierarchy,new Condition<VirtualFile>(){
    @Override public boolean value(    VirtualFile ancestor){
      return myRoots.contentRootOf.containsKey(ancestor);
    }
  }
) == null;
}
