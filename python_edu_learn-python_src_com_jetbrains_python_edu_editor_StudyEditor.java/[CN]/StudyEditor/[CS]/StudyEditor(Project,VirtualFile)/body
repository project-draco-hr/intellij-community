{
  myProject=project;
  myDefaultEditor=TextEditorProvider.getInstance().createEditor(myProject,file);
  myComponent=myDefaultEditor.getComponent();
  JPanel studyPanel=new JPanel();
  studyPanel.setLayout(new BoxLayout(studyPanel,BoxLayout.Y_AXIS));
  TaskFile taskFile=StudyTaskManager.getInstance(myProject).getTaskFile(file);
  if (taskFile != null) {
    Task currentTask=taskFile.getTask();
    String taskText=currentTask.getResourceText(myProject,currentTask.getText(),false);
    final JLabel taskTextLabel=new JLabel(taskText);
    taskTextLabel.setBorder(new EmptyBorder(15,20,0,100));
    int fontSize=EditorColorsManager.getInstance().getGlobalScheme().getEditorFontSize();
    String fontName=EditorColorsManager.getInstance().getGlobalScheme().getEditorFontName();
    taskTextLabel.setFont(new Font(fontName,Font.PLAIN,fontSize));
    HideableTitledPanel taskTextPanel=new HideableTitledPanel(TASK_TEXT_HEADER,taskTextLabel,true);
    taskTextPanel.setBorder(new EmptyBorder(10,10,10,10));
    studyPanel.add(taskTextPanel);
    JPanel studyButtonPanel=new JPanel(new GridLayout(1,2));
    JPanel taskActionsPanel=new JPanel(new FlowLayout(FlowLayout.LEFT));
    studyButtonPanel.add(taskActionsPanel);
    studyButtonPanel.add(new JPanel());
    initializeButtons(taskActionsPanel,taskFile);
    studyPanel.add(studyButtonPanel);
    myComponent.add(studyPanel,BorderLayout.NORTH);
  }
}
