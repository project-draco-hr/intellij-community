{
  if (file == null)   return;
  PsiFileSystemItem psiFile=file.isDirectory() ? PsiManager.getInstance(myProject).findDirectory(file) : PsiManager.getInstance(myProject).findFile(file);
  if (psiFile == null)   return;
  if (!(element instanceof PsiElement))   return;
  NamedScope[] allScopes=getShownScopes();
  for (int i=0; i < allScopes.length; i++) {
    final NamedScope scope=allScopes[i];
    String name=scope.getName();
    if (name.equals(getSubId())) {
      allScopes[i]=allScopes[0];
      allScopes[0]=scope;
      break;
    }
  }
  for (  NamedScope scope : allScopes) {
    String name=scope.getName();
    PackageSet packageSet=scope.getValue();
    if (packageSet == null)     continue;
    if (changeView(packageSet,((PsiElement)element),psiFile,name,myNamedScopeManager,requestFocus))     break;
    if (changeView(packageSet,((PsiElement)element),psiFile,name,myDependencyValidationManager,requestFocus))     break;
  }
}
