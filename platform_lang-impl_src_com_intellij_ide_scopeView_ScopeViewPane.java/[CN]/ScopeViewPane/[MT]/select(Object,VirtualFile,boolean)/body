{
  if (file == null)   return;
  PsiFileSystemItem psiFile=file.isDirectory() ? PsiManager.getInstance(myProject).findDirectory(file) : PsiManager.getInstance(myProject).findFile(file);
  if (psiFile == null)   return;
  if (!(element instanceof PsiElement))   return;
  List<NamedScope> allScopes=ContainerUtil.newArrayList(getShownScopes());
  for (  NamedScope scope : allScopes) {
    String name=scope.getName();
    if (name.equals(getSubId())) {
      allScopes.remove(scope);
      allScopes.add(0,scope);
      break;
    }
  }
  for (  NamedScope scope : allScopes) {
    String name=scope.getName();
    PackageSet packageSet=scope.getValue();
    if (packageSet == null)     continue;
    if (changeView(packageSet,((PsiElement)element),psiFile,name,myNamedScopeManager,requestFocus))     break;
    if (changeView(packageSet,((PsiElement)element),psiFile,name,myDependencyValidationManager,requestFocus))     break;
  }
}
