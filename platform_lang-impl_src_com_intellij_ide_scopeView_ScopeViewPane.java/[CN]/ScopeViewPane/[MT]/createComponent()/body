{
  if (myViewPanel == null) {
    myViewPanel=new ScopeTreeViewPanel(myProject);
    Disposer.register(this,myViewPanel);
    myViewPanel.initListeners();
    myTree=myViewPanel.getTree();
    CustomizationUtil.installPopupHandler(myTree,IdeActions.GROUP_SCOPE_VIEW_POPUP,ActionPlaces.SCOPE_VIEW_POPUP);
    enableDnD();
  }
  myViewPanel.selectScope(NamedScopesHolder.getScope(myProject,getSubId()));
  return myViewPanel.getPanel();
}
