{
  final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
  if (indicator != null) {
    indicator.checkCanceled();
    indicator.setText(SvnBundle.message("show.properties.diff.progress.text.revision.information",revision.toString()));
  }
  return new PropertyConsumer(){
    public void handleProperty(    final File path,    final PropertyData property) throws SVNException {
      registerProperty(property);
    }
    public void handleProperty(    final SVNURL url,    final PropertyData property) throws SVNException {
      registerProperty(property);
    }
    public void handleProperty(    final long revision,    final PropertyData property) throws SVNException {
    }
    private void registerProperty(    @NotNull PropertyData property){
      if (indicator != null) {
        indicator.checkCanceled();
        indicator.setText2(SvnBundle.message("show.properties.diff.progress.text2.property.information",property.getName()));
      }
      lines.add(property);
    }
  }
;
}
