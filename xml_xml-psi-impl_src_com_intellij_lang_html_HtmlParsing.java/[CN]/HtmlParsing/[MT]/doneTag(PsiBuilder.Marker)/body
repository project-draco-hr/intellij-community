{
  tag.done(XmlElementType.HTML_TAG);
  final String tagName=myTagNamesStack.peek();
  closeTag();
  final String parentTagName=hasTags() ? myTagNamesStack.peek() : "";
  boolean isInlineTagContainer=HtmlUtil.isInlineTagContainerL(parentTagName);
  boolean isOptionalTagEnd=HtmlUtil.isOptionalEndForHtmlTagL(parentTagName);
  if (isInlineTagContainer && HtmlUtil.isHtmlBlockTagL(tagName) && isOptionalTagEnd&& !HtmlUtil.isPossiblyInlineTag(tagName)) {
    PsiBuilder.Marker top=closeTag();
    top.doneBefore(XmlElementType.HTML_TAG,tag);
  }
}
