{
  if (isDispatchThread())   return;
  final Attachment dump=new Attachment("threadDump.txt",ThreadDumper.dumpThreadsToString());
  throw new LogEventException(message," EventQueue.isDispatchThread()=" + EventQueue.isDispatchThread() + " isDispatchThread()="+ isDispatchThread()+ " Toolkit.getEventQueue()="+ Toolkit.getDefaultToolkit().getSystemEventQueue()+ " Current thread: "+ describe(Thread.currentThread())+ " SystemEventQueueThread: "+ describe(getEventQueueThread()),dump);
}
