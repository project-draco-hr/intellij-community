{
  final Runnable restartRunnable=new Runnable(){
    public void run(){
      exit(false,exitConfirmed,true,true);
    }
  }
;
  if (getDefaultModalityState() == ModalityState.NON_MODAL) {
    restartRunnable.run();
  }
 else {
    invokeLater(restartRunnable,ModalityState.NON_MODAL);
  }
}
