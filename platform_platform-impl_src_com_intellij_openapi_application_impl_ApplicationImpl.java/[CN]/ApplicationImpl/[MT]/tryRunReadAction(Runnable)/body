{
  if (isReadAccessAllowed()) {
    action.run();
  }
 else {
    assertNoPsiLock();
    if (!myLock.tryReadLock())     return false;
    try {
      action.run();
    }
  finally {
      endRead();
    }
  }
  return true;
}
