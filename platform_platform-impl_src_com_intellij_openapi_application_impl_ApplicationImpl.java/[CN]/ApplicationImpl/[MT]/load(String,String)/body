{
  IComponentStore store=getStateStore();
  StateStorageManager storageManager=store.getStateStorageManager();
  storageManager.addMacro(StoragePathMacros.APP_CONFIG,optionsPath);
  storageManager.addMacro(StoragePathMacros.ROOT_CONFIG,configPath);
  AccessToken token=HeavyProcessLatch.INSTANCE.processStarted("Loading application components");
  try {
    long t=System.currentTimeMillis();
    init();
    t=System.currentTimeMillis() - t;
    LOG.info(getComponentConfigurations().length + " application components initialized in " + t+ " ms");
  }
 catch (  StateStorageException e) {
    throw new IOException(e);
  }
 finally {
    token.finish();
  }
  myLoaded=true;
  createLocatorFile();
}
