{
  SimpleToolWindowPanel panel=new SimpleToolWindowPanel(false,true){
    @Override public Object getData(    @NonNls String dataId){
      return PlatformDataKeys.HELP_ID.is(dataId) ? EventLog.HELP_ID : super.getData(dataId);
    }
  }
;
  final Content content=ContentFactory.SERVICE.getInstance().createContent(panel,"",false);
  content.setCloseable(true);
  myTerminalWidget=terminalRunner.createTerminalWidget(content);
  myTerminalWidget.addTabListener(new TabbedTerminalWidget.TabListener(){
    @Override public void tabClosed(    JediTermWidget terminal){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          if (myTerminalWidget != null) {
            hideIfNoActiveSessions(toolWindow,myTerminalWidget);
          }
        }
      }
);
    }
  }
);
  panel.setContent(myTerminalWidget.getComponent());
  panel.addFocusListener(createFocusListener());
  ActionToolbar toolbar=createToolbar(terminalRunner,myTerminalWidget,toolWindow);
  toolbar.getComponent().addFocusListener(createFocusListener());
  toolbar.setTargetComponent(panel);
  panel.setToolbar(toolbar.getComponent());
  content.setPreferredFocusableComponent(myTerminalWidget.getComponent());
  return content;
}
