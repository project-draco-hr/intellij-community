{
  super.visitConditionalExpression(expression);
  final PsiExpression thenExpression=expression.getThenExpression();
  final PsiExpression elseExpression=expression.getElseExpression();
  final EquivalenceChecker.Decision decision=EquivalenceChecker.getCanonicalPsiEquivalence().expressionsAreEquivalentDecision(thenExpression,elseExpression);
  if (thenExpression != null && (myReportOnlyExactlyIdentical ? decision.getExactlyMatches() : !decision.isExactUnMatches())) {
    registerError(expression,expression,decision);
  }
}
