{
  FrameworkVersion oldVersion=mySelectedVersions.put(frameworkOrGroupId,version);
  if (!Comparing.equal(oldVersion,version)) {
    for (    Map.Entry<String,FrameworkSupportNode> entry : mySettingsMap.entrySet()) {
      if (hasParentWithId(entry.getValue(),frameworkOrGroupId)) {
        if (!entry.getValue().getId().equals(frameworkOrGroupId)) {
          FrameworkSupportOptionsComponent component=myOptionsComponentsMap.get(entry.getKey());
          if (component != null) {
            component.updateVersionsComponent();
          }
        }
        updateFrameworkLibraryComponent(entry.getKey());
      }
    }
  }
  myVersionEventDispatcher.getMulticaster().versionChanged(version);
}
