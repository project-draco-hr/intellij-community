{
  Collection<GitRepository> repositoriesToSave=filter(repositories,new Condition<GitRepository>(){
    @Override public boolean value(    GitRepository repository){
      return !repository.equals(myRebaseSpec.getOngoingRebase());
    }
  }
);
  if (repositoriesToSave.isEmpty())   return true;
  Collection<VirtualFile> rootsToSave=getRootsFromRepositories(getDirtyRoots(repositoriesToSave));
  String error=saveLocalChanges(rootsToSave);
  if (error != null) {
    myNotifier.notifyError("Rebase not Started",error);
    return false;
  }
  return true;
}
