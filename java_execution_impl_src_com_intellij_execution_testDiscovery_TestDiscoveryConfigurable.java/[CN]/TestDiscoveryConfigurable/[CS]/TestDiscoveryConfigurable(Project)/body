{
  myModule.setText("Use classpath of");
  myModule.setLabelLocation(BorderLayout.WEST);
  myModule.setComponent(new JComboBox());
  myModuleSelector=new ConfigurationModuleSelector(project,getModulesComponent());
  myCommonJavaParameters.setModuleContext(myModuleSelector.getModule());
  myCommonJavaParameters.setHasModuleMacro();
  myModule.getComponent().addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myCommonJavaParameters.setModuleContext(myModuleSelector.getModule());
    }
  }
);
  final JPanel panelWithSettings=new JPanel(new GridBagLayout());
  final GridBagConstraints gc=new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0);
  panelWithSettings.add(myPositionRb,gc);
  panelWithSettings.add(myPosition,gc);
  panelWithSettings.add(myChangesRb,gc);
  panelWithSettings.add(myChangeLists,gc);
  ButtonGroup gr=new ButtonGroup();
  gr.add(myPositionRb);
  gr.add(myChangesRb);
  final ActionListener l=new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      updateComponents();
    }
  }
;
  myPositionRb.addActionListener(l);
  myChangesRb.addActionListener(l);
  final java.util.List<LocalChangeList> changeLists=ChangeListManager.getInstance(project).getChangeLists();
  final DefaultComboBoxModel model=new DefaultComboBoxModel();
  model.addElement("All");
  for (  LocalChangeList changeList : changeLists) {
    model.addElement(changeList.getName());
  }
  myChangeLists.setModel(model);
  ChangeListManager changeListManager=ChangeListManager.getInstance(project);
  if (changeListManager.getAffectedFiles().isEmpty()) {
    myChangesRb.setEnabled(false);
  }
  myWholePanel.add(panelWithSettings,BorderLayout.NORTH);
  myWholePanel.add(myCommonJavaParameters,BorderLayout.CENTER);
  final JPanel classpathPanel=new JPanel(new BorderLayout());
  myWholePanel.add(classpathPanel,BorderLayout.SOUTH);
  classpathPanel.add(myModule,BorderLayout.NORTH);
  classpathPanel.add(myAlternativeJREPanel,BorderLayout.CENTER);
  UIUtil.setEnabled(myCommonJavaParameters.getProgramParametersComponent(),false,true);
  setAnchor(myModule.getLabel());
  myAlternativeJREPanel.setAnchor(myModule.getLabel());
  myCommonJavaParameters.setAnchor(myModule.getLabel());
}
