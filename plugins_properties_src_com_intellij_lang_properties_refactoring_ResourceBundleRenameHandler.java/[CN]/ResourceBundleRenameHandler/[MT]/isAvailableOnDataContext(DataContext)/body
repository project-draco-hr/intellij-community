{
  final Project project=CommonDataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    return false;
  }
  final ResourceBundle bundle=ResourceBundleUtil.getResourceBundleFromDataContext(dataContext);
  if (bundle == null) {
    return false;
  }
  final VirtualFile virtualFile=CommonDataKeys.VIRTUAL_FILE.getData(dataContext);
  ResourceBundleEditor editor=ResourceBundleEditorUtil.getEditor(dataContext);
  return (editor == null || editor.getState(FileEditorStateLevel.NAVIGATION).getPropertyName() == null) && bundle.getPropertiesFiles(project).size() > 1 && (virtualFile instanceof ResourceBundleAsVirtualFile || virtualFile == null);
}
