{
  myIsLeft=false;
  myIsRight=false;
  myOperator=null;
  getInnerRight=false;
  final PyExpression leftExpression=node.getLeftExpression();
  final PyExpression rightExpression=node.getRightExpression();
  if (leftExpression instanceof PyBinaryExpression && rightExpression instanceof PyBinaryExpression) {
    if (node.getOperator() == PyTokenTypes.AND_KEYWORD) {
      if (isRightSimplified((PyBinaryExpression)leftExpression,(PyBinaryExpression)rightExpression) || isLeftSimplified((PyBinaryExpression)leftExpression,(PyBinaryExpression)rightExpression)) {
        if (isConstantInTheMiddle) {
          if (simplifyWithConstantInTheMiddle) {
            registerProblem(node,"Simplify chained comparison",new ChainedComparisonsQuickFix(myIsLeft,myIsRight,getInnerRight),new DontSimplifyStatementsWithConstantInTheMiddleQuickFix());
          }
        }
 else {
          registerProblem(node,"Simplify chained comparison",new ChainedComparisonsQuickFix(myIsLeft,myIsRight,getInnerRight));
        }
      }
    }
  }
}
