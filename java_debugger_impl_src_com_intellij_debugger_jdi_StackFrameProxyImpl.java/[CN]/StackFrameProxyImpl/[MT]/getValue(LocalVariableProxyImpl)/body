{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  InvalidStackFrameException error=null;
  for (int attempt=0; attempt < 2; attempt++) {
    try {
      Map<LocalVariable,Value> values=getAllValues();
      LocalVariable variable=localVariable.getVariable();
      if (values.containsKey(variable)) {
        return values.get(variable);
      }
 else {
        return getStackFrame().getValue(variable);
      }
    }
 catch (    InvalidStackFrameException e) {
      error=e;
      clearCaches();
    }
catch (    InternalException e) {
      if (e.errorCode() == 35 || e.errorCode() == 101) {
        throw new EvaluateException(DebuggerBundle.message("error.corrupt.debug.info",e.getMessage()),e);
      }
 else       throw e;
    }
  }
  throw new EvaluateException(error.getMessage(),error);
}
