{
  final Project project=e.getProject();
  if (project == null)   return;
  GroovyConsoleUtil.selectModuleAndRun(project,new Consumer<Module>(){
    @Override public void consume(    Module module){
      if (module.equals(myFile.getUserData(ModuleUtilCore.KEY_MODULE)))       return;
      final GroovyConsole groovyConsole=myFile.getUserData(GroovyConsole.GROOVY_CONSOLE);
      if (groovyConsole == null || groovyConsole.stop()) {
        myFile.putUserData(ModuleUtilCore.KEY_MODULE,module);
        myFile.putUserData(GroovyConsole.MODULE_NAME,module.getName());
        myFile.putUserData(GroovyConsole.GROOVY_CONSOLE,null);
        myFile.putUserData(GroovyConsole.GROOVY_CONSOLE_TITLE,GroovyConsoleUtil.getTitle(module));
        ProjectView.getInstance(project).refresh();
      }
    }
  }
);
}
