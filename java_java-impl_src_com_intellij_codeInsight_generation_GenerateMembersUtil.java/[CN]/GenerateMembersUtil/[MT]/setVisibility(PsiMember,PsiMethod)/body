{
  if (prototype == null)   return null;
  final String visibility=CodeStyleSettingsManager.getSettings(member.getProject()).VISIBILITY;
  final PsiModifierList modifierList=prototype.getModifierList();
  final String newVisibility=VisibilityUtil.ESCALATE_VISIBILITY.equals(visibility) ? PsiUtil.getMaximumModifierForMember(member instanceof PsiClass ? (PsiClass)member : member.getContainingClass(),false) : visibility;
  VisibilityUtil.setVisibility(modifierList,newVisibility);
  return prototype;
}
