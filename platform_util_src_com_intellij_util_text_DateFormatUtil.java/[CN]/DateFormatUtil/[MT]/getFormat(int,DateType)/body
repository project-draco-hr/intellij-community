{
  DateFormat result=null;
  if (SystemInfo.isMac) {
    try {
      result=getMacTimeFormat(format,type);
    }
 catch (    Throwable e) {
      LOG.error(e);
    }
  }
  if (SystemInfo.isUnix && !SystemInfo.isMac) {
    try {
      result=getUnixTimeFormat(format,type);
    }
 catch (    Throwable t) {
      LOG.error(t);
    }
  }
  if (result == null) {
switch (type) {
case TIME:
      result=DateFormat.getTimeInstance(format);
    break;
case DATE:
  result=DateFormat.getDateInstance(format);
break;
case DATETIME:
result=DateFormat.getDateTimeInstance(format,format);
break;
}
}
return new SyncDateFormat(result);
}
