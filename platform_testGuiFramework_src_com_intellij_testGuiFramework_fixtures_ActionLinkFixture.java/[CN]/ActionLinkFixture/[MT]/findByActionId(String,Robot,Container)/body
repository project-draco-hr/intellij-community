{
  final Ref<ActionLink> actionLinkRef=new Ref<ActionLink>();
  pause(new Condition("Find ActionLink with ID '" + actionId + "'"){
    @Override public boolean test(){
      Collection<ActionLink> found=robot.finder().findAll(container,new GenericTypeMatcher<ActionLink>(ActionLink.class){
        @Override protected boolean isMatching(        @NotNull ActionLink actionLink){
          if (actionLink.isVisible()) {
            AnAction action=actionLink.getAction();
            String id=ActionManager.getInstance().getId(action);
            return actionId.equals(id);
          }
          return false;
        }
      }
);
      if (found.size() == 1) {
        actionLinkRef.set(getFirstItem(found));
        return true;
      }
      return false;
    }
  }
,SHORT_TIMEOUT);
  ActionLink actionLink=actionLinkRef.get();
  if (actionLink == null) {
    throw new ComponentLookupException("Failed to find ActionLink with ID '" + actionId + "'");
  }
  return new ActionLinkFixture(robot,actionLink);
}
