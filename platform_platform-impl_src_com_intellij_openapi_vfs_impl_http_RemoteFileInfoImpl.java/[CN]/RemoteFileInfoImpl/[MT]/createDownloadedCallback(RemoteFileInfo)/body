{
  final AsyncResult<VirtualFile> callback=new AsyncResult<VirtualFile>();
  remoteFileInfo.addDownloadingListener(new FileDownloadingAdapter(){
    @Override public void fileDownloaded(    VirtualFile localFile){
      callback.setDone(localFile);
    }
    @Override public void errorOccurred(    @NotNull String errorMessage){
      callback.reject(errorMessage);
    }
    @Override public void downloadingCancelled(){
      callback.setRejected();
    }
  }
);
  return callback;
}
