{
synchronized (ourLock) {
    if (PluginManager.isPluginInstalled(pluginId)) {
      IdeaPluginDescriptor pluginDescriptor=PluginManager.getPlugin(pluginId);
      if (pluginDescriptor != null) {
        StartupActionScriptManager.ActionCommand deleteOld=new StartupActionScriptManager.DeleteCommand(pluginDescriptor.getPath());
        StartupActionScriptManager.addActionCommand(deleteOld);
        fireState(pluginDescriptor,false);
      }
 else {
        PluginManagerMain.LOG.error("Plugin not found: " + pluginId);
      }
    }
  }
}
