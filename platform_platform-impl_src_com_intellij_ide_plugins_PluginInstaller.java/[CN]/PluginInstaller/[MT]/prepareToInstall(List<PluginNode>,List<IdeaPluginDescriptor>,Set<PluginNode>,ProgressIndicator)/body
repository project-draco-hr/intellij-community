{
  List<PluginId> pluginIds=new SmartList<PluginId>();
  for (  PluginNode pluginNode : pluginsToInstall) {
    pluginIds.add(pluginNode.getPluginId());
  }
  boolean result=false;
  for (  PluginNode pluginNode : pluginsToInstall) {
    progressIndicator.setText(pluginNode.getName());
    try {
      result|=prepareToInstall(pluginNode,pluginIds,allPlugins,installedDependant,progressIndicator);
    }
 catch (    IOException e) {
      String title=IdeBundle.message("title.plugin.error");
      Notifications.Bus.notify(new Notification(title,title,pluginNode.getName() + ": " + e.getMessage(),NotificationType.ERROR));
      return false;
    }
  }
  return result;
}
