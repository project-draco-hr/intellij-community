{
  return search(aClass,ApplicationManager.getApplication().runReadAction(new Computable<SearchScope>(){
    @Override public SearchScope compute(){
      if (!aClass.isValid()) {
        throw new ProcessCanceledException();
      }
      return aClass.getUseScope();
    }
  }
),checkDeep);
}
