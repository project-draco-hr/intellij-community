{
  if (!myCanModifyAllWhiteSpaces) {
    if (PsiImplUtil.isWhiteSpaceOrNls(leafElement))     return null;
  }
  IElementType elementTypeToUse=TokenType.WHITE_SPACE;
  ASTNode prevNode=TreeUtil.prevLeaf(leafElement);
  if (prevNode != null && PsiImplUtil.isWhiteSpaceOrNls(prevNode)) {
    elementTypeToUse=prevNode.getElementType();
  }
  FormatterUtil.replaceWhiteSpace(whiteSpace,leafElement,elementTypeToUse,textRange);
  return whiteSpace;
}
