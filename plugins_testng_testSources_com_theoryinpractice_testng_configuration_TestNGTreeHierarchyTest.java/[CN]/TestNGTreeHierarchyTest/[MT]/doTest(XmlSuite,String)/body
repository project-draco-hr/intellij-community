{
  final StringBuffer buf=new StringBuffer();
  final IDEATestNGRemoteListener listener=new IDEATestNGRemoteListener(new PrintStream(new OutputStream(){
    @Override public void write(    int b) throws IOException {
      buf.append(new String(new byte[]{(byte)b}));
    }
  }
));
  for (  XmlTest test : suite.getTests()) {
    for (    XmlClass aClass : test.getClasses()) {
      final String classFQName=aClass.getName();
      for (      XmlInclude include : aClass.getIncludedMethods()) {
        final String methodName=include.getName();
        listener.onTestStart(classFQName,methodName);
        listener.onTestFinished(methodName);
      }
    }
  }
  Assert.assertEquals("output: " + buf,expected,StringUtil.convertLineSeparators(buf.toString()));
}
