{
  final StringBuffer buf=new StringBuffer();
  final IDEATestNGRemoteListener listener=createListener(buf);
  final MockTestNGResult result=new MockTestNGResult("ATest","testMe",null,new Object[]{null,null});
  listener.onTestStart(result);
  listener.onTestFinished(result);
  Assert.assertEquals("output: " + buf,"##teamcity[enteredTheMatrix]\n" + "\n" + "##teamcity[testSuiteStarted name ='ATest' locationHint = 'java:suite://ATest']\n"+ "\n"+ "##teamcity[testStarted name='ATest.testMe|[null, null|]' locationHint='java:test://ATest.testMe|[0|]']\n"+ "\n"+ "##teamcity[testFinished name='ATest.testMe|[null, null|]']\n",StringUtil.convertLineSeparators(buf.toString()));
}
