{
  myOptions.put(IFernflowerPreferences.HIDE_DEFAULT_CONSTRUCTOR,"0");
  myOptions.put(IFernflowerPreferences.DECOMPILE_GENERIC_SIGNATURES,"1");
  myOptions.put(IFernflowerPreferences.REMOVE_SYNTHETIC,"1");
  myOptions.put(IFernflowerPreferences.REMOVE_BRIDGE,"1");
  myOptions.put(IFernflowerPreferences.LITERALS_AS_IS,"1");
  myOptions.put(IFernflowerPreferences.NEW_LINE_SEPARATOR,"1");
  Project project=DefaultProjectFactory.getInstance().getDefaultProject();
  CodeStyleSettings settings=CodeStyleSettingsManager.getInstance(project).getCurrentSettings();
  CommonCodeStyleSettings.IndentOptions options=settings.getIndentOptions(JavaFileType.INSTANCE);
  myOptions.put(IFernflowerPreferences.INDENT_STRING,StringUtil.repeat(" ",options.INDENT_SIZE));
  Application app=ApplicationManager.getApplication();
  myLegalNoticeAccepted=app.isUnitTestMode() || PropertiesComponent.getInstance().isTrueValue(LEGAL_NOTICE_KEY);
  if (!myLegalNoticeAccepted) {
    MessageBusConnection connection=app.getMessageBus().connect(app);
    connection.subscribe(FileEditorManagerListener.FILE_EDITOR_MANAGER,new FileEditorManagerAdapter(){
      @Override public void fileOpened(      @NotNull FileEditorManager source,      @NotNull VirtualFile file){
        if (file.getFileType() == StdFileTypes.CLASS) {
          FileEditor editor=source.getSelectedEditor(file);
          if (editor != null) {
            showLegalNotice(editor);
          }
        }
      }
    }
);
  }
}
