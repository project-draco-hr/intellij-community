{
  if (myCommunication != null) {
    UIUtil.invokeAndWaitIfNeeded(new Runnable(){
      @Override public void run(){
        try {
          myCommunication.close();
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
        myCommunication=null;
      }
    }
);
  }
  disposeConsoleProcess();
  if (!myContentDescriptorRef.isNull()) {
    UIUtil.invokeAndWaitIfNeeded(new Runnable(){
      @Override public void run(){
        Disposer.dispose(myContentDescriptorRef.get());
      }
    }
);
  }
  if (myConsoleView != null) {
    new WriteAction(){
      @Override protected void run(      @NotNull Result result) throws Throwable {
        Disposer.dispose(myConsoleView);
        myConsoleView=null;
      }
    }
.execute();
  }
}
