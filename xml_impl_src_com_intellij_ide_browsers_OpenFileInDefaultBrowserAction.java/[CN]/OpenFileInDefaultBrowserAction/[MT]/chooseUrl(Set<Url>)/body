{
  if (urls.size() == 1) {
    return new AsyncResult.Done<Url>(ContainerUtil.getFirstItem(urls));
  }
  final JBList list=new JBList(urls);
  list.setCellRenderer(new ColoredListCellRenderer(){
    @Override protected void customizeCellRenderer(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      setIcon(AllIcons.Nodes.Servlet);
      append(((Url)value).getPath());
    }
  }
);
  final AsyncResult<Url> result=new AsyncResult<Url>();
  JBPopupFactory.getInstance().createListPopupBuilder(list).setTitle("Choose Url").setItemChoosenCallback(new Runnable(){
    @Override public void run(){
      Url value=(Url)list.getSelectedValue();
      if (value != null) {
        result.setDone(value);
      }
 else {
        result.setRejected();
      }
    }
  }
).createPopup().showInFocusCenter();
  return result;
}
