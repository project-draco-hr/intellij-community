{
  runPythonTest(new PyProcessWithConsoleTestTask<PyDocTestProcessRunner>(SdkCreationType.EMPTY_SDK){
    @NotNull @Override protected PyDocTestProcessRunner createProcessRunner() throws Exception {
      return new PyDocTestProcessRunner(getTestDataPath() + "/testRunner/env/doc","test1.py",0);
    }
    @Override protected void checkTestResults(    @NotNull final PyDocTestProcessRunner runner,    @NotNull final String stdout,    @NotNull final String stderr,    @NotNull final String all){
      assertEquals(3,runner.getAllTestsCount());
      assertEquals(3,runner.getPassedTestsCount());
      runner.assertAllTestsPassed();
    }
  }
);
}
