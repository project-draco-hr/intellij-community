{
  PsiExpression trueValue=((PsiReturnStatement)trueStatement).getReturnValue();
  PsiExpression falseValue=((PsiReturnStatement)falseStatement).getReturnValue();
  LOG.assertTrue(trueValue != null);
  LOG.assertTrue(falseValue != null);
  String trueBranch=generateMapIfNeeded(factory,optionalVariable,trueStatement,trueValue);
  return "return " + trueBranch + ".orElse("+ getComments(falseStatement)+ falseValue.getText()+ ");";
}
