{
  PsiAssignmentExpression trueAssignment=ExpressionUtils.getAssignment(trueStatement);
  PsiAssignmentExpression falseAssignment=ExpressionUtils.getAssignment(falseStatement);
  if (trueAssignment == null || falseAssignment == null || !EquivalenceChecker.getCanonicalPsiEquivalence().expressionsAreEquivalent(trueAssignment.getLExpression(),falseAssignment.getLExpression()) || !isOptionalLambdaCandidate(trueAssignment.getRExpression(),optionalVariable)) {
    return null;
  }
  String mapPart=isOptionalGetCall(trueAssignment.getRExpression(),optionalVariable) ? "" : "map().";
  if (ExpressionUtils.isSimpleExpression(falseAssignment.getRExpression())) {
    return mapPart + "orElse()";
  }
  if (isVoidLambdaCandidate(falseAssignment.getRExpression())) {
    return mapPart + "orElseGet()";
  }
  return null;
}
