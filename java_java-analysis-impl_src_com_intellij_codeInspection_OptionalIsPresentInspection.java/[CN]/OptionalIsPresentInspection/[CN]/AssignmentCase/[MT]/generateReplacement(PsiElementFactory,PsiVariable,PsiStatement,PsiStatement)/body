{
  PsiAssignmentExpression trueAssignment=ExpressionUtils.getAssignment(trueStatement);
  PsiAssignmentExpression falseAssignment=ExpressionUtils.getAssignment(falseStatement);
  LOG.assertTrue(trueAssignment != null);
  LOG.assertTrue(falseAssignment != null);
  PsiExpression lValue=trueAssignment.getLExpression();
  PsiExpression trueValue=trueAssignment.getRExpression();
  PsiExpression falseValue=falseAssignment.getRExpression();
  LOG.assertTrue(falseValue != null);
  String trueBranch=generateMapIfNeeded(factory,optionalVariable,trueValue);
  String falseBranch;
  if (ExpressionUtils.isSimpleExpression(falseValue)) {
    falseBranch="orElse(" + falseValue.getText() + ")";
  }
 else {
    falseBranch="orElseGet(" + "() -> " + falseValue.getText() + ")";
  }
  return lValue.getText() + " = " + trueBranch+ "."+ falseBranch+ ";";
}
