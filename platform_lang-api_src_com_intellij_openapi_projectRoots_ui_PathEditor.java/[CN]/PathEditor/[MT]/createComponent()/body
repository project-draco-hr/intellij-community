{
  myList=new JBList(getListModel());
  myList.setCellRenderer(createListCellRenderer(myList));
  TreeUIHelper.getInstance().installListSpeedSearch(myList,new Convertor<Object,String>(){
    @Override public String convert(    Object file){
      return ((VirtualFile)file).getPresentableUrl();
    }
  }
);
  ToolbarDecorator toolbarDecorator=ToolbarDecorator.createDecorator(myList).disableUpDownActions().setAddActionUpdater(new AnActionButtonUpdater(){
    @Override public boolean isEnabled(    AnActionEvent e){
      return myEnabled;
    }
  }
).setRemoveActionUpdater(new AnActionButtonUpdater(){
    @Override public boolean isEnabled(    AnActionEvent e){
      return isRemoveActionEnabled(PathEditor.this.getSelectedRoots());
    }
  }
).setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      final VirtualFile[] added=doAddItems();
      if (added.length > 0) {
        setModified(true);
      }
      requestDefaultFocus();
      setSelectedRoots(added);
    }
  }
).setRemoveAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      int[] indices=myList.getSelectedIndices();
      doRemoveItems(indices,myList);
    }
  }
);
  addToolbarButtons(toolbarDecorator);
  myPanel=toolbarDecorator.createPanel();
  myPanel.setBorder(null);
  return myPanel;
}
