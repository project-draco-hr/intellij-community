{
  FileEditorManager editorManager=FileEditorManager.getInstance(myProject);
  FileEditor selectedEditor=editorManager.getSelectedEditor(myVirtualFile);
  if (selectedEditor != null) {
    JComponent component=selectedEditor.getComponent();
    if (component.isVisible() && component.isShowing()) {
      Document document=FileDocumentManager.getInstance().getDocument(myVirtualFile);
      if (document != null) {
        PsiFile psiFile=PsiDocumentManager.getInstance(myProject).getPsiFile(document);
        if (psiFile != null) {
          DaemonCodeAnalyzerEx codeAnalyzer=DaemonCodeAnalyzerEx.getInstanceEx(myProject);
          boolean isRunning=method("isRunning").withReturnType(boolean.class).in(codeAnalyzer).invoke();
          return !isRunning;
        }
      }
    }
  }
  return false;
}
