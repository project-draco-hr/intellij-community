{
  int readableBytes=input.readableBytes();
  if (readableBytes == 0) {
    input.release();
    return null;
  }
  int required=contentLength - consumedContentByteCount;
  if (readableBytes < required) {
    if (chunkedContent == null) {
      chunkedContent=CharBuffer.allocate((int)((float)contentLength * charsetDecoder.maxCharsPerByte()));
    }
    ChannelBufferToString.readIntoCharBuffer(charsetDecoder,input,readableBytes,chunkedContent);
    consumedContentByteCount+=readableBytes;
    input.release();
    return null;
  }
 else {
    CharBuffer charBuffer=chunkedContent;
    if (charBuffer != null) {
      chunkedContent=null;
      consumedContentByteCount=0;
    }
    return new ChannelBufferToString.MyCharArrayCharSequence(ChannelBufferToString.readIntoCharBuffer(charsetDecoder,input,required,charBuffer));
  }
}
