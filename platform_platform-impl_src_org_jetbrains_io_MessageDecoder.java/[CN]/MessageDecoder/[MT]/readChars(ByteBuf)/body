{
  int readableBytes=input.readableBytes();
  if (readableBytes == 0) {
    input.release();
    return null;
  }
  int required=contentLength - consumedContentByteCount;
  if (readableBytes < required) {
    if (chunkedContent == null) {
      chunkedContent=CharBuffer.allocate(contentLength);
    }
    ChannelBufferToStringKt.readIntoCharBuffer(input,readableBytes,chunkedContent);
    consumedContentByteCount+=readableBytes;
    input.release();
    return null;
  }
 else {
    CharBuffer charBuffer=chunkedContent;
    if (charBuffer == null) {
      return input.toString(input.readerIndex(),required,StandardCharsets.UTF_8);
    }
    chunkedContent=null;
    consumedContentByteCount=0;
    ChannelBufferToStringKt.readIntoCharBuffer(input,required,charBuffer);
    return new CharSequenceBackedByChars(charBuffer);
  }
}
