{
  final List<? extends ExternalSystemNode> children=super.doBuildChildren();
  final List<ExternalSystemNode> visibleChildren=ContainerUtil.filter(children,new Condition<ExternalSystemNode>(){
    @Override public boolean value(    ExternalSystemNode node){
      return node.isVisible();
    }
  }
);
  return visibleChildren.size() == 1 ? children.get(0).doBuildChildren() : children;
}
