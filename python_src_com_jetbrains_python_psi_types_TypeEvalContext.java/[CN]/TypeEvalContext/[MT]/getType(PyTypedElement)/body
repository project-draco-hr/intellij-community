{
synchronized (myEvaluated) {
    if (myEvaluated.containsKey(element)) {
      return myEvaluated.get(element);
    }
  }
  final Set<PyTypedElement> evaluating=myEvaluating.get();
  if (evaluating.contains(element)) {
    return null;
  }
  evaluating.add(element);
  try {
    PyType result=element.getType(this);
synchronized (myEvaluated) {
      myEvaluated.put(element,result);
    }
    return result;
  }
  finally {
    evaluating.remove(element);
  }
}
