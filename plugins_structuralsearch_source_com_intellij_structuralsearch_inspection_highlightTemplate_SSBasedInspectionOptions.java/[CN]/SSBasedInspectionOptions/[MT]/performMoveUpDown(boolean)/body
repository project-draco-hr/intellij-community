{
  final int[] indices=myTemplatesList.getSelectedIndices();
  for (  int index : indices) {
    Configuration temp=myConfigurations.get(index);
    myConfigurations.set(index,myConfigurations.get(index + (down ? 1 : -1)));
    myConfigurations.set(index + (down ? 1 : -1),temp);
    myTemplatesList.removeSelectionInterval(index,index);
    myTemplatesList.addSelectionInterval(index + (down ? 1 : -1),index + (down ? 1 : -1));
  }
  Rectangle cellBounds=myTemplatesList.getCellBounds(indices[0] - 1,indices[indices.length - 1] - 1);
  if (cellBounds != null) {
    myTemplatesList.scrollRectToVisible(cellBounds);
  }
}
