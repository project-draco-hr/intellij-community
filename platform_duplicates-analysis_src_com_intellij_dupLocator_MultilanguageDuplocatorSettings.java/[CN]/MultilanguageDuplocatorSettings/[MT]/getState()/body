{
synchronized (mySettingsMap) {
    final Element element=new Element("state");
    for (    String name : mySettingsMap.keySet()) {
      final Element child=element.addContent("object");
      element.setAttribute("language",name);
      final JDOMExternalizable settingsObject=mySettingsMap.get(name);
      try {
        settingsObject.writeExternal(child);
      }
 catch (      WriteExternalException e) {
        LOG.error(e);
        return null;
      }
    }
    return element;
  }
}
