{
  List<VirtualFile> roots=new ArrayList<VirtualFile>();
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    for (    ContentEntry entry : ModuleRootManager.getInstance(module).getContentEntries()) {
      for (      SourceFolder sourceFolder : entry.getSourceFolders(JavaModuleSourceRootTypes.SOURCES)) {
        if (!isForGeneratedSources(sourceFolder)) {
          ContainerUtil.addIfNotNull(roots,sourceFolder.getFile());
        }
      }
    }
  }
  return roots;
}
