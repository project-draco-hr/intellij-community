{
  init();
  if ((myProject == null) && (project != null)) {
    myProject=project;
  }
  if (toSelect.length == 1) {
    restoreSelection(toSelect[0]);
  }
 else   if (toSelect.length == 0) {
    restoreSelection(null);
  }
 else {
    selectInTree(toSelect,true);
  }
  DumbService.allowStartingDumbModeInside(DumbModePermission.MAY_START_MODAL,new Runnable(){
    @Override public void run(){
      show();
    }
  }
);
  return myChosenFiles;
}
