{
  try {
    super.channelInactive(context);
  }
  finally {
    try {
      Set<UUID> keys=((Map<UUID,RequestFuture<T>>)myHandlers).keySet();
      for (      UUID uuid : new ArrayList<UUID>(keys)) {
        terminateSession(uuid);
      }
    }
  finally {
      myAsyncExec.execute(new Runnable(){
        @Override public void run(){
          myClient.disconnect();
        }
      }
);
    }
  }
}
