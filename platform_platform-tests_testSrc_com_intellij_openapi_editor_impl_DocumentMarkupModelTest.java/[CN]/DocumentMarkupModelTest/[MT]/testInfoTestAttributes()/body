{
  LanguageExtensionPoint<Annotator> extension=new LanguageExtensionPoint<>();
  extension.language="TEXT";
  extension.implementationClass=TestAnnotator.class.getName();
  PlatformTestUtil.registerExtension(ExtensionPointName.create(LanguageAnnotators.EP_NAME),extension,getTestRootDisposable());
  myFixture.configureByText(PlainTextFileType.INSTANCE,"foo");
  EditorColorsScheme scheme=new EditorColorsSchemeImpl(new DefaultColorsScheme()){
{
      initFonts();
    }
  }
;
  scheme.setAttributes(HighlighterColors.TEXT,new TextAttributes(Color.black,Color.white,null,null,Font.PLAIN));
  ((EditorEx)myFixture.getEditor()).setColorsScheme(scheme);
  myFixture.doHighlighting();
  MarkupModel model=DocumentMarkupModel.forDocument(myFixture.getEditor().getDocument(),getProject(),false);
  RangeHighlighter[] highlighters=model.getAllHighlighters();
  assertThat(highlighters).hasSize(1);
  TextAttributes attributes=highlighters[0].getTextAttributes();
  assertThat(attributes).isNotNull();
  assertThat(attributes.getBackgroundColor()).isNull();
  assertThat(attributes.getForegroundColor()).isNull();
}
