{
  LanguageExtensionPoint<Annotator> extension=new LanguageExtensionPoint<Annotator>();
  extension.language="TEXT";
  extension.implementationClass=TestAnnotator.class.getName();
  PlatformTestUtil.registerExtension(ExtensionPointName.create(LanguageAnnotators.EP_NAME),extension,getTestRootDisposable());
  myFixture.configureByText(PlainTextFileType.INSTANCE,"foo");
  EditorColorsScheme scheme=new EditorColorsSchemeImpl(new DefaultColorsScheme()){
{
      initFonts();
    }
  }
;
  scheme.setAttributes(HighlighterColors.TEXT,new TextAttributes(Color.black,Color.white,null,null,Font.PLAIN));
  ((EditorEx)myFixture.getEditor()).setColorsScheme(scheme);
  myFixture.doHighlighting();
  MarkupModel model=DocumentMarkupModel.forDocument(myFixture.getEditor().getDocument(),getProject(),false);
  RangeHighlighter[] highlighters=model.getAllHighlighters();
  assertEquals(1,highlighters.length);
  TextAttributes attributes=highlighters[0].getTextAttributes();
  assertNotNull(attributes);
  assertNull(attributes.getBackgroundColor());
  assertNull(attributes.getForegroundColor());
}
