{
  Object cachedInitializerValue=myCachedInitializerValue;
  if (cachedInitializerValue != null && !(cachedInitializerValue instanceof PsiExpression)) {
    return cachedInitializerValue;
  }
  PsiType type=getType();
  if (!(type instanceof PsiPrimitiveType) && !type.equalsToText("java.lang.String"))   return null;
  PsiExpression initializer=getInitializer();
  Object result=PsiConstantEvaluationHelperImpl.computeCastTo(initializer,type,visitedVars);
  if (initializer instanceof PsiLiteralExpression) {
    myCachedInitializerValue=result;
  }
 else {
    myCachedInitializerValue=initializer;
  }
  return result;
}
