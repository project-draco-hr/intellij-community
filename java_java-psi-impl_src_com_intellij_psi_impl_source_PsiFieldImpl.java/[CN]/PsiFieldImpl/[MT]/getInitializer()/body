{
  Object cachedInitializerValue=myCachedInitializerValue;
  PsiExpression initializer;
  if (cachedInitializerValue instanceof PsiExpression) {
    initializer=(PsiExpression)cachedInitializerValue;
  }
 else {
    final PsiFieldStub stub=getStub();
    if (stub == null) {
      initializer=(PsiExpression)getNode().findChildByRoleAsPsiElement(ChildRole.INITIALIZER);
    }
 else {
      String initializerText=stub.getInitializerText();
      if (StringUtil.isEmpty(initializerText) || PsiFieldStub.INITIALIZER_NOT_STORED.equals(initializerText) || PsiFieldStub.INITIALIZER_TOO_LONG.equals(initializerText)) {
        initializer=(PsiExpression)getNode().findChildByRoleAsPsiElement(ChildRole.INITIALIZER);
      }
 else {
        final PsiJavaParserFacade parserFacade=JavaPsiFacade.getInstance(getProject()).getParserFacade();
        initializer=parserFacade.createExpressionFromText(initializerText,this);
        ((LightVirtualFile)initializer.getContainingFile().getViewProvider().getVirtualFile()).markReadOnly();
      }
    }
    if (initializer != null && cachedInitializerValue == null) {
      myCachedInitializerValue=initializer;
    }
  }
  return initializer;
}
