{
  if (!InferenceFromSourceUtil.shouldInferFromSource(method) || method.getReturnType() == PsiType.VOID || method.getBody() == null || method.isConstructor() || PropertyUtil.isSimpleGetter(method)) {
    return false;
  }
  return CachedValuesManager.getCachedValue(method,new CachedValueProvider<Boolean>(){
    @Nullable @Override public Result<Boolean> compute(){
      boolean pure=RecursionManager.doPreventingRecursion(method,true,new Computable<Boolean>(){
        @Override public Boolean compute(){
          return doInferPurity(method);
        }
      }
) == Boolean.TRUE;
      return Result.create(pure,method);
    }
  }
);
}
