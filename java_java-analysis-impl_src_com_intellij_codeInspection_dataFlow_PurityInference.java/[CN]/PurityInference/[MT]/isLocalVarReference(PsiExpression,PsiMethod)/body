{
  if (expression instanceof PsiReferenceExpression) {
    PsiElement target=((PsiReferenceExpression)expression).resolve();
    return target instanceof PsiLocalVariable || target instanceof PsiParameter;
  }
  if (expression instanceof PsiArrayAccessExpression) {
    PsiExpression array=((PsiArrayAccessExpression)expression).getArrayExpression();
    PsiElement target=array instanceof PsiReferenceExpression ? ((PsiReferenceExpression)array).resolve() : null;
    return target instanceof PsiLocalVariable && isLocallyCreatedArray(scope,(PsiLocalVariable)target);
  }
  return false;
}
