{
  Pair<Version,Integer> versionUpdate=bundleDescriptor.getVersionUpdate();
  boolean updateVersionMap=versionUpdate != null;
  if (!bundleList.isEmpty() && updateVersionMap) {
    JdkBundle latestJdk=nameVersionMap.get(bundleDescriptor.getNameVersion());
    if (latestJdk != null) {
      Pair<Version,Integer> latestVersionUpdate=latestJdk.getVersionUpdate();
      if (latestVersionUpdate != null) {
        if (latestVersionUpdate.second >= versionUpdate.second) {
          if (!forceOldVersion)           return;
          updateVersionMap=false;
        }
 else         if (!latestJdk.isBoot() && !latestJdk.isBundled()) {
          bundleList.remove(latestJdk);
          nameVersionMap.remove(latestJdk.getNameVersion());
          bundleMap.remove(latestJdk.getAbsoluteLocation().getAbsolutePath());
        }
      }
    }
  }
  bundleList.add(bundleDescriptor);
  bundleMap.put(bundleDescriptor.getAbsoluteLocation().getAbsolutePath(),bundleDescriptor);
  if (updateVersionMap) {
    nameVersionMap.put(bundleDescriptor.getNameVersion(),bundleDescriptor);
  }
}
