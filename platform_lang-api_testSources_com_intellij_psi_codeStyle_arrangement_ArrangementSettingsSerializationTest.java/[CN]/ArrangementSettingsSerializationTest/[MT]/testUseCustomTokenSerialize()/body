{
  final StdArrangementRuleAliasToken visibility=visibilityToken();
  final StdArrangementRuleAliasToken modifiers=modifiersToken();
  final Set<StdArrangementRuleAliasToken> tokens=ContainerUtil.newHashSet(visibility,modifiers);
  final ArrayList<ArrangementGroupingRule> groupings=ContainerUtil.newArrayList(new ArrangementGroupingRule(OVERRIDDEN_METHODS,BY_NAME));
  final ArrayList<ArrangementSectionRule> rules=ContainerUtil.newArrayList(section(true,FIELD,visibility));
  final StdArrangementExtendableSettings settings=extendableSettings(groupings,rules,tokens);
  final ArrayList<ArrangementSectionRule> defaultRules=ContainerUtil.newArrayList(section(true,FIELD));
  final StdArrangementExtendableSettings defaultSettings=extendableSettings(groupings,defaultRules,tokens);
  final Element holder=doSerializationTest(settings,defaultSettings);
  final String expected="<holder>\n" + "  <rules>\n" + "    <section>\n"+ "      <rule>\n"+ "        <match>\n"+ "          <AND>\n"+ "            <FIELD>true</FIELD>\n"+ "            <visibility />\n"+ "          </AND>\n"+ "        </match>\n"+ "        <order>BY_NAME</order>\n"+ "      </rule>\n"+ "    </section>\n"+ "  </rules>\n"+ "</holder>";
  assertXmlOutputEquals(expected,holder);
}
