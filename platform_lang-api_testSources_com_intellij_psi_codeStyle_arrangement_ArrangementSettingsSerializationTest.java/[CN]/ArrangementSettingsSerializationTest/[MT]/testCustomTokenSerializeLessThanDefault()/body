{
  final Set<ArrangementRuleAlias> tokens=ContainerUtil.newHashSet(visibilityToken());
  final ArrayList<ArrangementGroupingRule> groupings=ContainerUtil.newArrayList(new ArrangementGroupingRule(OVERRIDDEN_METHODS,BY_NAME));
  final ArrayList<ArrangementSectionRule> rules=ContainerUtil.newArrayList(section(true,FIELD));
  final StdArrangementExtendableSettings settings=extendableSettings(groupings,rules,tokens);
  final Set<ArrangementRuleAlias> defaultTokens=ContainerUtil.newHashSet(visibilityToken(),modifiersToken());
  final StdArrangementExtendableSettings defaultSettings=extendableSettings(groupings,rules,defaultTokens);
  final Element holder=doSerializationTest(settings,defaultSettings);
  assertTrue(holder.getChildren().size() == 1);
  final Element tokenElement=holder.getChildren().get(0);
  assertEquals(tokenElement.getName(),"tokens");
  assertTrue(tokenElement.getChildren().size() == 1);
  final List<Element> tokenElements=tokenElement.getChildren();
  final Element element=tokenElements.get(0);
  assertEquals(element.getName(),"token");
  assertTrue(StringUtil.equals(element.getAttributeValue("id"),"visibility"));
}
