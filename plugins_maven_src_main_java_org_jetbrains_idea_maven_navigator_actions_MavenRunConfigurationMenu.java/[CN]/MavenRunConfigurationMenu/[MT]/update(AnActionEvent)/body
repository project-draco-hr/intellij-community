{
  removeAll();
  final Project project=PlatformDataKeys.PROJECT.getData(e.getDataContext());
  final RunnerAndConfigurationSettings settings=MavenDataKeys.RUN_CONFIGURATION.getData(e.getDataContext());
  if (settings == null || project == null)   return;
  for (  final Executor executor : ExecutorRegistry.getInstance().getRegisteredExecutors()) {
    final ProgramRunner runner=RunnerRegistry.getInstance().getRunner(executor.getId(),settings.getConfiguration());
    AnAction action=new AnAction(executor.getActionName(),null,executor.getIcon()){
      @Override public void actionPerformed(      AnActionEvent event){
        if (runner == null)         return;
        ProgramRunnerUtil.executeConfiguration(project,settings,executor);
      }
      @Override public void update(      AnActionEvent e){
        super.update(e);
        e.getPresentation().setEnabled(runner != null);
      }
    }
;
    addAction(action);
  }
  super.update(e);
}
