{
  myKeymap=keymap;
  final PathsKeeper pathsKeeper=new PathsKeeper();
  pathsKeeper.storePaths();
  myRoot.removeAllChildren();
  ActionManager actionManager=ActionManager.getInstance();
  Project project=CommonDataKeys.PROJECT.getData(DataManager.getInstance().getDataContext(myComponent));
  Group mainGroup=ActionsTreeUtil.createMainGroup(project,keymap,allQuickLists,filter,true,ActionsTreeUtil.isActionFiltered(actionManager,keymap,shortcut,filter,true));
  if ((filter != null && filter.length() > 0 || shortcut != null) && mainGroup.initIds().isEmpty()) {
    mainGroup=ActionsTreeUtil.createMainGroup(project,keymap,allQuickLists,filter,false,ActionsTreeUtil.isActionFiltered(actionManager,keymap,shortcut,filter,false));
  }
  myRoot=ActionsTreeUtil.createNode(mainGroup);
  myMainGroup=mainGroup;
  MyModel model=(MyModel)myTree.getModel();
  model.setRoot(myRoot);
  model.nodeStructureChanged(myRoot);
  pathsKeeper.restorePaths();
}
