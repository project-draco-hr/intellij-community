{
  final Collection<String> branches=new ArrayList<String>();
  String branchesName="branchheads-served";
  final File branchHeads=new File(new File(myHgDir,"cache"),branchesName);
  String[] branchesWithHashes=FileUtil.loadFile(branchHeads).split("\n");
  for (int i=1; i < branchesWithHashes.length; ++i) {
    String ref=branchesWithHashes[i];
    String[] refAndName=ref.split(" ");
    String name=refAndName[1];
    if (!branches.contains(name)) {
      branches.add(name);
    }
  }
  return branches;
}
