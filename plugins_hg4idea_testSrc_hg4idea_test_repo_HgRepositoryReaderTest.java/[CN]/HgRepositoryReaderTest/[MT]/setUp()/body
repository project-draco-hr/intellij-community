{
  super.setUp();
  myHgDir=new File(myRepository.getPath(),".hg");
  assertTrue(myHgDir.exists());
  File pluginRoot=new File(PluginPathManager.getPluginHomePath("hg4idea"));
  String pathToHg="testData/repo/dot_hg";
  File testHgDir=new File(pluginRoot,FileUtil.toSystemDependentName(pathToHg));
  File cacheDir=new File(testHgDir,"cache");
  File testBranchFile=new File(testHgDir,"branch");
  File testBookmarkFile=new File(testHgDir,"bookmarks");
  FileUtil.copyDir(cacheDir,new File(myHgDir,"cache"));
  FileUtil.copy(testBranchFile,new File(myHgDir,"branch"));
  FileUtil.copy(testBookmarkFile,new File(myHgDir,"bookmarks"));
  myRepositoryReader=new HgRepositoryReader(myHgDir);
  myBranches=readBranches();
  myBookmarks=readBookmarks();
}
