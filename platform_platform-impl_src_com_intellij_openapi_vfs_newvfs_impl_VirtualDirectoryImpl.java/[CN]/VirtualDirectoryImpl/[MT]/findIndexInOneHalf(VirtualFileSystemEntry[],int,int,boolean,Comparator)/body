{
  return binSearch(array,start,end,new Comparator(){
    @Override public int compareMyKeyTo(    @NotNull VirtualFileSystemEntry file){
      if (isAdopted && !isAdoptedChild(file))       return 1;
      if (!isAdopted && isAdoptedChild(file))       return -1;
      return comparator.compareMyKeyTo(file);
    }
  }
);
}
