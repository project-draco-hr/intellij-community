{
  if (element instanceof ScopeOwner) {
    final Instruction[] flow=((ScopeOwner)element).getControlFlow().getInstructions();
    final int[] colors=new int[flow.length];
    for (int i=0; i < flow.length; i++) {
      colors[i]=i;
    }
    boolean colorChanged;
    do {
      colorChanged=false;
      for (      Instruction instruction : flow) {
        for (        Instruction succ : instruction.allSucc()) {
          if (colors[instruction.num()] < colors[succ.num()]) {
            colors[succ.num()]=colors[instruction.num()];
            colorChanged=true;
          }
        }
      }
    }
 while (colorChanged);
    int color=colors[0];
    final boolean warned[]=new boolean[flow.length];
    Arrays.fill(warned,false);
    for (    Instruction instruction : flow) {
      final PsiElement e=instruction.getElement();
      if (colors[instruction.num()] != color) {
        color=colors[instruction.num()];
        if (color != 0 && !warned[color]) {
          warned[color]=true;
          if (e instanceof PyExceptPart) {
            continue;
          }
          registerProblem(e,PyBundle.message("INSP.unreachable.code"));
        }
      }
    }
  }
}
