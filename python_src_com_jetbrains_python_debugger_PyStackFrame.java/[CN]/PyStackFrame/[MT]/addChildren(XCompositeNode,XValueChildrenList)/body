{
  if (children == null) {
    node.addChildren(XValueChildrenList.EMPTY,true);
    return;
  }
  XValueChildrenList filteredChildren=new XValueChildrenList();
  final HashMap<String,XValue> returnedValues=new HashMap<>();
  final HashMap<String,XValue> specialValues=new HashMap<>();
  for (int i=0; i < children.size(); i++) {
    XValue value=children.getValue(i);
    String name=children.getName(i);
    if ((value instanceof PyDebugValue) && ((PyDebugValue)value).isReturnedVal()) {
      returnedValues.put(name,value);
    }
 else     if (name.startsWith(DOUBLE_UNDERSCORE) && (name.endsWith(DOUBLE_UNDERSCORE))) {
      specialValues.put(name,value);
    }
 else {
      filteredChildren.add(name,value);
    }
  }
  node.addChildren(filteredChildren,returnedValues.isEmpty() && specialValues.isEmpty());
  if (!returnedValues.isEmpty()) {
    addReturnedValuesGroup(node,returnedValues);
  }
  if (!specialValues.isEmpty()) {
    addSpecialValuesGroup(node,specialValues);
  }
}
