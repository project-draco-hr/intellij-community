{
  component.setIcon(AllIcons.Debugger.StackFrame);
  if (myPosition == null) {
    component.append("<frame not available>",SimpleTextAttributes.GRAY_ATTRIBUTES);
    return;
  }
  boolean isExternal=true;
  final VirtualFile file=myPosition.getFile();
  AccessToken lock=ApplicationManager.getApplication().acquireReadActionLock();
  try {
    final Document document=FileDocumentManager.getInstance().getDocument(file);
    if (document != null) {
      isExternal=!ProjectRootManager.getInstance(myProject).getFileIndex().isInContent(file);
    }
  }
  finally {
    lock.finish();
  }
  component.append(myFrameInfo.getName(),gray(SimpleTextAttributes.REGULAR_ATTRIBUTES,isExternal));
  component.append(", ",gray(SimpleTextAttributes.REGULAR_ATTRIBUTES,isExternal));
  component.append(myPosition.getFile().getName(),gray(SimpleTextAttributes.REGULAR_ATTRIBUTES,isExternal));
  component.append(":",gray(SimpleTextAttributes.REGULAR_ATTRIBUTES,isExternal));
  component.append(Integer.toString(myPosition.getLine() + 1),gray(SimpleTextAttributes.REGULAR_ATTRIBUTES,isExternal));
}
