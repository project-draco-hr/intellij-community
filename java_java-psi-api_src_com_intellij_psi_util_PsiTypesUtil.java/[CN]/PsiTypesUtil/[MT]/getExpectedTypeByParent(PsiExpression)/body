{
  final PsiElement parent=PsiUtil.skipParenthesizedExprUp(methodCall.getParent());
  if (parent instanceof PsiVariable) {
    if (PsiUtil.checkSameExpression(methodCall,((PsiVariable)parent).getInitializer())) {
      return ((PsiVariable)parent).getType();
    }
  }
 else   if (parent instanceof PsiAssignmentExpression) {
    if (PsiUtil.checkSameExpression(methodCall,((PsiAssignmentExpression)parent).getRExpression())) {
      return ((PsiAssignmentExpression)parent).getLExpression().getType();
    }
  }
 else   if (parent instanceof PsiReturnStatement) {
    final PsiLambdaExpression lambdaExpression=PsiTreeUtil.getParentOfType(parent,PsiLambdaExpression.class);
    if (lambdaExpression != null) {
      return null;
    }
 else {
      PsiMethod method=PsiTreeUtil.getParentOfType(parent,PsiMethod.class);
      if (method != null) {
        return method.getReturnType();
      }
    }
  }
 else   if (PsiUtil.isCondition(methodCall,parent)) {
    return PsiType.BOOLEAN.getBoxedType(parent);
  }
  return null;
}
