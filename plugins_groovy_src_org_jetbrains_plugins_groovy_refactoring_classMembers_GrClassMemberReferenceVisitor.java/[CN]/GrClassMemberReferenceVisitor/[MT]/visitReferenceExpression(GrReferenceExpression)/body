{
  GrExpression qualifier=ref.getQualifier();
  if (qualifier != null && !(PsiUtil.isThisOrSuperRef(qualifier))) {
    qualifier.accept(this);
    if (!(qualifier instanceof GrReferenceExpression) || !(((GrReferenceExpression)qualifier).resolve() instanceof PsiClass)) {
      return;
    }
  }
  PsiElement resolved=ref.resolve();
  if (resolved instanceof GrMember) {
    PsiClass containingClass=((GrMember)resolved).getContainingClass();
    if (isPartOf(myClass,containingClass)) {
      visitClassMemberReferenceElement((GrMember)resolved,ref);
    }
  }
}
