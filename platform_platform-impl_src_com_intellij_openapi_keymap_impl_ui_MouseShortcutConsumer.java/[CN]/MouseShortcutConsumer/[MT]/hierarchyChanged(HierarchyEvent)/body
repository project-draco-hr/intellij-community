{
  Component component=event.getComponent();
  if (component != null) {
    if (myComponent == null) {
      myComponent=component;
    }
    if (HierarchyEvent.SHOWING_CHANGED == (HierarchyEvent.SHOWING_CHANGED & event.getChangeFlags())) {
      if (myComponent == component) {
        Window window=!component.isShowing() ? null : UIUtil.getWindow(component);
        if (myWindow != window) {
          if (myWindow != null) {
            myWindow.removeMouseListener(myListener);
            myWindow.removeMouseWheelListener(myListener);
          }
          myWindow=window;
          if (myWindow != null) {
            myWindow.addMouseListener(myListener);
            myWindow.addMouseWheelListener(myListener);
          }
        }
      }
    }
  }
}
