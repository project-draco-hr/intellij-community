{
  VirtualFile dir1=createChildDirectory(myRoot,"dir1");
  VirtualFile dir2=createChildDirectory(myRoot,"dir2");
  VirtualFile f=createChildData(dir1,"foo.txt");
  int modificationStamp=-1;
  setBinaryContent(f,new byte[]{123},modificationStamp,4000,this);
  move(f,dir2);
  revertLastChange();
  assertNull(dir2.findChild("foo.txt"));
  f=dir1.findChild("foo.txt");
  assertNotNull(f);
  assertEquals(123,f.contentsToByteArray()[0]);
  assertEquals(4000,f.getTimeStamp());
}
