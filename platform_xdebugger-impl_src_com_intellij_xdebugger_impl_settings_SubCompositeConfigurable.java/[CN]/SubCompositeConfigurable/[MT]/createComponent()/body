{
  if (rootComponent == null) {
    if (root == null) {
      root=createRootUi();
    }
    getConfigurables();
    if (isChildrenMerged()) {
      if (children.length == 0) {
        rootComponent=root == null ? null : root.getComponent();
      }
 else       if (root == null && children.length == 1) {
        rootComponent=children[0].createComponent();
      }
 else {
        JPanel panel=new JPanel(new VerticalFlowLayout(0,IdeBorderFactory.TITLED_BORDER_BOTTOM_INSET));
        if (root != null) {
          panel.add(root.getComponent());
        }
        for (        Configurable child : children) {
          JComponent component=child.createComponent();
          if (component != null) {
            component.setBorder(IdeBorderFactory.createTitledBorder(child.getDisplayName(),false));
            panel.add(component);
          }
        }
        rootComponent=panel;
      }
    }
 else {
      rootComponent=root == null ? null : root.getComponent();
    }
  }
  return rootComponent;
}
