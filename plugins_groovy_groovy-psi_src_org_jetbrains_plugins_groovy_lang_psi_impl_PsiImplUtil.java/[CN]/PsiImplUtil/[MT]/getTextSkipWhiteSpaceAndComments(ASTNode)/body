{
  final TreeElement treeElement=(TreeElement)node;
  final int length;
{
    final GroovyBufferVisitor lengthVisitor=new GroovyBufferVisitor(true,true,0,null);
    treeElement.acceptTree(lengthVisitor);
    length=lengthVisitor.getEnd();
  }
  final char[] buffer=new char[length];
{
    final GroovyBufferVisitor textVisitor=new GroovyBufferVisitor(true,true,0,buffer);
    treeElement.acceptTree(textVisitor);
  }
  return StringFactory.createShared(buffer);
}
