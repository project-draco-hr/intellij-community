{
  final XmlTag parentTag=context.getParentTag();
  if (parentTag != null) {
    final XmlAttribute attribute=context.getAttribute(FxmlConstants.FX_CONTROLLER);
    if (attribute != null) {
      host.addMessage(((XmlAttributeImpl)attribute).getNameElement(),"fx:controller can only be applied to root element",ValidationHost.ErrorType.ERROR);
    }
  }
  PsiClass aClass=myPsiClass;
  final XmlAttribute constAttr=context.getAttribute(FxmlConstants.FX_CONSTANT);
  if (constAttr != null) {
    final PsiField constField=aClass.findFieldByName(constAttr.getValue(),false);
    if (constField != null) {
      aClass=PsiUtil.resolveClassInType(constField.getType());
    }
  }
  final String canCoerceError=JavaFxPsiUtil.isClassAcceptable(parentTag,aClass);
  if (canCoerceError != null) {
    host.addMessage(context.getNavigationElement(),canCoerceError,ValidationHost.ErrorType.ERROR);
  }
  if (aClass != null && aClass.isValid()) {
    final String message=JavaFxPsiUtil.isAbleToInstantiate(aClass);
    if (message != null) {
      host.addMessage(context,message,ValidationHost.ErrorType.ERROR);
    }
  }
}
