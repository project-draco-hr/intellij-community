{
  final CommitIdByStringCondition hashByString=new CommitIdByStringCondition(partialHash);
  CommitId commitId=myDataHolder.getHashMap().findCommitId(new Condition<CommitId>(){
    @Override public boolean value(    CommitId commitId){
      return hashByString.value(commitId) && getRowOfCommit(commitId.getHash(),commitId.getRoot()) != -1;
    }
  }
);
  return commitId != null ? getRowOfCommit(commitId.getHash(),commitId.getRoot()) : -1;
}
