{
  final Editor editor=studyState.getEditor();
  final TaskFile taskFile=studyState.getTaskFile();
  if (!resetTaskFile(editor.getDocument(),project,taskFile,studyState.getVirtualFile().getName())) {
    Messages.showInfoMessage("The initial text of task file is unavailable","Failed to Refresh Task File");
    return;
  }
  WolfTheProblemSolver.getInstance(project).clearProblems(studyState.getVirtualFile());
  taskFile.setHighlightErrors(false);
  StudyUtils.drawAllWindows(editor,taskFile);
  EduAnswerPlaceholderPainter.createGuardedBlocks(editor,taskFile,true);
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      IdeFocusManager.getInstance(project).requestFocus(editor.getContentComponent(),true);
    }
  }
);
  StudyNavigator.navigateToFirstAnswerPlaceholder(editor,taskFile);
  showBalloon(project,"You can start again now",MessageType.INFO);
}
