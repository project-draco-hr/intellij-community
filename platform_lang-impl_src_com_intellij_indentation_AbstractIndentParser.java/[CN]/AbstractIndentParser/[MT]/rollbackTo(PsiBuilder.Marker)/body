{
  marker.rollbackTo();
  myNewLine=rawLookup(-1) == null || tokenIn(rawLookup(-1),getIndentElementType(),getEolElementType());
  int step=0;
  while (rawLookup(step) != null && !tokenIn(rawLookup(step),getEolElementType())) {
    step--;
  }
  step++;
  int indentStartOffset=myBuilder.rawTokenTypeStart(step);
  int indentStopOffset=indentStartOffset;
  while (tokenIn(rawLookup(step),getIndentElementType(),TokenType.WHITE_SPACE)) {
    step++;
    indentStopOffset=myBuilder.rawTokenTypeStart(step);
  }
  myCurrentIndent=indentStopOffset - indentStartOffset;
}
