{
  V v=myMap.get(key);
  if (v != null) {
    return v;
  }
  V newV=function.apply(key);
  V prev=myMap.putIfAbsent(key,newV);
  if (prev == null) {
    addToQueue(key);
    return newV;
  }
  return prev;
}
