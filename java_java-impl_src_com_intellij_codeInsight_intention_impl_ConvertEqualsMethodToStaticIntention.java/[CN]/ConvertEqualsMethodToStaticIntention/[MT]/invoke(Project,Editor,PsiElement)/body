{
  if (!FileModificationService.getInstance().preparePsiElementsForWrite(element)) {
    return;
  }
  final PsiElement parent=element.getParent().getParent();
  LOG.assertTrue(parent instanceof PsiMethodCallExpression);
  PsiMethodCallExpression methodCall=(PsiMethodCallExpression)parent;
  final PsiExpression qualifier=methodCall.getMethodExpression().getQualifierExpression();
  final String qualifierText=qualifier == null ? PsiKeyword.THIS : qualifier.getText();
  final PsiExpression parameter=methodCall.getArgumentList().getExpressions()[0];
  final String expressionText=String.format(REPLACE_TEMPLATE,qualifierText,parameter.getText());
  methodCall.replace(JavaPsiFacade.getElementFactory(project).createExpressionFromText(expressionText,null));
}
