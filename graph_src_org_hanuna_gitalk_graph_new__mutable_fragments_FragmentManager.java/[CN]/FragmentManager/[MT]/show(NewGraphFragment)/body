{
  if (fragment.isVisible()) {
    throw new IllegalArgumentException("is not hide fragment: " + fragment);
  }
  graph.getEdgeController().removeEdge(getHideFragmentEdge(fragment));
  graph.getVisibilityController().show(fragment.getIntermediateNodes());
  Edge upDownEdge=getUpDownEdge(fragment);
  if (upDownEdge != null) {
    graph.getVisibilityController().showEdge(upDownEdge);
  }
  fragment.setVisibility(true);
  if (updateGraph) {
    return graph.intermediateUpdate(fragment.getUpNode(),fragment.getDownNode());
  }
 else {
    return Replace.ID_REPLACE;
  }
}
