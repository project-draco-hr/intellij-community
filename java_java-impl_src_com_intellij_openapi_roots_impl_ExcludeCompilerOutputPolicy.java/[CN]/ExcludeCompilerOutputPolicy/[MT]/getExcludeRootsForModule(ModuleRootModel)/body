{
  ArrayList<VirtualFilePointer> result=new ArrayList<VirtualFilePointer>();
  final CompilerModuleExtension extension=rootModel.getModuleExtension(CompilerModuleExtension.class);
  if (extension == null) {
    return VirtualFilePointer.EMPTY_ARRAY;
  }
  if (extension.isCompilerOutputPathInherited()) {
    ContainerUtil.addIfNotNull(result,CompilerProjectExtension.getInstance(myProject).getCompilerOutputPointer());
  }
 else {
    if (!extension.isExcludeOutput())     return VirtualFilePointer.EMPTY_ARRAY;
    ContainerUtil.addIfNotNull(result,extension.getCompilerOutputPointer());
    ContainerUtil.addIfNotNull(result,extension.getCompilerOutputForTestsPointer());
  }
  return result.isEmpty() ? VirtualFilePointer.EMPTY_ARRAY : result.toArray(new VirtualFilePointer[result.size()]);
}
