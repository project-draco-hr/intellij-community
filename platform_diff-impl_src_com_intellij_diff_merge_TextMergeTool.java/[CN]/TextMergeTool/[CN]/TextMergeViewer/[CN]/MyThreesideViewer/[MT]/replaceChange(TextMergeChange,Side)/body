{
  if (change.isResolved(side))   return;
  if (!change.isChange(side)) {
    markResolved(change);
    return;
  }
  ThreeSide sourceSide=side.select(ThreeSide.LEFT,ThreeSide.RIGHT);
  ThreeSide outputSide=ThreeSide.BASE;
  int outputStartLine=change.getStartLine(outputSide);
  int outputEndLine=change.getEndLine(outputSide);
  int sourceStartLine=change.getStartLine(sourceSide);
  int sourceEndLine=change.getEndLine(sourceSide);
  enterBulkChangeUpdateBlock();
  try {
    DiffUtil.applyModification(getContent(outputSide).getDocument(),outputStartLine,outputEndLine,getContent(sourceSide).getDocument(),sourceStartLine,sourceEndLine);
    if (outputStartLine == outputEndLine) {
      int newOutputEndLine=outputStartLine + (sourceEndLine - sourceStartLine);
      moveChangesAfterInsertion(change,outputStartLine,newOutputEndLine);
    }
    markResolved(change);
  }
  finally {
    exitBulkChangeUpdateBlock();
  }
}
