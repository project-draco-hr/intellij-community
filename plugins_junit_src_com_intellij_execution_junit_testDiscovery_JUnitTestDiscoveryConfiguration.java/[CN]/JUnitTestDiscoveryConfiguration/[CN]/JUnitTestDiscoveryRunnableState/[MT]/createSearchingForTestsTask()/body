{
  return new SearchForTestsTask(getProject(),myServerSocket){
    private Set<String> myPatterns;
    @Override protected void search() throws ExecutionException {
      myPatterns=TestDiscoverySearchHelper.search(getProject(),getPosition(),getChangeList(),getFrameworkPrefix());
    }
    @Override protected void onFound(){
      if (myPatterns != null) {
        try {
          addClassesListToJavaParameters(myPatterns,FunctionUtil.<String>id(),"",false,getJavaParameters());
        }
 catch (        ExecutionException ignored) {
        }
      }
    }
  }
;
}
