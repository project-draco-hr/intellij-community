{
  myHaveLink=false;
  myLink.getTreeCellRendererComponent(tree,value,selected,expanded,leaf,row,hasFocus);
  XDebuggerTreeNode node=(XDebuggerTreeNode)value;
  node.appendToComponent(this);
  setIcon(node.getIcon());
  if (myHaveLink) {
    Dimension linkSize=myLink.getPreferredSize();
    myLinkWidth=linkSize.width;
    myLink.setBounds(0,0,linkSize.width,linkSize.height);
    Rectangle treeVisibleRect=tree.getVisibleRect();
    TreePath path=tree.getPathForRow(row);
    int rowX=path != null ? ((XDebuggerTree.LinkTreeUI)tree.getUI()).getRowX(row,path.getPathCount() - 1) : 0;
    myLinkOffset=Math.min(super.getPreferredSize().width,treeVisibleRect.x + treeVisibleRect.width - myLinkWidth - rowX);
  }
  putClientProperty(AbstractExpandableItemsHandler.DISABLE_EXPANDABLE_HANDLER,myHaveLink ? true : null);
}
