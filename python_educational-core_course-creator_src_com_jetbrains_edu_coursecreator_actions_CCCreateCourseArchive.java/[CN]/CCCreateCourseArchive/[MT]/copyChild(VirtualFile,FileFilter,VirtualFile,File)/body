{
  File toFile=new File(archiveFolder.getPath(),child.getName());
  try {
    if (child.isDirectory()) {
      FileUtil.copyDir(fromFile,toFile,filter);
    }
 else {
      if (filter.accept(fromFile)) {
        FileUtil.copy(fromFile,toFile);
      }
    }
  }
 catch (  IOException e) {
    LOG.info("Failed to copy" + fromFile.getPath(),e);
  }
}
