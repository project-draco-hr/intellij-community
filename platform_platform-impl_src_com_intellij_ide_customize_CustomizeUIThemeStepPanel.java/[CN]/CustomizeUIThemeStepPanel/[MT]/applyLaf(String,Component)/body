{
  UIManager.LookAndFeelInfo info=getLookAndFeelInfo(lafName);
  if (info == null)   return;
  try {
    UIManager.setLookAndFeel(info.getClassName());
    String className=info.getClassName();
    if (lafName == DARCULA) {
      className=DarculaLookAndFeelInfo.CLASS_NAME;
    }
    if (!myInitial) {
      StartupUtil.setWizardLAF(className);
    }
    Window window=SwingUtilities.getWindowAncestor(component);
    if (window != null) {
      if (SystemInfo.isMac) {
        window.setBackground(new Color(UIUtil.getPanelBackground().getRGB()));
      }
      SwingUtilities.updateComponentTreeUI(window);
    }
    if (ApplicationManager.getApplication() != null) {
      LafManager.getInstance().setCurrentLookAndFeel(info);
    }
    if (myColumnMode) {
      myPreviewLabel.setIcon(myLafNames.get(lafName));
      myPreviewLabel.setBorder(BorderFactory.createLineBorder(UIManager.getColor("Label.disabledForeground")));
    }
  }
 catch (  ClassNotFoundException e) {
    e.printStackTrace();
  }
catch (  InstantiationException e) {
    e.printStackTrace();
  }
catch (  IllegalAccessException e) {
    e.printStackTrace();
  }
catch (  UnsupportedLookAndFeelException e) {
    e.printStackTrace();
  }
}
