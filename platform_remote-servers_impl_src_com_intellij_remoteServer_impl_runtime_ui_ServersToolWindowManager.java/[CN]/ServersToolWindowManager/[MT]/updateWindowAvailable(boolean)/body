{
  boolean available=ServersToolWindowFactory.isAvailable(myProject);
  final ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(myProject);
  final ToolWindow toolWindow=toolWindowManager.getToolWindow(WINDOW_ID);
  if (toolWindow == null) {
    if (available) {
      toolWindowManager.invokeLater(new Runnable(){
        @Override public void run(){
          createToolWindow(myProject,toolWindowManager).show(null);
        }
      }
);
    }
    return;
  }
  boolean doShow=!toolWindow.isAvailable() && available;
  if (toolWindow.isAvailable() && !available) {
    toolWindow.hide(null);
  }
  toolWindow.setAvailable(available,null);
  if (showIfAvailable && doShow) {
    toolWindow.show(null);
  }
}
