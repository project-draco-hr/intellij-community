{
  return new PsiElementVisitor(){
    @Override public void visitFile(    PsiFile file){
      final PropertiesFile propertiesFile=PropertiesImplUtil.getPropertiesFile(file);
      if (!(propertiesFile instanceof PropertiesFileImpl)) {
        return;
      }
      for (      AlphaUnsortedPropertiesFileInspectionSuppressor filter : AlphaUnsortedPropertiesFileInspectionSuppressor.EP_NAME.getExtensions()) {
        if (filter.suppressInspectionFor(propertiesFile)) {
          return;
        }
      }
      final ResourceBundle resourceBundle=propertiesFile.getResourceBundle();
      final String resourceBundleBaseName=resourceBundle.getBaseName();
      if (!isResourceBundleAlphaSortedExceptOneFile(resourceBundle,propertiesFile)) {
        final List<PropertiesFile> allFiles=resourceBundle.getPropertiesFiles();
        holder.registerProblem(file,String.format(MESSAGE_TEMPLATE_WHOLE_RESOURCE_BUNDLE,resourceBundleBaseName),ProblemHighlightType.INFO,new PropertiesSorterQuickFix(true,allFiles.toArray(new PropertiesFile[allFiles.size()])));
        return;
      }
      if (!propertiesFile.isAlphaSorted()) {
        holder.registerProblem(file,"Properties file is unsorted",ProblemHighlightType.INFO,new PropertiesSorterQuickFix(true,propertiesFile));
      }
    }
  }
;
}
