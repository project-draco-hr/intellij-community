{
  if (broken) {
    return false;
  }
  String alias=certificate.getIssuerX500Principal().getName();
  FileOutputStream stream=null;
  try {
    myKeyStore.setCertificateEntry(alias,certificate);
    stream=new FileOutputStream(myPath);
    myKeyStore.store(stream,myPassword.toCharArray());
    myTrustManager=initFactoryAndGetManager();
    return true;
  }
 catch (  Exception e) {
    LOG.error(e);
    return false;
  }
 finally {
    StreamUtil.closeStream(stream);
  }
}
