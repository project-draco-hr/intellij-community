{
  DialogWrapper dialog=new DialogWrapper(true){
{
      setTitle("Registry");
      setModal(true);
      init();
      revaliateActions();
    }
    private AbstractAction myCloseAction;
    @Nullable @Override protected JComponent createNorthPanel(){
      if (!ApplicationManager.getApplication().isInternal()) {
        JLabel warningLabel=new JLabel(XmlStringUtil.wrapInHtml("<b>Changing these values may cause unwanted behavior of " + ApplicationNamesInfo.getInstance().getFullProductName() + ". Please do not change these unless you have been asked.</b>"));
        warningLabel.setIcon(UIUtil.getWarningIcon());
        warningLabel.setForeground(JBColor.RED);
        return warningLabel;
      }
      return null;
    }
    @Override protected JComponent createCenterPanel(){
      return myContent;
    }
    @Override protected void dispose(){
      super.dispose();
      RegistryUi.this.dispose();
    }
    @Override protected String getDimensionServiceKey(){
      return "Registry";
    }
    @Override public JComponent getPreferredFocusedComponent(){
      return myTable;
    }
    @NotNull @Override protected Action[] createActions(){
      return new Action[]{myRestoreDefaultsAction,myCloseAction};
    }
    @Override protected void createDefaultActions(){
      super.createDefaultActions();
      myCloseAction=new AbstractAction("Close"){
        @Override public void actionPerformed(        @NotNull ActionEvent e){
          processClose();
          doOKAction();
        }
      }
;
      myCloseAction.putValue(DialogWrapper.DEFAULT_ACTION,true);
    }
    @Override public void doCancelAction(){
      final TableCellEditor cellEditor=myTable.getCellEditor();
      if (cellEditor != null) {
        cellEditor.stopCellEditing();
      }
      processClose();
      super.doCancelAction();
    }
  }
;
  return dialog.showAndGet();
}
