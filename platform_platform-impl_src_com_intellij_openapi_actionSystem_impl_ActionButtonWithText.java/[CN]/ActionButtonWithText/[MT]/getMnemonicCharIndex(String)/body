{
  final int mnemonicIndex=myPresentation.getDisplayedMnemonicIndex();
  if (mnemonicIndex != -1) {
    return mnemonicIndex;
  }
  final ShortcutSet shortcutSet=myAction.getShortcutSet();
  final Shortcut[] shortcuts=shortcutSet.getShortcuts();
  for (  Shortcut shortcut : shortcuts) {
    if (!(shortcut instanceof KeyboardShortcut))     continue;
    KeyboardShortcut keyboardShortcut=(KeyboardShortcut)shortcut;
    if (keyboardShortcut.getSecondKeyStroke() == null) {
      final KeyStroke keyStroke=keyboardShortcut.getFirstKeyStroke();
      final int modifiers=keyStroke.getModifiers();
      if (BitUtil.isSet(modifiers,InputEvent.ALT_MASK)) {
        return (keyStroke.getKeyChar() != KeyEvent.CHAR_UNDEFINED) ? text.indexOf(keyStroke.getKeyChar()) : text.indexOf(KeyEvent.getKeyText(keyStroke.getKeyCode()));
      }
    }
  }
  return -1;
}
