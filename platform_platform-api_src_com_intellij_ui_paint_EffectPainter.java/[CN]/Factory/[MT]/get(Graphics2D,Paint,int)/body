{
  if (paint instanceof Color) {
    Color color=(Color)paint;
    Long key=color.getRGB() ^ ((long)height << 32);
    BufferedImage image=myCache.get(key);
    boolean exists=image != null;
    if (!exists || UIUtil.isRetina(g) != (image instanceof JBHiDPIScaledImage)) {
      image=create(g,paint,height);
      if (image != null) {
        myCache.put(key,image);
      }
 else       if (exists) {
        myCache.remove(key);
      }
    }
    return image;
  }
  return create(g,paint,height);
}
