{
  final Editor editor=CommonDataKeys.EDITOR.getData(dataContext);
  PsiFile file=CommonDataKeys.PSI_FILE.getData(dataContext);
  if (file == null && editor != null && ApplicationManager.getApplication().isUnitTestMode()) {
    final Project project=editor.getProject();
    if (project != null) {
      file=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
    }
  }
  if (editor != null && file instanceof XmlFile && JavaFxFileTypeFactory.isFxml(file)) {
    final int offset=editor.getCaretModel().getOffset();
    return file.findReferenceAt(offset);
  }
  return null;
}
