{
  super.setUp();
  enableDebugLogging();
  try {
    myProjectFixture=IdeaTestFixtureFactory.getFixtureFactory().createFixtureBuilder(getTestName(true)).getFixture();
    myProjectFixture.setUp();
  }
 catch (  Exception e) {
    super.tearDown();
    throw e;
  }
  try {
    myProject=myProjectFixture.getProject();
    myProjectRoot=myProject.getBaseDir();
    myProjectPath=myProjectRoot.getPath();
    myGitSettings=GitVcsSettings.getInstance(myProject);
    myGitSettings.getAppSettings().setPathToGit(GitExecutor.PathHolder.GIT_EXECUTABLE);
    myDialogManager=(TestDialogManager)ServiceManager.getService(DialogManager.class);
    myVcsNotifier=(TestVcsNotifier)ServiceManager.getService(myProject,VcsNotifier.class);
    myGitRepositoryManager=GitUtil.getRepositoryManager(myProject);
    myPlatformFacade=ServiceManager.getService(myProject,GitPlatformFacade.class);
    myGit=ServiceManager.getService(myProject,Git.class);
    myVcs=ObjectUtils.assertNotNull(GitVcs.getInstance(myProject));
    myVcs.doActivate();
    GitTestUtil.assumeSupportedGitVersion(myVcs);
    addSilently();
    removeSilently();
  }
 catch (  Exception e) {
    tearDown();
    throw e;
  }
}
