{
  String taskDescriptionFileName=StudyUtils.getTaskDescriptionFileName(CCSettings.getInstance().useHtmlAsDefaultTaskFormat());
  FileTemplate taskTextTemplate=FileTemplateManager.getInstance(project).getInternalTemplate(taskDescriptionFileName);
  PsiDirectory taskPsiDir=PsiManager.getInstance(project).findDirectory(taskDir);
  if (taskTextTemplate != null && taskPsiDir != null) {
    String nextTaskTextName=FileUtil.getNameWithoutExtension(taskDescriptionFileName) + EduNames.STEP_MARKER + index+ "."+ FileUtilRt.getExtension(taskDescriptionFileName);
    try {
      FileTemplateUtil.createFromTemplate(taskTextTemplate,nextTaskTextName,null,taskPsiDir);
    }
 catch (    Exception e) {
      LOG.error(e);
    }
  }
}
