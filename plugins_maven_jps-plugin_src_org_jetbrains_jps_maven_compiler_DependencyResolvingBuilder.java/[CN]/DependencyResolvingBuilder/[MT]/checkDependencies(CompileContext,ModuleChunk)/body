{
  final Collection<JpsTypedLibrary<JpsSimpleElement<RepositoryLibraryDescriptor>>> libs=getRepositoryLibraries(chunk);
  if (!libs.isEmpty()) {
    final ArtifactRepositoryManager repoManager=getRepositoryManager(context);
    for (    JpsTypedLibrary<JpsSimpleElement<RepositoryLibraryDescriptor>> lib : libs) {
      final RepositoryLibraryDescriptor descriptor=lib.getProperties().getData();
      final ResourceGuard guard=ResourceGuard.get(context,descriptor);
      if (guard.requestProcessing(context.getCancelStatus())) {
        try {
          final Collection<File> resolved=repoManager.resolveDependency(descriptor.getGroupId(),descriptor.getArtifactId(),descriptor.getVersion());
          syncPaths(resolved,lib);
        }
  finally {
          guard.finish();
        }
      }
    }
  }
}
