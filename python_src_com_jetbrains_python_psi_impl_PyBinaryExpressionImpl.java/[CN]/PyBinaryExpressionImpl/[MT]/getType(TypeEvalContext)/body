{
  final PyExpression lhs=getLeftExpression();
  final PyExpression rhs=getRightExpression();
  final PsiElement operator=getPsiOperator();
  if (lhs != null && rhs != null && operator != null) {
    final PsiReference ref=getReference(PyResolveContext.noImplicits().withTypeEvalContext(context));
    if (ref != null) {
      final PsiElement resolved=ref.resolve();
      if (resolved instanceof Callable) {
        final TypeEvalContext returnTypeContext=resolved.getContainingFile() == getContainingFile() ? context : TypeEvalContext.fast();
        return ((Callable)resolved).getReturnType(returnTypeContext,null);
      }
    }
  }
  return null;
}
