{
  if (maxDepth == 0)   return null;
  expression=PsiUtil.skipParenthesizedExprDown(expression);
  return expression instanceof PsiTypeCastExpression ? extractClass(expression.getType()) : expression instanceof PsiMethodCallExpression ? getCallType(expression,maxDepth) : expression instanceof PsiReferenceExpression ? getNonCallType((PsiReferenceExpression)expression,maxDepth) : null;
}
