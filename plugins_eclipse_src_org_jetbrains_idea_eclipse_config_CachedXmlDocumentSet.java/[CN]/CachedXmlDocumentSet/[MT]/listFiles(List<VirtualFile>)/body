{
  Set<String> existingFiles=new THashSet<String>(savedContent.keySet());
  existingFiles.addAll(modifiedContent.keySet());
  for (  String key : existingFiles) {
    try {
      if (getVFile(key) == null) {
        savedContent.remove(key);
      }
      list.add(getOrCreateVFile(key));
    }
 catch (    IOException ignore) {
    }
  }
  Set<String> newFiles=new THashSet<String>(nameToDir.keySet());
  newFiles.removeAll(existingFiles);
  for (  String name : newFiles) {
    VirtualFile vFile=getVFile(name);
    if (vFile != null) {
      list.add(vFile);
    }
  }
}
