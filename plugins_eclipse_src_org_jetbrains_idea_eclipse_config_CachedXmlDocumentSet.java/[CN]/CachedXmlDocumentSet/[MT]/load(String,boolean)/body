{
  assertKnownName(name);
  Document logical=modifiedContent.get(name);
  if (logical != null) {
    return logical;
  }
  Document physical=savedContent.get(name);
  if (physical == null) {
    VirtualFile file=deletedContent.contains(name) ? null : getFile(name,refresh);
    if (file == null) {
      return null;
    }
    InputStream inputStream=file.getInputStream();
    try {
      physical=JDOMUtil.loadDocument(inputStream);
    }
  finally {
      inputStream.close();
    }
    savedContent.put(name,physical);
  }
  return physical;
}
