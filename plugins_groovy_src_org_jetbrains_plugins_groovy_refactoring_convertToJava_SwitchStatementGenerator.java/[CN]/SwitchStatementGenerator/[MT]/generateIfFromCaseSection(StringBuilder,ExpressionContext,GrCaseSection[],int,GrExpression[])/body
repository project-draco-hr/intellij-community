{
  GenerationUtil.writeStatement(builder,context,null,new StatementWriter(){
    @Override public void writeStatement(    StringBuilder builder,    ExpressionContext context){
      if (caseSections.length == 1) {
        final GrCaseLabel[] labels=caseSections[0].getCaseLabels();
        if (labels.length == 1 && labels[0].isDefault()) {
          builder.append("if(true)");
        }
      }
      GrCaseSection section=caseSections[i];
      final GrCaseLabel[] labels=section.getCaseLabels();
      final boolean isCase=labels.length > 1 || !labels[0].isDefault();
      if (isCase) {
        writeCondition(builder,context,section,labels,args);
      }
      writeCaseBody(builder,context,i,caseSections);
      if (isCase && i != caseSections.length - 1) {
        builder.append("\nelse ");
        StringBuilder elseBuilder=new StringBuilder();
        final ExpressionContext elseContext=context.extend();
        generateIfFromCaseSection(elseBuilder,elseContext,caseSections,i + 1,args);
        GenerationUtil.insertStatementFromContextBefore(builder,elseContext);
        builder.append(elseBuilder);
      }
      if (context.myStatements.size() > 0) {
        context.setInsertCurlyBrackets();
      }
    }
  }
);
}
