{
  DiffRequest request=e.getData(DiffDataKeys.DIFF_REQUEST);
  FrameDiffTool.DiffContext context=e.getData(DiffDataKeys.DIFF_CONTEXT);
  if (DiffUtil.getUserData(request,context,DiffUserDataKeys.GO_TO_SOURCE_DISABLE) != null) {
    e.getPresentation().setVisible(false);
    e.getPresentation().setEnabled(false);
  }
  if (e.getProject() == null) {
    e.getPresentation().setVisible(true);
    e.getPresentation().setEnabled(false);
    return;
  }
  if (getDescriptor(e.getDataContext()) == null) {
    e.getPresentation().setVisible(true);
    e.getPresentation().setEnabled(false);
    return;
  }
  e.getPresentation().setEnabledAndVisible(true);
}
