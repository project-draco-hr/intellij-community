{
synchronized (myFileModuleMap) {
    myFileModuleMap.clear();
    for (    Map.Entry<String,String> entry : state.map.entrySet()) {
      final VirtualFile file=myFileManager.findFileByUrl(entry.getKey());
      final Module module=myModuleManager.findModuleByName(entry.getValue());
      if (file != null) {
        myFileModuleMap.put(file,module);
      }
    }
  }
}
