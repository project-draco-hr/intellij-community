{
  long deadline=System.currentTimeMillis() + unit.toMillis(timeout);
  executor.setKeepAliveTime(1,TimeUnit.NANOSECONDS);
  while (executor.getPoolSize() != 0 && System.currentTimeMillis() < deadline) {
    executor.setCorePoolSize(0);
    TimeoutUtil.sleep(1);
  }
  if (executor.getPoolSize() != 0) {
    String dump=ThreadDumper.dumpThreadsToString();
    System.err.println("Executor " + executor + " is still active after "+ unit.toSeconds(timeout)+ " seconds://///\n"+ dump+ "\n/////");
  }
}
