{
  PyFunction pyFunction=PyUtil.getElementOrContaining(element,PyFunction.class);
  if (pyFunction == null || !PythonUnitTestUtil.isTestCaseFunction(pyFunction))   return null;
  final PyClass containingClass=pyFunction.getContainingClass();
  if (containingClass == null)   return null;
  final RunnerAndConfigurationSettings settings=makeConfigurationSettings(location,"tests from function");
  final PythonUnitTestRunConfiguration configuration=(PythonUnitTestRunConfiguration)settings.getConfiguration();
  configuration.setTestType(TestType.TEST_METHOD);
  configuration.setMethodName(pyFunction.getName());
  configuration.setClassName(containingClass.getName());
  if (!setupConfigurationScript(configuration,pyFunction))   return null;
  configuration.setName(configuration.suggestedName());
  return settings;
}
