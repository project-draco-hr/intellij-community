{
  PsiElement file=element.getContainingFile();
  if (file == null || !(file instanceof PyFile))   return null;
  final PyFile pyFile=(PyFile)file;
  final List<PyClass> testCases=PythonUnitTestUtil.getTestCaseClassesFromFile(pyFile);
  if (testCases.isEmpty())   return null;
  final RunnerAndConfigurationSettings settings=makeConfigurationSettings(location,"tests from file");
  final PythonUnitTestRunConfiguration configuration=(PythonUnitTestRunConfiguration)settings.getConfiguration();
  configuration.setTestType(TestType.TEST_SCRIPT);
  if (!setupConfigurationScript(configuration,pyFile))   return null;
  configuration.setName(configuration.suggestedName());
  return settings;
}
