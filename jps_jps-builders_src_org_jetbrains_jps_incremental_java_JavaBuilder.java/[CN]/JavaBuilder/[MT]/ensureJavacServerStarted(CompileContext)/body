{
  ExternalJavacManager server=ExternalJavacManager.KEY.get(context);
  if (server != null) {
    return server;
  }
  final int listenPort=findFreePort();
  server=new ExternalJavacManager(Utils.getSystemRoot()){
    @Override protected ExternalJavacProcessHandler createProcessHandler(    @NotNull Process process,    @NotNull String commandLine){
      return new ExternalJavacProcessHandler(process,commandLine){
        @Override @NotNull protected Future<?> executeOnPooledThread(        @NotNull Runnable task){
          return SharedThreadPool.getInstance().executeOnPooledThread(task);
        }
      }
;
    }
  }
;
  server.start(listenPort);
  ExternalJavacManager.KEY.set(context,server);
  return server;
}
