{
  try {
    final SvnCopyPathTracker pathTracker=new SvnCopyPathTracker(repositoryUrl.toDecodedString(),repositoryRelativeUrl);
    logger.doLog(url,null,SVNRevision.UNDEFINED,SVNRevision.HEAD,revisionBefore,false,true,false,0,null,new ISVNLogEntryHandler(){
      public void handleLogEntry(      SVNLogEntry logEntry){
        checkDisposed();
        if (logEntry.getDate() != null) {
          pathTracker.accept(logEntry);
          if (logEntry.getRevision() == revisionBefore.getNumber()) {
            changeList[0]=createChangeList(logEntry);
          }
        }
      }
    }
);
    FilePath path=pathTracker.getFilePath(myVcs);
    return path == null ? filePath : path;
  }
 catch (  SVNException e) {
    LOG.info(e);
    throw new VcsException(e);
  }
}
