{
  boolean result=false;
  rootUrlInfo=myVcs.getSvnFileUrlMapping().getWcRootForFilePath(new File(file.getPath()));
  if (rootUrlInfo != null) {
    changeList=new SvnChangeList[1];
    revisionBefore=((SvnRevisionNumber)number).getRevision();
    repositoryUrl=rootUrlInfo.getRepositoryUrlUrl();
    svnRootUrl=rootUrlInfo.getAbsoluteUrlAsUrl();
    svnRootLocation=new SvnRepositoryLocation(rootUrlInfo.getAbsoluteUrl());
    repositoryRelativeUrl=SvnUtil.ensureStartSlash(SvnUtil.join(SvnUtil.getRelativeUrl(repositoryUrl.toDecodedString(),svnRootUrl.toDecodedString()),SvnUtil.getRelativePath(rootUrlInfo.getPath(),file.getPath())));
    filePath=VcsUtil.getFilePath(file);
    logger=myVcs.createLogClient();
    result=true;
  }
  return result;
}
