{
  InspectionProfile profile=InspectionProjectProfileManager.getInstance(file.getProject()).getInspectionProfile();
  final UnusedDeclarationInspectionBase myDeadCodeInspection=(UnusedDeclarationInspectionBase)profile.getUnwrappedTool(UnusedDeclarationInspectionBase.SHORT_NAME,file);
  HighlightDisplayKey myDeadCodeKey=HighlightDisplayKey.find(UnusedDeclarationInspectionBase.SHORT_NAME);
  final boolean myDeadCodeEnabled=myDeadCodeInspection != null && profile.isToolEnabled(myDeadCodeKey,file) && myDeadCodeInspection.isGlobalEnabledInEditor();
  return new PostHighlightingPass(myProject,file,editor,document,highlightInfoProcessor,new Predicate<PsiElement>(){
    @Override public boolean apply(    PsiElement member){
      return !myDeadCodeEnabled || myDeadCodeInspection.isEntryPoint(member);
    }
  }
){
    @Override protected boolean isUnusedImportEnabled(    HighlightDisplayKey unusedImportKey){
      return super.isUnusedImportEnabled(unusedImportKey) && PostHighlightingPassFactory.isUnusedImportEnabled(file);
    }
  }
;
}
