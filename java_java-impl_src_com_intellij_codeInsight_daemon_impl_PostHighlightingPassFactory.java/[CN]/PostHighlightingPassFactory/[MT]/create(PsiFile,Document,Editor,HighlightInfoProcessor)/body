{
  InspectionProfile profile=InspectionProjectProfileManager.getInstance(file.getProject()).getInspectionProfile();
  final UnusedDeclarationInspection myDeadCodeInspection=(UnusedDeclarationInspection)profile.getUnwrappedTool(UnusedDeclarationInspection.SHORT_NAME,file);
  HighlightDisplayKey myDeadCodeKey=HighlightDisplayKey.find(UnusedDeclarationInspection.SHORT_NAME);
  final boolean myDeadCodeEnabled=profile.isToolEnabled(myDeadCodeKey,file);
  return new PostHighlightingPass(myProject,file,editor,document,highlightInfoProcessor,new Predicate<PsiElement>(){
    @Override public boolean apply(    PsiElement member){
      return !myDeadCodeEnabled || myDeadCodeInspection.isEntryPoint(member);
    }
  }
){
    @Override protected boolean isUnusedImportEnabled(    HighlightDisplayKey unusedImportKey){
      return super.isUnusedImportEnabled(unusedImportKey) && PostHighlightingPassFactory.isUnusedImportEnabled(file);
    }
  }
;
}
