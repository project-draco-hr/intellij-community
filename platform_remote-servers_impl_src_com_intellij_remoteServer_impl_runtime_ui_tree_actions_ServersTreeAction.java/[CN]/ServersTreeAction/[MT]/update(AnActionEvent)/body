{
  Presentation presentation=e.getPresentation();
  List<T> targetNodes=getTargetNodes(e);
  boolean visible;
  boolean enabled;
  if (targetNodes == null) {
    visible=false;
    enabled=false;
  }
 else {
    visible=true;
    enabled=true;
    for (    T targetNode : targetNodes) {
      visible&=isVisible4(targetNode);
      enabled&=visible && isEnabled4(targetNode);
    }
  }
  presentation.setVisible(visible);
  presentation.setEnabled(enabled);
  updatePresentation(presentation,ContainerUtil.getFirstItem(targetNodes));
}
