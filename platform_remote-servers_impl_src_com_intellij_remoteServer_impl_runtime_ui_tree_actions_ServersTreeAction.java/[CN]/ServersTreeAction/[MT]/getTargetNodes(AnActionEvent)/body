{
  ServersToolWindowContent content=getContent(e);
  if (content == null) {
    return null;
  }
  Set<Object> selectedElements=content.getBuilder().getSelectedElements();
  int selectionCount=selectedElements.size();
  if (selectionCount == 0 || selectionCount > 1 && !isMultiSelectionAllowed()) {
    return null;
  }
  Class<T> targetNodeClass=getTargetNodeClass();
  List<T> result=new ArrayList<T>();
  for (  Object selectedElement : selectedElements) {
    ServersTreeNode node=(ServersTreeNode)selectedElement;
    if (!targetNodeClass.isInstance(node)) {
      return null;
    }
    result.add(targetNodeClass.cast(node));
  }
  return result;
}
