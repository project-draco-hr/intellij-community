{
  if (configurable == null) {
    myGlassPanel.clear();
    myVisible=false;
  }
 else   if (component != null) {
    myGlassPanel.clear();
    String text=filter.getFilterText();
    myVisible=!text.isEmpty();
    if (myVisible) {
      try {
        SearchableConfigurable searchable=new SearchableConfigurable.Delegate(configurable);
        SearchUtil.lightOptions(searchable,component,text,myGlassPanel).run();
        Runnable search=searchable.enableSearch(text);
        if (search != null && !filter.contains(configurable) && !text.equals(myConfigurableOption.get(configurable))) {
          search.run();
        }
      }
  finally {
        myConfigurableOption.put(configurable,text);
      }
    }
  }
 else   if (!ApplicationManager.getApplication().isUnitTestMode()) {
    updateLater();
    return;
  }
  fireNeedsRepaint(myGlassPanel);
}
