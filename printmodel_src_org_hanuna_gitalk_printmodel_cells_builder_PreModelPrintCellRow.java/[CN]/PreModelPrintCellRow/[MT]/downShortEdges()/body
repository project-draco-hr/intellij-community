{
  GetterPosition getter=new GetterPosition();
  getter.prepare(visibleCells(rowIndex + 1));
  List<ShortEdge> shortEdges=new ArrayList<ShortEdge>();
  for (int p=0; p < visibleCells.size(); p++) {
    Cell cell=visibleCells.get(p);
    if (cell.getClass() == NodeCell.class) {
      Node node=((NodeCell)cell).getNode();
      for (      Edge edge : node.getDownEdges()) {
        int to=getter.getPosition(edge);
        shortEdges.add(new ShortEdge(edge,p,to));
      }
    }
  }
  for (int p=0; p < visibleCells.size(); p++) {
    Cell cell=visibleCells.get(p);
    if (cell.getClass() == EdgeCell.class) {
      final Edge edge=((EdgeCell)cell).getEdge();
      int to=getter.getPosition(edge);
      shortEdges.add(new ShortEdge(edge,p,to));
    }
  }
  return ReadOnlyList.newReadOnlyList(shortEdges);
}
