{
  if (myInMemoryMode.get()) {
synchronized (myInMemoryKeys) {
      myInMemoryKeys.put(inputId,newData.keySet());
    }
  }
 else {
    if (myHasSnapshotMapping) {
      saveInputHashId(inputId,savedInputId);
    }
 else {
      if (newData.size() > 0) {
        myInputsIndex.put(inputId,newData.keySet());
      }
 else {
        myInputsIndex.remove(inputId);
      }
    }
  }
}
