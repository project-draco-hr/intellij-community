{
  final Change change=context.createMovedChange(createBeforeRevision(deletedFile,true),CurrentContentRevision.create(oldPath),copiedStatus,deletedFile.getStatus());
  final boolean isUnder=dirtyScope == null ? true : ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
    @Override public Boolean compute(){
      return ChangeListManagerImpl.isUnder(change,dirtyScope);
    }
  }
);
  if (isUnder) {
    context.getBuilder().removeRegisteredChangeFor(oldPath);
    context.getBuilder().processChangeInList(change,clName,SvnVcs.getKey());
    deletedToDelete.add(deletedFile);
  }
}
