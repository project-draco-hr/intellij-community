{
  GithubAuthData auth=GithubSettings.getInstance().getAuthData();
  try {
    if (auth.getAuthType() == GithubAuthData.AuthType.ANONYMOUS) {
      throw new GithubAuthenticationException("Bad authentication type");
    }
    task.consume(auth);
    return auth;
  }
 catch (  GithubAuthenticationException e) {
    auth=getValidAuthData(project,indicator);
    task.consume(auth);
    return auth;
  }
}
