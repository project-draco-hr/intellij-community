{
  GithubAuthData auth=authHolder.getAuthData();
  try {
    if (auth.getAuthType() != GithubAuthData.AuthType.BASIC) {
      throw new GithubAuthenticationException("Expected basic authentication");
    }
    return task.convert(auth);
  }
 catch (  GithubTwoFactorAuthenticationException e) {
    getTwoFactorAuthData(project,authHolder,indicator,auth);
    return runTaskWithBasicAuthForHost(project,authHolder,indicator,host,task);
  }
catch (  GithubAuthenticationException e) {
    getValidBasicAuthDataForHost(project,authHolder,indicator,auth,host);
    return runTaskWithBasicAuthForHost(project,authHolder,indicator,host,task);
  }
}
