{
synchronized (authHolder.myLock) {
    if (authHolder.getAuthData() != oldAuth) {
      return;
    }
    final GithubLoginDialog dialog=new GithubLoginDialog(project,authHolder);
    ApplicationManager.getApplication().invokeAndWait(new Runnable(){
      @Override public void run(){
        DialogManager.show(dialog);
      }
    }
,indicator.getModalityState());
    if (!dialog.isOK()) {
      throw new GithubOperationCanceledException("Can't get valid credentials");
    }
    GithubSettings.getInstance().setAuthData(authHolder.getAuthData(),dialog.isSavePasswordSelected());
  }
}
