{
  final AtomicReference<T> dataRef=new AtomicReference<T>();
  ProgressManager.getInstance().run(new Task.Modal(project,caption,true){
    public void run(    @NotNull ProgressIndicator indicator){
      dataRef.set(task.convert(indicator));
    }
  }
);
  return dataRef.get();
}
