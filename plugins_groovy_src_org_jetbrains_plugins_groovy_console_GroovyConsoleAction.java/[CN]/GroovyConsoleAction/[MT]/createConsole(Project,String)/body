{
  return new GroovyConsoleImpl(project,title){
    @Override protected boolean isShell(){
      return false;
    }
    @NotNull @Override protected String addToHistoryInner(    @NotNull TextRange textRange,    @NotNull EditorEx editor,    boolean erase,    boolean preserveMarkup){
      final String result=super.addToHistoryInner(textRange,editor,erase,preserveMarkup);
      processCode();
      return result;
    }
  }
;
}
