{
  File root=new File(PathManagerEx.getTestDataPath());
  File testRoot=new File(new File(root,"vfs"),"relativePath");
  VirtualFile vTestRoot=LocalFileSystem.getInstance().findFileByIoFile(testRoot);
  assertNotNull(vTestRoot);
  assertTrue(vTestRoot.isDirectory());
  File subDir=new File(testRoot,"subDir");
  VirtualFile vSubDir=LocalFileSystem.getInstance().findFileByIoFile(subDir);
  assertNotNull(vSubDir);
  File subSubDir=new File(subDir,"subSubDir");
  VirtualFile vSubSubDir=LocalFileSystem.getInstance().findFileByIoFile(subSubDir);
  assertNotNull(vSubSubDir);
  assertEquals("subDir",VfsUtilCore.getRelativePath(vSubDir,vTestRoot,'/'));
  assertEquals("subDir/subSubDir",VfsUtilCore.getRelativePath(vSubSubDir,vTestRoot,'/'));
  assertEquals("",VfsUtilCore.getRelativePath(vTestRoot,vTestRoot,'/'));
}
