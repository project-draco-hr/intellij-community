{
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    for (    PyExpression expression : cls.getSuperClassExpressions()) {
      if (expression.getText().equals("TestCase"))       return true;
    }
  }
  for (  PyClassLikeType type : cls.getAncestorTypes(TypeEvalContext.codeInsightFallback())) {
    if (type != null && testQualifiedNames.contains(type.getClassQName())) {
      return true;
    }
  }
  return false;
}
