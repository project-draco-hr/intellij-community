{
  PsiElement completeExpression=element;
  boolean found=false;
  while (true) {
    final PsiElement parent=completeExpression.getParent();
    if (!(parent instanceof PsiReferenceExpression)) {
      break;
    }
    final PsiElement grandParent=parent.getParent();
    if (isToStringCall(grandParent)) {
      found=true;
    }
 else     if (!isAppendCall(grandParent)) {
      return null;
    }
    completeExpression=grandParent;
    if (found) {
      return (PsiExpression)completeExpression;
    }
  }
  return null;
}
