{
  if (isImport(node,false)) {
    return CodeFoldingSettings.getInstance().COLLAPSE_IMPORTS;
  }
  if (node.getElementType() == PyElementTypes.STRING_LITERAL_EXPRESSION) {
    if (getDocStringOwnerType(node) == PyElementTypes.FUNCTION_DECLARATION && CodeFoldingSettings.getInstance().COLLAPSE_METHODS) {
      return false;
    }
    return CodeFoldingSettings.getInstance().COLLAPSE_DOC_COMMENTS;
  }
  if (node.getElementType() == PyElementTypes.STATEMENT_LIST && node.getTreeParent().getElementType() == PyElementTypes.FUNCTION_DECLARATION) {
    return CodeFoldingSettings.getInstance().COLLAPSE_METHODS;
  }
  return false;
}
