{
  if (reference instanceof PsiJavaCodeReferenceElement) {
    String name=((PsiJavaCodeReferenceElement)reference).getReferenceName();
    if (name != null) {
      try {
        return TargetType.valueOf(name);
      }
 catch (      IllegalArgumentException ignore) {
      }
    }
  }
  PsiElement field=reference.resolve();
  if (field instanceof PsiEnumConstant) {
    String name=((PsiEnumConstant)field).getName();
    try {
      return TargetType.valueOf(name);
    }
 catch (    IllegalArgumentException e) {
      LOG.warn("Unknown target: " + name);
    }
  }
  return null;
}
