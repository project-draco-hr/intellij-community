{
  List<GraphCommit> commits=SimpleCommitListParser.parseCommitList(in);
  GraphFlags flags=new GraphFlags(commits.size());
  Pair<PermanentGraphImpl,Map<Integer,GraphCommit>> graphAndCommitsWithNotLoadParent=PermanentGraphBuilder.build(flags.getSimpleNodeFlags(),commits);
  Map<Integer,GraphCommit> commitsWithNotLoadParent=graphAndCommitsWithNotLoadParent.second;
  PermanentGraph graph=graphAndCommitsWithNotLoadParent.first;
  String actual=permanentGraphTorStr(graph);
  if (!commitsWithNotLoadParent.isEmpty()) {
    actual+="\nNOT LOAD MAP:\n";
    actual+=commitsWithNotLoadParentMapToStr(commitsWithNotLoadParent);
  }
  assertEquals(out,actual);
}
