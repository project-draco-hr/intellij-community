{
  if (!isAvailable())   return;
  Project project=event.getProject();
  CreateDesktopEntryDialog dialog=new CreateDesktopEntryDialog(project);
  if (!dialog.showAndGet()) {
    return;
  }
  final boolean globalEntry=dialog.myGlobalEntryCheckBox.isSelected();
  ProgressManager.getInstance().run(new Task.Backgroundable(project,ApplicationBundle.message("desktop.entry.title")){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      createDesktopEntry(getProject(),indicator,globalEntry);
    }
  }
);
}
