{
  Map<String,JpsRunConfigurationPropertiesSerializer<?>> serializers=new HashMap<String,JpsRunConfigurationPropertiesSerializer<?>>();
  for (  JpsModelSerializerExtension extension : JpsModelSerializerExtension.getExtensions()) {
    for (    JpsRunConfigurationPropertiesSerializer<?> serializer : extension.getRunConfigurationPropertiesSerializers()) {
      serializers.put(serializer.getTypeId(),serializer);
    }
  }
  for (  Element configurationTag : JDOMUtil.getChildren(runManagerTag,"configuration")) {
    if (Boolean.parseBoolean(configurationTag.getAttributeValue("default"))) {
      continue;
    }
    String typeId=configurationTag.getAttributeValue("type");
    JpsRunConfigurationPropertiesSerializer<?> serializer=serializers.get(typeId);
    String name=configurationTag.getAttributeValue("name");
    if (serializer != null) {
      loadRunConfiguration(name,configurationTag,serializer,project);
    }
 else     if (typeId != null) {
      project.addRunConfiguration(name,new JpsUnknownRunConfigurationType(typeId),JpsElementFactory.getInstance().createDummyElement());
    }
 else {
      LOG.info("Run configuration '" + name + "' wasn't loaded because 'type' attribute is missing");
    }
  }
}
