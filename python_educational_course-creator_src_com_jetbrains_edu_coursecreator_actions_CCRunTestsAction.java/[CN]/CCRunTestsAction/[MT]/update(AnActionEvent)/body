{
  final Presentation presentation=e.getPresentation();
  if (!CCProjectService.setCCActionAvailable(e)) {
    presentation.setEnabledAndVisible(false);
    return;
  }
  presentation.setEnabledAndVisible(false);
  final ConfigurationContext context=ConfigurationContext.getFromContext(e.getDataContext());
  Location location=context.getLocation();
  if (location == null) {
    return;
  }
  PsiElement psiElement=location.getPsiElement();
  PsiFile psiFile=psiElement.getContainingFile();
  Project project=e.getProject();
  if (project == null || psiFile == null) {
    return;
  }
  TaskFile taskFile=CCProjectService.getInstance(project).getTaskFile(psiFile.getVirtualFile());
  if (taskFile == null) {
    return;
  }
  if (psiFile.getName().contains(".answer")) {
    presentation.setEnabledAndVisible(true);
    presentation.setText("Run tests from '" + FileUtil.getNameWithoutExtension(psiFile.getName()) + "'");
  }
}
