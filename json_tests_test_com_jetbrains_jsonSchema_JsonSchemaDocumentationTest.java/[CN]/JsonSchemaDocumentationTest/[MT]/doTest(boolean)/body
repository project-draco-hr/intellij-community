{
  String pathToSchema=getTestDataPath() + "/" + getTestName(true)+ "_schema.json";
  String schemaText=FileUtil.loadTextAndClose(new FileReader(pathToSchema));
  JsonSchemaHighlightingTest.registerProvider(getProject(),schemaText);
  final JsonSchemaDocumentationProvider provider=new JsonSchemaDocumentationProvider();
  LanguageDocumentation.INSTANCE.addExplicitExtension(JsonLanguage.INSTANCE,provider);
  Disposer.register(getTestRootDisposable(),new Disposable(){
    @Override public void dispose(){
      LanguageDocumentation.INSTANCE.removeExplicitExtension(JsonLanguage.INSTANCE,provider);
      JsonSchemaTestServiceImpl.setProvider(null);
    }
  }
);
  myFixture.configureByFile(getTestName(true) + ".json");
  Editor editor=myFixture.getEditor();
  PsiFile file=myFixture.getFile();
  PsiElement psiElement=DocumentationManager.getInstance(getProject()).findTargetElement(editor,file);
  assertDocumentation(psiElement,psiElement,hasDoc);
}
