{
  pushCommitFromBro();
  cd(myRepository);
  git("checkout -b feature");
  final Ref<Boolean> dialogShown=Ref.create(false);
  myDialogManager.registerDialogHandler(GitRejectedPushUpdateDialog.class,new TestDialogHandler(){
    @Override public int handleDialog(    DialogWrapper dialog){
      dialogShown.set(true);
      return DialogWrapper.CANCEL_EXIT_CODE;
    }
  }
);
  GitPushResult result=push("feature","origin/master");
  assertFalse("Rejected push dialog shouldn't be shown",dialogShown.get());
  assertResult(REJECTED,-1,"feature","origin/master",result);
}
