{
  cd(myRepository);
  git("tag v1");
  refresh();
  PushSpec<GitPushSource,GitPushTarget> spec=makePushSpec(myRepository,"master","origin/master");
  GitPushResult pushResult=new GitPushOperation(myProject,myPushSupport,singletonMap(myRepository,spec),GitPushTagMode.ALL,false).execute();
  GitPushRepoResult result=pushResult.getResults().get(myRepository);
  List<String> pushedTags=result.getPushedTags();
  assertEquals(1,pushedTags.size());
  assertEquals("refs/tags/v1",pushedTags.get(0));
}
