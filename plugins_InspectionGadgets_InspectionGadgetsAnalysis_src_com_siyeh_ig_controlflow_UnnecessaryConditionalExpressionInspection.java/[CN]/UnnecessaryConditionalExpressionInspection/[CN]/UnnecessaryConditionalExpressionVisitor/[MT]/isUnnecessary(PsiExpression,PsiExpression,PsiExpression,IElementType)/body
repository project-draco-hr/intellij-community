{
  if (!(condition instanceof PsiBinaryExpression)) {
    return false;
  }
  final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)condition;
  final IElementType token=binaryExpression.getOperationTokenType();
  if (token != expectedToken) {
    return false;
  }
  final EquivalenceChecker equivalence=EquivalenceChecker.getCanonicalPsiEquivalence();
  final PsiExpression lhs=binaryExpression.getLOperand();
  final PsiExpression rhs=binaryExpression.getROperand();
  return equivalence.expressionsAreEquivalent(thenExpression,lhs) && equivalence.expressionsAreEquivalent(elseExpression,rhs) || equivalence.expressionsAreEquivalent(thenExpression,rhs) && equivalence.expressionsAreEquivalent(elseExpression,lhs);
}
