{
  for (int pos=0; pos < externalName.length(); pos++) {
    if (externalName.charAt(pos) == '$') {
      PsiClass anonymousClass=findNonQualifiedClassByIndex(externalName.substring(0,pos),psiClass,jvmCompatible);
      if (anonymousClass == null)       return null;
      PsiClass res=findPsiClass(psiManager,externalName.substring(pos),anonymousClass,jvmCompatible);
      if (res != null)       return res;
    }
  }
  return findNonQualifiedClassByIndex(externalName,psiClass,jvmCompatible);
}
