{
  TObjectIntHashMap<PsiClass> indices=CachedValuesManager.getCachedValue(containingClass,new CachedValueProvider<TObjectIntHashMap<PsiClass>>(){
    @Nullable @Override public Result<TObjectIntHashMap<PsiClass>> compute(){
      final TObjectIntHashMap<PsiClass> map=new TObjectIntHashMap<PsiClass>();
      int index=0;
      for (      PsiClass aClass : SyntaxTraverser.psiTraverser().withRoot(containingClass).postOrderDfsTraversal().filter(PsiClass.class)) {
        if (aClass.getQualifiedName() == null) {
          map.put(aClass,++index);
        }
      }
      return Result.create(map,containingClass);
    }
  }
);
  return indices.get(psiClass);
}
