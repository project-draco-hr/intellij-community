{
  extend(CompletionType.BASIC,PlatformPatterns.psiElement().withLanguage(PythonLanguage.getInstance()).withParents(PyReferenceExpression.class,PyExpressionStatement.class,PyStatementList.class,PyClass.class).and(hasLanguageLevel(new Processor<LanguageLevel>(){
    @Override public boolean process(    LanguageLevel level){
      return level.isOlderThan(LanguageLevel.PYTHON30);
    }
  }
)),new CompletionProvider<CompletionParameters>(){
    @Override protected void addCompletions(    @NotNull CompletionParameters parameters,    ProcessingContext context,    @NotNull CompletionResultSet result){
      result.addElement(LookupElementBuilder.create("__metaclass__ = "));
    }
  }
);
  extend(CompletionType.BASIC,PlatformPatterns.psiElement().withLanguage(PythonLanguage.getInstance()).withParents(PyReferenceExpression.class,PyArgumentList.class,PyClass.class).and(hasLanguageLevel(new Processor<LanguageLevel>(){
    @Override public boolean process(    LanguageLevel level){
      return level.isAtLeast(LanguageLevel.PYTHON30);
    }
  }
)),new CompletionProvider<CompletionParameters>(){
    @Override protected void addCompletions(    @NotNull CompletionParameters parameters,    ProcessingContext context,    @NotNull CompletionResultSet result){
      result.addElement(LookupElementBuilder.create("metaclass="));
    }
  }
);
}
