{
  if (CommonDataKeys.VIRTUAL_FILE.is(dataId)) {
    return new ResourceBundleAsVirtualFile(myResourceBundle);
  }
 else   if (PlatformDataKeys.FILE_EDITOR.is(dataId)) {
    return getFileEditor();
  }
 else   if (LangDataKeys.PSI_ELEMENT_ARRAY.is(dataId)) {
    final Collection<ResourceBundleEditorViewElement> selectedElements=((ResourceBundleEditor)getFileEditor()).getSelectedElements();
    if (selectedElements.isEmpty()) {
      return null;
    }
 else     if (selectedElements.size() == 1) {
      return ContainerUtil.getFirstItem(selectedElements).getPsiElements();
    }
 else {
      final List<PsiElement> psiElements=new ArrayList<PsiElement>();
      for (      ResourceBundleEditorViewElement selectedElement : selectedElements) {
        Collections.addAll(psiElements,selectedElement.getPsiElements());
      }
      return psiElements.toArray(new PsiElement[psiElements.size()]);
    }
  }
 else   if (PlatformDataKeys.DELETE_ELEMENT_PROVIDER.is(dataId)) {
    final PsiElement[] psiElements=LangDataKeys.PSI_ELEMENT_ARRAY.getData(this);
    if (psiElements != null && psiElements.length > 0) {
      return new PsiElementsDeleteProvider(((ResourceBundleEditor)getFileEditor()).getPropertiesInsertDeleteManager(),psiElements);
    }
  }
 else   if (UsageView.USAGE_TARGETS_KEY.is(dataId)) {
    final PsiElement[] chosenElements=(PsiElement[])getData(LangDataKeys.PSI_ELEMENT_ARRAY.getName());
    if (chosenElements != null) {
      final UsageTarget[] usageTargets=new UsageTarget[chosenElements.length];
      for (int i=0; i < chosenElements.length; i++) {
        usageTargets[i]=new PsiElement2UsageTargetAdapter(chosenElements[i]);
      }
      return usageTargets;
    }
  }
 else   if (PlatformDataKeys.COPY_PROVIDER.is(dataId)) {
    return new CopyProvider(){
      @Override public void performCopy(      @NotNull final DataContext dataContext){
        final PsiElement[] selectedPsiElements=(PsiElement[])getData(LangDataKeys.PSI_ELEMENT_ARRAY.getName());
        if (selectedPsiElements != null) {
          final List<String> names=new ArrayList<String>(selectedPsiElements.length);
          for (          final PsiElement element : selectedPsiElements) {
            if (element instanceof PsiNamedElement) {
              names.add(((PsiNamedElement)element).getName());
            }
          }
          CopyPasteManager.getInstance().setContents(new StringSelection(StringUtil.join(names,"\n")));
        }
      }
      @Override public boolean isCopyEnabled(      @NotNull final DataContext dataContext){
        return true;
      }
      @Override public boolean isCopyVisible(      @NotNull final DataContext dataContext){
        return true;
      }
    }
;
  }
  return super.getData(dataId);
}
