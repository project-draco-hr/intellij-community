{
  Collection<VirtualFile> files=FileTypeIndex.getFiles(PythonFileType.INSTANCE,PyProjectScopeBuilder.excludeSdkTestsScope(targetFile));
  for (  VirtualFile file : files) {
    PsiFile pyFile=targetFile.getManager().findFile(file);
    PsiFileSystemItem importable=(PsiFileSystemItem)PyUtil.turnInitIntoDir(pyFile);
    if (importable == null)     continue;
    if (PythonImportUtils.isImportableModule(targetFile,importable)) {
      LookupElementBuilder element=PyModuleType.buildFileLookupElement(importable,null);
      if (element != null) {
        result.addElement(element.withInsertHandler(inStringLiteral ? STRING_LITERAL_INSERT_HANDLER : IMPORTING_INSERT_HANDLER));
      }
    }
  }
}
