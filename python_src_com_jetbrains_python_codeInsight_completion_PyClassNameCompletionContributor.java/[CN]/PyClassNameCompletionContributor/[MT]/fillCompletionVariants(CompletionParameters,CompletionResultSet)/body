{
  if (parameters.isExtendedCompletion()) {
    final PsiElement parent=parameters.getPosition().getParent();
    if (parent instanceof PyReferenceExpression && ((PyReferenceExpression)parent).getQualifier() != null) {
      return;
    }
    addVariantsFromIndex(result,parameters.getOriginalFile(),PyClassNameIndex.KEY,CLASS_INSERT_HANDLER,Conditions.<PyClass>alwaysTrue());
    addVariantsFromIndex(result,parameters.getOriginalFile(),PyFunctionNameIndex.KEY,FUNCTION_INSERT_HANDLER,TOPLEVEL_FUNCTION);
  }
}
