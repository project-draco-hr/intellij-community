{
  List<PyImportElement> result=new ArrayList<PyImportElement>();
  if (myContainer instanceof StubBasedPsiElement) {
    StubBasedPsiElement container=(StubBasedPsiElement)myContainer;
    while (true) {
      collectImports(result,container,container.getStub());
      final StubBasedPsiElement nextParent=PsiTreeUtil.getStubOrPsiParentOfType(container,StubBasedPsiElement.class);
      if (nextParent == null) {
        break;
      }
      container=nextParent;
    }
  }
  collectImports(result,myContainer.getContainingFile(),((PsiFileImpl)myContainer.getContainingFile()).getStub());
  return result;
}
