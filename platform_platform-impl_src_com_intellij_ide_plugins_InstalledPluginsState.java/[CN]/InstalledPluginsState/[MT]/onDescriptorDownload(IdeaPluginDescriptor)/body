{
  PluginId id=descriptor.getPluginId();
  IdeaPluginDescriptor existing=PluginManager.getPlugin(id);
  if (existing != null && !existing.isBundled() && !wasUpdated(id) && PluginDownloader.compareVersionsSkipBroken(existing,descriptor.getVersion()) > 0 && !PluginManagerCore.isIncompatible(descriptor)) {
    String idString=id.getIdString();
synchronized (myLock) {
      if (!myUpdateSettings.myOutdatedPlugins.contains(idString)) {
        myUpdateSettings.myOutdatedPlugins.add(idString);
      }
    }
  }
}
