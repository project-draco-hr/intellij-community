{
  setDownloadStatus(true);
  final Application application=ApplicationManager.getApplication();
  application.executeOnPooledThread(new Runnable(){
    @Override public void run(){
      try {
        myPackagesModel=new PackagesModel(myController.getAllPackages());
        application.invokeLater(new Runnable(){
          @Override public void run(){
            myPackages.setModel(myPackagesModel);
            ((MyPackageFilter)myFilter).filter();
            doSelectPackage(mySelectedPackageName);
            setDownloadStatus(false);
          }
        }
,ModalityState.any());
      }
 catch (      final IOException e) {
        application.invokeLater(new Runnable(){
          @Override public void run(){
            if (myMainPanel.isShowing()) {
              Messages.showErrorDialog(myMainPanel,"Error loading package list:" + e.getMessage(),"Packages");
            }
            setDownloadStatus(false);
          }
        }
,ModalityState.any());
      }
    }
  }
);
}
