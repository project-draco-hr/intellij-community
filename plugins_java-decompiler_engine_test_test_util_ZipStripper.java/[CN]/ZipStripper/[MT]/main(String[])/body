{
  try {
    String sourceFileName=args[0];
    File sourceFile=new File(sourceFileName);
    File tempFile=new File(sourceFile.getParentFile(),"tmp31415926535.zip");
    tempFile.createNewFile();
    ZipOutputStream outTemp=new ZipOutputStream(new FileOutputStream(tempFile));
    ZipFile archive=new ZipFile(sourceFile);
    Enumeration<? extends ZipEntry> en=archive.entries();
    while (en.hasMoreElements()) {
      ZipEntry entr=en.nextElement();
      outTemp.putNextEntry(new ZipEntry(entr.getName()));
      if (!entr.isDirectory()) {
        InputStream in=archive.getInputStream(entr);
        copyInputStream(in,outTemp);
        in.close();
      }
    }
    outTemp.flush();
    outTemp.close();
    archive.close();
    String destFileName=args[1];
    if (sourceFileName.equals(destFileName)) {
      sourceFile.delete();
    }
    tempFile.renameTo(new File(destFileName));
  }
 catch (  Exception ex) {
    ex.printStackTrace();
  }
}
