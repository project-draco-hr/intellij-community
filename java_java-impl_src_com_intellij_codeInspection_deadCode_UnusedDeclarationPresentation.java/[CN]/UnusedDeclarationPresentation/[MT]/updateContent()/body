{
  getTool().checkForReachableRefs(getContext());
  myContents.clear();
  final UnusedSymbolLocalInspectionBase localInspectionTool=getTool().getSharedLocalInspectionTool();
  getContext().getRefManager().iterate(new RefJavaVisitor(){
    @Override public void visitElement(    @NotNull RefEntity refEntity){
      if (!(refEntity instanceof RefJavaElement))       return;
      RefJavaElement refElement=(RefJavaElement)refEntity;
      if (!compareVisibilities(refElement,localInspectionTool))       return;
      if (!(getContext().getUIOptions().FILTER_RESOLVED_ITEMS && getIgnoredRefElements().contains(refElement)) && refElement.isValid() && getFilter().accepts(refElement)) {
        registerContentEntry(refEntity,RefJavaUtil.getInstance().getPackageName(refEntity));
      }
    }
  }
);
  updateProblemElements();
}
