{
  if (element instanceof RefImplicitConstructor) {
    element=((RefImplicitConstructor)element).getOwnerClass();
  }
  if (element instanceof RefClass) {
    return element.getOwner() instanceof RefClass ? tool.getInnerClassVisibility() : tool.getClassVisibility();
  }
  if (element instanceof RefField) {
    return tool.getFieldVisibility();
  }
  if (element instanceof RefMethod) {
    final String methodVisibility=tool.getMethodVisibility();
    if (methodVisibility != null && tool.isIgnoreAccessors()) {
      final PsiModifierListOwner listOwner=((RefMethod)element).getElement();
      if (listOwner instanceof PsiMethod && PropertyUtil.isSimplePropertyAccessor((PsiMethod)listOwner)) {
        return null;
      }
    }
    return methodVisibility;
  }
  if (element instanceof RefParameter) {
    return tool.getParameterVisibility();
  }
  return PsiModifier.PUBLIC;
}
