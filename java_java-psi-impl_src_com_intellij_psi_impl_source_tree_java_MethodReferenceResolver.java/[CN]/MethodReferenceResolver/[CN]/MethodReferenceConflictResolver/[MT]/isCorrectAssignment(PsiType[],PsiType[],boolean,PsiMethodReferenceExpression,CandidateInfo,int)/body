{
  final int min=Math.min(parameterTypes.length,functionalInterfaceParamTypes.length - offset);
  for (int i=0; i < min; i++) {
    final PsiType argType=PsiUtil.captureToplevelWildcards(functionalInterfaceParamTypes[i + offset],referenceExpression);
    final PsiType parameterType=parameterTypes[i];
    if (varargs && i == parameterTypes.length - 1) {
      if (!TypeConversionUtil.isAssignable(parameterType,argType) && !TypeConversionUtil.isAssignable(((PsiArrayType)parameterType).getComponentType(),argType)) {
        reportParameterConflict(referenceExpression,conflict,argType,parameterType);
        return false;
      }
    }
 else     if (!TypeConversionUtil.isAssignable(parameterType,argType)) {
      reportParameterConflict(referenceExpression,conflict,argType,parameterType);
      return false;
    }
  }
  return !varargs || parameterTypes.length - 1 <= functionalInterfaceParamTypes.length - offset;
}
