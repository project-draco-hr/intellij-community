{
  myProject=project;
  myRepo=repo;
  myBookmarkName=bookmarkName;
  myBookmarkResultHandler=new HgCommandResultHandler(){
    @Override public void process(    @Nullable HgCommandResult result){
      if (myProject.isDisposed())       return;
      getRepositoryManager(myProject).updateRepository(myRepo);
      if (HgErrorUtil.hasErrorsInCommandExecution(result)) {
        new HgCommandResultNotifier(myProject).notifyError(result,"Hg Error","Hg bookmark command failed for " + myBookmarkName);
      }
    }
  }
;
}
