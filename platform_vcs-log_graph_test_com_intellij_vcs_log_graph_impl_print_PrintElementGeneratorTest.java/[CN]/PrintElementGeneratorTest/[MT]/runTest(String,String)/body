{
  LinearGraph graph=LinearGraphParser.parse(in);
  final GraphLayout graphLayout=GraphLayoutBuilder.build(graph,new Comparator<Integer>(){
    @Override public int compare(    @NotNull Integer o1,    @NotNull Integer o2){
      return o1.compareTo(o2);
    }
  }
);
  Comparator<GraphElement> graphElementComparator=new GraphElementComparatorByLayoutIndex(new NotNullFunction<Integer,Integer>(){
    @NotNull @Override public Integer fun(    Integer nodeIndex){
      return graphLayout.getLayoutIndex(nodeIndex);
    }
  }
);
  TestPrintElementManager elementManager=new TestPrintElementManager(graphElementComparator);
  PrintElementGeneratorImpl printElementGenerator=new PrintElementGeneratorImpl(graph,elementManager,7,2,10);
  String actual=GraphPackage.asString(printElementGenerator,graph.nodesCount());
  assertEquals(out,actual);
}
