{
  if (element instanceof GraphNode) {
    return ((GraphNode)element).getNodeId();
  }
  if (element instanceof GraphEdge) {
    GraphEdge edge=(GraphEdge)element;
    Pair<Integer,Integer> normalEdge=LinearGraphUtils.asNormalEdge(edge);
    if (normalEdge != null)     return normalEdge.first + normalEdge.second;
    return LinearGraphUtils.getNotNullNodeIndex(edge);
  }
  throw new IllegalStateException("Incorrect graph element type: " + element);
}
