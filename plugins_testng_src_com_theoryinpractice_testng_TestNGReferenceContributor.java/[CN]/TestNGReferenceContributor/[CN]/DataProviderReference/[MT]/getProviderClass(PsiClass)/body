{
  final PsiAnnotation annotation=PsiTreeUtil.getParentOfType(getElement(),PsiAnnotation.class);
  if (annotation != null) {
    final PsiAnnotationMemberValue value=annotation.findDeclaredAttributeValue("dataProviderClass");
    if (value instanceof PsiClassObjectAccessExpression) {
      final PsiTypeElement operand=((PsiClassObjectAccessExpression)value).getOperand();
      final PsiClass psiClass=PsiUtil.resolveClassInType(operand.getType());
      if (psiClass != null) {
        return psiClass;
      }
    }
  }
  return topLevelClass;
}
