{
  if (!(refElement instanceof PsiDocCommentOwner))   return;
  if (!((PsiDocCommentOwner)refElement).isDeprecated()) {
    if (!ignoreMethodsOfDeprecated) {
      checkDeprecated(((PsiDocCommentOwner)refElement).getContainingClass(),elementToHighlight,rangeInElement,ignoreInsideDeprecated,ignoreImportStatements,false,holder);
    }
    return;
  }
  if (ignoreInsideDeprecated) {
    PsiElement parent=elementToHighlight;
    while ((parent=PsiTreeUtil.getParentOfType(parent,PsiDocCommentOwner.class,true)) != null) {
      if (((PsiDocCommentOwner)parent).isDeprecated())       return;
    }
  }
  if (ignoreImportStatements && PsiTreeUtil.getParentOfType(elementToHighlight,PsiImportStatementBase.class) != null) {
    return;
  }
  String description=JavaErrorMessages.message("deprecated.symbol",HighlightMessageUtil.getSymbolName(refElement,PsiSubstitutor.EMPTY));
  holder.registerProblem(elementToHighlight,description,ProblemHighlightType.LIKE_DEPRECATED,rangeInElement);
}
