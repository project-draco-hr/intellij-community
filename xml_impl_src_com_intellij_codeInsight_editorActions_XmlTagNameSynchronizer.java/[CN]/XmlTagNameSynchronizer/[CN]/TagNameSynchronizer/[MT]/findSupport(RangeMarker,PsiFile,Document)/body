{
  final PsiElement element=InjectedLanguageUtil.findElementAtNoCommit(file,leader.getStartOffset());
  PsiElement support=RenameTagBeginOrEndIntentionAction.findOtherSide(element,false);
  support=support == null || element == support ? RenameTagBeginOrEndIntentionAction.findOtherSide(element,true) : support;
  int diff=leader.getStartOffset() - element.getTextRange().getStartOffset();
  final TextRange range=support != null ? support.getTextRange() : null;
  return range != null ? document.createRangeMarker(range.getStartOffset() + diff,range.getEndOffset() + diff,true) : null;
}
