{
  final PsiElement parent=element.getParent();
  if (parent instanceof PsiIfStatement) {
    final PsiIfStatement ifStatement=(PsiIfStatement)parent;
    final PsiStatement thenBranch=ifStatement.getThenBranch();
    final int offset=element.getTextOffset();
    if (thenBranch != null && offset > thenBranch.getTextOffset()) {
      final PsiKeyword elseElement=ifStatement.getElseElement();
      if (elseElement == null || offset < elseElement.getTextOffset()) {
        return null;
      }
      return ifStatement.getElseBranch();
    }
    return thenBranch;
  }
  if (parent instanceof PsiLoopStatement) {
    return ((PsiLoopStatement)parent).getBody();
  }
  return null;
}
