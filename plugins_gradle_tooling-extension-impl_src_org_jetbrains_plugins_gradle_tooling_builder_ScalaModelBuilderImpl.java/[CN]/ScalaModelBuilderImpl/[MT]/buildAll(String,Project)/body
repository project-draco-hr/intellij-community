{
  final ScalaPlugin scalaPlugin=project.getPlugins().findPlugin(ScalaPlugin.class);
  if (scalaPlugin == null)   return null;
  final ScalaModelImpl scalaModel=new ScalaModelImpl();
  for (  Task task : project.getTasks()) {
    if (task instanceof ScalaCompile && COMPILE_SCALA_TASK.equals(task.getName())) {
      ScalaCompile scalaCompile=(ScalaCompile)task;
      scalaModel.setScalaClasspath(scalaCompile.getScalaClasspath().getFiles());
      scalaModel.setZincClasspath(scalaCompile.getZincClasspath().getFiles());
      scalaModel.setScalaCompileOptions(create(scalaCompile.getScalaCompileOptions()));
      scalaModel.setTargetCompatibility(scalaCompile.getTargetCompatibility());
      scalaModel.setSourceCompatibility(scalaCompile.getSourceCompatibility());
      break;
    }
  }
  return scalaModel;
}
