{
  IterationState state=new IterationState(myEditor,firstVisibleOffset,lastVisibleOffset,false,true);
  while (!state.atEnd()) {
    g.setColor(state.getMergedAttributes().getBackgroundColor());
    int startX=getWhitespaceSeparatorOffset() + 1;
    int y=myEditor.visualPositionToXY(myEditor.offsetToVisualPosition(state.getStartOffset())).y;
    g.fillRect(startX,y,clip.width - startX,myEditor.getLineHeight());
    state.advance();
  }
}
