{
  EditorSettings settings=myEditor.getSettings();
  int editorLocation=(int)myEditor.getComponent().getLocationOnScreen().getX();
  int rightMargin=settings.getRightMargin(myEditor.getProject());
  int rightMarginX=rightMargin * EditorUtil.getSpaceWidth(Font.PLAIN,myEditor) + editorLocation;
  int width=(int)WindowManager.getInstance().getIdeFrame(myEditor.getProject()).getComponent().getSize().getWidth();
  if (rightMarginX < width && editorLocation < width - rightMarginX) {
    myTextAnnotationGuttersSize=Math.max(myTextAnnotationGuttersSize,(width - rightMarginX - editorLocation) / 2 - myIconsAreaWidth - 10);
  }
}
