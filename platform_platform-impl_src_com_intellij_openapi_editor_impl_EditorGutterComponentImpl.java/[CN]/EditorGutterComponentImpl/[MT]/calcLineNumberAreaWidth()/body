{
  if (myLineNumberAreaWidthFunction == null || !isLineNumbersShown())   return;
  int maxLineNumber=0;
  for (int i=endLineNumber(); i >= 0; i--) {
    int number=myLineNumberConvertor.execute(i);
    if (number >= 0) {
      maxLineNumber=number;
      break;
    }
  }
  myLineNumberAreaWidth=myLineNumberAreaWidthFunction.execute(maxLineNumber) + 4;
}
