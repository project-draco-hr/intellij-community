{
  final JBList dependenciesList=new JBList();
  dependenciesList.setCellRenderer(new ColoredListCellRendererWrapper<DependencyOnPlugin>(){
    @Override protected void doCustomize(    JList list,    DependencyOnPlugin value,    int index,    boolean selected,    boolean hasFocus){
      if (value != null) {
        append(getPluginNameById(value.getPluginId()),SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
        String minVersion=value.getMinVersion();
        String maxVersion=value.getMaxVersion();
        if (minVersion != null || maxVersion != null) {
          append(", version ");
        }
        if (minVersion != null && minVersion.equals(maxVersion)) {
          append(minVersion,SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
        }
 else         if (minVersion != null && maxVersion != null) {
          append("between ");
          append(minVersion,SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
          append(" and ");
          append(maxVersion,SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
        }
 else         if (minVersion != null) {
          append("at least ");
          append(minVersion,SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
        }
 else         if (maxVersion != null) {
          append("at most ");
          append(maxVersion,SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
        }
      }
    }
  }
);
  dependenciesList.setModel(myListModel);
  JPanel dependenciesPanel=ToolbarDecorator.createDecorator(dependenciesList).disableUpDownActions().setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      replaceDependency(new DependencyOnPlugin("",null,null),dependenciesList);
    }
  }
).setEditAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      DependencyOnPlugin selected=(DependencyOnPlugin)dependenciesList.getSelectedValue();
      if (selected != null) {
        replaceDependency(selected,dependenciesList);
      }
    }
  }
).createPanel();
  return FormBuilder.createFormBuilder().addLabeledComponentFillVertically("Plugins which are required to work on this project.",dependenciesPanel).getPanel();
}
