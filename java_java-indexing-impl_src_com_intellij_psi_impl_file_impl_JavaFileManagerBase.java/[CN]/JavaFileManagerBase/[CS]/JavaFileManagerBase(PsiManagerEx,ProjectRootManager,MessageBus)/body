{
  myManager=manager;
  myProjectRootManager=projectRootManager;
  myPackageIndex=PackageIndex.getInstance(myManager.getProject());
  myConnection=bus.connect();
  myConnection.subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootAdapter(){
    @Override public void rootsChanged(    final ModuleRootEvent event){
      myNontrivialPackagePrefixes=null;
    }
  }
);
  myManager.registerRunnableToRunOnChange(new Runnable(){
    @Override public void run(){
      myCachedObjectClassMap.clear();
    }
  }
);
}
