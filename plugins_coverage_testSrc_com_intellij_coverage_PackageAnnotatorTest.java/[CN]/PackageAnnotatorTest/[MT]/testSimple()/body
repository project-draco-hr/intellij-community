{
  File coverageFile=new File(getTestDataPath(),"simple$foo_in_simple.coverage");
  IDEACoverageRunner runner=CoverageRunner.getInstance(IDEACoverageRunner.class);
  CoverageFileProvider fileProvider=new DefaultCoverageFileProvider(coverageFile);
  CoverageSuite suite=JavaCoverageEngine.getInstance().createCoverageSuite(runner,"Simple",fileProvider,null,-1,null,false,false,false);
  CoverageSuitesBundle bundle=new CoverageSuitesBundle(suite);
  PsiPackage psiPackage=JavaPsiFacade.getInstance(myProject).findPackage("foo");
  PackageAnnotator annotator=new PackageAnnotator(psiPackage);
  PackageAnnotationConsumer consumer=new PackageAnnotationConsumer();
  annotator.annotate(bundle,consumer);
  PackageAnnotator.ClassCoverageInfo fooClassCoverage=consumer.myClassCoverageInfo.get("foo.FooClass");
  assertNotNull(fooClassCoverage);
}
