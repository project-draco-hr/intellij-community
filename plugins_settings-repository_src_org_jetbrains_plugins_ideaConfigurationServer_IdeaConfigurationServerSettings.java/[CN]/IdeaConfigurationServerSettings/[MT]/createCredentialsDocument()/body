{
  Element user=new Element("user");
  if (userName != null) {
    user.setAttribute(LOGIN,userName);
  }
  if (password != null) {
    user.setAttribute(PASSWORD,PasswordUtil.encodePassword(password));
  }
  user.setAttribute(REMEMBER_SETTINGS_ATTR,String.valueOf(REMEMBER_SETTINGS));
  user.setAttribute(DO_LOGIN_ATTR,String.valueOf(DO_LOGIN));
  user.setAttribute(SETTINGS_LOADED_ATTR,String.valueOf(settingsAlreadySynchronized));
  try {
    proxySettings.writeExternal(user);
  }
 catch (  WriteExternalException e) {
  }
  return new Document(user);
}
