{
  final Set<File> pathsToMark=new THashSet<File>(FileUtil.FILE_HASHING_STRATEGY);
  if (!isIgnoredOrUnderIgnoredDirectory(file)) {
    final boolean inContent=isInContentOfOpenedProject(file);
    processRecursively(file,!inContent,new FileProcessor(){
      public void execute(      final VirtualFile file){
        pathsToMark.add(new File(file.getPath()));
      }
    }
);
  }
  if (!pathsToMark.isEmpty()) {
    notification.fun(pathsToMark);
  }
}
