{
  if (myText != null && (step > steps || startWidth != 0)) {
    TextAttributes attributes=editor.getColorsScheme().getAttributes(DefaultLanguageHighlighterColors.INLINE_PARAMETER_HINT);
    if (attributes != null) {
      MyFontMetrics fontMetrics=getFontMetrics(editor);
      Color backgroundColor=attributes.getBackgroundColor();
      if (backgroundColor != null) {
        GraphicsConfig config=GraphicsUtil.setupAAPainting(g);
        GraphicsUtil.paintWithAlpha(g,BACKGROUND_ALPHA);
        g.setColor(backgroundColor);
        int gap=r.height < (fontMetrics.lineHeight + 2) ? 1 : 2;
        g.fillRoundRect(r.x + 2,r.y + gap,r.width - 4,r.height - gap * 2,8,8);
        config.restore();
      }
      Color foregroundColor=attributes.getForegroundColor();
      if (foregroundColor != null) {
        g.setColor(foregroundColor);
        g.setFont(getFont(editor));
        Shape savedClip=g.getClip();
        g.clipRect(r.x + 3,r.y + 2,r.width - 6,r.height - 4);
        int editorAscent=editor instanceof EditorImpl ? ((EditorImpl)editor).getAscent() : 0;
        FontMetrics metrics=fontMetrics.metrics;
        g.drawString(myText,r.x + 7,r.y + Math.max(editorAscent,(r.height + metrics.getAscent() - metrics.getDescent()) / 2) - 1);
        g.setClip(savedClip);
      }
    }
  }
}
