{
  final String javaErrorMessage=JavaProjectSdkSetupValidator.INSTANCE.getErrorMessage(project,file);
  if (javaErrorMessage != null) {
    JavaProjectSdkSetupValidator.INSTANCE.doFix(project,file);
    return;
  }
  final Module module=ModuleUtilCore.findModuleForFile(file,project);
  final String moduleName=module != null && !module.isDisposed() ? module.getName() : null;
  ProjectSettingsService.getInstance(project).showModuleConfigurationDialog(moduleName,ClasspathEditor.NAME);
}
