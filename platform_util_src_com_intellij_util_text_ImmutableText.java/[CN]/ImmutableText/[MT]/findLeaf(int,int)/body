{
  Node node=myNode;
  while (true) {
    if (index >= node.nodeLength()) {
      throw new IndexOutOfBoundsException();
    }
    if (node instanceof LeafNode) {
      return new InnerLeaf((LeafNode)node,offset);
    }
    CompositeNode composite=(CompositeNode)node;
    if (index < composite.head.nodeLength()) {
      node=composite.head;
    }
 else {
      offset+=composite.head.nodeLength();
      index-=composite.head.nodeLength();
      node=composite.tail;
    }
  }
}
