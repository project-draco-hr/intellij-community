{
  if (Identity == result || Return == result) {
    return new Equation<Key,Value>(aKey,new Final<Key,Value>(Value.Top));
  }
 else   if (NPE == result) {
    return new Equation<Key,Value>(aKey,new Final<Key,Value>(Value.NotNull));
  }
 else {
    ConditionalNPE condNpe=(ConditionalNPE)result;
    Set<Product<Key,Value>> components=new HashSet<Product<Key,Value>>();
    for (    Set<Key> prod : condNpe.sop) {
      components.add(new Product<Key,Value>(Value.Top,prod));
    }
    return new Equation<Key,Value>(aKey,new Pending<Key,Value>(components));
  }
}
