{
  List<MatchContext> contexts=new ArrayList<MatchContext>();
  for (  Configuration configuration : configurations) {
    MatchContext matchContext=new MatchContext();
    matchContext.setMatcher(visitor);
    MatchOptions matchOptions=configuration.getMatchOptions();
    matchContext.setOptions(matchOptions);
    CompiledPattern compiledPattern=PatternCompiler.compilePattern(project,matchOptions);
    matchContext.setPattern(compiledPattern);
    contexts.add(matchContext);
  }
  return new CompiledOptions(contexts,configurations);
}
