{
  try {
    while (wrapper.submissions.length == 1 && wrapper.submissions[0].status.equals("evaluation")) {
      TimeUnit.MILLISECONDS.sleep(500);
      final URI submissionURI=new URIBuilder(EduStepicNames.STEPIC_API_URL + EduStepicNames.SUBMISSIONS).addParameter("attempt",String.valueOf(attemptId)).addParameter("order","desc").addParameter("user",String.valueOf(id)).build();
      final HttpGet httpGet=new HttpGet(submissionURI);
      setTimeout(httpGet);
      final CloseableHttpResponse httpResponse=client.execute(httpGet);
      final HttpEntity entity=httpResponse.getEntity();
      final String entityString=EntityUtils.toString(entity);
      EntityUtils.consume(entity);
      wrapper=new Gson().fromJson(entityString,StepicWrappers.ResultSubmissionWrapper.class);
    }
  }
 catch (  InterruptedException e) {
    LOG.warn(e.getMessage());
  }
catch (  IOException e) {
    LOG.warn(e.getMessage());
  }
catch (  URISyntaxException e) {
    LOG.warn(e.getMessage());
  }
  return wrapper;
}
