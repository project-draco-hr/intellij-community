{
  int attemptId=-1;
  try {
    attemptId=getAttemptId(project,task);
  }
 catch (  IOException e) {
    LOG.warn(e.getMessage());
  }
  if (attemptId != -1) {
    final Editor editor=StudyUtils.getSelectedEditor(project);
    String language=getLanguageString(task,project);
    if (editor != null && language != null) {
      final CloseableHttpClient client=getHttpClient(project);
      StepicWrappers.ResultSubmissionWrapper wrapper=postResultsForCheck(client,attemptId,language,editor.getDocument().getText());
      final StepicUser user=StudyTaskManager.getInstance(project).getUser();
      if (user != null) {
        final int id=user.getId();
        wrapper=getCheckResults(attemptId,id,client,wrapper);
        if (wrapper.submissions.length == 1) {
          final boolean isSolved=!wrapper.submissions[0].status.equals("wrong");
          return Pair.create(isSolved,wrapper.submissions[0].hint);
        }
 else {
          LOG.warn("Got a submission wrapper with incorrect submissions number: " + wrapper.submissions.length);
        }
      }
 else {
        LOG.warn("User is null");
      }
    }
  }
 else {
    LOG.warn("Got an incorrect attempt id: " + attemptId);
  }
  return Pair.create(false,"");
}
