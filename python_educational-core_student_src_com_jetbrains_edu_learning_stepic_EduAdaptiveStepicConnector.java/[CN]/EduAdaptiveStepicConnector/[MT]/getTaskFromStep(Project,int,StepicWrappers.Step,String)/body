{
  final Task task=new Task();
  task.setName(name);
  task.setStepicId(lessonID);
  task.setText(step.text);
  if (step.options.samples != null) {
    final StringBuilder builder=new StringBuilder();
    for (    List<String> sample : step.options.samples) {
      if (sample.size() == 2) {
        builder.append("<b>Sample Input:</b><br>");
        builder.append(StringUtil.replace(sample.get(0),"\n","<br>"));
        builder.append("<br>");
        builder.append("<b>Sample Output:</b><br>");
        builder.append(StringUtil.replace(sample.get(1),"\n","<br>"));
        builder.append("<br><br>");
      }
    }
    task.setText(task.getText() + "<br>" + builder.toString());
  }
  if (step.options.test != null) {
    for (    StepicWrappers.TestFileWrapper wrapper : step.options.test) {
      task.addTestsTexts(wrapper.name,wrapper.text);
    }
  }
 else {
    if (step.options.samples != null) {
      createTestFileFromSamples(project,task,step.options.samples);
    }
  }
  task.taskFiles=new HashMap<String,TaskFile>();
  if (step.options.files != null) {
    for (    TaskFile taskFile : step.options.files) {
      task.taskFiles.put(taskFile.name,taskFile);
    }
  }
 else {
    final TaskFile taskFile=new TaskFile();
    taskFile.name="code";
    taskFile.text="# write your answer here \n";
    task.taskFiles.put("code.py",taskFile);
  }
  return task;
}
