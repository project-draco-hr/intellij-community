{
  final StepicWrappers.AttemptToPostWrapper attemptWrapper=new StepicWrappers.AttemptToPostWrapper(task.getStepId());
  final HttpPost post=new HttpPost(EduStepicNames.STEPIC_API_URL + EduStepicNames.ATTEMPTS);
  post.setEntity(new StringEntity(new Gson().toJson(attemptWrapper)));
  final CloseableHttpClient client=EduStepicAuthorizedClient.getHttpClient(project);
  setTimeout(post);
  final CloseableHttpResponse httpResponse=client.execute(post);
  final int statusCode=httpResponse.getStatusLine().getStatusCode();
  final HttpEntity entity=httpResponse.getEntity();
  final String entityString=EntityUtils.toString(entity);
  EntityUtils.consume(entity);
  if (statusCode == HttpStatus.SC_CREATED) {
    final StepicWrappers.AttemptContainer container=new Gson().fromJson(entityString,StepicWrappers.AttemptContainer.class);
    return (container.attempts != null && !container.attempts.isEmpty()) ? container.attempts.get(0).id : -1;
  }
  return -1;
}
