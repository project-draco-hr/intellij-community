{
  for (  CodeStyleSettingsProvider provider : CodeStyleSettingsProvider.EXTENSION_POINT_NAME.getExtensions()) {
    if (language.equals(provider.getLanguage())) {
      CustomCodeStyleSettings modelSettings=provider.createCustomSettings(settings);
      if (modelSettings == null)       continue;
      CustomCodeStyleSettings customSettings=settings.getCustomSettings(modelSettings.getClass());
      if (customSettings != null) {
        return customSettings;
      }
    }
  }
  logError("Failed to load CustomCodeStyleSettings for " + language);
  return null;
}
