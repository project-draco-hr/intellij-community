{
  appEnvironment.registerFileType(HtmlFileType.INSTANCE,"html;htm;sht;shtm;shtml");
  appEnvironment.registerFileType(XHtmlFileType.INSTANCE,"xhtml");
  appEnvironment.registerFileType(DTDFileType.INSTANCE,"dtd;ent;mod;elt");
  appEnvironment.registerFileType(XmlFileType.INSTANCE,"xml;xsd;tld;xsl;jnlp;wsdl;jhm;ant;xul;xslt;rng;fxml");
  SyntaxHighlighterFactory.LANGUAGE_FACTORY.addExplicitExtension(XMLLanguage.INSTANCE,new XmlSyntaxHighlighterFactory());
  SyntaxHighlighterFactory.LANGUAGE_FACTORY.addExplicitExtension(DTDLanguage.INSTANCE,new DtdSyntaxHighlighterFactory());
  SyntaxHighlighterFactory.LANGUAGE_FACTORY.addExplicitExtension(HTMLLanguage.INSTANCE,new HtmlSyntaxHighlighterFactory());
  SyntaxHighlighterFactory.LANGUAGE_FACTORY.addExplicitExtension(XHTMLLanguage.INSTANCE,new XhtmlSyntaxHighlighterFactory());
  appEnvironment.addExplicitExtension(LanguageParserDefinitions.INSTANCE,XMLLanguage.INSTANCE,new XMLParserDefinition());
  appEnvironment.addExplicitExtension(LanguageParserDefinitions.INSTANCE,DTDLanguage.INSTANCE,new DTDParserDefinition());
  appEnvironment.addExplicitExtension(LanguageParserDefinitions.INSTANCE,HTMLLanguage.INSTANCE,new HTMLParserDefinition());
  appEnvironment.addExplicitExtension(LanguageParserDefinitions.INSTANCE,XHTMLLanguage.INSTANCE,new XHTMLParserDefinition());
  XmlASTFactory astFactory=new XmlASTFactory();
  appEnvironment.addExplicitExtension(LanguageASTFactory.INSTANCE,XMLLanguage.INSTANCE,astFactory);
  appEnvironment.addExplicitExtension(LanguageASTFactory.INSTANCE,HTMLLanguage.INSTANCE,astFactory);
  appEnvironment.addExplicitExtension(LanguageASTFactory.INSTANCE,XHTMLLanguage.INSTANCE,astFactory);
  appEnvironment.addExplicitExtension(LanguageASTFactory.INSTANCE,DTDLanguage.INSTANCE,astFactory);
  appEnvironment.addExplicitExtension(IdIndexers.INSTANCE,XmlFileType.INSTANCE,new XmlIdIndexer());
  appEnvironment.addExplicitExtension(IdIndexers.INSTANCE,DTDFileType.INSTANCE,new XmlIdIndexer());
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),StartTagEndTokenProvider.EP_NAME,StartTagEndTokenProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),XmlSuppressionProvider.EP_NAME,XmlSuppressionProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),XmlFileNSInfoProvider.EP_NAME,XmlFileNSInfoProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),XmlSchemaProvider.EP_NAME,XmlSchemaProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),ImplicitNamespaceDescriptorProvider.EP_NAME,ImplicitNamespaceDescriptorProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),XmlElementDescriptorProvider.EP_NAME,XmlElementDescriptorProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),Html5SchemaProvider.EP_NAME,Html5SchemaProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),XmlAttributeDescriptorsProvider.EP_NAME,XmlAttributeDescriptorsProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),XmlExtension.EP_NAME,XmlExtension.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),HtmlEmbeddedTokenTypesProvider.EXTENSION_POINT_NAME,HtmlEmbeddedTokenTypesProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),StandardResourceProvider.EP_NAME,StandardResourceProvider.class);
  CoreApplicationEnvironment.registerExtensionPoint(Extensions.getRootArea(),StandardResourceEP.EP_NAME,StandardResourceEP.class);
  appEnvironment.addExtension(MetaDataContributor.EP_NAME,new XmlApplicationComponent());
  appEnvironment.addExtension(FileBasedIndexExtension.EXTENSION_POINT_NAME,new XmlNamespaceIndex());
  appEnvironment.addExtension(StandardResourceProvider.EP_NAME,new InternalResourceProvider());
  appEnvironment.registerApplicationService(ExternalResourceManager.class,createExternalResourceManager());
}
