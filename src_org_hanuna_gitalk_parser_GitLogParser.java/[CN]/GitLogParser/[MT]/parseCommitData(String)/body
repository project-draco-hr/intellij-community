{
  Matcher matcher=pattern.matcher(inputStr);
  if (matcher.matches()) {
    Hash hash=Hash.buildHash(matcher.group(1));
    String mainParentStr=matcher.group(2);
    String secondParentStr=matcher.group(3);
    String author=matcher.group(4);
    long timeStamp=Long.parseLong(matcher.group(5));
    String message=matcher.group(6);
    myAssert(mainParentStr != null || secondParentStr == null,"secondParent != null, but mainParent is null");
    Hash mainParentHash=mainParentStr == null ? null : Hash.buildHash(mainParentStr);
    Hash secondParentHash=secondParentStr == null ? null : Hash.buildHash(secondParentStr);
    return new CommitData(hash,mainParentHash,secondParentHash,author,timeStamp,message);
  }
 else {
    throw new IllegalArgumentException("unexpected format of string");
  }
}
