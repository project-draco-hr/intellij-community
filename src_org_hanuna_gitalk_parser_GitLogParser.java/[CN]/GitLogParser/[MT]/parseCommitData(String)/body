{
  Matcher matcher=pattern.matcher(inputStr);
  if (matcher.matches()) {
    Hash hash=Hash.buildHash(matcher.group(1));
    String mainParent=matcher.group(2);
    String secondParent=matcher.group(3);
    String author=matcher.group(4);
    long timeStamp=Long.parseLong(matcher.group(5));
    String message=matcher.group(6);
    myAssert(mainParent != null || secondParent == null,"secondParent != null, but mainParent is null");
    Hash mainParentHash=mainParent == null ? null : Hash.buildHash(mainParent);
    Hash secondParentHash=secondParent == null ? null : Hash.buildHash(secondParent);
    return new CommitData(hash,mainParentHash,secondParentHash,author,timeStamp,message);
  }
 else {
    throw new IllegalArgumentException("unexpected format of string");
  }
}
