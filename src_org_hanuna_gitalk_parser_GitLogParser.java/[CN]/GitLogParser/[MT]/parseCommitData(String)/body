{
  Matcher matcher=pattern.matcher(inputStr);
  if (matcher.matches()) {
    Hash hash=Hash.buildHash(matcher.group(1));
    String parents=matcher.group(2);
    String author=matcher.group(3);
    long timeStamp=Long.parseLong(matcher.group(4));
    String message=matcher.group(5);
    String[] parentsStr=parents.split("\\s");
    List<Hash> hashs=new ArrayList<Hash>(parentsStr.length);
    for (int i=0; i < parentsStr.length; i++) {
      if (parentsStr[i].length() > 0) {
        hashs.add(Hash.buildHash(parentsStr[i]));
      }
    }
    return new CommitData(hash,new SimpleReadOnlyList<Hash>(hashs),author,timeStamp,message);
  }
 else {
    throw new IllegalArgumentException("unexpected format of string:" + inputStr);
  }
}
