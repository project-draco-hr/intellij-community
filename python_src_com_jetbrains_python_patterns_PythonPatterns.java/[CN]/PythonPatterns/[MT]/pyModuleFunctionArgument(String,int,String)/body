{
  return new PyElementPattern.Capture<PyExpression>(new InitialPatternCondition<PyExpression>(PyExpression.class){
    public boolean accepts(    @Nullable final Object o,    final ProcessingContext context){
      PyCallable function=resolveCalledFunction(o,functionName,index);
      if (!(function instanceof PyFunction)) {
        return false;
      }
      ScopeOwner scopeOwner=PsiTreeUtil.getParentOfType(function,ScopeOwner.class);
      if (!(scopeOwner instanceof PyFile)) {
        return false;
      }
      return moduleName.equals(FileUtil.getNameWithoutExtension(scopeOwner.getName()));
    }
  }
);
}
