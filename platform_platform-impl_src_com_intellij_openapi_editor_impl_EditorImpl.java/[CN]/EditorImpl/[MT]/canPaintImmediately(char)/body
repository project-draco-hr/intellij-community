{
  return myDocument instanceof DocumentImpl && myHighlighter instanceof LexerEditorHighlighter && myDocument.getTextLength() > 0 && !mySelectionModel.hasSelection() && areVisualLinesUnique(myCaretModel.getAllCarets()) && !KEY_CHARS_TO_SKIP.contains(c);
}
