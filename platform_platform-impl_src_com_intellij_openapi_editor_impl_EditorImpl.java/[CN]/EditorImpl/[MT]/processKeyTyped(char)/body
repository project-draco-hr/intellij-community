{
  IdeEventQueue queue=IdeEventQueue.getInstance();
  if (queue.shouldNotTypeInEditor() || ProgressManager.getInstance().hasModalProgressIndicator()) {
    return false;
  }
  FileDocumentManager manager=FileDocumentManager.getInstance();
  final VirtualFile file=manager.getFile(myDocument);
  if (file != null && !file.isValid()) {
    return false;
  }
  DataContext context=getDataContext();
  Graphics graphics=myEditorComponent.getGraphics();
  if (graphics != null) {
    processKeyTypedImmediately(c,graphics,context);
    graphics.dispose();
  }
  ActionManagerEx.getInstanceEx().fireBeforeEditorTyping(c,context);
  MacUIUtil.hideCursor();
  processKeyTypedNormally(c,context);
  return true;
}
