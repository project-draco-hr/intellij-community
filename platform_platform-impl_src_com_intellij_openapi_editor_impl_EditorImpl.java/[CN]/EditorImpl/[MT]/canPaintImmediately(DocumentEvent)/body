{
  UndoManager undoManager=UndoManager.getInstance(myProject);
  return !undoManager.isUndoInProgress() && !undoManager.isRedoInProgress() && myDocument instanceof DocumentImpl&& !((DocumentImpl)myDocument).isGuardsSuppressed()&& !contains(e.getOldFragment(),'\n')&& !contains(e.getNewFragment(),'\n')&& !(e.getNewLength() == 1 && DOCUMENT_CHARS_TO_SKIP.contains(e.getNewFragment().charAt(0)));
}
