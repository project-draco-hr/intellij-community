{
  MyVisitor visitor=new MyVisitor(buffer,rawText);
  SyntaxInfo.MarkupIterator it=syntaxInfo.new MarkupIterator();
  try {
    while (it.hasNext()) {
      it.processNext(visitor);
      if (buffer.length() > maxLength) {
        buffer.append("... truncated ...");
        break;
      }
    }
  }
  finally {
    it.dispose();
  }
}
