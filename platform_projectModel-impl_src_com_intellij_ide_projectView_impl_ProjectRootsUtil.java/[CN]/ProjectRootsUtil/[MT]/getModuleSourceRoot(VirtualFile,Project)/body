{
  final ProjectFileIndex projectFileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  final Module module=projectFileIndex.getModuleForFile(root);
  if (module == null) {
    return null;
  }
  final ContentEntry[] contentEntries=ModuleRootManager.getInstance(module).getContentEntries();
  for (  ContentEntry contentEntry : contentEntries) {
    final SourceFolder[] sourceFolders=contentEntry.getSourceFolders();
    for (    SourceFolder sourceFolder : sourceFolders) {
      if (root.equals(sourceFolder.getFile())) {
        return sourceFolder;
      }
    }
  }
  return null;
}
