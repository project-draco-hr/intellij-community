{
  try {
    String url=getUrl(descriptor,host,buildNumber);
    String id=descriptor.getPluginId().getIdString();
    PluginDownloader downloader=new PluginDownloader(id,url,descriptor.getName(),descriptor.getVersion(),buildNumber);
    downloader.setDescriptor(descriptor);
    downloader.setDescription(descriptor.getDescription());
    downloader.setDepends(((PluginNode)descriptor).getDepends());
    return downloader;
  }
 catch (  URISyntaxException e) {
    throw new IOException(e);
  }
}
