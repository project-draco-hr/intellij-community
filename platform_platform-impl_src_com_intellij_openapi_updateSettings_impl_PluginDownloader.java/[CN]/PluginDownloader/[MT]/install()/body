{
  LOG.assertTrue(myFile != null);
  if (myOldFile != null) {
    StartupActionScriptManager.ActionCommand deleteOld=new StartupActionScriptManager.DeleteCommand(myOldFile);
    StartupActionScriptManager.addActionCommand(deleteOld);
  }
  PluginInstaller.install(myFile,getPluginName(),true,myDescriptor);
  InstalledPluginsState state=InstalledPluginsState.getInstanceIfLoaded();
  if (state != null) {
    state.onPluginInstall(myDescriptor);
  }
}
