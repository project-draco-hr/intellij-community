{
  if (fixes.length > MAX_FIX_COUNT) {
    final ComboBoxAction fixComboBox=new ComboBoxAction(){
{
        getTemplatePresentation().setText("Apply quick fixes" + (multipleDescriptors ? " to all the problems" : ""));
        getTemplatePresentation().setIcon(AllIcons.Actions.CreateFromUsage);
        setSmallVariant(false);
      }
      @NotNull @Override protected DefaultActionGroup createPopupActionGroup(      JComponent button){
        final DefaultActionGroup actionGroup=new DefaultActionGroup();
        for (        QuickFixAction fix : fixes) {
          actionGroup.add(fix);
        }
        return actionGroup;
      }
    }
;
    return fixComboBoxActionComponent(fixComboBox.createCustomComponent(fixComboBox.getTemplatePresentation()));
  }
 else {
    JPanel fixPanel=new JPanel();
    fixPanel.setLayout(new BoxLayout(fixPanel,BoxLayout.LINE_AXIS));
    fixPanel.setBorder(IdeBorderFactory.createEmptyBorder(7,0,8,0));
    final boolean multipleFixes=fixes.length > 1;
    for (    QuickFixAction fix : fixes) {
      fixPanel.add(createQuickFixButton(fix,multipleDescriptors && !multipleFixes));
      if (fix != fixes[fixes.length - 1]) {
        fixPanel.add(Box.createHorizontalStrut(3));
      }
    }
    return fixPanel;
  }
}
