{
  if (mySelectedEditor != null) {
    for (    final Map.Entry<VirtualFile,EditorEx> entry : myEditors.entrySet()) {
      if (mySelectedEditor.equals(entry.getValue())) {
        writeEditorPropertyValue(null,mySelectedEditor,entry.getKey());
      }
    }
  }
  VirtualFileManager.getInstance().removeVirtualFileListener(myVfsListener);
  myDisposed=true;
  Disposer.dispose(myStructureViewComponent);
  releaseAllEditors();
}
