{
  final ConsoleTabsPanel instance=new ConsoleTabsPanel();
  final LayoutManager layout=new BoxLayout(instance,BoxLayout.LINE_AXIS);
  instance.setLayout(layout);
  final List<AnAction> actionList=new ArrayList<AnAction>(Arrays.asList(console.createConsoleActions()));
  actionList.add(new MyCloseAction(closer,console));
  actionList.add(new MyStopProcessAction(console));
  final DefaultActionGroup toolbarActions=new DefaultActionGroup(actionList);
  final ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.EDITOR_TOOLBAR,toolbarActions,false);
  toolbar.setTargetComponent(console);
  final JComponent toolbarComponent=toolbar.getComponent();
  toolbarComponent.setMaximumSize(toolbarComponent.getPreferredSize());
  toolbarComponent.setAlignmentY(0);
  instance.add(toolbarComponent);
  instance.add(console.getComponent());
  AbstractConsoleRunnerWithHistory.registerActionShortcuts(actionList,console.getConsoleEditor().getComponent());
  return instance;
}
