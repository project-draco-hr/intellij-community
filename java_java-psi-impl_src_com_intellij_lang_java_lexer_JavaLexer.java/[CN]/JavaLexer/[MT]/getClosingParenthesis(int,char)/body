{
  if (offset >= myBufferEndOffset) {
    return myBufferEndOffset;
  }
  int pos=offset;
  char cur=myBufferArray != null ? myBufferArray[pos] : myBuffer.charAt(pos);
  while (true) {
    while (cur != c && cur != '\n' && cur != '\r' && cur != '\\') {
      pos++;
      if (pos >= myBufferEndOffset)       return myBufferEndOffset;
      cur=myBufferArray != null ? myBufferArray[pos] : myBuffer.charAt(pos);
    }
    if (cur == '\\') {
      pos++;
      if (pos >= myBufferEndOffset)       return myBufferEndOffset;
      cur=myBufferArray != null ? myBufferArray[pos] : myBuffer.charAt(pos);
      if (cur == '\n' || cur == '\r')       continue;
      pos++;
      if (pos >= myBufferEndOffset)       return myBufferEndOffset;
      cur=myBufferArray != null ? myBufferArray[pos] : myBuffer.charAt(pos);
    }
 else     if (cur == c) {
      break;
    }
 else {
      pos--;
      break;
    }
  }
  return pos + 1;
}
