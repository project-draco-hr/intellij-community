{
  myHandleEscapeSequences=handleEscapeSequences;
  LOG.assertTrue(!pattern.isEmpty());
  myPattern=pattern;
  myCaseSensitive=caseSensitive;
  myForwardDirection=forwardDirection;
  char[] chars=myCaseSensitive ? myPattern.toCharArray() : myPattern.toLowerCase(Locale.US).toCharArray();
  if (chars.length != myPattern.length()) {
    myLowecaseTransform=false;
    chars=myPattern.toUpperCase(Locale.US).toCharArray();
  }
 else {
    myLowecaseTransform=true;
  }
  myPatternArray=chars;
  myPatternLength=myPatternArray.length;
  Arrays.fill(mySearchTable,-1);
  myJavaIdentifier=lookForJavaIdentifiersOnlyIfPossible && (pattern.isEmpty() || Character.isJavaIdentifierPart(pattern.charAt(0)) && Character.isJavaIdentifierPart(pattern.charAt(pattern.length() - 1)));
}
