{
  LookupElementBuilder item;
  item=LookupElementBuilder.create(key).setTypeText("dict key").setIcon(PlatformIcons.PARAMETER_ICON);
  if (addHandler)   item=item.setInsertHandler(new InsertHandler<LookupElement>(){
    @Override public void handleInsert(    InsertionContext context,    LookupElement item){
      PyStringLiteralExpression str=PsiTreeUtil.findElementOfClassAtOffset(context.getFile(),context.getStartOffset(),PyStringLiteralExpression.class,false);
      if (str != null) {
        boolean isDictKeys=PsiTreeUtil.getParentOfType(str,PySubscriptionExpression.class) != null;
        if (isDictKeys) {
          if ((!str.getText().startsWith("'") || !str.getText().endsWith("'")) && (!str.getText().startsWith("\"") || !str.getText().endsWith("\""))) {
            final Document document=context.getEditor().getDocument();
            final int offset=context.getTailOffset();
            document.deleteString(offset - 1,offset);
          }
        }
      }
    }
  }
);
  return item;
}
