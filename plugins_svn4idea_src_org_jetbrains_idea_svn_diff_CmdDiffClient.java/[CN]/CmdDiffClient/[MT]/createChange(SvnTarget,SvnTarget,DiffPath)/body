{
  SvnTarget subTarget1=SvnUtil.append(target1,diffPath.path,true);
  String relativePath=SvnUtil.getRelativeUrl(SvnUtil.toDecodedString(target1),SvnUtil.toDecodedString(subTarget1));
  if (relativePath == null) {
    throw new SvnBindException("Could not get relative path for " + target1 + " and "+ subTarget1);
  }
  SvnTarget subTarget2=SvnUtil.append(target2,FileUtil.toSystemIndependentName(relativePath));
  FilePath target1Path=createFilePath(subTarget1,diffPath.isDirectory());
  FilePath target2Path=createFilePath(subTarget2,diffPath.isDirectory());
  FileStatus status=SvnStatusConvertor.convertStatus(SvnStatusHandler.getStatus(diffPath.itemStatus),SvnStatusHandler.getStatus(diffPath.propertiesStatus));
  ContentRevision beforeRevision=status == FileStatus.ADDED ? null : createRevision(target1Path,target2Path,status);
  ContentRevision afterRevision=status == FileStatus.DELETED ? null : createRevision(target2Path,target1Path,status);
  return createChange(status,beforeRevision,afterRevision);
}
