{
  assertUrl(target2);
  if (target1.isFile()) {
    assertDirectory(target1);
    WorkingCopyFormat format=WorkingCopyFormat.from(myFactory.createVersionClient().getVersion());
    if (format.less(WorkingCopyFormat.ONE_DOT_EIGHT)) {
      throw new SvnBindException("Could not compare local file and remote url with executable for svn " + format);
    }
  }
  List<String> parameters=new ArrayList<String>();
  CommandUtil.put(parameters,target1);
  CommandUtil.put(parameters,target2);
  parameters.add("--xml");
  parameters.add("--summarize");
  CommandExecutor executor=execute(myVcs,target1,SvnCommandName.diff,parameters,null);
  return parseOutput(target1,target2,executor);
}
