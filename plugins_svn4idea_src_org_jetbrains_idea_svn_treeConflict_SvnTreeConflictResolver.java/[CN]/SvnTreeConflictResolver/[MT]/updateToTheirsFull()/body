{
  final File ioFile=myPath.getIOFile();
  Status status=myVcs.getFactory(ioFile).createStatusClient().doStatus(ioFile,false);
  if (status == null || StatusType.STATUS_UNVERSIONED.equals(status.getNodeStatus())) {
    revert(ioFile);
    updateFile(ioFile,SVNRevision.HEAD);
  }
 else   if (StatusType.STATUS_ADDED.equals(status.getNodeStatus())) {
    revert(ioFile);
    updateFile(ioFile,SVNRevision.HEAD);
    FileUtil.delete(ioFile);
  }
 else {
    Set<File> usedToBeAdded=myPath.isDirectory() ? getDescendantsWithAddedStatus(ioFile) : ContainerUtil.<File>newHashSet();
    revert(ioFile);
    for (    File wasAdded : usedToBeAdded) {
      FileUtil.delete(wasAdded);
    }
    updateFile(ioFile,SVNRevision.HEAD);
  }
}
