{
  myLastUsedHandler=myDelegate;
  if (myDelegate.match(patternNode,matchedNode,context)) {
    return true;
  }
  if (context.isWithAlternativePatternRoots()) {
    context.setWithAlternativePatternRoots(false);
    final List<PsiElement> alternativeElements=patternNode.getUserData(PatternCompiler.ALTERNATIVE_PATTERN_ROOTS);
    if (alternativeElements != null) {
      for (      PsiElement alternativePatternNode : alternativeElements) {
        myLastUsedHandler=context.getPattern().getHandler(alternativePatternNode);
        if (myLastUsedHandler.match(alternativePatternNode,matchedNode,context)) {
          return true;
        }
      }
    }
    context.setWithAlternativePatternRoots(true);
  }
  return false;
}
