{
  findModel.setForward(true);
  LightVirtualFile file=new LightVirtualFile("A." + ext,text);
  int previousOffset;
  FindResult findResult=findManager.findString(text,0,findModel,file);
  assertTrue(findResult.isStringFound());
  previousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,findResult.getEndOffset(),findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(findResult.getStartOffset() > previousOffset);
  previousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,findResult.getEndOffset(),findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(findResult.getStartOffset() > previousOffset);
  findModel.setForward(false);
  findResult=findManager.findString(text,text.length(),findModel,file);
  assertTrue(findResult.isStringFound());
  previousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,previousOffset,findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(previousOffset > findResult.getStartOffset());
  previousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,previousOffset,findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(previousOffset > findResult.getStartOffset());
}
