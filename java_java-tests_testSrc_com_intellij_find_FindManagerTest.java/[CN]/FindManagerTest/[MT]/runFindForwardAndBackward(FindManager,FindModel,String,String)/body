{
  findModel.setForward(true);
  LightVirtualFile file=new LightVirtualFile("A." + ext,text);
  int prevousOffset;
  FindResult findResult=findManager.findString(text,0,findModel,file);
  assertTrue(findResult.isStringFound());
  prevousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,findResult.getEndOffset(),findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(findResult.getStartOffset() > prevousOffset);
  prevousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,findResult.getEndOffset(),findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(findResult.getStartOffset() > prevousOffset);
  findModel.setForward(false);
  findResult=findManager.findString(text,text.length(),findModel,file);
  assertTrue(findResult.isStringFound());
  prevousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,prevousOffset,findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(prevousOffset > findResult.getStartOffset());
  prevousOffset=findResult.getStartOffset();
  findResult=findManager.findString(text,prevousOffset,findModel,file);
  assertTrue(findResult.isStringFound());
  assertTrue(prevousOffset > findResult.getStartOffset());
}
