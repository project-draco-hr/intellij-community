{
  configureByText(FileTypes.PLAIN_TEXT,"Bar bar BAR");
  FindModel model=new FindModel();
  model.setStringToFind("bar");
  model.setStringToReplace("foo");
  model.setPromptOnReplace(false);
  model.setPreserveCase(true);
  FindUtil.replace(myProject,myEditor,0,model);
  assertEquals("Foo foo FOO",myEditor.getDocument().getText());
  model.setStringToFind("Foo");
  model.setStringToReplace("Bar");
  FindUtil.replace(myProject,myEditor,0,model);
  assertEquals("Bar bar BAR",myEditor.getDocument().getText());
  configureByText(FileTypes.PLAIN_TEXT,"Bar bar");
  model.setStringToFind("bar");
  model.setStringToReplace("fooBar");
  FindUtil.replace(myProject,myEditor,0,model);
  assertEquals("FooBar fooBar",myEditor.getDocument().getText());
  configureByText(FileTypes.PLAIN_TEXT,"abc1 Abc1 ABC1");
  model.setStringToFind("ABC1");
  model.setStringToReplace("DEF1");
  FindUtil.replace(myProject,myEditor,0,model);
  assertEquals("def1 Def1 DEF1",myEditor.getDocument().getText());
}
