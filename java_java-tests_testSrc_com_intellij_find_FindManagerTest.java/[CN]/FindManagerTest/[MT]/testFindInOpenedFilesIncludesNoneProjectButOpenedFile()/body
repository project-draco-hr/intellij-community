{
  File dir=createTempDirectory();
  File file=new File(dir.getPath(),"A.test1234");
  file.createNewFile();
  FileUtil.writeToFile(file,"foo fo foo");
  VirtualFile nonProjectFile=VfsUtil.findFileByIoFile(file,true);
  assertNotNull(nonProjectFile);
  FindModel findModel=new FindModel();
  findModel.setStringToFind("fo");
  findModel.setWholeWordsOnly(true);
  findModel.setFromCursor(false);
  findModel.setGlobal(true);
  findModel.setMultipleFiles(true);
  findModel.setCustomScope(true);
  findModel.setCustomScope(GlobalSearchScope.filesScope(myProject,ContainerUtil.list(nonProjectFile)));
  assertSize(1,findUsages(findModel));
}
