{
  final SmartPointerManager pointerManager=SmartPointerManager.getInstance(context.getProject());
  final SmartPsiElementPointer<PsiForStatement> statementPointer=pointerManager.createSmartPsiElementPointer(forStatement);
  final Runnable runnable=new Runnable(){
    @Override public void run(){
      PsiForStatement statement=statementPointer.getElement();
      if (statement == null)       return;
    }
  }
;
  context.setLaterRunnable(new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          CommandProcessor.getInstance().runUndoTransparentAction(runnable);
        }
      }
);
    }
  }
);
}
