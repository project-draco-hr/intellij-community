{
  final String testId=getTestId(eventXml);
  final String parentTestId=getParentTestId(eventXml);
  final String name=getTestName(eventXml);
  final String fqClassName=getTestClassName(eventXml);
  if (StringUtil.isEmpty(parentTestId)) {
    getConsoleManager().getTestsMap().put(testId,getResultsViewer().getTestsRootNode());
  }
 else {
    String locationUrl=findLocationUrl(null,fqClassName);
    final SMTestProxy testProxy=new SMTestProxy(name,true,locationUrl);
    testProxy.setLocator(getConsoleManager().getUrlProvider());
    testProxy.setStarted();
    getConsoleManager().getTestsMap().put(testId,testProxy);
    final SMTestProxy parentTestProxy=getConsoleManager().getTestsMap().get(parentTestId);
    if (parentTestProxy != null) {
      parentTestProxy.addChild(testProxy);
      addToInvokeLater(new Runnable(){
        @Override public void run(){
          getResultsViewer().onSuiteStarted(testProxy);
        }
      }
);
    }
  }
}
