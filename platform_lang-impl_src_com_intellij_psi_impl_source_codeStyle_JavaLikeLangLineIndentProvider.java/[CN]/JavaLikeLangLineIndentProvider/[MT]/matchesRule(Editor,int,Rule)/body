{
  SemanticEditorPosition editorPosition=new SemanticEditorPosition((EditorEx)editor,offset){
    @Override public SyntaxElement map(    @NotNull IElementType elementType){
      return mapType(elementType);
    }
  }
;
  return rule.check(editorPosition);
}
