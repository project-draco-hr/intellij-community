{
  try {
    MavenCustomRepositoryHelper helper=new MavenCustomRepositoryHelper(myDir,"plugins");
    setRepositoryPath(helper.getTestDataPath("plugins"));
    getMavenGeneralSettings().setWorkOffline(true);
    importProjectWithMaven3("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ ""+ "<build>"+ "  <extensions>"+ "    <extension>"+ "      <groupId>intellij.test</groupId>"+ "      <artifactId>maven-extension</artifactId>"+ "      <version>1.0</version>"+ "    </extension>"+ "  </extensions>"+ "</build>");
    List<MavenProject> projects=myProjectsTree.getProjects();
    assertEquals(1,projects.size());
    MavenProject mavenProject=projects.get(0);
    assertEquals("Name for test:project generated by MyMavenExtension.",mavenProject.getFinalName());
    PlatformTestUtil.assertPathsEqual(myProjectPom.getPath(),mavenProject.getProperties().getProperty("workspace-info"));
  }
  finally {
    MavenServerManager.getInstance().shutdown(true);
  }
}
