{
  final Runnable action=new Runnable(){
    @Override public void run(){
      T item=getSelectedItem();
      if (item != null) {
        T newItem=consumer.fun(item);
        if (newItem != null) {
          list.updateItem(item,newItem);
        }
        list.repaint();
        list.requestFocus();
      }
    }
  }
;
  toolbarDecorator.setEditAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      action.run();
    }
  }
);
  EditSourceOnDoubleClickHandler.install(list,action);
  return this;
}
