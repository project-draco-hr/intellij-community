{
  Map<Integer,Integer> map=new HashMap<Integer,Integer>();
  Set<Integer> children=mapTreeBranches.get(id);
  if (children != null) {
    for (    Integer childid : children) {
      buildFilter(childid);
      Map<Integer,Integer> mapChild=mapExceptionRangeUniqueExit.get(childid);
      for (      Entry<Integer,Set<Integer>> entry : mapExceptionRanges.entrySet()) {
        Integer handler=entry.getKey();
        Set<Integer> range=entry.getValue();
        if (range.contains(id)) {
          Integer exit=null;
          if (!range.contains(childid)) {
            exit=childid;
          }
 else {
            exit=map.containsKey(handler) ? new Integer(-1) : mapChild.get(handler);
          }
          if (exit != null) {
            map.put(handler,exit);
          }
        }
      }
    }
  }
  mapExceptionRangeUniqueExit.put(id,map);
}
