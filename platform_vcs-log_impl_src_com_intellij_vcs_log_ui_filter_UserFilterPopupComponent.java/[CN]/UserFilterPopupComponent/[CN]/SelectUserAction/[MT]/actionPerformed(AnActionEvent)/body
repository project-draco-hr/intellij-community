{
  Project project=e.getProject();
  if (project == null) {
    return;
  }
  Collection<String> users=ContainerUtil.map(myDataHolder.getAllUsers(),new Function<VcsUser,String>(){
    @Override public String fun(    VcsUser user){
      return user.getName();
    }
  }
);
  final MultilinePopupBuilder popupBuilder=new MultilinePopupBuilder(project,users);
  JBPopup popup=popupBuilder.createPopup();
  popup.addListener(new JBPopupAdapter(){
    @Override public void onClosed(    LightweightWindowEvent event){
      if (event.isOk()) {
        final String userText=popupBuilder.getText().trim();
        Collection<String> selectedUsers=ContainerUtil.toCollection(StringUtil.tokenize(userText,new String(USERS_SEPARATORS)));
        if (selectedUsers.isEmpty()) {
          apply(null,ALL,ALL);
        }
 else {
          apply(selectedUsers,displayableText(selectedUsers),tooltip(selectedUsers));
        }
      }
    }
  }
);
  popup.showUnderneathOf(UserFilterPopupComponent.this);
}
