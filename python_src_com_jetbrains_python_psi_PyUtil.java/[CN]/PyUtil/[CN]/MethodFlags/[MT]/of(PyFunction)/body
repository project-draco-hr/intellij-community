{
  PyClass cls=node.getContainingClass();
  if (cls != null) {
    PyFunction.Modifier modifier=node.getModifier();
    boolean isMetaclassMethod=false;
    PyClass type_cls=PyBuiltinCache.getInstance(node).getClass("type");
    for (    PyClass ancestor_cls : cls.iterateAncestorClasses()) {
      if (ancestor_cls == type_cls) {
        isMetaclassMethod=true;
        break;
      }
    }
    final String method_name=node.getName();
    boolean isSpecialMetaclassMethod=isMetaclassMethod && method_name != null && among(method_name,PyNames.INIT,"__call__");
    return new MethodFlags(modifier == CLASSMETHOD,modifier == STATICMETHOD,isMetaclassMethod,isSpecialMetaclassMethod);
  }
  return null;
}
