{
  if (resolveResults.length == 0) {
    return Collections.emptyList();
  }
  final List<PsiElement> filtered=new ArrayList<PsiElement>();
  final int maxRate=getMaxRate(resolveResults);
  for (  ResolveResult resolveResult : resolveResults) {
    final int rate=resolveResult instanceof RatedResolveResult ? ((RatedResolveResult)resolveResult).getRate() : 0;
    if (rate >= maxRate) {
      final PsiElement element=resolveResult.getElement();
      if (element != null) {
        filtered.add(element);
      }
    }
  }
  return filtered;
}
