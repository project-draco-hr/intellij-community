{
  PsiElement before=null;
  PsiElement after=null;
  for (  final PyStatement statement : statementList.getStatements()) {
    if (PyDependenciesComparator.depends(element,statement)) {
      after=statement;
    }
 else     if (PyDependenciesComparator.depends(statement,element)) {
      before=statement;
    }
  }
  final PsiElement result;
  if (after != null) {
    result=statementList.addAfter(element,after);
  }
 else   if (before != null) {
    result=statementList.addBefore(element,before);
  }
 else {
    result=addElementToStatementList(element,statementList,true);
  }
  @SuppressWarnings("unchecked") final T resultCasted=(T)result;
  return resultCasted;
}
