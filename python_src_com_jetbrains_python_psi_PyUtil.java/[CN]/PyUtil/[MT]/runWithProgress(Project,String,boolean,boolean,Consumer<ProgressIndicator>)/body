{
  if (modal) {
    ProgressManager.getInstance().run(new Task.Modal(project,title,canBeCancelled){
      @Override public void run(      @NotNull ProgressIndicator indicator){
        function.consume(indicator);
      }
    }
);
  }
 else {
    ProgressManager.getInstance().run(new Task.Backgroundable(project,title,canBeCancelled){
      @Override public void run(      @NotNull ProgressIndicator indicator){
        function.consume(indicator);
      }
    }
);
  }
}
