{
  List<T> result=new SmartList<T>();
  for (  PsiElement child : element.getChildren()) {
    if (instanceOf(child,aClass)) {
      result.add((T)child);
    }
 else {
      result.addAll(Arrays.asList(getAllChildrenOfType(child,aClass)));
    }
  }
  return ArrayUtil.toObjectArray(result,aClass);
}
