{
  for (  PyExpression exp : targets) {
    if (exp instanceof PyParenthesizedExpression) {
      final PyParenthesizedExpression parenExpr=(PyParenthesizedExpression)exp;
      unfoldParentheses(new PyExpression[]{parenExpr.getContainedExpression()},receiver,unfoldListLiterals,unfoldStarExpressions);
    }
 else     if (exp instanceof PyTupleExpression) {
      final PyTupleExpression tupleExpr=(PyTupleExpression)exp;
      unfoldParentheses(tupleExpr.getElements(),receiver,unfoldListLiterals,unfoldStarExpressions);
    }
 else     if (exp instanceof PyListLiteralExpression && unfoldListLiterals) {
      final PyListLiteralExpression listLiteral=(PyListLiteralExpression)exp;
      unfoldParentheses(listLiteral.getElements(),receiver,true,unfoldStarExpressions);
    }
 else     if (exp instanceof PyStarExpression && unfoldStarExpressions) {
      unfoldParentheses(new PyExpression[]{((PyStarExpression)exp).getExpression()},receiver,unfoldListLiterals,true);
    }
 else     if (exp != null) {
      receiver.add(exp);
    }
  }
  return receiver;
}
