{
synchronized (container.getTreeLock()) {
    int count=container.getComponentCount();
    for (int i=0; i < count; i++) {
      Component component=container.getComponent(i);
      if (component.isVisible())       return component;
    }
  }
  return null;
}
