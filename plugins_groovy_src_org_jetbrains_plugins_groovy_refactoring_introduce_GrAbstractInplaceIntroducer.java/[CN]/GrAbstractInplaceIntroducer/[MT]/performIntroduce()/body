{
  GrIntroduceContext context=new GrIntroduceContext(){
    @NotNull @Override public Project getProject(){
      return myProject;
    }
    @Override public Editor getEditor(){
      return myEditor;
    }
    @Nullable @Override public GrExpression getExpression(){
      return (GrExpression)getExpr();
    }
    @Nullable @Override public GrVariable getVar(){
      return getLocalVariable();
    }
    @Nullable @Override public StringPartInfo getStringPart(){
      return null;
    }
    @NotNull @Override public PsiElement[] getOccurrences(){
      return restoreOccurrences();
    }
    @Override public PsiElement getScope(){
      return myScope;
    }
    @NotNull @Override public PsiElement getPlace(){
      GrExpression expression=getExpression();
      return expression != null ? expression : getLocalVariable();
    }
  }
;
  runRefactoring(context,getSettings(),true);
}
