{
  final Settings settings=getInitialSettingsForInplace(myContext,myReplaceChoice,names);
  if (settings == null)   return null;
  SmartPsiElementPointer<GrVariable> pointer=ApplicationManager.getApplication().runWriteAction(new Computable<SmartPsiElementPointer<GrVariable>>(){
    @Override public SmartPsiElementPointer<GrVariable> compute(){
      GrVariable var=runRefactoring(myContext,settings,false);
      return var != null ? SmartPointerManager.getInstance(myProject).createSmartPsiElementPointer(var) : null;
    }
  }
);
  if (pointer != null) {
    GrVariable var=pointer.getElement();
    if (var != null) {
      myVarMarker=myContext.getEditor().getDocument().createRangeMarker(var.getTextRange());
    }
    return var;
  }
 else {
    return null;
  }
}
