{
  IElementType nodeType=parent.getElementType();
  if (nodeType == JavaElementType.METHOD) {
    return settings.METHOD_ANNOTATION_WRAP;
  }
  if (nodeType == JavaElementType.CLASS) {
    for (ASTNode node=child.getTreeNext(); node != null; node=node.getTreeNext()) {
      if (node.getElementType() == TokenType.WHITE_SPACE || node instanceof PsiTypeElement) {
        continue;
      }
      if (node instanceof PsiErrorElement) {
        return settings.FIELD_ANNOTATION_WRAP;
      }
    }
    return settings.CLASS_ANNOTATION_WRAP;
  }
  if (nodeType == JavaElementType.FIELD) {
    return settings.FIELD_ANNOTATION_WRAP;
  }
  if (nodeType == JavaElementType.PARAMETER || nodeType == JavaElementType.RECEIVER_PARAMETER || nodeType == JavaElementType.RESOURCE_VARIABLE) {
    return settings.PARAMETER_ANNOTATION_WRAP;
  }
  if (nodeType == JavaElementType.LOCAL_VARIABLE) {
    return settings.VARIABLE_ANNOTATION_WRAP;
  }
  return CommonCodeStyleSettings.DO_NOT_WRAP;
}
