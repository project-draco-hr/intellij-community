{
  if (pType instanceof PsiIntersectionType) {
    for (    PsiType type : ((PsiIntersectionType)pType).getConjuncts()) {
      PsiClassType.ClassResolveResult resolveResult=PsiUtil.resolveGenericsClassInType(type);
      if (InheritanceUtil.isInheritorOrSelf(resolveResult.getElement(),qContainingClass,true)) {
        return getParameterizedTypeSubstitutor(qContainingClass,type);
      }
    }
  }
  PsiClassType.ClassResolveResult resolveResult=PsiUtil.resolveGenericsClassInType(pType);
  PsiClass paramClass=resolveResult.getElement();
  LOG.assertTrue(paramClass != null);
  PsiSubstitutor psiSubstitutor=TypeConversionUtil.getClassSubstitutor(qContainingClass,paramClass,resolveResult.getSubstitutor());
  LOG.assertTrue(psiSubstitutor != null);
  return psiSubstitutor;
}
