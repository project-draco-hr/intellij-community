{
  List<TreeNodeOnVcsRevision> selection=getSelection();
  if (selection.isEmpty()) {
    myComments.setText("");
    myOriginalComment="";
    return;
  }
  boolean addRevisionInfo=selection.size() > 1;
  StringBuilder sb=new StringBuilder();
  for (  TreeNodeOnVcsRevision revision : selection) {
    String message=revision.getCommitMessage();
    if (StringUtil.isEmpty(message))     continue;
    if (sb.length() > 0)     sb.append("\n\n");
    if (addRevisionInfo) {
      sb.append(RevisionColumnInfo.toString(revision,true)).append(" ").append(AuthorColumnInfo.toString(revision)).append(" on ").append(DateColumnInfo.toString(revision)).append("\n");
    }
    sb.append(message);
  }
  myOriginalComment=sb.toString();
  if (StringUtil.isEmpty(myOriginalComment)) {
    myComments.setText("");
  }
 else {
    myComments.setText("<html><head>" + UIUtil.getCssFontDeclaration(UIUtil.getLabelFont()) + "</head><body>"+ getHtmlWithFonts(formatTextWithLinks(myVcs.getProject(),myOriginalComment))+ "</body></html>");
    myComments.setCaretPosition(0);
  }
  if (myListener != null) {
    myListener.consume(selection.get(0).getRevision());
  }
}
