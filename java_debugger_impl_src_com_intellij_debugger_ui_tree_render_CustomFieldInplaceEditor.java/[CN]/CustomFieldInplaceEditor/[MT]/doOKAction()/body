{
  List<Pair<String,TextWithImports>> children=getRendererChildren();
  TextWithImports newText=TextWithImportsImpl.fromXExpression(myExpressionEditor.getExpression());
  if (myAddNew) {
    children.add(0,Pair.create("",newText));
  }
 else {
    int index=myNode.getParent().getIndex(myNode);
    Pair<String,TextWithImports> old=children.get(index);
    children.set(index,Pair.create(old.first,newText));
  }
  XDebuggerUtilImpl.rebuildTreeAndViews(myTree);
  super.doOKAction();
}
