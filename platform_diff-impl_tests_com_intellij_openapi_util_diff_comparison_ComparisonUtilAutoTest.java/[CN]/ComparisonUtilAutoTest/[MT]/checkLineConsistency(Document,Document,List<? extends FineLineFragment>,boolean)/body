{
  int last1=-1;
  int last2=-1;
  for (  FineLineFragment fragment : fragments) {
    int startOffset1=fragment.getStartOffset1();
    int startOffset2=fragment.getStartOffset2();
    int endOffset1=fragment.getEndOffset1();
    int endOffset2=fragment.getEndOffset2();
    int start1=fragment.getStartLine1();
    int start2=fragment.getStartLine2();
    int end1=fragment.getEndLine1();
    int end2=fragment.getEndLine2();
    assertTrue(startOffset1 >= 0);
    assertTrue(startOffset2 >= 0);
    assertTrue(endOffset1 <= text1.getTextLength());
    assertTrue(endOffset2 <= text2.getTextLength());
    assertTrue(start1 >= 0);
    assertTrue(start2 >= 0);
    assertTrue(end1 <= getLineCount(text1));
    assertTrue(end2 <= getLineCount(text2));
    assertTrue(startOffset1 <= endOffset1);
    assertTrue(startOffset2 <= endOffset2);
    assertTrue(start1 <= end1);
    assertTrue(start2 <= end2);
    assertTrue(start1 != end1 || start2 != end2);
    assertTrue(allowNonSquashed || start1 != last1 || start2 != last2);
    checkLineOffsets(fragment,text1,text2);
    last1=end1;
    last2=end2;
  }
}
