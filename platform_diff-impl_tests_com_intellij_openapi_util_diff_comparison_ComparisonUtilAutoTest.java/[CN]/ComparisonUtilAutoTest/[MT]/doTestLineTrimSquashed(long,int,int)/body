{
  ComparisonPolicy[] policies={ComparisonPolicy.DEFAULT,ComparisonPolicy.TRIM_WHITESPACES,ComparisonPolicy.IGNORE_WHITESPACES};
  doTest(seed,runs,maxLength,policies,new TestTask(){
    @Override public void run(    @NotNull Document text1,    @NotNull Document text2,    @NotNull ComparisonPolicy policy,    @NotNull Ref<Object> debugData){
      CharSequence sequence1=text1.getCharsSequence();
      CharSequence sequence2=text2.getCharsSequence();
      List<FineLineFragment> fragments=ComparisonUtil.compareFineLines(sequence1,sequence2,policy,INDICATOR);
      debugData.set(fragments);
      List<? extends FineLineFragment> processed=ComparisonUtil.processBlocksFine(fragments,sequence1,sequence2,policy,true,true);
      debugData.set(new Object[]{fragments,processed});
      checkResultLine(text1,text2,processed,policy,false);
    }
  }
);
}
