{
  if (myIndex < 0 || myIndex >= myRequests.size())   return NoDiffRequest.INSTANCE;
  DiffHyperlink hyperlink=myRequests.get(myIndex);
  try {
    String windowTitle=hyperlink.getDiffTitle();
    String text1=hyperlink.getLeft();
    String text2=hyperlink.getRight();
    VirtualFile file1=findFile(hyperlink.getFilePath());
    VirtualFile file2=findFile(hyperlink.getActualFilePath());
    DiffContent content1=createContentWithTitle(getProject(),text1,file1,file2);
    DiffContent content2=createContentWithTitle(getProject(),text2,file2,file1);
    String title1=getContentTitle("diff.content.expected.title",file1);
    String title2=getContentTitle("diff.content.actual.title",file2);
    return new SimpleDiffRequest(windowTitle,content1,content2,title1,title2);
  }
 catch (  Exception e) {
    return new ErrorDiffRequest(e);
  }
}
