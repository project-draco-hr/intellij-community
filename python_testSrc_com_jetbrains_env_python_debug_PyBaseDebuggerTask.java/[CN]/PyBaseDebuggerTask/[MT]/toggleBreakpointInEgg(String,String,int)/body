{
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      VirtualFile f=VirtualFileUtil.findFile(file);
      Assert.assertNotNull(f);
      final VirtualFile jarRoot=JarFileSystem.getInstance().getJarRootForLocalFile(f);
      Assert.assertNotNull(jarRoot);
      VirtualFile innerFile=jarRoot.findFileByRelativePath(innerPath);
      Assert.assertNotNull(innerFile);
      XDebuggerTestUtil.toggleBreakpoint(getProject(),innerFile,line);
    }
  }
);
  addOrRemoveBreakpoint(file,line);
}
