{
  super(project);
  myRequests=requests;
  setTitle("Focus Traces");
  final String[][] data=new String[requests.size()][];
  for (int i=0; i < data.length; i++) {
    final FocusRequestInfo r=requests.get(i);
    data[i]=new String[]{r.getDate(),String.valueOf(r.getComponent())};
  }
  setModal(false);
  myRequestsTable=new JBTable(new DefaultTableModel(data,COLUMNS){
    @Override public boolean isCellEditable(    int row,    int column){
      return false;
    }
  }
);
  final ListSelectionListener selectionListener=new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      if (consoleView == null)       return;
      final int index=myRequestsTable.getSelectedRow();
      consoleView.clear();
      if (-1 < index && index < myRequests.size()) {
        consoleView.print(myRequests.get(index).getStackTrace(),ConsoleViewContentType.NORMAL_OUTPUT);
      }
    }
  }
;
  myRequestsTable.getSelectionModel().addListSelectionListener(selectionListener);
  final TableColumnModel columnModel=myRequestsTable.getColumnModel();
  columnModel.getColumn(0).setMinWidth(120);
  columnModel.getColumn(0).setMaxWidth(120);
  columnModel.getColumn(0).setPreferredWidth(120);
  columnModel.getColumn(1).setMinWidth(60);
  columnModel.getColumn(1).setMaxWidth(60);
  columnModel.getColumn(1).setPreferredWidth(60);
  myRequestsTable.getSelectionModel().setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  myRequestsTable.changeSelection(0,0,false,true);
  consoleView=TextConsoleBuilderFactory.getInstance().createBuilder(ProjectManager.getInstance().getDefaultProject()).getConsole();
  init();
}
