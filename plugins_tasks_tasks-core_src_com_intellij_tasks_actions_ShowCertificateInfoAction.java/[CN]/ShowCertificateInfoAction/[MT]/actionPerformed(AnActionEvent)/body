{
  try {
    CertificatesManager manager=CertificatesManager.getInstance();
    List<X509Certificate> certificates=manager.getCustomTrustManager().getCertificates();
    if (certificates.isEmpty()) {
      Messages.showInfoMessage(String.format("Key store '%s' is empty",manager.getCacertsPath()),"No Certificates Available");
    }
 else {
      CertificateWarningDialog dialog=CertificateWarningDialog.createUntrustedCertificateWarning(certificates.get(0));
      LOG.debug("Accepted: " + dialog.showAndGet());
    }
  }
 catch (  Exception logged) {
    LOG.error(logged);
  }
}
