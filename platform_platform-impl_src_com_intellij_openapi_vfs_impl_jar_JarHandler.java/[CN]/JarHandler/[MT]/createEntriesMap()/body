{
  FileAccessorCache.Handle<ZipFile> existingZipRef=getCachedZipFileHandle(!myFileSystem.isMakeCopyOfJar(getFile()) || myFileWithMirrorResolved != null);
  if (existingZipRef == null) {
    File file=getFile();
    ZipFile zipFile=new ZipFile(file);
    setFileStampAndLength(this,file.getPath());
    try {
      return buildEntryMapForZipFile(zipFile);
    }
  finally {
      zipFile.close();
    }
  }
  try {
    return buildEntryMapForZipFile(existingZipRef.get());
  }
  finally {
    existingZipRef.release();
  }
}
