{
  if (!(holder.getFile() instanceof PropertiesFileImpl)) {
    return PsiElementVisitor.EMPTY_VISITOR;
  }
  final PropertiesCodeStyleSettings codeStyleSettings=PropertiesCodeStyleSettings.getInstance(holder.getProject());
  final char codeStyleKeyValueDelimiter=codeStyleSettings.KEY_VALUE_DELIMITER;
  return new PsiElementVisitor(){
    @Override public void visitElement(    PsiElement element){
      if (element instanceof PropertyImpl) {
        final Character delimiter=((PropertyImpl)element).getKeyValueDelimiter();
        if (delimiter != null && !delimiter.equals(codeStyleKeyValueDelimiter)) {
          holder.registerProblem(element,PropertiesBundle.message("wrong.property.key.value.delimiter.inspection.display.name"),new ReplaceKeyValueDelimiterQuickFix(element));
        }
      }
    }
  }
;
}
