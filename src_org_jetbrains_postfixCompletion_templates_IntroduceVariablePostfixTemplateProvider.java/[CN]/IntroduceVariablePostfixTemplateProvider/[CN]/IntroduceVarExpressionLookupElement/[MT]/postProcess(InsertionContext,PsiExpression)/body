{
  context.getEditor().getCaretModel().moveToOffset(expression.getTextRange().getEndOffset());
  boolean unitTestMode=ApplicationManager.getApplication().isUnitTestMode();
  IntroduceVariableHandler handler=unitTestMode ? getMockHandler() : new IntroduceVariableHandler();
  handler.invoke(context.getProject(),context.getEditor(),expression);
}
