{
  Boolean isAntFile=isAnt.get();
  if (isAntFile == null) {
    isAntFile=XmlUtil.isAntFile(file);
    isAnt.set(isAntFile);
  }
  Boolean result=isRelevantLanguage.get();
  if (result == null) {
    Language language=element.getLanguage();
    PsiElement parent=element.getParent();
    if (element instanceof PsiWhiteSpace && parent != null) {
      language=parent.getLanguage();
    }
    result=language instanceof XMLLanguage || HtmlUtil.supportsXmlTypedHandlers(file) || isAntFile.booleanValue();
    isRelevantLanguage.set(result);
  }
  return result.booleanValue();
}
