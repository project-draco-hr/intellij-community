{
  final TestNode o=new TestNode("o");
  final TestNode a=new TestNode("a");
  final TestNode b=new TestNode("b");
  final TestNode c=new TestNode("c");
  for (int oIndex=0; oIndex < 4; oIndex++) {
    List<TestNode> list=new ArrayList<TestNode>(Arrays.asList(a,b,c));
    list.add(oIndex,o);
    TestNode[] allNodes=list.toArray(new TestNode[list.size()]);
    Map<TestNode,TestNode[]> mapIn=new HashMap<TestNode,TestNode[]>();
    mapIn.put(o,new TestNode[]{a,b,c});
    final DFSTBuilder<TestNode> dfstBuilder=new DFSTBuilder<TestNode>(graphByNodes(allNodes,mapIn));
    assertTrue(dfstBuilder.isAcyclic());
    Comparator<TestNode> comparator=dfstBuilder.comparator();
    TestNode[] sorted=allNodes.clone();
    Arrays.sort(sorted,comparator);
    assertEquals("All nodes: " + list,Arrays.asList(c,b,a,o),Arrays.asList(sorted));
  }
}
