{
  SuspendContext suspendContext=debugProcess.getVm().getSuspendContextManager().getContext();
  if (suspendContext == null) {
    return;
  }
  suspendContext.getFrames().done(new ContextDependentAsyncResultConsumer<CallFrame[]>(suspendContext){
    @Override protected void consume(    CallFrame[] frames,    @NotNull Vm vm){
      int count=frames.length - firstFrameIndex;
      List<XStackFrame> result;
      if (count < 1) {
        result=Collections.emptyList();
      }
 else {
        result=new ArrayList<XStackFrame>(count);
        for (int i=firstFrameIndex; i < frames.length; i++) {
          if (i == 0) {
            result.add(topCallFrameView);
            continue;
          }
          CallFrame frame=frames[i];
          Script script=vm.getScriptManager().getScript(frame);
          if (script != null) {
            result.add(new CallFrameView(frame,debugProcess,script));
          }
        }
      }
      container.addStackFrames(result,true);
    }
  }
);
}
