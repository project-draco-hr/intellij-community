{
  checkExecutableAndVersion();
  if (myVFSListener == null) {
    myVFSListener=new GitVFSListener(myProject,this,myGit);
  }
  ServiceManager.getService(myProject,VcsUserRegistry.class);
  if (!ApplicationManager.getApplication().isHeadlessEnvironment()) {
    myBranchWidget=new GitBranchWidget(myProject);
    DvcsUtil.installStatusBarWidget(myProject,myBranchWidget);
  }
  if (myRepositoryForAnnotationsListener == null) {
    myRepositoryForAnnotationsListener=new GitRepositoryForAnnotationsListener(myProject);
  }
  ServiceManager.getService(myProject,GitUserRegistry.class).activate();
}
