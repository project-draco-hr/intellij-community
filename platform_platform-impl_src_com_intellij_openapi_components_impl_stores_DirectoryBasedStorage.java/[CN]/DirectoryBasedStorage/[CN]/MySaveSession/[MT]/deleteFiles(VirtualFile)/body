{
  AccessToken token=ApplicationManager.getApplication().acquireWriteActionLock(DocumentRunnable.IgnoreDocumentRunnable.class);
  try {
    for (    VirtualFile file : dir.getChildren()) {
      if (removedFileNames.contains(file.getName())) {
        try {
          file.delete(this);
        }
 catch (        FileNotFoundException e) {
          throw new ReadOnlyModificationException(file,e,null);
        }
      }
    }
  }
  finally {
    token.finish();
  }
}
