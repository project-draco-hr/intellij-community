{
  String fqn=importRef.getText();
  if (importFrom instanceof PsiPackage) {
    fqn=((PsiPackage)importFrom).getQualifiedName() + "." + fqn;
  }
  final JavaPsiFacade psiFacade=JavaPsiFacade.getInstance(importRef.getProject());
  if (psiFacade == null)   return null;
  final PsiPackage aPackage=psiFacade.findPackage(fqn);
  if (aPackage != null) {
    return aPackage;
  }
  Module sourceModule=ModuleUtil.findModuleForPsiElement(importRef);
  if (sourceModule != null) {
    final PsiClass aClass=psiFacade.findClass(fqn,sourceModule.getModuleWithDependenciesAndLibrariesScope(false));
    if (aClass != null)     return aClass;
  }
  return null;
}
