{
  final PsiStatement elseBranch=ifStatement.getElseBranch();
  negate=elseBranch != null && PsiTreeUtil.isAncestor(elseBranch,referenceExpression,true);
  final PsiStatement statement=negate ? elseBranch : ifStatement.getThenBranch();
  if (statement instanceof PsiBlockStatement) {
    final PsiBlockStatement blockStatement=(PsiBlockStatement)statement;
    if (VariableAccessUtils.variableIsAssignedBeforeReference(referenceExpression,blockStatement)) {
      return;
    }
  }
  checkExpression(ifStatement.getCondition());
}
