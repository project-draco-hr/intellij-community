{
  final Collection<PsiElement> result=new ArrayList<PsiElement>();
  final CollectProcessor<Usage> usageCollector=new CollectProcessor<Usage>();
  for (  final CustomUsageSearcher searcher : CustomUsageSearcher.EP_NAME.getExtensions()) {
    searcher.processElementUsages(element,usageCollector,new FindUsagesOptions(myFixture.getProject()));
  }
  for (  final Usage usage : usageCollector.getResults()) {
    if (usage instanceof PsiElementUsage) {
      result.add(((PsiElementUsage)usage).getElement());
    }
  }
  for (  final PsiReference reference : ReferencesSearch.search(element).findAll()) {
    result.add(reference.getElement());
  }
  for (  final UsageInfo info : myFixture.findUsages(element)) {
    result.add(info.getElement());
  }
  return result;
}
