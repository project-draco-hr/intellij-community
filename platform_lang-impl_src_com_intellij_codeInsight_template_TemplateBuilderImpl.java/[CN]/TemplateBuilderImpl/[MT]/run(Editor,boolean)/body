{
  final Template template;
  if (inline) {
    template=buildInlineTemplate();
  }
 else {
    template=buildTemplate();
    editor.getDocument().replaceString(myContainerElement.getStartOffset(),myContainerElement.getEndOffset(),"");
  }
  editor.getCaretModel().moveToOffset(myContainerElement.getStartOffset());
  TemplateManager.getInstance(myFile.getProject()).startTemplate(editor,template);
}
