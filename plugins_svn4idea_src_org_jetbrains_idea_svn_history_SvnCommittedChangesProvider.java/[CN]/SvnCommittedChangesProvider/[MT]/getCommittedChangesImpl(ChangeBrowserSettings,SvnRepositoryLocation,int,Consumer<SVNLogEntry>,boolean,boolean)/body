{
  setCollectingChangesProgress(location);
  String author=settings.getUserFilter();
  Date dateFrom=settings.getDateAfterFilter();
  Long changeFrom=settings.getChangeAfterFilter();
  Date dateTo=settings.getDateBeforeFilter();
  Long changeTo=settings.getChangeBeforeFilter();
  SVNRevision revisionBefore=createRevisionBefore(location,dateTo,changeTo);
  SVNRevision revisionAfter=createRevisionAfter(dateFrom,changeFrom);
  SvnTarget target=SvnTarget.fromURL(location.toSvnUrl(),revisionBefore);
  myVcs.getFactory(target).createHistoryClient().doLog(target,revisionBefore,revisionAfter,settings.STOP_ON_COPY,true,includeMergedRevisions,maxCount,null,createLogHandler(resultConsumer,filterOutByDate,author));
}
