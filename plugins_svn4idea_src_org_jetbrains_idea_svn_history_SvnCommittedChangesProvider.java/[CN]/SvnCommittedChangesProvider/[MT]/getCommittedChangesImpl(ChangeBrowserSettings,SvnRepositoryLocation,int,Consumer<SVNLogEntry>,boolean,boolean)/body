{
  setCollectingChangesProgress(location);
  try {
    final String author=settings.getUserFilter();
    final Date dateFrom=settings.getDateAfterFilter();
    final Long changeFrom=settings.getChangeAfterFilter();
    final Date dateTo=settings.getDateBeforeFilter();
    final Long changeTo=settings.getChangeBeforeFilter();
    final SVNRevision revisionBefore=createRevisionBefore(location,dateTo,changeTo);
    final SVNRevision revisionAfter=createRevisionAfter(dateFrom,changeFrom);
    SVNLogClient logger=myVcs.createLogClient();
    logger.doLog(location.toSvnUrl(),ArrayUtil.EMPTY_STRING_ARRAY,revisionBefore,revisionBefore,revisionAfter,settings.STOP_ON_COPY,true,includeMergedRevisions,maxCount,null,createLogHandler(resultConsumer,filterOutByDate,author));
  }
 catch (  SVNException e) {
    throw new VcsException(e);
  }
}
