{
  Element envsElement=element.getChild(ENVS);
  if (envsElement == null) {
    return DEFAULT;
  }
  Map<String,String> envs=ImmutableMap.of();
  String passParentEnvsStr=envsElement.getAttributeValue(PASS_PARENT_ENVS);
  boolean passParentEnvs=passParentEnvsStr == null || Boolean.parseBoolean(passParentEnvsStr);
  for (  Element envElement : envsElement.getChildren(ENV)) {
    String envName=envElement.getAttributeValue(NAME);
    String envValue=envElement.getAttributeValue(VALUE);
    if (envName != null && envValue != null) {
      if (envs.isEmpty()) {
        envs=ContainerUtil.newLinkedHashMap();
      }
      envs.put(envName,envValue);
    }
  }
  return create(envs,passParentEnvs);
}
