{
  git("remote add origin git://example.com/repo.git");
  git("config branch.master.remote origin");
  git("config branch.master.merge refs/heads/master");
  git("rm " + bfile.getPath());
  commit("removed bfile");
  String[] hashAndDate=log("--pretty=format:%H#%ct","-n1").split("#");
  git("update-ref refs/remotes/origin/master HEAD");
  touch("dir/b.txt","content");
  commit("recreated bfile");
  refresh();
  final ItemLatestState state=GitHistoryUtils.getLastRevision(myProject,toFilePath(bfile));
  assertTrue(!state.isItemExists());
  final GitRevisionNumber revisionNumber=(GitRevisionNumber)state.getNumber();
  assertEquals(revisionNumber.getRev(),hashAndDate[0]);
  assertEquals(revisionNumber.getTimestamp(),GitTestRevision.gitTimeStampToDate(hashAndDate[1]));
}
