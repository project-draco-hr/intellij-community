{
  runPythonTest(new DjangoPathTestTask(){
    public void testing() throws Exception {
      waitForOutput("Process finished with exit code 0");
      Set<String> defCommands=getCommands();
      String allCommands=ToStringBuilder.reflectionToString(defCommands.toArray(),ToStringStyle.SIMPLE_STYLE);
      for (      BaseCommand task : ManageTasksModel.getTasks(null)) {
        assertTrue(String.format("'%s' not found in a list of possible commands :%s",task.getCommand(),allCommands),defCommands.remove(task.getCommand()));
      }
      defCommands.remove("startproject");
      assertEmpty("Not all possible commands was listed:" + ToStringBuilder.reflectionToString(defCommands.toArray(),ToStringStyle.SIMPLE_STYLE),defCommands);
    }
    public Set<String> getCommands() throws ExecutionException {
      Set<String> result=ManagePyUtil.extractAvailableCommands(output());
      assertFalse(output(),result.isEmpty());
      result.add("createsuperuser");
      result.add("changepassword");
      return result;
    }
    @Nullable @Override public ConfigurationFactory getFactory(){
      return null;
    }
    @Override protected String getSubcommand(){
      return "";
    }
  }
);
}
