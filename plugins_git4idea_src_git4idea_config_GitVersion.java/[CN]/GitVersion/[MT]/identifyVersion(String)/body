{
  GeneralCommandLine commandLine=new GeneralCommandLine();
  commandLine.setExePath(gitExecutable);
  commandLine.addParameter("--version");
  commandLine.setCharset(CharsetToolkit.getDefaultSystemCharset());
  CapturingProcessHandler handler=new CapturingProcessHandler(commandLine);
  ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
  ProcessOutput result=indicator == null ? handler.runProcess(ExecutableValidator.TIMEOUT_MS) : handler.runProcessWithProgressIndicator(indicator);
  if (result.isTimeout()) {
    throw new TimeoutException("Couldn't identify the version of Git - stopped by timeout.");
  }
 else   if (result.isCancelled()) {
    LOG.info("Cancelled by user. exitCode=" + result.getExitCode());
    throw new ProcessCanceledException();
  }
 else   if (result.getExitCode() != 0 || !result.getStderr().isEmpty()) {
    LOG.info("getVersion exitCode=" + result.getExitCode() + " errors: "+ result.getStderr());
    try {
      parse(result.getStdout());
    }
 catch (    ParseException pe) {
      throw new ExecutionException("Errors while executing git --version. exitCode=" + result.getExitCode() + " errors: "+ result.getStderr());
    }
  }
  return parse(result.getStdout());
}
