{
  if (element instanceof PsiLanguageInjectionHost && InjectedLanguageUtil.hasInjections((PsiLanguageInjectionHost)element)) {
    return EMPTY_TOKENIZER;
  }
  if (element instanceof PsiNameIdentifierOwner)   return new PsiIdentifierOwnerTokenizer();
  if (element instanceof PsiComment) {
    if (SuppressionUtil.isSuppressionComment(element)) {
      return EMPTY_TOKENIZER;
    }
    return myCommentTokenizer;
  }
  if (element instanceof XmlAttributeValue)   return myXmlAttributeTokenizer;
  if (element instanceof PsiPlainText) {
    PsiFile file=element.getContainingFile();
    FileType fileType=file == null ? null : file.getFileType();
    if (fileType instanceof CustomSyntaxTableFileType) {
      return new CustomFileTypeTokenizer(((CustomSyntaxTableFileType)fileType).getSyntaxTable());
    }
    return TEXT_TOKENIZER;
  }
  if (element instanceof XmlToken) {
    if (((XmlToken)element).getTokenType() == XmlTokenType.XML_DATA_CHARACTERS) {
      PsiElement injection=InjectedLanguageManager.getInstance(element.getProject()).findInjectedElementAt(element.getContainingFile(),element.getTextOffset());
      if (injection == null) {
        return TEXT_TOKENIZER;
      }
    }
  }
  return EMPTY_TOKENIZER;
}
