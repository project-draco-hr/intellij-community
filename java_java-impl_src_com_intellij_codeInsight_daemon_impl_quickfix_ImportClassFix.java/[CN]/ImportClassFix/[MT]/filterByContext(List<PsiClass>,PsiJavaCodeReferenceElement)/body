{
  PsiElement typeElement=ref.getParent();
  if (typeElement instanceof PsiTypeElement) {
    PsiElement var=typeElement.getParent();
    if (var instanceof PsiVariable) {
      PsiExpression initializer=((PsiVariable)var).getInitializer();
      if (initializer != null) {
        return filterAssignableFrom(initializer.getType(),candidates);
      }
    }
    if (var instanceof PsiParameter) {
      return filterBySuperMethods((PsiParameter)var,candidates);
    }
  }
  return super.filterByContext(candidates,ref);
}
