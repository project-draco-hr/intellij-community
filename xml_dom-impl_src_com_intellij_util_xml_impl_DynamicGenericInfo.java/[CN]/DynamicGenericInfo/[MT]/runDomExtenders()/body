{
  DomExtensionsRegistrarImpl registrar=null;
  final Project project=myInvocationHandler.getManager().getProject();
  DomExtenderEP[] extenders=Extensions.getExtensions(DomExtenderEP.EP_NAME);
  if (extenders.length > 0) {
    for (    final DomExtenderEP extenderEP : extenders) {
      registrar=extenderEP.extend(project,myInvocationHandler,registrar);
    }
  }
  final AbstractDomChildDescriptionImpl description=myInvocationHandler.getChildDescription();
  if (description != null) {
    final List<DomExtender> extendersFromParent=description.getUserData(DomExtensionImpl.DOM_EXTENDER_KEY);
    if (extendersFromParent != null) {
      if (registrar == null)       registrar=new DomExtensionsRegistrarImpl();
      for (      final DomExtender extender : extendersFromParent) {
        extender.registerExtensions(myInvocationHandler.getProxy(),registrar);
      }
    }
  }
  return registrar;
}
