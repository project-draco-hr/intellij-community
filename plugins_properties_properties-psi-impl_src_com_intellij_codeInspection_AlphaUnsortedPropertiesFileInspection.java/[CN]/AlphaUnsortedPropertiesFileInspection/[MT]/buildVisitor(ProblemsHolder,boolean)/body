{
  return new PsiElementVisitor(){
    @Override public void visitFile(    PsiFile file){
      final PropertiesFile propertiesFile=PropertiesImplUtil.getPropertiesFile(file);
      if (!(propertiesFile instanceof PropertiesFileImpl)) {
        return;
      }
      final String resourceBundleBaseName=propertiesFile.getResourceBundle().getBaseName();
      if (!isResourceBundleAlphaSortedExceptOneFile(propertiesFile.getResourceBundle(),propertiesFile)) {
        holder.registerProblem(file,String.format(MESSAGE_TEMPLATE_WHOLE_RESOURCE_BUNDLE,resourceBundleBaseName),ProblemHighlightType.INFO,new PropertiesSorterQuickFix(true,propertiesFile));
        return;
      }
      if (!isAlphaSorted(propertiesFile)) {
        holder.registerProblem(file,"Property file is unsorted",ProblemHighlightType.INFO,new PropertiesSorterQuickFix(true,propertiesFile));
      }
    }
  }
;
}
