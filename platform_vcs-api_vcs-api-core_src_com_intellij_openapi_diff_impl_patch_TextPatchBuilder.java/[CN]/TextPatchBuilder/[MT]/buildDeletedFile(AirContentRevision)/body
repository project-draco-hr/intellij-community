{
  DiffString content=getContent(beforeRevision);
  DiffString[] lines=tokenize(content);
  TextFilePatch result=buildPatchHeading(beforeRevision,beforeRevision);
  PatchHunk hunk=new PatchHunk(0,lines.length,-1,-1);
  for (  DiffString line : lines) {
    checkCanceled();
    addLineToHunk(hunk,line,PatchLine.Type.REMOVE);
  }
  result.addHunk(hunk);
  return result;
}
