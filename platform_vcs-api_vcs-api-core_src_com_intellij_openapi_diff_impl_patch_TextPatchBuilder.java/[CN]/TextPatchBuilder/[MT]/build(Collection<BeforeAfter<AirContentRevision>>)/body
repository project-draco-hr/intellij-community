{
  List<FilePatch> result=new ArrayList<FilePatch>();
  for (  BeforeAfter<AirContentRevision> c : changes) {
    checkCanceled();
    AirContentRevision beforeRevision;
    AirContentRevision afterRevision;
    if (myIsReversePath) {
      beforeRevision=c.getAfter();
      afterRevision=c.getBefore();
    }
 else {
      beforeRevision=c.getBefore();
      afterRevision=c.getAfter();
    }
    FilePatch patch=createPatch(beforeRevision,afterRevision);
    if (patch != null)     result.add(patch);
  }
  return result;
}
