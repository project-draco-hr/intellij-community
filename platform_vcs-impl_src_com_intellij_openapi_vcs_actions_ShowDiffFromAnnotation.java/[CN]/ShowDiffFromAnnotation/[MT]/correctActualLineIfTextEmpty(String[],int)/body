{
  final VcsRevisionNumber revision=myFileAnnotation.getLineRevisionNumber(actualLine);
  if (revision != null) {
    int upperBound=Math.min(actualLine + ourVicinity,contentsLines.length);
    for (int i=actualLine; i < upperBound; i++) {
      if (!revision.equals(myFileAnnotation.getLineRevisionNumber(i)))       continue;
      final String lineContents=contentsLines[i];
      if (!StringUtil.isEmptyOrSpaces(lineContents)) {
        return new Pair<Integer,String>(i,lineContents);
      }
    }
    int lowerBound=Math.max(actualLine - ourVicinity,0);
    for (int i=actualLine - 1; i >= lowerBound; --i) {
      if (!revision.equals(myFileAnnotation.getLineRevisionNumber(i)))       continue;
      final String lineContents=contentsLines[i];
      if (!StringUtil.isEmptyOrSpaces(lineContents)) {
        return new Pair<Integer,String>(i,lineContents);
      }
    }
  }
  return new Pair<Integer,String>(actualLine,contentsLines[actualLine]);
}
