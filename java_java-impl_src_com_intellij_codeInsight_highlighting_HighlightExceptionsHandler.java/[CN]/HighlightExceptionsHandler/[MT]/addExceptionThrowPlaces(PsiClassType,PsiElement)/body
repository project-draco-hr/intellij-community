{
  place.accept(new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitReferenceExpression(    PsiReferenceExpression expression){
      visitElement(expression);
    }
    @Override public void visitThrowStatement(    PsiThrowStatement statement){
      super.visitThrowStatement(statement);
      List<PsiClassType> actualTypes=ExceptionUtil.getUnhandledExceptions(statement,place);
      for (      PsiClassType actualType : actualTypes) {
        if (actualType != null && type.isAssignableFrom(actualType) && myTypeFilter.value(actualType)) {
          PsiExpression psiExpression=statement.getException();
          if (psiExpression instanceof PsiReferenceExpression) {
            addOccurrence(psiExpression);
          }
 else           if (psiExpression instanceof PsiNewExpression) {
            PsiJavaCodeReferenceElement ref=((PsiNewExpression)psiExpression).getClassReference();
            if (ref != null) {
              addOccurrence(ref);
            }
          }
 else {
            PsiExpression exception=statement.getException();
            if (exception != null) {
              addOccurrence(exception);
            }
          }
        }
      }
    }
    @Override public void visitMethodCallExpression(    PsiMethodCallExpression expression){
      super.visitMethodCallExpression(expression);
      PsiReference reference=expression.getMethodExpression().getReference();
      if (reference != null) {
        List<PsiClassType> exceptionTypes=ExceptionUtil.getUnhandledExceptions(expression,place);
        for (        final PsiClassType actualType : exceptionTypes) {
          if (type.isAssignableFrom(actualType) && myTypeFilter.value(actualType)) {
            addOccurrence(expression.getMethodExpression());
            break;
          }
        }
      }
    }
    @Override public void visitNewExpression(    PsiNewExpression expression){
      super.visitNewExpression(expression);
      PsiJavaCodeReferenceElement classReference=expression.getClassOrAnonymousClassReference();
      if (classReference != null) {
        List<PsiClassType> exceptionTypes=ExceptionUtil.getUnhandledExceptions(expression,place);
        for (        PsiClassType actualType : exceptionTypes) {
          if (type.isAssignableFrom(actualType) && myTypeFilter.value(actualType)) {
            addOccurrence(classReference);
            break;
          }
        }
      }
    }
    @Override public void visitResourceExpression(    PsiResourceExpression expression){
      super.visitResourceExpression(expression);
      List<PsiClassType> exceptionTypes=ExceptionUtil.getUnhandledCloserExceptions(expression,place);
      for (      PsiClassType actualType : exceptionTypes) {
        if (type.isAssignableFrom(actualType) && myTypeFilter.value(actualType)) {
          addOccurrence(expression);
          break;
        }
      }
    }
    @Override public void visitResourceVariable(    PsiResourceVariable variable){
      super.visitResourceVariable(variable);
      List<PsiClassType> exceptionTypes=ExceptionUtil.getUnhandledCloserExceptions(variable,place);
      for (      PsiClassType actualType : exceptionTypes) {
        if (type.isAssignableFrom(actualType) && myTypeFilter.value(actualType)) {
          PsiIdentifier name=variable.getNameIdentifier();
          if (name != null) {
            addOccurrence(name);
            break;
          }
        }
      }
    }
  }
);
}
