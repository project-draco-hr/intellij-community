{
  List<String> args=ContainerUtil.newArrayList();
  args.add("-l");
  args.add(saveCommitMessage().getAbsolutePath());
  args.add("-UD");
  String patchName=DATE_FORMAT.format(new Date()).concat(".diff");
  args.add(patchName);
  args.addAll(chunkFiles);
  HgCommandExecutor executor=new HgCommandExecutor(myProject);
  executor.execute(myRepository.getRoot(),"qnew",args,new HgCommandResultHandler(){
    @Override public void process(    @Nullable HgCommandResult result){
      if (HgErrorUtil.hasErrorsInCommandExecution(result)) {
        new HgCommandResultNotifier(myProject).notifyError(result,"Qnew Failed","Could not create mq patch for selected changes");
      }
    }
  }
);
}
