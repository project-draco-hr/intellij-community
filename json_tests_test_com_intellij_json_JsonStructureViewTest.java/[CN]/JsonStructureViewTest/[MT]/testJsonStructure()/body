{
  myFixture.configureByFile("structureView/SimpleStructure.json");
  final StructureViewBuilder builder=LanguageStructureViewBuilder.INSTANCE.getStructureViewBuilder(getFile());
  assertNotNull(builder);
  StructureViewComponent component=null;
  try {
    final FileEditor editor=FileEditorManager.getInstance(getProject()).getSelectedEditor(getFile().getVirtualFile());
    component=(StructureViewComponent)builder.createStructureView(editor,myFixture.getProject());
    final StructureViewModel model=component.getTreeModel();
    TreeElement[] children=model.getRoot().getChildren();
    assertEquals(2,children.length);
    assertEquals("aaa",children[0].getPresentation().getPresentableText());
    assertEquals(PlatformIcons.PROPERTY_ICON,children[0].getPresentation().getIcon(false));
    assertEquals("bbb",children[1].getPresentation().getPresentableText());
    assertEquals(PlatformIcons.PROPERTY_ICON,children[1].getPresentation().getIcon(false));
    children=children[1].getChildren();
    assertEquals(1,children.length);
    assertEquals("ccc",children[0].getPresentation().getPresentableText());
    assertEquals(PlatformIcons.PROPERTY_ICON,children[0].getPresentation().getIcon(false));
  }
  finally {
    if (component != null) {
      Disposer.dispose(component);
    }
  }
}
