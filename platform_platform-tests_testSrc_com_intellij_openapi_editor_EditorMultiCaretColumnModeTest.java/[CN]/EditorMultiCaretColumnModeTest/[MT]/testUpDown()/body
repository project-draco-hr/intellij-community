{
  init("line1\n" + "li<caret>ne2\n" + "line3");
  executeAction(IdeActions.ACTION_EDITOR_MOVE_CARET_DOWN_WITH_SELECTION);
  checkResultByText("line1\n" + "li<caret>ne2\n" + "li<caret>ne3");
  executeAction(IdeActions.ACTION_EDITOR_MOVE_CARET_DOWN_WITH_SELECTION);
  checkResultByText("line1\n" + "li<caret>ne2\n" + "li<caret>ne3");
  executeAction(IdeActions.ACTION_EDITOR_MOVE_CARET_UP_WITH_SELECTION);
  checkResultByText("line1\n" + "li<caret>ne2\n" + "line3");
  executeAction(IdeActions.ACTION_EDITOR_MOVE_CARET_UP_WITH_SELECTION);
  checkResultByText("li<caret>ne1\n" + "li<caret>ne2\n" + "line3");
  executeAction(IdeActions.ACTION_EDITOR_MOVE_CARET_UP_WITH_SELECTION);
  checkResultByText("li<caret>ne1\n" + "li<caret>ne2\n" + "line3");
  executeAction(IdeActions.ACTION_EDITOR_MOVE_CARET_DOWN_WITH_SELECTION);
  checkResultByText("line1\n" + "li<caret>ne2\n" + "line3");
}
