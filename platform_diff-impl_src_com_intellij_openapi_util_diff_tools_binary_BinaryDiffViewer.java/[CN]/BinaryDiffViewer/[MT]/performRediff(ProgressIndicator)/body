{
  try {
    indicator.checkCanceled();
    DiffContent[] contents=myRequest.getContents();
    if (!(contents[0] instanceof BinaryFileContent) || !(contents[1] instanceof BinaryFileContent)) {
      return new Runnable(){
        @Override public void run(){
          clearDiffPresentation();
        }
      }
;
    }
    final BinaryFileContent content1=(BinaryFileContent)contents[0];
    final BinaryFileContent content2=(BinaryFileContent)contents[1];
    byte[] bytes1=content1.getBytes();
    byte[] bytes2=content2.getBytes();
    final boolean equal=Arrays.equals(bytes1,bytes2);
    return new Runnable(){
      @Override public void run(){
        clearDiffPresentation();
        if (equal)         myPanel.addContentsEqualNotification();
      }
    }
;
  }
 catch (  ProcessCanceledException ignore) {
    return new Runnable(){
      @Override public void run(){
        clearDiffPresentation();
        myPanel.addOperationCanceledNotification();
      }
    }
;
  }
catch (  Exception e) {
    LOG.error(e);
    return new Runnable(){
      @Override public void run(){
        clearDiffPresentation();
        myPanel.addDiffErrorNotification();
      }
    }
;
  }
catch (  final Error e) {
    return new Runnable(){
      @Override public void run(){
        clearDiffPresentation();
        myPanel.addDiffErrorNotification();
        throw e;
      }
    }
;
  }
}
