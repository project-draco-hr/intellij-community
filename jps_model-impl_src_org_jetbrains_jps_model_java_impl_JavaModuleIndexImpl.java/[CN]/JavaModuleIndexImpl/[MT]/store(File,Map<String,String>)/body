{
  Properties p=new Properties();
  for (  String key : mapping.keySet()) {
    String path=mapping.get(key);
    p.setProperty(key,path != null ? FileUtil.toSystemDependentName(path) : NULL_PATH);
  }
  FileUtil.ensureExists(indexDir);
  File index=new File(indexDir,INDEX_NAME);
  Writer writer=new OutputStreamWriter(new FileOutputStream(index),CharsetToolkit.UTF8_CHARSET);
  try {
    p.store(writer,null);
  }
  finally {
    writer.close();
  }
}
