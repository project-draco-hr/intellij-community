{
  KeymapManagerEx keymapManager=KeymapManagerEx.getInstanceEx();
  if (!Comparing.equal(mySelectedKeymap,keymapManager.getActiveKeymap())) {
    return true;
  }
  Keymap[] managerKeymaps=ContainerUtil.filter(keymapManager.getAllKeymaps(),new Condition<Keymap>(){
    @Override public boolean value(    Keymap keymap){
      return !SystemInfo.isMac || !KeymapManager.DEFAULT_IDEA_KEYMAP.equals(keymap.getName());
    }
  }
).toArray(new Keymap[]{});
  Keymap[] panelKeymaps=new Keymap[myKeymapListModel.getSize()];
  for (int i=0; i < myKeymapListModel.getSize(); i++) {
    panelKeymaps[i]=(Keymap)myKeymapListModel.getElementAt(i);
  }
  return !Comparing.equal(managerKeymaps,panelKeymaps);
}
