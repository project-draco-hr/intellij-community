{
  if (edge.getType() == Edge.Type.HIDE_FRAGMENT) {
    return new GraphFragmentImpl(edge.getUpNode(),edge.getDownNode());
  }
  Node up=upperSimpleNode(edge.getUpNode());
  Node down=lowestSimpleNode(edge.getDownNode());
  if (up == null || down == null) {
    return null;
  }
  if (isTrivialFragment(up,down)) {
    return null;
  }
  return new GraphFragmentImpl(up,down);
}
