{
  runPythonTest(new DjangoPathTestTask(){
    @Override protected void configure(    AbstractPythonRunConfiguration config) throws IOException {
      final int[] ports=DjangoTemplateDebuggerTest.findFreePorts(2);
      ((DjangoServerRunConfiguration)config).setPort(ports[1]);
      ((DjangoServerRunConfiguration)config).setRunNoReload(true);
    }
    @Override public ConfigurationFactory getFactory(){
      return DjangoServerRunConfigurationType.getInstance().getConfigurationFactories()[0];
    }
    public void testing() throws Exception {
      waitForOutput(THE_END_OF_PROCESS);
      doTest(output(),getTestDataPath());
    }
  }
);
}
