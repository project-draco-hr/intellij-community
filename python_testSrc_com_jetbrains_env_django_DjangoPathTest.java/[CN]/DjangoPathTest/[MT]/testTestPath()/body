{
  runPythonTest(new DjangoPathTestTask(){
    @Override public ConfigurationFactory getFactory(){
      return DjangoTestsConfigurationType.getInstance().getConfigurationFactories()[0];
    }
    @Override protected void configure(    AbstractPythonRunConfiguration config){
      ((DjangoTestsRunConfiguration)config).setTarget("site.SimpleTest");
    }
    public void testing() throws Exception {
      waitForOutput("The end of sys.path");
      final String[] splittedOutput=output().split("\\n");
      final ArrayList<String> outputList=Lists.newArrayList();
      for (      String s : splittedOutput) {
        if (s.equals("The end of sys.path"))         break;
        outputList.add(s);
      }
      assertEquals(getTestDataPath(),outputList.get(1));
      assertTrue(outputList.contains(PythonHelpersLocator.getHelpersRoot().getPath()));
      assertEquals(outputList.indexOf(PythonHelpersLocator.getHelpersRoot().getPath()),outputList.lastIndexOf(PythonHelpersLocator.getHelpersRoot().getPath()));
      assertEquals(outputList.indexOf(getTestDataPath()),outputList.lastIndexOf(getTestDataPath()));
    }
  }
);
}
