{
  if (!new File(projectConnectionDataNodeFunction.myProjectPath).isDirectory()) {
    return;
  }
  if (projectConnectionDataNodeFunction.myIsPreviewMode) {
    ModuleData buildSrcModuleData=new ModuleData(":buildSrc",GradleConstants.SYSTEM_ID,StdModuleTypes.JAVA.getId(),"buildSrc",projectConnectionDataNodeFunction.myProjectPath,projectConnectionDataNodeFunction.myProjectPath);
    resultProjectDataNode.createChild(ProjectKeys.MODULE,buildSrcModuleData);
    return;
  }
  final DataNode<ModuleData> buildSrcModuleDataNode=ExternalSystemApiUtil.find(resultProjectDataNode,ProjectKeys.MODULE,new BooleanFunction<DataNode<ModuleData>>(){
    @Override public boolean fun(    DataNode<ModuleData> node){
      return projectConnectionDataNodeFunction.myProjectPath.equals(node.getData().getLinkedExternalProjectPath());
    }
  }
);
  if (buildSrcModuleDataNode != null)   return;
  final DataNode<ProjectData> buildSrcProjectDataDataNode=myHelper.execute(projectConnectionDataNodeFunction.myProjectPath,projectConnectionDataNodeFunction.mySettings,projectConnectionDataNodeFunction);
  if (buildSrcProjectDataDataNode != null) {
    for (    DataNode<ModuleData> moduleNode : ExternalSystemApiUtil.getChildren(buildSrcProjectDataDataNode,ProjectKeys.MODULE)) {
      resultProjectDataNode.addChild(moduleNode);
      final ModuleData moduleData=moduleNode.getData();
      if (moduleData.getIdeModuleGroup() != null) {
        String[] moduleGroup=ArrayUtil.prepend(resultProjectDataNode.getData().getInternalName(),moduleData.getIdeModuleGroup());
        moduleData.setIdeModuleGroup(moduleGroup);
        for (        DataNode<GradleSourceSetData> sourceSetNode : ExternalSystemApiUtil.getChildren(moduleNode,GradleSourceSetData.KEY)) {
          sourceSetNode.getData().setIdeModuleGroup(moduleGroup);
        }
      }
    }
  }
}
