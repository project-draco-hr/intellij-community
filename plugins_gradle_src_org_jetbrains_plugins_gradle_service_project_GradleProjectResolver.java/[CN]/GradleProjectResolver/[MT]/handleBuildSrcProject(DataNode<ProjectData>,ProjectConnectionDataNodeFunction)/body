{
  final String projectPath=projectConnectionDataNodeFunction.myResolverContext.getProjectPath();
  if (!new File(projectPath).isDirectory()) {
    return;
  }
  if (projectConnectionDataNodeFunction.myResolverContext.isPreviewMode()) {
    ModuleData buildSrcModuleData=new ModuleData(":buildSrc",GradleConstants.SYSTEM_ID,StdModuleTypes.JAVA.getId(),"buildSrc",projectPath,projectPath);
    resultProjectDataNode.createChild(ProjectKeys.MODULE,buildSrcModuleData);
    return;
  }
  final DataNode<ModuleData> buildSrcModuleDataNode=GradleProjectResolverUtil.findModule(resultProjectDataNode,projectPath);
  if (buildSrcModuleDataNode != null)   return;
  final DataNode<ProjectData> buildSrcProjectDataDataNode=myHelper.execute(projectPath,projectConnectionDataNodeFunction.myResolverContext.getSettings(),projectConnectionDataNodeFunction);
  if (buildSrcProjectDataDataNode != null) {
    for (    DataNode<ModuleData> moduleNode : ExternalSystemApiUtil.getChildren(buildSrcProjectDataDataNode,ProjectKeys.MODULE)) {
      resultProjectDataNode.addChild(moduleNode);
      final ModuleData moduleData=moduleNode.getData();
      if (moduleData.getIdeModuleGroup() != null) {
        String[] moduleGroup=ArrayUtil.prepend(resultProjectDataNode.getData().getInternalName(),moduleData.getIdeModuleGroup());
        moduleData.setIdeModuleGroup(moduleGroup);
        for (        DataNode<GradleSourceSetData> sourceSetNode : ExternalSystemApiUtil.getChildren(moduleNode,GradleSourceSetData.KEY)) {
          sourceSetNode.getData().setIdeModuleGroup(moduleGroup);
        }
      }
    }
  }
}
