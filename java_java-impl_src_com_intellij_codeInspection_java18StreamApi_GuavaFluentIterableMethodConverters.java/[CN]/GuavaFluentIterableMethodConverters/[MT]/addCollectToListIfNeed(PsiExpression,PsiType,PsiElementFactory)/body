{
  if (type instanceof PsiClassType) {
    PsiClass resolvedParamClass=((PsiClassType)type).resolve();
    if (resolvedParamClass != null && CommonClassNames.JAVA_LANG_ITERABLE.equals(resolvedParamClass.getQualifiedName())) {
      final PsiExpression newExpression=elementFactory.createExpressionFromText(expression.getText() + ".collect(java.util.stream.Collectors.toList())",null);
      return (PsiExpression)expression.replace(newExpression);
    }
  }
  return expression;
}
