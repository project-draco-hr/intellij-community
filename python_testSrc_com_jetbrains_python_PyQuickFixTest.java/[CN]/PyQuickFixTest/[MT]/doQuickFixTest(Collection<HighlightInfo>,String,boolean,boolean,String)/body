{
  final List<IntentionAction> availableActions=new ArrayList<IntentionAction>(1);
  TIntObjectHashMap<HighlightInfo> map=new TIntObjectHashMap<HighlightInfo>(infos.size());
  for (  HighlightInfo info : infos) {
    final GutterIconRenderer renderer=info.getGutterIconRenderer();
    if (renderer == null) {
      assertFalse("There should be one intention for highlight info",map.containsKey(info.startOffset));
      map.put(info.startOffset,info);
      if (info.quickFixActionRanges != null) {
        for (        Pair<HighlightInfo.IntentionActionDescriptor,TextRange> pair : info.quickFixActionRanges) {
          IntentionAction action=pair.first.getAction();
          availableActions.add(action);
        }
      }
    }
  }
  final IntentionAction intentionAction=LightQuickFixTestCase.findActionWithText(availableActions,quickFixName);
  if (shouldBeAvailable) {
    assertNotNull(intentionAction);
  }
 else {
    assertNull(intentionAction);
  }
  if (applyFix && shouldBeAvailable) {
    intentionAction.invoke(myProject,myEditor,myFile);
    checkResultByFile(graftBeforeExt(s,"_after"));
  }
}
