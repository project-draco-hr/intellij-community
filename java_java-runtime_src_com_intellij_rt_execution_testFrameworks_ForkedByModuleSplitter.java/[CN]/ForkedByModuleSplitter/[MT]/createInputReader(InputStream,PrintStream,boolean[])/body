{
  return new Runnable(){
    char[] buf=new char[8192];
    public void run(){
      final InputStreamReader inputReader=new InputStreamReader(inputStream);
      try {
        while (true) {
          if (stopped[0])           break;
          int n;
          try {
            while (inputReader.ready() && (n=inputReader.read(buf)) > 0) {
              outputStream.print(new String(buf,0,n));
            }
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
      }
  finally {
        try {
          inputReader.close();
        }
 catch (        IOException e) {
          e.printStackTrace();
        }
      }
    }
  }
;
}
