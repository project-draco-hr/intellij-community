{
  int result=0;
  final BufferedReader perDirReader=new BufferedReader(new FileReader(myWorkingDirsPath));
  try {
    final String packageName=perDirReader.readLine();
    String workingDir;
    while ((workingDir=perDirReader.readLine()) != null) {
      final String moduleName=perDirReader.readLine();
      final String classpath=perDirReader.readLine();
      try {
        List classNames=new ArrayList();
        final int classNamesSize=Integer.parseInt(perDirReader.readLine());
        for (int i=0; i < classNamesSize; i++) {
          String className=perDirReader.readLine();
          if (className == null) {
            System.err.println("Class name is expected. Working dir: " + workingDir);
            result=-1;
            break;
          }
          classNames.add(className);
        }
        final int childResult=startPerModuleFork(moduleName,classNames,packageName,workingDir,classpath,result);
        result=Math.min(childResult,result);
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
  finally {
    perDirReader.close();
  }
  return result;
}
