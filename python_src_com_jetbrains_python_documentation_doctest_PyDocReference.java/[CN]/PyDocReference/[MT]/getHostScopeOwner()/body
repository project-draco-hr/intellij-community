{
  final InjectedLanguageManager languageManager=InjectedLanguageManager.getInstance(myElement.getProject());
  final PsiLanguageInjectionHost host=languageManager.getInjectionHost(myElement);
  if (host != null) {
    final PsiFile file=host.getContainingFile();
    ScopeOwner result=ScopeUtil.getScopeOwner(host);
    if (result == null && file instanceof ScopeOwner) {
      result=(ScopeOwner)file;
    }
    return result;
  }
  return null;
}
