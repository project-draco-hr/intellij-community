{
  if (!(element instanceof PsiJavaToken)) {
    return null;
  }
  PsiJavaToken token=(PsiJavaToken)element;
  if (!(token.getParent() instanceof PsiPolyadicExpression))   return null;
  PsiPolyadicExpression expression=(PsiPolyadicExpression)token.getParent();
  boolean isAndExpression=acceptAnd && expression.getOperationTokenType() == JavaTokenType.ANDAND;
  boolean isOrExpression=acceptOr && expression.getOperationTokenType() == JavaTokenType.OROR;
  if (!isAndExpression && !isOrExpression)   return null;
  while (expression.getParent() instanceof PsiPolyadicExpression) {
    expression=(PsiPolyadicExpression)expression.getParent();
    if (isAndExpression && expression.getOperationTokenType() != JavaTokenType.ANDAND)     return null;
    if (isOrExpression && expression.getOperationTokenType() != JavaTokenType.OROR)     return null;
  }
  return expression;
}
