{
  updateInfo(repositories);
  repositories=ContainerUtil.filter(repositories,new Condition<GitRepository>(){
    @Override public boolean value(    GitRepository repository){
      GitLocalBranch currentBranch=repository.getCurrentBranch();
      return currentBranch == null || !currentBranch.getName().equals(name);
    }
  }
);
  if (!repositories.isEmpty()) {
    new GitCheckoutNewBranchOperation(myProject,myFacade,myGit,myUiHandler,repositories,name).execute();
  }
 else {
    LOG.error("Creating new branch the same as current in all repositories: " + name);
  }
}
