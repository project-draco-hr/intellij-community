{
  Enumeration<? extends ZipEntry> entries=zipFile.entries();
  if (!entries.hasMoreElements())   return null;
  ZipEntry sizeEntry=entries.nextElement();
  if (sizeEntry == null || !sizeEntry.getName().equals(SIZE_ENTRY))   return null;
  byte[] bytes=FileUtilRt.loadBytes(zipFile.getInputStream(sizeEntry),2);
  int size=((bytes[1] & 0xFF) << 8) + (bytes[0] & 0xFF);
  JarMemoryLoader loader=new JarMemoryLoader();
  for (int i=0; i < size && entries.hasMoreElements(); i++) {
    ZipEntry entry=entries.nextElement();
    MemoryResource resource=MemoryResource.load(baseUrl,zipFile,entry,attributes);
    loader.myResources.put(entry.getName(),resource);
  }
  return loader;
}
