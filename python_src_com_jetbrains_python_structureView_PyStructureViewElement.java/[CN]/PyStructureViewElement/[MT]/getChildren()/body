{
  final Collection<StructureViewTreeElement> children=new ArrayList<StructureViewTreeElement>();
  for (  PyElement e : getElementChildren(myElement)) {
    children.add(createChild(e,getElementVisibility(e),false,elementIsField(e)));
  }
  PyPsiUtils.assertValid(myElement);
  if (myElement instanceof PyClass) {
    for (    PyClass c : ((PyClass)myElement).getAncestorClasses(null)) {
      for (      PyElement e : getElementChildren(c)) {
        final StructureViewTreeElement inherited=createChild(e,getElementVisibility(e),true,elementIsField(e));
        if (!children.contains(inherited)) {
          children.add(inherited);
        }
      }
    }
  }
  return children.toArray(new StructureViewTreeElement[children.size()]);
}
