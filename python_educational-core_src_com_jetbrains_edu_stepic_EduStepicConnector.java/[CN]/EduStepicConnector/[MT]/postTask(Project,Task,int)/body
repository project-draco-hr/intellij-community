{
  final HttpPost request=new HttpPost(stepicApiUrl + "step-sources");
  setHeaders(request,"application/json");
  final Gson gson=new GsonBuilder().setPrettyPrinting().excludeFieldsWithoutExposeAnnotation().create();
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      final String requestBody=gson.toJson(new StepSourceWrapper(project,task,lessonId));
      request.setEntity(new StringEntity(requestBody,ContentType.APPLICATION_JSON));
      try {
        final CloseableHttpResponse response=ourClient.execute(request);
        final StatusLine line=response.getStatusLine();
        if (line.getStatusCode() != HttpStatus.SC_CREATED) {
          final HttpEntity responseEntity=response.getEntity();
          final String responseString=responseEntity != null ? EntityUtils.toString(responseEntity) : "";
          LOG.error("Failed to push " + responseString);
        }
      }
 catch (      IOException e) {
        LOG.error(e.getMessage());
      }
    }
  }
);
}
