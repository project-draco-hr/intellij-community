{
  final String value=val != null ? val : "";
  CommandProcessor.getInstance().executeCommand(project,new Runnable(){
    public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          editor.getDocument().replaceString(from,(end == -1) ? editor.getDocument().getTextLength() : end,value);
        }
      }
);
    }
  }
,MODIFY_EDITOR_CONTENT,SS_GROUP);
}
