{
  final VirtualFile wrapperPropertiesFile=findWrapperPropertiesFile(gradleProjectPath);
  if (wrapperPropertiesFile == null)   return null;
  final WrapperConfiguration wrapperConfiguration=new WrapperConfiguration();
  final Properties props=new Properties();
  BufferedReader reader=null;
  try {
    reader=new BufferedReader(new FileReader(wrapperPropertiesFile.getPath()));
    props.load(reader);
    String distributionUrl=props.getProperty(WrapperExecutor.DISTRIBUTION_URL_PROPERTY);
    if (StringUtil.isEmpty(distributionUrl)) {
      throw new ExternalSystemException("Wrapper 'distributionUrl' property does not exist!");
    }
 else {
      wrapperConfiguration.setDistribution(new URI(distributionUrl));
    }
    String distributionPath=props.getProperty(WrapperExecutor.DISTRIBUTION_PATH_PROPERTY);
    if (!StringUtil.isEmpty(distributionPath)) {
      wrapperConfiguration.setDistributionPath(distributionPath);
    }
    String distPathBase=props.getProperty(WrapperExecutor.DISTRIBUTION_BASE_PROPERTY);
    if (!StringUtil.isEmpty(distPathBase)) {
      wrapperConfiguration.setDistributionBase(distPathBase);
    }
    return wrapperConfiguration;
  }
 catch (  Exception e) {
    GradleLog.LOG.warn(String.format("I/O exception on reading gradle wrapper properties file at '%s'",wrapperPropertiesFile.getPath()),e);
  }
 finally {
    if (reader != null) {
      try {
        reader.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return null;
}
