{
  super.setUp();
  final File root=FileUtil.createTempFile(getName(),"");
  root.delete();
  root.mkdir();
  myFilesToDelete.add(root);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      VirtualFile rootVFile=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(root);
      myPrjDir1=createChildDirectory(rootVFile,"prj1");
      mySrcDir1=createChildDirectory(myPrjDir1,"src1");
      mySrcDir2=createChildDirectory(myPrjDir1,"src2");
      myPrjDir2=createChildDirectory(rootVFile,"prj2");
      mySrcDir3=myPrjDir2;
      myClsDir1=createChildDirectory(myPrjDir1,"cls1");
      myIgnoredDir=createChildDirectory(mySrcDir1,"CVS");
      PsiTestUtil.addContentRoot(myModule,myPrjDir1);
      PsiTestUtil.addSourceRoot(myModule,mySrcDir1);
      PsiTestUtil.addSourceRoot(myModule,mySrcDir2);
      PsiTestUtil.addContentRoot(myModule,myPrjDir2);
      ModuleRootModificationUtil.addModuleLibrary(myModule,myClsDir1.getUrl());
      PsiTestUtil.addSourceRoot(myModule,mySrcDir3);
    }
  }
);
}
