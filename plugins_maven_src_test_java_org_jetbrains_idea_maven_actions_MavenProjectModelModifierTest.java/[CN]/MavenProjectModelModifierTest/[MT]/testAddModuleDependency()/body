{
  createTwoModulesPom("m1","m2");
  VirtualFile m1=createModulePom("m1","<groupId>test</groupId>" + "<artifactId>m1</artifactId>" + "<version>1</version>");
  createModulePom("m2","<groupId>test</groupId>" + "<artifactId>m2</artifactId>" + "<version>1</version>");
  importProject();
  Promise<Void> result=getExtension().addModuleDependency(getModule("m1"),getModule("m2"),DependencyScope.COMPILE);
  assertNotNull(result);
  assertHasDependency(m1,"test","m2");
  waitUntilImported(result);
  assertModuleModuleDeps("m1","m2");
}
