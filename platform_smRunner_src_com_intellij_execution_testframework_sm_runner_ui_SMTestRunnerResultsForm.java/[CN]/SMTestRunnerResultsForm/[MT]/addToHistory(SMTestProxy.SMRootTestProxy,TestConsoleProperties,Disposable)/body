{
  final RunProfile configuration=consoleProperties.getConfiguration();
  if (configuration instanceof RunConfiguration && !(consoleProperties instanceof ImportedTestConsoleProperties)) {
    final MySaveHistoryTask backgroundable=new MySaveHistoryTask(consoleProperties,root,configuration);
    final BackgroundableProcessIndicator processIndicator=new BackgroundableProcessIndicator(backgroundable);
    Disposer.register(parentDisposable,new Disposable(){
      @Override public void dispose(){
        processIndicator.cancel();
        backgroundable.dispose();
      }
    }
);
    Disposer.register(parentDisposable,processIndicator);
    ProgressManager.getInstance().runProcessWithProgressAsynchronously(backgroundable,processIndicator);
  }
}
