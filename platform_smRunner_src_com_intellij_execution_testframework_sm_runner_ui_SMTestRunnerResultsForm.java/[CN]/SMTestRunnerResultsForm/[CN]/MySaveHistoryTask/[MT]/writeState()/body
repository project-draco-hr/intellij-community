{
  TestStateStorage storage=TestStateStorage.getInstance(getProject());
  List<SMTestProxy> tests=myRoot.getAllTests();
  for (  SMTestProxy proxy : tests) {
    String url=proxy instanceof SMTestProxy.SMRootTestProxy ? ((SMTestProxy.SMRootTestProxy)proxy).getRootLocation() : proxy.getLocationUrl();
    if (url != null) {
      storage.writeState(url,new TestStateStorage.Record(proxy.getMagnitude(),new Date()));
    }
  }
}
