{
  if (file == null)   return;
  checkIfDisposed();
  if (isIgnoredByVcs(file))   return;
  if (myScope.belongsTo(VcsUtil.getFilePath(file))) {
    IgnoredFilesHolder ignoredFilesHolder=myComposite.getIgnoredFileHolder();
    if (ignoredFilesHolder instanceof IgnoredFilesCompositeHolder) {
      IgnoredFilesHolder holder=((IgnoredFilesCompositeHolder)ignoredFilesHolder).getAppropriateIgnoredHolder();
      if (holder instanceof MapIgnoredFilesHolder) {
        ((MapIgnoredFilesHolder)holder).addByVcsChangeProvider(file);
        return;
      }
    }
    ignoredFilesHolder.addFile(file);
  }
}
