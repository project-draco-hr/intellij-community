{
  XExpression conditionExpression=breakpoint.getConditionExpression();
  String condition=conditionExpression == null ? null : conditionExpression.getExpression();
  if (!processBreakpointConditionsAtIdeSide || condition == null) {
    processBreakpointLogExpressionAndSuspend(breakpoint,xSuspendContext,suspendContext);
  }
 else {
    xSuspendContext.evaluateExpression(condition).done(new ContextDependentAsyncResultConsumer<String>(suspendContext){
      @Override public void consume(      String evaluationResult,      @NotNull Vm vm){
        if ("false".equals(evaluationResult)) {
          resume();
        }
 else {
          processBreakpointLogExpressionAndSuspend(breakpoint,xSuspendContext,suspendContext);
        }
      }
    }
).rejected(new ContextDependentAsyncResultConsumer<Throwable>(suspendContext){
      @Override public void consume(      Throwable failure,      @NotNull Vm vm){
        processBreakpointLogExpressionAndSuspend(breakpoint,xSuspendContext,suspendContext);
      }
    }
);
  }
}
