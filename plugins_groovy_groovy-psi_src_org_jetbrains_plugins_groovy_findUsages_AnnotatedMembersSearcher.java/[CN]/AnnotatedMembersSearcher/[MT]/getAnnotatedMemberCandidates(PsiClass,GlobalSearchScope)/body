{
  final String name=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    @Override public String compute(){
      return clazz.getName();
    }
  }
);
  if (name == null)   return Collections.emptyList();
  final Collection<PsiElement> members=ApplicationManager.getApplication().runReadAction(new Computable<Collection<PsiElement>>(){
    @Override public Collection<PsiElement> compute(){
      return StubIndex.getElements(GrAnnotatedMemberIndex.KEY,name,clazz.getProject(),scope,PsiElement.class);
    }
  }
);
  if (members.isEmpty()) {
    return Collections.emptyList();
  }
  final List<PsiModifierListOwner> result=new ArrayList<PsiModifierListOwner>();
  for (  final PsiElement element : members) {
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      @Override public void run(){
        PsiElement e=element instanceof GroovyFile ? ((GroovyFile)element).getPackageDefinition() : element;
        if (e instanceof PsiModifierListOwner) {
          result.add((PsiModifierListOwner)e);
        }
      }
    }
);
  }
  return result;
}
