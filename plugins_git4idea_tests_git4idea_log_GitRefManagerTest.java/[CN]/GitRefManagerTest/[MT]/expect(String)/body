{
  final Set<VcsRef> refs=GitTestUtil.readAllRefs(myProjectRoot,ServiceManager.getService(myProject,VcsLogObjectsFactory.class));
  return ContainerUtil.map2List(refNames,new Function<String,VcsRef>(){
    @Override public VcsRef fun(    @NotNull final String refName){
      VcsRef item=ContainerUtil.find(refs,new Condition<VcsRef>(){
        @Override public boolean value(        VcsRef ref){
          return ref.getName().equals(GitBranchUtil.stripRefsPrefix(refName));
        }
      }
);
      assertNotNull("Ref " + refName + " not found",item);
      return item;
    }
  }
);
}
