{
  final PerFileMappings<Language> fileService=ScratchFileService.getInstance().getScratchesMapping();
  ListPopup popup=NewScratchFileAction.buildLanguageSelectionPopup(project,"Change Language",fileService.getMapping(file),new Consumer<Language>(){
    @Override public void consume(    Language language){
      fileService.setMapping(file,language);
      update();
    }
  }
);
  Dimension dimension=popup.getContent().getPreferredSize();
  Point at=new Point(0,-dimension.height);
  popup.show(new RelativePoint(myPanel,at));
}
