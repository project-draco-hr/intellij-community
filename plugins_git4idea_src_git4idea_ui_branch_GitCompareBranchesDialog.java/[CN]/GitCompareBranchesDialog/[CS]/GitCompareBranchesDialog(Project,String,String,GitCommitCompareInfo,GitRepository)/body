{
  super(project,GitCompareBranchesDialog.class.getName());
  myCurrentBranchName=currentBranchName;
  myCompareInfo=compareInfo;
  myProject=project;
  myBranchName=branchName;
  myInitialRepo=initialRepo;
  String rootString;
  if (compareInfo.getRepositories().size() == 1 && GitUtil.getRepositoryManager(myProject).moreThanOneRoot()) {
    rootString=" in root " + DvcsUtil.getShortRepositoryName(initialRepo);
  }
 else {
    rootString="";
  }
  setTitle(String.format("Comparing %s with %s%s",currentBranchName,branchName,rootString));
  myLogPanel=new GitCompareBranchesLogPanel(myProject,myBranchName,myCurrentBranchName,myCompareInfo,myInitialRepo);
  setPreferredFocusedComponent(myLogPanel);
  setComponent(createCenterPanel());
  closeOnEsc();
}
