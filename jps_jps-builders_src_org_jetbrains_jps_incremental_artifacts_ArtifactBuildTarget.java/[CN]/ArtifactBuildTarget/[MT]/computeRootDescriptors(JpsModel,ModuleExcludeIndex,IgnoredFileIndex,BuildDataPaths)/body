{
  ArtifactInstructionsBuilderImpl builder=new ArtifactInstructionsBuilderImpl(index,ignoredFileIndex,this,model,dataPaths);
  ArtifactInstructionsBuilderContext context=new ArtifactInstructionsBuilderContextImpl(model,dataPaths);
  final JpsArtifact artifact=getArtifact();
  String outputPath=StringUtil.notNullize(artifact.getOutputPath());
  final CopyToDirectoryInstructionCreator instructionCreator=new CopyToDirectoryInstructionCreator(builder,outputPath);
  LayoutElementBuildersRegistry.getInstance().generateInstructions(artifact,instructionCreator,context);
  return builder.getDescriptors();
}
