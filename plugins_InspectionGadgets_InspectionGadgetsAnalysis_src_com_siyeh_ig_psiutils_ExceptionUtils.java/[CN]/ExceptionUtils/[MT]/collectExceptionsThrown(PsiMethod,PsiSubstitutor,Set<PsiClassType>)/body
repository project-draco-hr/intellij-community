{
  if (method == null) {
    return;
  }
  for (  PsiClassType type : method.getThrowsList().getReferencedTypes()) {
    final PsiType substitute=substitutor.substitute(type);
    if (substitute instanceof PsiClassType) {
      out.add((PsiClassType)substitute);
    }
 else     if (substitute instanceof PsiCapturedWildcardType) {
      final PsiCapturedWildcardType capturedWildcardType=(PsiCapturedWildcardType)substitute;
      final PsiType upperBound=capturedWildcardType.getUpperBound();
      if (upperBound instanceof PsiClassType) {
        out.add((PsiClassType)upperBound);
      }
    }
  }
}
