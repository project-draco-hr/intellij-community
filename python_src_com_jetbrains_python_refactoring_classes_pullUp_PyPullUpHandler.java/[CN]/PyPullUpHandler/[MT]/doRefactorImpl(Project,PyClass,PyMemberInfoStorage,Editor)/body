{
  final PyPullUpNothingToRefactorMessage nothingToRefactor=new PyPullUpNothingToRefactorMessage(project,editor,classUnderRefactoring);
  if (PyAncestorsUtils.getAncestorsUnderUserControl(classUnderRefactoring).isEmpty()) {
    nothingToRefactor.showNothingToRefactor();
    return;
  }
  ViewPresenterUtils.linkViewWithPresenterAndLaunch(PyPullUpPresenter.class,PyPullUpView.class,new Creator<PyPullUpView,PyPullUpPresenter>(){
    @NotNull @Override public PyPullUpPresenter createPresenter(    @NotNull final PyPullUpView view){
      return new PyPullUpPresenterImpl(view,infoStorage,classUnderRefactoring);
    }
    @NotNull @Override public PyPullUpView createView(    @NotNull final PyPullUpPresenter presenter){
      return new PyPullUpViewSwingImpl(project,presenter,classUnderRefactoring,nothingToRefactor);
    }
  }
);
}
