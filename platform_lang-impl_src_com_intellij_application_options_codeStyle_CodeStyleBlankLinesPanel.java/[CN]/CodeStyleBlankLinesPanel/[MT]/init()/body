{
  super.init();
  JPanel optionsPanel=new JPanel(new GridBagLayout());
  Map<CodeStyleSettingPresentation.SettingsGroup,List<CodeStyleSettingPresentation>> settings=CodeStyleSettingPresentation.getStandardSettings(getSettingsType());
  OptionGroup keepBlankLinesOptionsGroup=createOptionsGroup(BLANK_LINES_KEEP,settings.get(new CodeStyleSettingPresentation.SettingsGroup(BLANK_LINES_KEEP)));
  OptionGroup blankLinesOptionsGroup=createOptionsGroup(BLANK_LINES,settings.get(new CodeStyleSettingPresentation.SettingsGroup(BLANK_LINES)));
  if (keepBlankLinesOptionsGroup != null) {
    keepBlankLinesOptionsGroup.setAnchor(keepBlankLinesOptionsGroup.findAnchor());
    optionsPanel.add(keepBlankLinesOptionsGroup.createPanel(),new GridBagConstraints(0,0,1,1,1,0,GridBagConstraints.NORTH,GridBagConstraints.HORIZONTAL,JBUI.emptyInsets(),0,0));
  }
  if (blankLinesOptionsGroup != null) {
    blankLinesOptionsGroup.setAnchor(blankLinesOptionsGroup.findAnchor());
    optionsPanel.add(blankLinesOptionsGroup.createPanel(),new GridBagConstraints(0,1,1,1,1,0,GridBagConstraints.NORTH,GridBagConstraints.HORIZONTAL,JBUI.emptyInsets(),0,0));
  }
  UIUtil.mergeComponentsWithAnchor(keepBlankLinesOptionsGroup,blankLinesOptionsGroup);
  optionsPanel.add(new JPanel(),new GridBagConstraints(0,2,1,1,0,1,GridBagConstraints.NORTH,GridBagConstraints.BOTH,JBUI.emptyInsets(),0,0));
  optionsPanel.setBorder(JBUI.Borders.empty(0,10));
  JScrollPane scroll=ScrollPaneFactory.createScrollPane(optionsPanel,true);
  scroll.getVerticalScrollBar().setUnitIncrement(10);
  scroll.setMinimumSize(new Dimension(optionsPanel.getPreferredSize().width + scroll.getVerticalScrollBar().getPreferredSize().width + 5,-1));
  scroll.setPreferredSize(scroll.getMinimumSize());
  myPanel.add(scroll,new GridBagConstraints(0,0,1,1,0,1,GridBagConstraints.NORTH,GridBagConstraints.BOTH,JBUI.emptyInsets(),0,0));
  final JPanel previewPanel=createPreviewPanel();
  myPanel.add(previewPanel,new GridBagConstraints(1,0,1,1,1,1,GridBagConstraints.NORTH,GridBagConstraints.BOTH,JBUI.emptyInsets(),0,0));
  installPreviewPanel(previewPanel);
  addPanelToWatch(myPanel);
  myIsFirstUpdate=false;
}
