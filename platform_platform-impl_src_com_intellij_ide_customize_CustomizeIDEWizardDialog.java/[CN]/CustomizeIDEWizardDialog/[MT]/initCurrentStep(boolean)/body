{
  final AbstractCustomizeWizardStep myCurrentStep=mySteps.get(myIndex);
  myCurrentStep.beforeShown(forward);
  myCardLayout.swipe(myContentPanel,myCurrentStep.getTitle(),JBCardLayout.SwipeDirection.AUTO,new Runnable(){
    @Override public void run(){
      Component component=myCurrentStep.getDefaultFocusedComponent();
      if (component != null) {
        component.requestFocus();
      }
    }
  }
);
  myBackButton.setVisible(myIndex > 0);
  if (myIndex > 0) {
    myBackButton.setText("Back to " + mySteps.get(myIndex - 1).getTitle());
  }
  myNextButton.setVisible(myIndex < mySteps.size() - 1);
  if (myIndex < mySteps.size() - 1) {
    myNextButton.setText("Next: " + mySteps.get(myIndex + 1).getTitle());
  }
  myHeaderLabel.setText(myCurrentStep.getHTMLHeader());
  myFooterLabel.setText(myCurrentStep.getHTMLFooter());
  StringBuilder navHTML=new StringBuilder("<html><body>");
  for (int i=0; i < mySteps.size(); i++) {
    if (i > 0)     navHTML.append("&nbsp;&#8594;&nbsp;");
    if (i == myIndex)     navHTML.append("<b>");
    navHTML.append(mySteps.get(i).getTitle());
    if (i == myIndex)     navHTML.append("</b>");
  }
  myNavigationLabel.setText(navHTML.toString());
}
