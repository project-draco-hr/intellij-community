{
  final AbstractCustomizeWizardStep myCurrentStep=mySteps.get(myIndex);
  myCurrentStep.beforeShown(forward);
  myCardLayout.swipe(myContentPanel,myCurrentStep.getTitle(),JBCardLayout.SwipeDirection.AUTO,new Runnable(){
    @Override public void run(){
      Component component=myCurrentStep.getDefaultFocusedComponent();
      if (component != null) {
        component.requestFocus();
      }
    }
  }
);
  myBackButton.setVisible(myIndex > 0);
  if (myIndex > 0) {
    myBackButton.setText("Back to " + mySteps.get(myIndex - 1).getTitle());
  }
  mySkipButton.setText("Skip " + (myIndex > 0 ? "Remaining" : "All") + " and Set Defaults");
  myNextButton.setText(myIndex < mySteps.size() - 1 ? "Next: " + mySteps.get(myIndex + 1).getTitle() : "Start using " + ApplicationNamesInfo.getInstance().getFullProductName());
  myHeaderLabel.setText(ensureHTML(myCurrentStep.getHTMLHeader()));
  myFooterLabel.setText(ensureHTML(myCurrentStep.getHTMLFooter()));
  StringBuilder navHTML=new StringBuilder("<html><body>");
  String arrow=myNavigationLabel.getFont().canDisplay(0x2192) ? "&#8594;" : "&gt;";
  for (int i=0; i < mySteps.size(); i++) {
    if (i > 0)     navHTML.append("&nbsp;").append(arrow).append("&nbsp;");
    if (i == myIndex)     navHTML.append("<b>");
    navHTML.append(mySteps.get(i).getTitle());
    if (i == myIndex)     navHTML.append("</b>");
  }
  myNavigationLabel.setText(navHTML.toString());
}
