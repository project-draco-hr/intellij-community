{
  PythonConsoleView pythonConsoleView=console.getPydevConsoleView();
  PythonDebugConsoleCommunication debugConsoleCommunication=new PythonDebugConsoleCommunication(project,debugProcess);
  pythonConsoleView.setConsoleCommunication(debugConsoleCommunication);
  PydevDebugConsoleExecuteActionHandler consoleExecuteActionHandler=new PydevDebugConsoleExecuteActionHandler(pythonConsoleView,processHandler,debugConsoleCommunication);
  pythonConsoleView.setExecutionHandler(consoleExecuteActionHandler);
  debugProcess.getSession().addSessionListener(consoleExecuteActionHandler);
  new LanguageConsoleBuilder(pythonConsoleView).processHandler(processHandler).initActions(consoleExecuteActionHandler,"py");
  debugConsoleCommunication.addCommunicationListener(new ConsoleCommunicationListener(){
    @Override public void commandExecuted(    boolean more){
      session.rebuildViews();
    }
    @Override public void inputRequested(){
    }
  }
);
  return debugConsoleCommunication;
}
