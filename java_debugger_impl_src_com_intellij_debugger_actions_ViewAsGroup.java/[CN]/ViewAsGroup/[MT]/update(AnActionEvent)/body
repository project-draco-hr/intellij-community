{
  if (!DebuggerAction.isFirstStart(event)) {
    return;
  }
  myChildren=AnAction.EMPTY_ARRAY;
  final DebuggerContextImpl debuggerContext=DebuggerAction.getDebuggerContext(event.getDataContext());
  final List<JavaValue> values=getSelectedValues(event);
  if (values.isEmpty()) {
    return;
  }
  final DebugProcessImpl process=debuggerContext.getDebugProcess();
  if (process == null) {
    event.getPresentation().setEnabled(false);
    return;
  }
  process.getManagerThread().schedule(new DebuggerContextCommandImpl(debuggerContext){
    public void threadAction(){
      myChildren=calcChildren(values);
      DebuggerAction.enableAction(event,myChildren.length > 0);
    }
  }
);
}
