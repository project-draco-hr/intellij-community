{
  chooseAndInstall(new InstalledPluginsTableModel(),new Consumer<Pair<File,IdeaPluginDescriptor>>(){
    @Override public void consume(    Pair<File,IdeaPluginDescriptor> pair){
      ApplicationEx app=ApplicationManagerEx.getApplicationEx();
      int response=app.isRestartCapable() ? PluginManagerConfigurable.showRestartIDEADialog() : PluginManagerConfigurable.showShutDownIDEADialog();
      if (response == Messages.YES) {
        app.restart(true);
      }
    }
  }
,null);
}
