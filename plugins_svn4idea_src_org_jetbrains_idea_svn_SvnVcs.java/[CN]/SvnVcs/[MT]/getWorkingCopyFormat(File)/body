{
  RootUrlInfo rootInfo=getSvnFileUrlMapping().getWcRootForFilePath(ioFile);
  WorkingCopyFormat format=rootInfo != null ? rootInfo.getFormat() : WorkingCopyFormat.UNKNOWN;
  if (WorkingCopyFormat.UNKNOWN.equals(format)) {
    format=SvnFormatSelector.findRootAndGetFormat(ioFile);
  }
  return format;
}
