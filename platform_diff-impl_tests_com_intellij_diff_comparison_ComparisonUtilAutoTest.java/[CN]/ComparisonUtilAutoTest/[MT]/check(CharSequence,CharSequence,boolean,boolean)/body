{
  if (ignoreSpaces) {
    assertTrue(StringUtil.equalsIgnoreWhitespaces(chunk1,chunk2));
  }
 else {
    if (skipNewline) {
      CharSequence chunk12=StringUtil.endsWithChar(chunk1,'\n') ? trimLastChar(chunk1) : null;
      CharSequence chunk22=StringUtil.endsWithChar(chunk2,'\n') ? trimLastChar(chunk2) : null;
      if (StringUtil.equals(chunk1,chunk2))       return;
      if (StringUtil.equals(chunk12,chunk2))       return;
      if (StringUtil.equals(chunk1,chunk22))       return;
      assertTrue(false);
    }
 else {
      assertTrue(StringUtil.equals(chunk1,chunk2));
    }
  }
}
