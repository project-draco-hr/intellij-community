{
  final JEditorPane editorPane=new JEditorPane();
  editorPane.setBackground(IpnbEditorUtil.getBackground());
  editorPane.setContentType(new HTMLEditorKit().getContentType());
  editorPane.setEditorKit(new HTMLEditorKit());
  final StyleSheet sheet=((HTMLDocument)editorPane.getDocument()).getStyleSheet();
  sheet.addRule(ourBodyRule);
  sheet.addRule(ourCodeRule);
  sheet.addRule(ourAlertRule);
  sheet.addRule(ourAlertSuccessRule);
  sheet.addRule(ourAlertErrorRule);
  editorPane.setEditable(false);
  final String html=convertToHtml(source,editorPane);
  editorPane.setText("<html><body>" + html + "</body></html>");
  editorPane.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      final Container parent=editorPane.getParent();
      final MouseEvent parentEvent=SwingUtilities.convertMouseEvent(editorPane,e,parent);
      parent.dispatchEvent(parentEvent);
    }
  }
);
  editorPane.addHyperlinkListener(new BrowserHyperlinkListener());
  return editorPane;
}
