{
  final JEditorPane editorPane=new JEditorPane();
  editorPane.setContentType(new HTMLEditorKit().getContentType());
  final StyleSheet sheet=((HTMLDocument)editorPane.getDocument()).getStyleSheet();
  sheet.addRule(ourBodyRule);
  sheet.addRule(ourCodeRule);
  sheet.addRule(ourAlertRule);
  sheet.addRule(ourAlertSuccessRule);
  sheet.addRule(ourAlertErrorRule);
  editorPane.setEditable(false);
  final String html=convertToHtml(source,editorPane);
  editorPane.setText("<html><body>" + html + "</body></html>");
  editorPane.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      final MouseEvent parentEvent=SwingUtilities.convertMouseEvent(editorPane,e,panel);
      panel.dispatchEvent(parentEvent);
    }
  }
);
  editorPane.addHyperlinkListener(new BrowserHyperlinkListener());
  panel.add(editorPane);
}
