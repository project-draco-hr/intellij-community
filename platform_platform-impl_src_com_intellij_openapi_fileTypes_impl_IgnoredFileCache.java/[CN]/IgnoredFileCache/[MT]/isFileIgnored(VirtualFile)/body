{
  int id=myVfsEventNesting == 0 && file instanceof NewVirtualFile ? ((NewVirtualFile)file).getId() : -1;
  if (id > 0 && myNonIgnoredIds.get(id)) {
    return false;
  }
  boolean result=myIgnoredPatterns.isIgnored(file.getNameSequence());
  if (!result && id > 0) {
    myNonIgnoredIds.set(id);
  }
  return result;
}
