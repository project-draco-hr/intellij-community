{
  Course course=new Course();
  course.setDescription(oldCourse.description);
  course.setName(oldCourse.name);
  course.setAuthors(new String[]{oldCourse.author});
  final ArrayList<Lesson> lessons=new ArrayList<Lesson>();
  for (  OldLesson oldLesson : oldCourse.lessons) {
    final Lesson lesson=new Lesson();
    lesson.setName(oldLesson.name);
    lesson.setIndex(oldLesson.myIndex);
    final ArrayList<Task> tasks=new ArrayList<Task>();
    for (    OldTask oldTask : oldLesson.taskList) {
      final Task task=new Task();
      task.setIndex(oldTask.myIndex);
      task.setName(oldTask.name);
      task.setLesson(lesson);
      final HashMap<String,TaskFile> taskFiles=new HashMap<String,TaskFile>();
      for (      Map.Entry<String,OldTaskFile> entry : oldTask.taskFiles.entrySet()) {
        final TaskFile taskFile=new TaskFile();
        final OldTaskFile oldTaskFile=entry.getValue();
        taskFile.setIndex(oldTaskFile.myIndex);
        taskFile.name=entry.getKey();
        final ArrayList<AnswerPlaceholder> placeholders=new ArrayList<AnswerPlaceholder>();
        for (        OldTaskWindow window : oldTaskFile.taskWindows) {
          final AnswerPlaceholder placeholder=new AnswerPlaceholder();
          placeholder.setIndex(window.myIndex);
          placeholder.setHint(window.hint);
          placeholder.setLength(window.length);
          placeholder.setLine(window.line);
          placeholder.setPossibleAnswer(window.possibleAnswer);
          placeholder.setStart(window.start);
          placeholders.add(placeholder);
        }
        taskFile.setAnswerPlaceholders(placeholders);
        taskFiles.put(entry.getKey(),taskFile);
      }
      task.taskFiles=taskFiles;
      tasks.add(task);
    }
    lesson.taskList=tasks;
    lessons.add(lesson);
  }
  course.setLessons(lessons);
  return course;
}
