{
  EmptyAction.setupAction(myHistoryNext,"Console.History.Next",null);
  EmptyAction.setupAction(myHistoryPrev,"Console.History.Previous",null);
  EmptyAction.setupAction(myBrowseHistory,"Console.History.Browse",null);
  if (!myMultiline) {
    AnAction up=ActionManager.getInstance().getActionOrStub(IdeActions.ACTION_EDITOR_MOVE_CARET_UP);
    AnAction down=ActionManager.getInstance().getActionOrStub(IdeActions.ACTION_EDITOR_MOVE_CARET_DOWN);
    if (up != null && down != null) {
      myHistoryNext.registerCustomShortcutSet(up.getShortcutSet(),null);
      myHistoryPrev.registerCustomShortcutSet(down.getShortcutSet(),null);
    }
 else {
      myHistoryNext.registerCustomShortcutSet(KeyEvent.VK_UP,0,null);
      myHistoryPrev.registerCustomShortcutSet(KeyEvent.VK_DOWN,0,null);
    }
  }
  myHistoryNext.registerCustomShortcutSet(myHistoryNext.getShortcutSet(),myConsole.getCurrentEditor().getComponent());
  myHistoryPrev.registerCustomShortcutSet(myHistoryPrev.getShortcutSet(),myConsole.getCurrentEditor().getComponent());
  myBrowseHistory.registerCustomShortcutSet(myBrowseHistory.getShortcutSet(),myConsole.getCurrentEditor().getComponent());
}
