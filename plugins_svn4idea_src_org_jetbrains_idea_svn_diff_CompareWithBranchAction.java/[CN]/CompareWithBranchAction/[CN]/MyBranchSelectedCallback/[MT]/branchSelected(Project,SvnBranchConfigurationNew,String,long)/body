{
  ElementWithBranchComparer comparer=myVirtualFile.isDirectory() ? new DirectoryWithBranchComparer(project,myVirtualFile,url,revision) : new FileWithBranchComparer(project,myVirtualFile,url,revision);
  comparer.run();
}
