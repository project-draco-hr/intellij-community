{
  LinkedHashSet<Shortcut> list=myActionId2ListOfShortcuts.get(actionId);
  if (list != null) {
    Iterator<Shortcut> it=list.iterator();
    while (it.hasNext()) {
      Shortcut each=it.next();
      if (toDelete.equals(each)) {
        it.remove();
        if ((myParent != null && areShortcutsEqual(getParentShortcuts(actionId),getShortcuts(actionId))) || (myParent == null && list.isEmpty())) {
          myActionId2ListOfShortcuts.remove(actionId);
        }
        break;
      }
    }
  }
 else {
    Shortcut[] inherited=getBoundShortcuts(actionId);
    if (inherited == null && myParent != null) {
      inherited=getParentShortcuts(actionId);
    }
    if (inherited != null) {
      boolean affected=false;
      LinkedHashSet<Shortcut> newShortcuts=new LinkedHashSet<Shortcut>(inherited.length);
      for (      Shortcut eachInherited : inherited) {
        if (toDelete.equals(eachInherited)) {
          affected=true;
        }
 else {
          newShortcuts.add(eachInherited);
        }
      }
      if (affected) {
        myActionId2ListOfShortcuts.put(actionId,newShortcuts);
      }
    }
  }
  cleanShortcutsCache();
  fireShortcutChanged(actionId);
}
