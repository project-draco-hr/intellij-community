{
  if (SystemInfo.isWindows && op == WatcherOp.RECDIRTY) {
    VirtualFile root=LocalFileSystem.getInstance().findFileByPath(path);
    if (root != null) {
      myNotificationSink.notifyDirtyPathRecursive(path);
    }
    return;
  }
  if ((op == WatcherOp.CHANGE || op == WatcherOp.STATS) && isRepetition(path)) {
    if (LOG.isTraceEnabled())     LOG.trace("repetition: " + path);
    return;
  }
  if (SystemInfo.isMac) {
    path=Normalizer.normalize(path,Normalizer.Form.NFC);
  }
switch (op) {
case STATS:
case CHANGE:
    myNotificationSink.notifyDirtyPath(path);
  break;
case CREATE:
case DELETE:
myNotificationSink.notifyPathCreatedOrDeleted(path);
break;
case DIRTY:
myNotificationSink.notifyDirtyDirectory(path);
break;
case RECDIRTY:
myNotificationSink.notifyDirtyPathRecursive(path);
break;
default :
LOG.error("Unexpected op: " + op);
}
}
