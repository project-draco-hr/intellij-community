{
  ProgressIndicatorProvider.checkCanceled();
  Map<String,PsiClass> map=myClassCache.get(scope);
  if (map == null) {
    map=ContainerUtil.createConcurrentWeakValueMap();
    map=ConcurrencyUtil.cacheOrGet(myClassCache,scope,map);
  }
  PsiClass result=map.get(qualifiedName);
  if (result == null) {
    result=doFindClass(qualifiedName,scope);
    if (result != null) {
      map.put(qualifiedName,result);
    }
  }
  return result;
}
