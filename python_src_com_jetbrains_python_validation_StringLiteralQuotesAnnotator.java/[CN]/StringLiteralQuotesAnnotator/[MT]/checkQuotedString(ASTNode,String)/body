{
  final char firstQuote=nodeText.charAt(0);
  final char lastChar=nodeText.charAt(nodeText.length() - 1);
  int precedingBackslashCount=0;
  for (int i=nodeText.length() - 2; i >= 0; i--) {
    if (nodeText.charAt(i) == '\\') {
      precedingBackslashCount++;
    }
 else {
      break;
    }
  }
  if (nodeText.length() == 1 || lastChar != firstQuote || precedingBackslashCount % 2 != 0) {
    getHolder().createErrorAnnotation(stringNode,PyBundle.message("ANN.missing.closing.quote",firstQuote));
    return true;
  }
  return false;
}
