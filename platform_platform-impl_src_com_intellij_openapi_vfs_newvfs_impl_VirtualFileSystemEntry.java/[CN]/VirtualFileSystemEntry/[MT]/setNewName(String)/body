{
  if (newName.isEmpty()) {
    throw new IllegalArgumentException("Name of the virtual file cannot be set to empty string");
  }
  VirtualDirectoryImpl parent=(VirtualDirectoryImpl)getParent();
  parent.removeChild(this);
  mySegment.setNameId(myId,FileNameCache.storeName(newName));
  parent.addChild(this);
}
