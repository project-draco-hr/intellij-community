{
  ExtensionPointName<CheckoutListener> epName=checkoutCompleted ? CheckoutListener.COMPLETED_EP_NAME : CheckoutListener.EP_NAME;
  CheckoutListener[] listeners=Extensions.getExtensions(epName);
  for (  CheckoutListener listener : listeners) {
    myFoundProject=listener.processCheckedOutDirectory(myProject,directory);
    if (myFoundProject)     break;
  }
  if (!checkoutCompleted) {
    final VcsAwareCheckoutListener[] vcsAwareExtensions=Extensions.getExtensions(VcsAwareCheckoutListener.EP_NAME);
    for (    VcsAwareCheckoutListener extension : vcsAwareExtensions) {
      boolean processingCompleted=extension.processCheckedOutDirectory(myProject,directory,myVcsKey);
      if (processingCompleted)       break;
    }
  }
  Project project=findProjectByBaseDirLocation(directory);
  if (project != null) {
    for (    CheckoutListener listener : listeners) {
      listener.processOpenedProject(project);
    }
  }
}
