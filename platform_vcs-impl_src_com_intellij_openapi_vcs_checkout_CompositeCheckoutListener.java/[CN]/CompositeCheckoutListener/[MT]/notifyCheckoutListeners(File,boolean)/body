{
  ExtensionPointName<CheckoutListener> epName=checkoutCompleted ? CheckoutListener.COMPLETED_EP_NAME : CheckoutListener.EP_NAME;
  CheckoutListener[] listeners=Extensions.getExtensions(epName);
  for (  CheckoutListener listener : listeners) {
    myFoundProject=listener.processCheckedOutDirectory(myProject,directory);
    if (myFoundProject)     break;
  }
  if (!checkoutCompleted) {
    final VcsAwareCheckoutListener[] vcsAwareExtensions=Extensions.getExtensions(VcsAwareCheckoutListener.EP_NAME);
    for (    VcsAwareCheckoutListener extension : vcsAwareExtensions) {
      boolean processingCompleted=extension.processCheckedOutDirectory(myProject,directory,myVcsKey);
      if (processingCompleted)       break;
    }
  }
  final Project[] openProjects=ProjectManager.getInstance().getOpenProjects();
  if (openProjects.length > 0) {
    final Project lastOpenedProject=openProjects[openProjects.length - 1];
    for (    CheckoutListener listener : listeners) {
      listener.processOpenedProject(lastOpenedProject);
    }
  }
}
