{
  List<BasicBlock> lstRes=new ArrayList<BasicBlock>();
  LinkedList<BasicBlock> stack=new LinkedList<BasicBlock>();
  HashSet<BasicBlock> setVisited=new HashSet<BasicBlock>();
  BasicBlock handler=range.getHandler();
  stack.addFirst(handler);
  while (!stack.isEmpty()) {
    BasicBlock block=stack.removeFirst();
    setVisited.add(block);
    if (range.getProtectedRange().contains(block) && engine.isDominator(block,handler)) {
      lstRes.add(block);
      List<BasicBlock> lstSuccs=new ArrayList<BasicBlock>(block.getSuccs());
      lstSuccs.addAll(block.getSuccExceptions());
      for (      BasicBlock succ : lstSuccs) {
        if (!setVisited.contains(succ)) {
          stack.add(succ);
        }
      }
    }
  }
  return lstRes;
}
