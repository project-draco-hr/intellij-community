{
  HashSet<BasicBlock> setVisited=new HashSet<BasicBlock>();
  for (  ExceptionRangeCFG range : graph.getExceptions()) {
    BasicBlock handler=range.getHandler();
    if (setVisited.contains(handler)) {
      continue;
    }
    setVisited.add(handler);
    BasicBlock emptyblock=new BasicBlock(++graph.last_id);
    graph.getBlocks().addWithKey(emptyblock,emptyblock.id);
    List<BasicBlock> lstTemp=new ArrayList<BasicBlock>();
    lstTemp.addAll(handler.getPredExceptions());
    for (    BasicBlock pred : lstTemp) {
      pred.replaceSuccessor(handler,emptyblock);
    }
    for (    ExceptionRangeCFG range_ext : graph.getExceptions()) {
      if (range_ext.getHandler() == handler) {
        range_ext.setHandler(emptyblock);
      }
 else       if (range_ext.getProtectedRange().contains(handler)) {
        emptyblock.addSuccessorException(range_ext.getHandler());
        range_ext.getProtectedRange().add(emptyblock);
      }
    }
    emptyblock.addSuccessor(handler);
    if (graph.getFirst() == handler) {
      graph.setFirst(emptyblock);
    }
  }
}
