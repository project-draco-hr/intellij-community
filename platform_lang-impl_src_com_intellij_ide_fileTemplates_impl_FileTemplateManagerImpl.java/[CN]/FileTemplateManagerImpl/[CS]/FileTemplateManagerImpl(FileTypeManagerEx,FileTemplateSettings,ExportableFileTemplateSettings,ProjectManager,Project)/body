{
  myTypeManager=typeManager;
  myProjectSettings=projectSettings;
  myDefaultSettings=defaultSettings;
  myProject=project;
  myProjectScheme=project.isDefault() ? null : new FileTemplatesScheme("Project"){
    @NotNull @Override public String getTemplatesDir(){
      return new File(project.getBasePath(),Project.DIRECTORY_STORE_FOLDER + "/" + TEMPLATES_DIR).getPath();
    }
    @NotNull @Override public Project getProject(){
      return project;
    }
  }
;
}
