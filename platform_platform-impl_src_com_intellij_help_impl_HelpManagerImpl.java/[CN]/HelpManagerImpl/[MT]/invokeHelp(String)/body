{
  UsageTrigger.trigger("ide.help." + id);
  if (myHelpSet == null) {
    myHelpSet=createHelpSet();
  }
  if (MacHelpUtil.isApplicable() && MacHelpUtil.invokeHelp(id)) {
    return;
  }
  if (SystemInfo.isJavaVersionAtLeast("1.7.0.40") && Registry.is("ide.help.fxbrowser")) {
    showHelpInFXBrowser(id);
    return;
  }
  if (myHelpSet == null) {
    ApplicationInfoEx info=ApplicationInfoEx.getInstanceEx();
    String url=info.getWebHelpUrl() + "?";
    if (PlatformUtils.isCLion()) {
      url+="Keyword=" + id;
      url+="&ProductVersion=" + info.getMajorVersion() + "."+ info.getMinorVersion();
      if (info.isEAP()) {
        url+="&EAP";
      }
    }
 else {
      url+=id;
    }
    BrowserUtil.browse(url);
    return;
  }
  if (myBroker == null) {
    myBroker=new IdeaHelpBroker(myHelpSet);
  }
  Window activeWindow=KeyboardFocusManager.getCurrentKeyboardFocusManager().getActiveWindow();
  myBroker.setActivationWindow(activeWindow);
  if (id != null) {
    try {
      myBroker.setCurrentID(id);
    }
 catch (    BadIDException e) {
      Messages.showErrorDialog(IdeBundle.message("help.topic.not.found.error",id),CommonBundle.getErrorTitle());
      return;
    }
  }
  myBroker.setDisplayed(true);
}
