{
  RemoteServer<SC> castedAccount=(RemoteServer<SC>)account;
  final AC castedApplicationConfiguration=(AC)applicationConfiguration;
  DC deploymentConfiguration=createDeploymentConfiguration();
  if (applicationConfiguration.isExisting()) {
    deploymentConfiguration.setDefaultDeploymentName(false);
    deploymentConfiguration.setDeploymentName(applicationConfiguration.getExistingAppName());
  }
  final DeployToServerRunConfiguration<SC,DC> runConfiguration=CloudAccountSelectionEditor.createRunConfiguration(castedAccount,module,deploymentConfiguration);
  final ServerType<?> cloudType=account.getType();
  final Project project=module.getProject();
  new CloudConnectionTask<Object,SC,DC,SR>(project,CloudBundle.getText("cloud.support",cloudType.getPresentableName()),castedAccount){
    boolean myFirstAttempt=true;
    @Override protected Object run(    SR serverRuntime) throws ServerRuntimeException {
      doConfigureModule(castedApplicationConfiguration,runConfiguration,myFirstAttempt,serverRuntime);
      return null;
    }
    @Override protected void runtimeErrorOccurred(    @NotNull String errorMessage){
      myFirstAttempt=false;
      new SshKeyChecker().checkServerError(errorMessage,getNotifier(),project,this);
    }
    @Override protected void postPerform(    Object result){
      detectModuleStructure(module,contentPath);
    }
    @Override protected boolean shouldStartInBackground(){
      return false;
    }
  }
.performAsync();
}
