{
  RemoteServer<SC> castedAccount=(RemoteServer<SC>)account;
  final AC castedApplicationConfiguration=(AC)applicationConfiguration;
  DC deploymentConfiguration=createDeploymentConfiguration();
  if (applicationConfiguration.isExisting()) {
    deploymentConfiguration.setDefaultDeploymentName(false);
    deploymentConfiguration.setDeploymentName(applicationConfiguration.getExistingAppName());
  }
  final DeployToServerRunConfiguration<SC,DC> runConfiguration=createRunConfiguration(module,castedAccount,deploymentConfiguration);
  final String cloudName=account.getType().getPresentableName();
  final Project project=module.getProject();
  new CloudConnectionTask<Object,SC,DC,SR>(project,CloudBundle.getText("cloud.support",cloudName),castedAccount){
    CloudNotifier myNotifier=new CloudNotifier(cloudName);
    boolean myFirstAttempt=true;
    @Override protected Object run(    SR serverRuntime) throws ServerRuntimeException {
      doConfigureModule(castedApplicationConfiguration,runConfiguration,myFirstAttempt,serverRuntime);
      myNotifier.showMessage(CloudBundle.getText("cloud.support.added",cloudName),MessageType.INFO);
      return null;
    }
    @Override protected void runtimeErrorOccurred(    @NotNull String errorMessage){
      myFirstAttempt=false;
      new SshKeyChecker().checkServerError(errorMessage,myNotifier,project,this);
    }
  }
.performAsync();
}
