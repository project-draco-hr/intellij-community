{
  MavenSearcher searcher=myClassMode ? new MavenClassSearcher() : new MavenArtifactSearcher(USE_LUCENE_INDEXES);
  List<MavenArtifactSearchResult> result=searcher.search(myProject,searchText,MAX_RESULT);
  resortUsingDependencyVersionMap(result);
  final TreeModel model=new MyTreeModel(result);
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      if (!myDialog.isVisible())       return;
      myResultList.getEmptyText().setText("No results");
      myResultList.setModel(model);
      myResultList.setSelectionRow(0);
      myResultList.setPaintBusy(false);
    }
  }
);
}
