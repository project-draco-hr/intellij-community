{
  PsiUtilCore.ensureValid(aClass);
  Key<CachedValue<ClassMembers>> key=includeSynthetic ? CACHED_MEMBERS_INCLUDING_SYNTHETIC : CACHED_MEMBERS;
  CachedValue<ClassMembers> cachedValue=aClass.getUserData(key);
  if (includeSynthetic && isCyclicDependence(aClass)) {
    includeSynthetic=false;
  }
  if (cachedValue == null) {
    cachedValue=buildCache(aClass,includeSynthetic);
    aClass.putUserData(key,cachedValue);
  }
  return cachedValue.getValue();
}
