{
  boolean old=CodeInsightSettings.getInstance().OPTIMIZE_IMPORTS_ON_THE_FLY;
  try {
    CodeInsightSettings.getInstance().OPTIMIZE_IMPORTS_ON_THE_FLY=false;
    IntentionAction action=findActionAndCheck(actionHint,testFullPath);
    if (action != null) {
      action.invoke(getProject(),getEditor(),getFile());
      assertTrue(CodeInsightSettings.getInstance().OPTIMIZE_IMPORTS_ON_THE_FLY);
    }
  }
  finally {
    CodeInsightSettings.getInstance().OPTIMIZE_IMPORTS_ON_THE_FLY=old;
  }
}
