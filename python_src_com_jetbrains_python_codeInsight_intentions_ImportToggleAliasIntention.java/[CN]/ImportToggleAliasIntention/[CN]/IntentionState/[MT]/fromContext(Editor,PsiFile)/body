{
  IntentionState state=new IntentionState();
  state.myImportElement=PsiTreeUtil.getParentOfType(file.findElementAt(editor.getCaretModel().getOffset()),PyImportElement.class);
  if (state.myImportElement != null && state.myImportElement.isValid()) {
    PyTargetExpression target=state.myImportElement.getAsNameElement();
    if (target != null && target.isValid())     state.myAlias=target.getName();
 else     state.myAlias=null;
    state.myFromImportStatement=PsiTreeUtil.getParentOfType(state.myImportElement,PyFromImportStatement.class);
    state.myImportStatement=PsiTreeUtil.getParentOfType(state.myImportElement,PyImportStatement.class);
  }
  return state;
}
