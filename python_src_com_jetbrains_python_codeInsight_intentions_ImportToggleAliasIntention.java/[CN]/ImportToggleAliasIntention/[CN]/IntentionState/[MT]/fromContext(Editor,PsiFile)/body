{
  IntentionState state=new IntentionState();
  state.myImportElement=PsiTreeUtil.getParentOfType(file.findElementAt(editor.getCaretModel().getOffset()),PyImportElement.class);
  PyPsiUtils.assertValid(state.myImportElement);
  if (state.myImportElement != null) {
    PyTargetExpression target=state.myImportElement.getAsNameElement();
    PyPsiUtils.assertValid(target);
    if (target != null)     state.myAlias=target.getName();
 else     state.myAlias=null;
    state.myFromImportStatement=PsiTreeUtil.getParentOfType(state.myImportElement,PyFromImportStatement.class);
    state.myImportStatement=PsiTreeUtil.getParentOfType(state.myImportElement,PyImportStatement.class);
  }
  return state;
}
