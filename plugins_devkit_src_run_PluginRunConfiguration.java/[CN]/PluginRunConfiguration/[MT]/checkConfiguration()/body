{
  if (getModule() == null) {
    throw new RuntimeConfigurationException(DevKitBundle.message("run.configuration.no.module.specified"));
  }
  String moduleName=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    @Override public String compute(){
      return getModule().getName();
    }
  }
);
  if (ModuleManager.getInstance(getProject()).findModuleByName(moduleName) == null) {
    throw new RuntimeConfigurationException(DevKitBundle.message("run.configuration.no.module.specified"));
  }
  final ModuleRootManager rootManager=ModuleRootManager.getInstance(getModule());
  final Sdk sdk=rootManager.getSdk();
  if (sdk == null) {
    throw new RuntimeConfigurationException(DevKitBundle.message("sdk.no.specified",moduleName));
  }
  if (IdeaJdk.findIdeaJdk(sdk) == null) {
    throw new RuntimeConfigurationException(DevKitBundle.message("sdk.type.incorrect",moduleName));
  }
}
