{
  boolean consistent=myFullSlice.size() == myShape.length || myFullSlice.size() == myShape.length - 1;
  if (consistent) {
    if (myFullSlice.size() == myShape.length - 1) {
      myFullSlice.add(new Pair<Integer,Integer>(0,myShape[myShape.length - 1]));
    }
    for (int index=0; index < myFullSlice.size() - 2; index++) {
      Pair<Integer,Integer> slice=myFullSlice.get(index);
      consistent=slice.getFirst().equals(slice.getSecond());
      if (!consistent)       break;
    }
  }
  if (!consistent) {
    throw new IllegalStateException("Illegal slice shape.");
  }
  int size=myFullSlice.size();
  myRows=myFullSlice.get(size - 2).getSecond() - myFullSlice.get(size - 2).getFirst();
  myColumns=myFullSlice.get(size - 1).getSecond() - myFullSlice.get(size - 1).getFirst();
  myRowsOffset=myFullSlice.get(size - 2).getFirst();
  myColumnsOffset=myFullSlice.get(size - 1).getFirst();
}
