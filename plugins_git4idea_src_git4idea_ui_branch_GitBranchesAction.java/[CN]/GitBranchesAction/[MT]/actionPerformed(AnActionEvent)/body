{
  Project project=e.getRequiredData(CommonDataKeys.PROJECT);
  VirtualFile file=e.getData(CommonDataKeys.VIRTUAL_FILE);
  GitRepository repository=file == null ? GitBranchUtil.getCurrentRepository(project) : GitBranchUtil.getRepositoryOrGuess(project,file);
  if (repository != null) {
    GitBranchPopup.getInstance(project,repository).asListPopup().showCenteredInCurrentWindow(project);
  }
}
