{
  int power1=ArrayUtil.find(getOrderedTypes(),getType(ref1));
  int power2=ArrayUtil.find(getOrderedTypes(),getType(ref2));
  if (power1 != power2) {
    return power1 - power2;
  }
  int namesComparison=ref1.getName().compareTo(ref2.getName());
  if (namesComparison != 0) {
    return namesComparison;
  }
  return VcsLogUtil.compareRoots(ref1.getRoot(),ref2.getRoot());
}
