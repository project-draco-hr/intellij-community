{
  VcsRefType type=ref.getType();
  if (type == HEAD) {
    return RefType.HEAD;
  }
 else   if (type == TAG) {
    return RefType.TAG;
  }
 else   if (type == LOCAL_BRANCH) {
    if (ref.getName().equals(MASTER)) {
      return RefType.MASTER;
    }
    return isTracked(ref,false) ? RefType.TRACKING_LOCAL_BRANCH : RefType.NON_TRACKING_LOCAL_BRANCH;
  }
 else   if (type == REMOTE_BRANCH) {
    if (ref.getName().equals(ORIGIN_MASTER)) {
      return RefType.ORIGIN_MASTER;
    }
    return isTracked(ref,true) ? RefType.TRACKED_REMOTE_BRANCH : RefType.NON_TRACKED_REMOTE_BRANCH;
  }
 else {
    return RefType.OTHER;
  }
}
