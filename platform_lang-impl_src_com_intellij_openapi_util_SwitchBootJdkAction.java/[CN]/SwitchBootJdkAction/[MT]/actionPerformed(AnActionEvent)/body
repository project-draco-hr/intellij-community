{
  if (!productJdkConfigFile.exists()) {
    try {
      if (!productJdkConfigFile.createNewFile()) {
        LOG.error("Could not create " + productJdkConfigFileName + " productJdkConfigFile");
        return;
      }
    }
 catch (    IOException e) {
      LOG.error(e);
      return;
    }
  }
  SwitchBootJdkDialog dialog=new SwitchBootJdkDialog(null,getBundlesFromFile(productJdkConfigFile));
  if (dialog.showAndGet()) {
    File selectedJdkBundleFile=dialog.getSelectedFile();
    FileWriter fooWriter=null;
    try {
      fooWriter=new FileWriter(productJdkConfigFile,false);
      fooWriter.write(selectedJdkBundleFile.getPath());
    }
 catch (    IOException e) {
      LOG.error(e);
    }
 finally {
      try {
        if (fooWriter != null) {
          fooWriter.close();
        }
      }
 catch (      IOException e) {
        LOG.error(e);
      }
    }
    ApplicationManager.getApplication().restart();
  }
}
