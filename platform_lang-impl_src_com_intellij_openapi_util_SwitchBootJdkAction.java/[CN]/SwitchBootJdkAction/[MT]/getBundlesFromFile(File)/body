{
  InputStream stream=null;
  InputStreamReader inputStream;
  BufferedReader bufferedReader;
  List<JdkBundleDescriptor> list=new ArrayList<JdkBundleDescriptor>();
  try {
    stream=new FileInputStream(fileWithBundles);
    inputStream=new InputStreamReader(stream,Charset.forName("UTF-8"));
    bufferedReader=new BufferedReader(inputStream);
    String line;
    while ((line=bufferedReader.readLine()) != null) {
      File file=new File(line);
      if (file.exists()) {
        list.add(new JdkBundleDescriptor(file,file.getName()));
      }
    }
  }
 catch (  IllegalStateException e) {
    LOG.error(e);
  }
catch (  Exception e) {
    LOG.error("Error reading JDK bundles",e);
  }
 finally {
    if (stream != null) {
      try {
        stream.close();
      }
 catch (      IOException ignore) {
      }
    }
  }
  return list;
}
