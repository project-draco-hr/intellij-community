{
  if (type == null)   return null;
  PsiElementFactory factory=JavaPsiFacade.getInstance(context.getProject()).getElementFactory();
  PsiClassType throwable=factory.createTypeByFQClassName("java.lang.Throwable",context.getResolveScope());
  if (!TypeConversionUtil.isAssignable(throwable,type)) {
    HighlightInfo highlightInfo=createIncompatibleTypeHighlightInfo(throwable,type,context.getTextRange(),0);
    if (addCastIntention && TypeConversionUtil.areTypesConvertible(type,throwable)) {
      if (context instanceof PsiExpression) {
        QuickFixAction.registerQuickFixAction(highlightInfo,QUICK_FIX_FACTORY.createAddTypeCastFix(throwable,(PsiExpression)context));
      }
    }
    final PsiClass aClass=PsiUtil.resolveClassInClassTypeOnly(type);
    if (aClass != null) {
      QuickFixAction.registerQuickFixAction(highlightInfo,QUICK_FIX_FACTORY.createExtendsListFix(aClass,throwable,true));
    }
    return highlightInfo;
  }
  return null;
}
