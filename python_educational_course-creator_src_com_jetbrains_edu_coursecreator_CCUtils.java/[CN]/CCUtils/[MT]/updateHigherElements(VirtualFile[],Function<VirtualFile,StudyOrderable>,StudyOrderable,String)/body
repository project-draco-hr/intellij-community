{
  int threshold=thresholdObject.getIndex();
  for (  final VirtualFile dir : dirs) {
    final StudyOrderable orderable=getStudyOrderable.fun(dir);
    if (orderable == null) {
      continue;
    }
    int index=orderable.getIndex();
    if (index > threshold) {
      final int newIndex=index - 1;
      orderable.setIndex(newIndex);
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          try {
            dir.rename(this,prefix + newIndex);
          }
 catch (          IOException e) {
            LOG.error(e);
          }
        }
      }
);
    }
  }
}
