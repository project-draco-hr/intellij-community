{
  List<String> result=new SmartList<String>();
  for (  String root : roots) {
    VirtualFile virtualFile=VirtualFileManager.getInstance().findFileByUrl(root);
    if (virtualFile != null) {
      if (virtualFile.getFileSystem() instanceof HttpFileSystem) {
        String url=virtualFile.getUrl();
        if (url.toLowerCase(Locale.getDefault()).endsWith("/index.html")) {
          url=url.substring(0,url.length() - 10);
        }
 else         if (!url.endsWith("/")) {
          url+="/";
        }
        result.add(url + relPath);
      }
 else {
        VirtualFile file=virtualFile.findFileByRelativePath(relPath);
        if (file != null) {
          result.add(file.getUrl());
        }
      }
    }
  }
  return result.isEmpty() ? null : result;
}
