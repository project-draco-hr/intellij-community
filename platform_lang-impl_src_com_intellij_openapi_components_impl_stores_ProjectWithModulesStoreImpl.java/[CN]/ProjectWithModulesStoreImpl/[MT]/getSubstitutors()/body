{
  List<TrackingPathMacroSubstitutor> result=new SmartList<TrackingPathMacroSubstitutor>();
  ContainerUtil.addIfNotNull(result,getStateStorageManager().getMacroSubstitutor());
  for (  Module module : getPersistentModules()) {
    ContainerUtil.addIfNotNull(result,((ModuleImpl)module).getStateStore().getStateStorageManager().getMacroSubstitutor());
  }
  return result.toArray(new TrackingPathMacroSubstitutor[result.size()]);
}
