{
  if (!isShowing())   return;
  final Dimension d=PopupPositionManager.PositionAdjuster.getPopupSize(myResultsPopup);
  Point myRelativeOnScreen=getLocationOnScreen();
  Rectangle screen=ScreenUtil.getScreenRectangle(myRelativeOnScreen);
  Rectangle popupRect=null;
  Rectangle r=new Rectangle(myRelativeOnScreen.x,myRelativeOnScreen.y + getHeight(),d.width,d.height);
  if (screen.contains(r)) {
    popupRect=r;
  }
  if (popupRect != null) {
    Point location=new Point(r.x,r.y);
    if (!location.equals(myResultsPopup.getLocationOnScreen())) {
      myResultsPopup.setLocation(location);
    }
  }
 else {
    if (r.y + d.height > screen.y + screen.height) {
      r.height=screen.y + screen.height - r.y - 2;
    }
    if (r.width > screen.width) {
      r.width=screen.width - 50;
    }
    if (r.x + r.width > screen.x + screen.width) {
      r.x=screen.x + screen.width - r.width - 2;
    }
    myResultsPopup.setSize(r.getSize());
    myResultsPopup.setLocation(r.getLocation());
  }
}
