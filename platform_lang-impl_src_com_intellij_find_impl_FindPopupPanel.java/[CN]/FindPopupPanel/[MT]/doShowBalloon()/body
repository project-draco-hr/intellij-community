{
  if (myFindBalloon != null && myFindBalloon.isVisible()) {
    return;
  }
  if (myFindBalloon != null && !myFindBalloon.isDisposed()) {
    myFindBalloon.cancel();
  }
  if (myFindBalloon == null || myFindBalloon.isDisposed()) {
    final ComponentPopupBuilder builder=JBPopupFactory.getInstance().createComponentPopupBuilder(this,getPreferredFocusedComponent());
    myFindBalloon=builder.setProject(myProject).setMayBeParent(true).setModalContext(false).setRequestFocus(true).createPopup();
    Disposer.register(myFindBalloon,myDisposable);
    registerCloseAction(myFindBalloon);
    myFindBalloon.getContent().setBorder(JBUI.Borders.empty());
    final Window window=WindowManager.getInstance().suggestParentWindow(myProject);
    Component parent=UIUtil.findUltimateParent(window);
    final RelativePoint showPoint;
    if (parent != null) {
      int height=UISettings.getInstance().SHOW_MAIN_TOOLBAR ? 135 : 115;
      if (parent instanceof IdeFrameImpl && ((IdeFrameImpl)parent).isInFullScreen()) {
        height-=20;
      }
      showPoint=new RelativePoint(parent,new Point((parent.getSize().width - getPreferredSize().width) / 2,height));
    }
 else {
      showPoint=JBPopupFactory.getInstance().guessBestPopupLocation(myDataContext);
    }
    myFindBalloon.show(showPoint);
    myFindBalloon.pack(true,true);
  }
}
