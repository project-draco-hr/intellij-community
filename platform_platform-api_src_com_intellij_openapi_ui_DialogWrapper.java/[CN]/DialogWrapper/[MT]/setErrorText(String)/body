{
  if (Comparing.equal(myLastErrorText,text)) {
    return;
  }
  myLastErrorText=text;
  myErrorTextAlarm.cancelAllRequests();
  myErrorTextAlarm.addRequest(new Runnable(){
    @Override public void run(){
      final String text=myLastErrorText;
      if (myActualSize == null && !StringUtil.isEmpty(text)) {
        myActualSize=getSize();
      }
      myErrorText.setError(text);
      if (text != null && text.length() > myMaxErrorTextLength) {
        if (myMaxErrorTextLength == 0) {
          updateHeightForErrorText();
        }
        myMaxErrorTextLength=text.length();
        updateHeightForErrorText();
      }
      myErrorText.repaint();
      if (StringUtil.isEmpty(text) && myActualSize != null) {
        resizeWithAnimation(myActualSize);
        myMaxErrorTextLength=0;
      }
    }
  }
,300,null);
}
