{
  for (  JComponent eachComp : UIUtil.uiTraverser(rootPane).traverse().filter(JComponent.class)) {
    ActionMap actionMap=eachComp.getActionMap();
    KeyStroke[] strokes=eachComp.getRegisteredKeyStrokes();
    for (    KeyStroke eachStroke : strokes) {
      boolean remove=true;
      if (actionMap != null) {
        for (        int i : new int[]{JComponent.WHEN_FOCUSED,JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT,JComponent.WHEN_IN_FOCUSED_WINDOW}) {
          final InputMap inputMap=eachComp.getInputMap(i);
          final Object key=inputMap.get(eachStroke);
          if (key != null) {
            final Action action=actionMap.get(key);
            if (action instanceof UIResource)             remove=false;
          }
        }
      }
      if (remove)       eachComp.unregisterKeyboardAction(eachStroke);
    }
  }
}
