{
  if (myShowFlatten) {
    final int index=myList.getLeadSelectionIndex();
    ListModel listModel=myList.getModel();
    return index < 0 || index >= listModel.getSize() ? null : (T)listModel.getElementAt(index);
  }
 else {
    final TreePath path=myTree.getSelectionPath();
    return path == null ? null : ContainerUtil.getFirstItem(getSelectedObjects(((ChangesBrowserNode<T>)path.getLastPathComponent())));
  }
}
