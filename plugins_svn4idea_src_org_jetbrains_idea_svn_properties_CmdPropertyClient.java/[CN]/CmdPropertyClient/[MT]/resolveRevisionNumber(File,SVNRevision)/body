{
  long result=revision != null ? revision.getNumber() : -1;
  if (SVNRevision.BASE.equals(revision)) {
    SVNInfo info=myVcs.getInfo(path,SVNRevision.BASE);
    result=info != null ? info.getRevision().getNumber() : -1;
  }
  if (result == -1) {
    throw new VcsException("Could not determine revision number for file " + path + " and revision "+ revision);
  }
  return SVNRevision.create(result);
}
