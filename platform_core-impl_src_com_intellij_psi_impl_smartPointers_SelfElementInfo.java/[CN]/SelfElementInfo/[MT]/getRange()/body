{
  if (myPsiRange != null) {
    Document document=getDocumentToSynchronize();
    if (document != null) {
      PsiDocumentManagerBase documentManager=myPsiDocManager;
      List<DocumentEvent> events=documentManager.getEventsSinceCommit(document);
      if (!events.isEmpty()) {
        return myMarkerCache.getUpdatedRange(this,documentManager.getLastCommittedDocument(document),events);
      }
    }
  }
  return myPsiRange;
}
