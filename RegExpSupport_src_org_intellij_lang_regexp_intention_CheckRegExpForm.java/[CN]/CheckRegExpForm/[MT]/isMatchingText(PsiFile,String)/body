{
  final String regExp=regexpFile.getText();
  PsiLanguageInjectionHost host=InjectedLanguageUtil.findInjectionHost(regexpFile);
  int flags=0;
  if (host != null) {
    for (    RegExpModifierProvider provider : RegExpModifierProvider.EP.allForLanguage(host.getLanguage())) {
      flags=provider.getFlags(host,regexpFile);
      if (flags > 0)       break;
    }
  }
  try {
    return Pattern.compile(regExp,flags).matcher(sampleText).matches();
  }
 catch (  Exception ignore) {
  }
  return false;
}
