{
  boolean available=false;
  myImportElement=findImportElement(editor,file);
  if (myImportElement != null) {
    final PsiElement parent=myImportElement.getParent();
    if (parent instanceof PyImportStatement) {
      myRelativeLevel=0;
      available=true;
    }
 else     if (parent instanceof PyFromImportStatement) {
      final PyFromImportStatement fromImport=(PyFromImportStatement)parent;
      final int relativeLevel=fromImport.getRelativeLevel();
      PyPsiUtils.assertValid(fromImport);
      if (fromImport.isValid() && relativeLevel > 0 && fromImport.getImportSource() == null) {
        myRelativeLevel=relativeLevel;
        available=true;
      }
    }
  }
  if (available) {
    collectReferencesAndOtherData(file);
  }
}
