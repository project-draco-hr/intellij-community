{
  if (selectedEditors.isEmpty())   return true;
  String question;
  if (myModuleEditors.size() == selectedEditors.size()) {
    question=ProjectBundle.message("module.remove.last.confirmation",selectedEditors.size());
  }
 else {
    question=ProjectBundle.message("module.remove.confirmation",selectedEditors.get(0).getModule().getName(),selectedEditors.size());
  }
  int result=Messages.showYesNoDialog(myProject,question,ProjectBundle.message("module.remove.confirmation.title",selectedEditors.size()),Messages.getQuestionIcon());
  if (result != Messages.YES) {
    return false;
  }
  for (  ModuleEditor editor : selectedEditors) {
    myModuleEditors.remove(editor.getModule());
    final Module moduleToRemove=editor.getModule();
    List<ModifiableRootModel> modifiableRootModels=new ArrayList<>();
    for (    final ModuleEditor moduleEditor : myModuleEditors.values()) {
      final ModifiableRootModel modifiableRootModel=moduleEditor.getModifiableRootModelProxy();
      ContainerUtil.addIfNotNull(modifiableRootModels,modifiableRootModel);
    }
    ModuleDeleteProvider.removeModule(moduleToRemove,null,modifiableRootModels,myModuleModel);
    Disposer.dispose(editor);
  }
  processModuleCountChanged();
  return true;
}
