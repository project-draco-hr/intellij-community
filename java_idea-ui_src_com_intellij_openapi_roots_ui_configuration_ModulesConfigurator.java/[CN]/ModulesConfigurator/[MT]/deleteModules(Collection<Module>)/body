{
  List<Module> deleted=new ArrayList<Module>();
  List<ModuleEditor> moduleEditors=new ArrayList<ModuleEditor>();
  for (  Module module : modules) {
    ModuleEditor moduleEditor=getModuleEditor(module);
    if (moduleEditor != null) {
      deleted.add(module);
      moduleEditors.add(moduleEditor);
    }
  }
  if (doRemoveModules(moduleEditors)) {
    return deleted;
  }
  return Collections.emptyList();
}
