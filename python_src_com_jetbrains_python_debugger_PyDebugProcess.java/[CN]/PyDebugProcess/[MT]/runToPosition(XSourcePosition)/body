{
  dropFrameCaches();
  if (isConnected() && !mySuspendedThreads.isEmpty()) {
    final PySourcePosition pyPosition=myPositionConverter.convert(position);
    String type=PyLineBreakpointType.ID;
    final Document document=FileDocumentManager.getInstance().getDocument(position.getFile());
    if (document != null) {
      if (DjangoUtil.isDjangoTemplateDocument(document,getSession().getProject())) {
        type=DjangoTemplateLineBreakpointType.ID;
      }
    }
    final SetBreakpointCommand command=new SetBreakpointCommand(myDebugger,type,pyPosition.getFile(),pyPosition.getLine());
    myDebugger.execute(command);
    resumeOrStep(ResumeOrStepCommand.Mode.RESUME);
  }
}
