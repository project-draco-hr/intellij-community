{
  XSourcePosition currentPosition=getCurrentFrameSourcePosition();
  final PsiFile file=getPsiFile(currentPosition);
  if (file == null)   return null;
  PsiElement currentElement=file.findElementAt(currentPosition.getOffset());
  if (currentElement == null) {
    return null;
  }
  final Ref<PsiElement> elementRef=Ref.create();
  PyResolveUtil.scopeCrawlUp(new PsiScopeProcessor(){
    @Override public boolean execute(    @NotNull PsiElement element,    @NotNull ResolveState state){
      elementRef.set(element);
      return false;
    }
    @Nullable @Override public <T>T getHint(    @NotNull Key<T> hintKey){
      return null;
    }
    @Override public void handleEvent(    @NotNull Event event,    @Nullable Object associated){
    }
  }
,currentElement,name,null);
  return elementRef.isNull() ? null : XSourcePositionImpl.createByElement(elementRef.get());
}
