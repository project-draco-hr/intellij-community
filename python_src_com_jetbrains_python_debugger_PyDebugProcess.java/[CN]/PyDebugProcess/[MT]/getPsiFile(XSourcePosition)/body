{
  if (currentPosition == null) {
    return null;
  }
  VirtualFile virtualFile=currentPosition.getFile();
  final Document document=FileDocumentManager.getInstance().getDocument(virtualFile);
  if (document == null) {
    return null;
  }
  final FileViewProvider viewProvider=PsiManager.getInstance(getProject()).findViewProvider(virtualFile);
  if (viewProvider == null) {
    return null;
  }
  final PsiFile file=viewProvider.getPsi(PythonLanguage.getInstance());
  if (file == null) {
    return null;
  }
  return file;
}
