{
  super.sessionInitialized();
  ProgressManager.getInstance().run(new Task.Backgroundable(null,"Connecting to debugger",false){
    public void run(    @NotNull final ProgressIndicator indicator){
      indicator.setText("Connecting to debugger...");
      try {
        myDebugger.waitForConnect();
        handshake();
        getSession().rebuildViews();
        registerBreakpoints();
        new RunCommand(myDebugger).execute();
      }
 catch (      final Exception e) {
        myProcessHandler.destroyProcess();
        if (!myClosing) {
          invokeLater(new Runnable(){
            public void run(){
              Messages.showErrorDialog("Unable to establish connection with debugger:\n" + e.getMessage(),"Connecting to debugger");
            }
          }
);
        }
      }
    }
  }
);
}
