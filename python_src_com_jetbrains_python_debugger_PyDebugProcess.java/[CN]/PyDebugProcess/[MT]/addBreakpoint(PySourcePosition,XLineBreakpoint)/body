{
  myRegisteredBreakpoints.put(position,breakpoint);
  if (isConnected()) {
    final String conditionExpression=breakpoint.getConditionExpression() == null ? null : breakpoint.getConditionExpression().getExpression();
    final String logExpression=breakpoint.getLogExpressionObject() == null ? null : breakpoint.getLogExpressionObject().getExpression();
    SuspendPolicy policy=breakpoint.getType().isSuspendThreadSupported() ? breakpoint.getSuspendPolicy() : SuspendPolicy.NONE;
    myDebugger.setBreakpoint(breakpoint.getType().getId(),position.getFile(),position.getLine(),conditionExpression,logExpression,getFunctionName(breakpoint),policy);
  }
}
