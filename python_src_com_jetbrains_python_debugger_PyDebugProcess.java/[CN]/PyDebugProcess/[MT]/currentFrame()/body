{
  if (!isConnected()) {
    throw new PyDebuggerException("Disconnected");
  }
  final PyStackFrame frame=(PyStackFrame)getSession().getCurrentStackFrame();
  if (frame == null && myConsoleContextFrame != null) {
    return myConsoleContextFrame;
  }
  if (frame == null) {
    throw new PyDebuggerException("Process is running");
  }
  return frame;
}
