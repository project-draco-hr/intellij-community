{
  String remoteVersion=myDebugger.handshake();
  String currentBuild=ApplicationInfo.getInstance().getBuild().asStringWithoutProductCode();
  if ("@@BUILD_NUMBER@@".equals(remoteVersion)) {
    remoteVersion=currentBuild;
  }
 else   if (remoteVersion.startsWith("PY-")) {
    remoteVersion=remoteVersion.substring(3);
  }
 else {
    remoteVersion=null;
  }
  printToConsole("Connected to pydev debugger (build " + remoteVersion + ")\n",ConsoleViewContentType.SYSTEM_OUTPUT);
  if (remoteVersion != null) {
    if (!(remoteVersion.equals(currentBuild) || remoteVersion.startsWith(currentBuild))) {
      LOG.warn(String.format("Wrong debugger version. Remote version: %s Current build: %s",remoteVersion,currentBuild));
      printToConsole("Warning: wrong debugger version. Use pycharm-debugger.egg from PyCharm installation folder.\n",ConsoleViewContentType.ERROR_OUTPUT);
    }
  }
}
