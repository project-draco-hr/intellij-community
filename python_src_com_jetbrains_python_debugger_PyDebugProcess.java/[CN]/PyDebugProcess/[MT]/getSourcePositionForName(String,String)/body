{
  if (name == null)   return null;
  XSourcePosition currentPosition=getCurrentFrameSourcePosition();
  final PsiFile file=getPsiFile(currentPosition);
  if (file == null)   return null;
  if (Strings.isNullOrEmpty(parentType)) {
    final Ref<PsiElement> elementRef=resolveInCurrentFrame(name,currentPosition,file);
    return elementRef.isNull() ? null : XSourcePositionImpl.createByElement(elementRef.get());
  }
 else {
    final PyType parentDef=resolveTypeFromString(parentType,file);
    if (parentDef == null) {
      return null;
    }
    List<? extends RatedResolveResult> results=parentDef.resolveMember(name,null,AccessDirection.READ,PyResolveContext.noImplicits());
    if (results != null && !results.isEmpty()) {
      return XSourcePositionImpl.createByElement(results.get(0).getElement());
    }
 else {
      return typeToPosition(parentDef);
    }
  }
}
