{
  try {
    Integer pid=ReflectionUtil.getField(process.getClass(),process,int.class,"pid");
    return ObjectUtils.assertNotNull(pid);
  }
 catch (  Exception e) {
    throw new IllegalStateException("Cannot get PID from instance of " + process.getClass() + ", OS: "+ SystemInfo.OS_NAME,e);
  }
}
