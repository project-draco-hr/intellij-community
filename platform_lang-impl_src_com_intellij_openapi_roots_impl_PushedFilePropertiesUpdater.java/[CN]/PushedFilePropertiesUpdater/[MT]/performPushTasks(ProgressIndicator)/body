{
  boolean hadTasks=false;
  while (true) {
    DumbModeTask task=myTasks.poll();
    if (task == null) {
      break;
    }
    hadTasks=true;
    task.performInDumbMode(indicator);
  }
  if (hadTasks && !myProject.isDisposed()) {
    DumbModeTask task=FileBasedIndexProjectHandler.createChangedFilesIndexingTask(myProject);
    if (task != null) {
      DumbService.getInstance(myProject).queueTask(task);
    }
  }
}
