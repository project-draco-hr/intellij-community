{
  int historySize;
  try {
    historySize=Math.max(0,Integer.parseInt(PropertiesComponent.getInstance().getValue(TEST_HISTORY_SIZE,"5")));
  }
 catch (  NumberFormatException e) {
    historySize=5;
  }
  final File[] files=getTestHistoryRoot(project).listFiles();
  if (files != null && files.length >= historySize) {
    Arrays.sort(files,new Comparator<File>(){
      @Override public int compare(      File o1,      File o2){
        final long l1=o1.lastModified();
        final long l2=o2.lastModified();
        if (l1 == l2)         return 0;
        return l1 < l2 ? -1 : 1;
      }
    }
);
    FileUtil.delete(files[0]);
  }
}
