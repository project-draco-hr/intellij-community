{
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      new WriteAction(){
        @Override protected void run(        @NotNull Result result) throws Throwable {
          Application application=ApplicationManager.getApplication();
          if (application != null) {
            Disposer.dispose(application);
          }
        }
      }
.execute();
    }
  }
);
}
