{
  comboBox=new ComboBox(new ListComboBoxModel(Collections.emptyList()));
  comboBox.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      stopCellEditing();
    }
  }
);
  comboBox.addPopupMenuListener(new PopupMenuListenerAdapter(){
    @Override public void popupMenuWillBecomeInvisible(    PopupMenuEvent e){
      cancelCellEditing();
    }
    @Override public void popupMenuCanceled(    PopupMenuEvent e){
      cancelCellEditing();
    }
  }
);
  comboBox.setRenderer(new ListCellRendererWrapper(){
    @Override public void customize(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      setIcon(value instanceof Iconable ? ((Iconable)value).getIcon(Iconable.ICON_FLAG_VISIBILITY) : null);
    }
  }
);
  comboBox.registerTableCellEditor(this);
}
