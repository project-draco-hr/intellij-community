{
  final String schemeName=getSchemeName();
  if (schemeName.trim().isEmpty()) {
    Messages.showMessageDialog(getContentPane(),ApplicationBundle.message("error.scheme.must.have.a.name"),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
    return;
  }
 else   if (isDefaultSchemeName(schemeName) || schemeName.startsWith(DefaultColorsScheme.EDITABLE_COPY_PREFIX)) {
    Messages.showMessageDialog(getContentPane(),ApplicationBundle.message("error.illegal.scheme.name"),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
    return;
  }
 else   if (myExistingNames.contains(getSchemeName())) {
    Messages.showMessageDialog(getContentPane(),ApplicationBundle.message("error.a.scheme.with.this.name.already.exists.or.was.deleted.without.applying.the.changes"),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
    return;
  }
  super.doOKAction();
}
