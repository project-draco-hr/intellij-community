{
  execute(new GuiTask(){
    @Override protected void executeInEDT() throws Throwable {
      VirtualFile currentFile=getCurrentFile();
      assertNotNull("Can't switch to tab " + tabName + " when no file is open in the editor",currentFile);
      FileEditorManager manager=FileEditorManager.getInstance(myFrame.getProject());
      FileEditor[] editors=manager.getAllEditors(currentFile);
      FileEditor target=null;
      for (      FileEditor editor : editors) {
        if (tabName == null || tabName.equals(editor.getName())) {
          target=editor;
          break;
        }
      }
      if (target != null) {
        method("setSelectedEditor").withParameterTypes(FileEditor.class).in(manager).invoke(target);
        return;
      }
      List<String> tabNames=Lists.newArrayList();
      for (      FileEditor editor : editors) {
        tabNames.add(editor.getName());
      }
      fail("Could not find editor tab \"" + (tabName != null ? tabName : "<default>") + "\": Available tabs = "+ tabNames);
    }
  }
);
  return this;
}
