{
  for (  AbstractProjectViewPane pane : myUninitializedPanes) {
    doAddPane(pane);
  }
  final Content[] contents=myContentManager.getContents();
  for (int i=1; i < contents.length; i++) {
    Content content=contents[i];
    Content prev=contents[i - 1];
    if (!StringUtil.equals(content.getUserData(ID_KEY),prev.getUserData(ID_KEY)) && prev.getUserData(SUB_ID_KEY) != null && content.getSeparator() == null) {
      content.setSeparator("");
    }
  }
  String selectID=null;
  String selectSubID=null;
  for (  Content content : contents) {
    final String id=content.getUserData(ID_KEY);
    final String subId=content.getUserData(SUB_ID_KEY);
    if (id != null && id.equals(mySavedPaneId) && StringUtil.equals(subId,mySavedPaneSubId)) {
      selectID=id;
      selectSubID=subId;
      break;
    }
  }
  if (selectID == null && contents.length > 0) {
    Content content=contents[0];
    selectID=content.getUserData(ID_KEY);
    selectSubID=content.getUserData(SUB_ID_KEY);
  }
  if (selectID != null) {
    changeView(selectID,selectSubID);
    mySavedPaneId=null;
    mySavedPaneSubId=null;
  }
  myUninitializedPanes.clear();
}
