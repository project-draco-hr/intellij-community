{
  if (declaration instanceof PsiField) {
    return getWrappedPropertyType((PsiField)declaration,declaration.getProject(),JavaFxCommonNames.ourWritableMap);
  }
  if (declaration instanceof PsiMethod) {
    final PsiMethod method=(PsiMethod)declaration;
    if (method.getParameterList().getParametersCount() != 0) {
      return getSetterArgumentType(method);
    }
    final String propertyName=PropertyUtil.getPropertyName(method);
    final PsiClass psiClass=containingClass != null ? containingClass : method.getContainingClass();
    if (propertyName != null && containingClass != null) {
      PsiMethod setter=findInstancePropertySetter(psiClass,propertyName);
      if (setter != null) {
        final PsiType setterArgumentType=getSetterArgumentType(setter);
        if (setterArgumentType != null)         return setterArgumentType;
      }
    }
    return method.getReturnType();
  }
  return null;
}
