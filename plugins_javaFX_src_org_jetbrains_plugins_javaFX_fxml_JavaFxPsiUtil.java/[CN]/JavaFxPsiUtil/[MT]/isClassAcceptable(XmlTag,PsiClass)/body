{
  if (parentTag == null) {
    return null;
  }
  if (aClass != null && aClass.isValid()) {
    XmlElementDescriptor descriptor=parentTag.getDescriptor();
    if (descriptor instanceof JavaFxDefaultPropertyElementDescriptor) {
      descriptor=((JavaFxDefaultPropertyElementDescriptor)descriptor).getFxRootTagDescriptor(parentTag);
    }
    if (descriptor instanceof JavaFxPropertyElementDescriptor) {
      final PsiClass containingClass=((JavaFxPropertyElementDescriptor)descriptor).getPsiClass();
      final PsiElement declaration=descriptor.getDeclaration();
      final PsiType propertyType=getWritablePropertyType(containingClass,declaration);
      return canCoerce(aClass,propertyType);
    }
 else     if (descriptor instanceof JavaFxClassBackedElementDescriptor) {
      final PsiElement declaration=descriptor.getDeclaration();
      if (declaration instanceof PsiClass) {
        final PsiType type=getDefaultPropertyExpectedType((PsiClass)declaration);
        if (type != null) {
          return canCoerce(aClass,type);
        }
      }
    }
  }
  return null;
}
