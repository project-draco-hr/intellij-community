{
  Template template=TemplateManager.getInstance(method.getProject()).createTemplate("","");
  template.addTextSegment(argList.getText().substring(0,caretOffset - argRange.getStartOffset()));
  PsiParameter[] parameters=method.getParameterList().getParameters();
  for (int i=0; i < parameters.length; i++) {
    if (i > 0) {
      template.addTextSegment(", ");
    }
    String name=StringUtil.notNullize(parameters[i].getName());
    template.addVariable(name,new ConstantNode(name),new ConstantNode(name),true);
  }
  template.addTextSegment(argList.getText().substring(caretOffset - argRange.getStartOffset(),argList.getTextLength()));
  template.addEndVariable();
  return template;
}
