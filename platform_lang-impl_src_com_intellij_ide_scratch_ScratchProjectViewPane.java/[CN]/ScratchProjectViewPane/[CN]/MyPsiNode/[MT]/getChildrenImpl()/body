{
  if (isAlwaysLeaf())   return Collections.emptyList();
  return ApplicationManager.getApplication().runReadAction(new Computable<Collection<AbstractTreeNode>>(){
    @Override public Collection<AbstractTreeNode> compute(){
      final PsiFileSystemItem value=getValue();
      if (value == null || !value.isValid())       return Collections.emptyList();
      final List<AbstractTreeNode> list=ContainerUtil.newArrayList();
      value.processChildren(new PsiElementProcessor<PsiFileSystemItem>(){
        @Override public boolean execute(        @NotNull PsiFileSystemItem element){
          if (!myRootType.isIgnored(value.getProject(),element.getVirtualFile())) {
            list.add(new MyPsiNode(value.getProject(),myRootType,element));
          }
          return true;
        }
      }
);
      return list;
    }
  }
);
}
