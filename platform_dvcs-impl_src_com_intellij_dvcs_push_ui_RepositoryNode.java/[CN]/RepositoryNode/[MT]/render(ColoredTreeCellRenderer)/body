{
  int repoFixedWidth=120;
  int borderHOffset=myRepositoryPanel.getHBorderOffset(renderer);
  if (myLoading.get()) {
    renderer.setIcon(myLoadingIcon);
    renderer.setIconOnTheRight(false);
    int checkBoxWidth=myRepositoryPanel.getCheckBoxWidth();
    repoFixedWidth+=checkBoxWidth;
    if (myCheckBoxHGap > 0) {
      renderer.append("");
      renderer.appendFixedTextFragmentWidth(checkBoxWidth + renderer.getIconTextGap() + borderHOffset);
    }
  }
 else {
    if (myCheckBoxHGap <= 0) {
      renderer.append("");
      renderer.appendFixedTextFragmentWidth(myRepositoryPanel.calculateRendererShiftH(renderer));
    }
  }
  renderer.append(getRepoName(renderer,repoFixedWidth),isChecked() ? SimpleTextAttributes.REGULAR_ATTRIBUTES : SimpleTextAttributes.GRAY_ATTRIBUTES);
  renderer.appendFixedTextFragmentWidth(repoFixedWidth);
  renderer.append(myRepositoryPanel.getSourceName(),isChecked() ? SimpleTextAttributes.REGULAR_ATTRIBUTES : SimpleTextAttributes.GRAY_ATTRIBUTES);
  renderer.append(myRepositoryPanel.getArrow(),isChecked() ? SimpleTextAttributes.REGULAR_ATTRIBUTES : SimpleTextAttributes.GRAY_ATTRIBUTES);
  PushTargetPanel pushTargetPanel=myRepositoryPanel.getTargetPanel();
  pushTargetPanel.render(renderer,renderer.getTree().isPathSelected(TreeUtil.getPathFromRoot(this)));
  int maxSize=Math.max(myRepositoryPanel.getCheckBoxHeight(),myLoadingIcon.getIconHeight());
  int rendererHeight=renderer.getPreferredSize().height;
  if (maxSize > rendererHeight) {
    if (myCheckBoxVGap > 0 && isLoading() || myCheckBoxVGap < 0 && !isLoading()) {
      int vShift=maxSize - rendererHeight;
      renderer.setBorder(new EmptyBorder((vShift + 1) / 2,0,(vShift) / 2,0));
    }
  }
}
