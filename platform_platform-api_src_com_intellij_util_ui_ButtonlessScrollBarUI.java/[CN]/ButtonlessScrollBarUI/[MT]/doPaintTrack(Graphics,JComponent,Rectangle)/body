{
  if (isMacScrollbar()) {
    boolean vertical=isVertical();
    final Paint paint;
    final Color start=adjustColor(UIUtil.getSlightlyDarkerColor(getTrackBackground()));
    final Color end=adjustColor(getTrackBackground().brighter());
    if (vertical) {
      paint=UIUtil.getGradientPaint(1,0,start,bounds.width + 1,0,end);
    }
 else {
      paint=UIUtil.getGradientPaint(0,1,start,0,bounds.height + 1,end);
    }
    Graphics2D g2d=(Graphics2D)g;
    g2d.setPaint(paint);
    g2d.fillRect(0,0,bounds.width,bounds.height);
    g.setColor(adjustColor(start.darker()));
  }
 else {
    g.setColor(getTrackBackground());
    g.fillRect(bounds.x,bounds.y,bounds.width,bounds.height);
    g.setColor(getTrackBorderColor());
  }
  if (isVertical()) {
    g.drawLine(bounds.x,bounds.y,bounds.x,bounds.y + bounds.height);
  }
 else {
    g.drawLine(bounds.x,bounds.y,bounds.x + bounds.width,bounds.y);
  }
}
