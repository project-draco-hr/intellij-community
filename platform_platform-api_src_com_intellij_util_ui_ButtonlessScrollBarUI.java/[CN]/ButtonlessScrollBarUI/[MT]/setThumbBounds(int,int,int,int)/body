{
  if (width > 0 && height > 0 && UIManager.getBoolean("ScrollBar.alwaysShowThumb") && !alwaysShowTrack()) {
    int w=scrollbar.getWidth(), h=scrollbar.getHeight();
    if (w > h && w == width || w < h && h == height) {
      x=y=width=height=0;
    }
  }
  if (myRepaintCallback == null) {
    super.setThumbBounds(x,y,width,height);
  }
 else {
    int minX=Math.min(x,trackRect.x);
    int minY=Math.min(y,trackRect.y);
    int maxX=Math.max(x + width,trackRect.x + trackRect.width);
    int maxY=Math.max(y + height,trackRect.y + trackRect.height);
    thumbRect.setBounds(x,y,width,height);
    scrollbar.repaint(minX,minY,maxX - minX,maxY - minY);
    setThumbRollover(false);
  }
}
