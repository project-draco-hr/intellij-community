{
  if (myWrapper != null)   return;
  myProcessor=createProcessor();
  String dialogGroupKey=myProcessor.getContextUserData(DiffUserDataKeys.DIALOG_GROUP_KEY);
  if (dialogGroupKey == null)   dialogGroupKey="DiffContextDialog";
  myWrapper=new WindowWrapperBuilder(DiffUtil.getWindowMode(myHints),new MyPanel(myProcessor.getComponent())).setProject(myProject).setParent(myHints.getParent()).setDimensionServiceKey(dialogGroupKey).setPreferredFocusedComponent(new Computable<JComponent>(){
    @Override public JComponent compute(){
      return myProcessor.getPreferredFocusedComponent();
    }
  }
).build();
  myWrapper.setImage(ImageLoader.loadFromResource("/diff/Diff.png"));
  Disposer.register(myWrapper,myProcessor);
  myProcessor.updateRequest();
}
