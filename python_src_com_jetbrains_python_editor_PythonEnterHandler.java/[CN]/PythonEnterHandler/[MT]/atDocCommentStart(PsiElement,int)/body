{
  final PyStringLiteralExpression pyString=DocStringUtil.getParentDefinitionDocString(element);
  if (pyString != null) {
    String text=element.getText();
    final int prefixLength=PyStringLiteralExpressionImpl.getPrefixLength(text);
    text=text.substring(prefixLength);
    if (pyString.getText().endsWith(text) && (text.startsWith("\"\"\"") || text.startsWith("'''"))) {
      if (offset == pyString.getTextOffset() + prefixLength) {
        PsiErrorElement error=PsiTreeUtil.getNextSiblingOfType(pyString,PsiErrorElement.class);
        if (error != null) {
          return true;
        }
        error=PsiTreeUtil.getNextSiblingOfType(pyString.getParent(),PsiErrorElement.class);
        if (error != null) {
          return true;
        }
        if (text.length() < 6 || (!text.endsWith("\"\"\"") && !text.endsWith("'''"))) {
          return true;
        }
      }
    }
  }
  return false;
}
