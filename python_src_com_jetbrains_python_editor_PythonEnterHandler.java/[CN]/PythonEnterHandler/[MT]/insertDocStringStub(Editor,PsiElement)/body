{
  PyDocStringOwner docOwner=PsiTreeUtil.getParentOfType(element,PyFunction.class,PyClass.class);
  if (docOwner != null) {
    final int caretOffset=editor.getCaretModel().getOffset();
    final String quotes=editor.getDocument().getText(TextRange.from(caretOffset - 3,3));
    final String docString=new PyDocstringGenerator(docOwner).addReturn().useTypesFromDebuggerSignature(true).withQuotes(quotes).forceNewMode().buildDocString();
    editor.getDocument().replaceString(caretOffset - 3,caretOffset,docString);
  }
}
