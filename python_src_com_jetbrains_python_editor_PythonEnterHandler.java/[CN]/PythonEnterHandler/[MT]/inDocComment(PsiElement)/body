{
  PyStringLiteralExpression string=PsiTreeUtil.getParentOfType(element,PyStringLiteralExpression.class);
  if (string != null) {
    PyElement func=PsiTreeUtil.getParentOfType(element,PyFunction.class,PyClass.class,PyFile.class);
    if (func != null) {
      final PyDocStringOwner docStringOwner=PsiTreeUtil.getParentOfType(element,PyDocStringOwner.class);
      if (docStringOwner == func) {
        PyStringLiteralExpression str=docStringOwner.getDocStringExpression();
        if (str != null && element.getText().equals(str.getText())) {
          PsiErrorElement error=PsiTreeUtil.getNextSiblingOfType(string,PsiErrorElement.class);
          if (error != null)           return true;
          error=PsiTreeUtil.getNextSiblingOfType(string.getParent(),PsiErrorElement.class);
          if (error != null)           return true;
        }
      }
    }
  }
  return false;
}
