{
  if (this == EMPTY)   return empty();
  final Iterable<E> thatIt=myIterable;
  return new JBIterable<T>(){
    @Override public Iterator<T> iterator(){
      final Iterator<E> it=thatIt.iterator();
      return new Iterator<T>(){
        Iterator<T> cur;
        @Override public boolean hasNext(){
          while ((cur == null || !cur.hasNext()) && it.hasNext()) {
            cur=function.fun(it.next()).iterator();
          }
          return cur != null && cur.hasNext();
        }
        @Override public T next(){
          return cur.next();
        }
        @Override public void remove(){
          cur.remove();
        }
      }
;
    }
  }
;
}
