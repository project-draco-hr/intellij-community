{
  final AbstractTestProxy testProxy=AbstractTestProxy.DATA_KEY.getData(context);
  if (testProxy != null) {
    DiffHyperlink diffViewerProvider=testProxy.getDiffViewerProvider();
    if (diffViewerProvider != null) {
      final Project project=CommonDataKeys.PROJECT.getData(context);
      final List<DiffHyperlink> providers=collectAvailableProviders(TestTreeView.MODEL_DATA_KEY.getData(context));
      int index=Math.max(0,providers.indexOf(diffViewerProvider));
      if (currentHyperlink != null) {
        index=Math.max(index,providers.indexOf(currentHyperlink));
      }
      new MyDiffWindow(project,providers,index,new DiffDialogHints(WindowWrapper.Mode.FRAME)).show();
      return true;
    }
  }
  return false;
}
