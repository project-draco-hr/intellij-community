{
  List<PyClassLikeType> ancestorTypes;
  if (isNewStyleClass(context)) {
    try {
      ancestorTypes=getMROAncestorTypes(context);
    }
 catch (    MROException e) {
      ancestorTypes=getOldStyleAncestorTypes(context);
      boolean hasUnresolvedAncestorTypes=false;
      for (      PyClassLikeType type : ancestorTypes) {
        if (type == null) {
          hasUnresolvedAncestorTypes=true;
          break;
        }
      }
      if (!hasUnresolvedAncestorTypes) {
        ancestorTypes=Collections.singletonList(null);
      }
    }
  }
 else {
    ancestorTypes=getOldStyleAncestorTypes(context);
  }
  return CachedValueProvider.Result.create(ancestorTypes,PsiModificationTracker.MODIFICATION_COUNT);
}
