{
  iterations:   while (true) {
    if (prefetch != null) {
      PyClass ret=prefetch;
      prefetch=null;
      return ret;
    }
    if (percolator.hasNext()) {
      PyClass it=percolator.next();
      if (seen.contains(it)) {
        continue iterations;
      }
      pending.add(it);
      seen.add(it);
      return it;
    }
 else     if (pending.size() > 0) {
      PyClass it=pending.get(0);
      pending.remove(0);
      percolator=it.iterateAncestors().iterator();
    }
 else     return null;
  }
}
