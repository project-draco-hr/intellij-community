{
  final PyClassStub stub=getStub();
  if (stub != null) {
    final List<StubElement> children=stub.getChildrenStubs();
    for (    StubElement child : children) {
      if (!processor.execute(child.getPsi(),ResolveState.initial())) {
        return false;
      }
    }
  }
 else {
    final PsiElement the_psi=getNode().getPsi();
    PyResolveUtil.treeCrawlUp(processor,true,the_psi,the_psi);
  }
  for (  PyTargetExpression expr : getInstanceAttributes()) {
    if (expr == lastParent)     continue;
    if (!processor.execute(expr,substitutor))     return false;
  }
  if (processor instanceof VariantsProcessor) {
    return true;
  }
  return processor.execute(this,substitutor);
}
