{
  final int componentCount=qualifiedName.getComponentCount();
  final String fullName=qualifiedName.toString();
  if (componentCount == 0) {
    return null;
  }
 else   if (componentCount == 1) {
    PsiElement element=nameDefiner.getElementNamed(fullName);
    if (element == null) {
      element=PyBuiltinCache.getInstance(nameDefiner).getByName(fullName);
    }
    return element;
  }
 else {
    final String name=qualifiedName.getLastComponent();
    final PyQualifiedName containingQName=qualifiedName.removeLastComponent();
    NameDefiner definer=nameDefiner;
    for (    String component : containingQName.getComponents()) {
      PsiElement element=PyUtil.turnDirIntoInit(definer.getElementNamed(component));
      if (element instanceof PyImportElement) {
        element=((PyImportElement)element).resolve();
      }
      if (element instanceof NameDefiner) {
        definer=(NameDefiner)element;
      }
 else {
        definer=null;
        break;
      }
    }
    if (definer != null) {
      return definer.getElementNamed(name);
    }
    return null;
  }
}
