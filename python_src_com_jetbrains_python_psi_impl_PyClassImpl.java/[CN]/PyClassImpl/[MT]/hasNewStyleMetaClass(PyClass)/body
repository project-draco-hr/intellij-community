{
  final PsiFile containingFile=pyClass.getContainingFile();
  if (containingFile instanceof PyFile) {
    final PsiElement element=((PyFile)containingFile).findExportedName("__metaclass__");
    if (element instanceof PyTargetExpression) {
      final PyExpression assignedValue=((PyTargetExpression)element).findAssignedValue();
      if (assignedValue != null && assignedValue.getText().equals("type")) {
        return true;
      }
    }
  }
  return false;
}
