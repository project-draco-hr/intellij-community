{
  Map<String,PyTargetExpression> result=new HashMap<String,PyTargetExpression>();
  collectAttributesInNew(result);
  PyFunctionImpl initMethod=(PyFunctionImpl)findMethodByName(PyNames.INIT,false);
  if (initMethod != null) {
    collectInstanceAttributes(initMethod,result);
  }
  Set<String> namesInInit=new HashSet<String>(result.keySet());
  final PyFunction[] methods=getMethods(false);
  for (  PyFunction method : methods) {
    if (!PyNames.INIT.equals(method.getName())) {
      collectInstanceAttributes(method,result,namesInInit);
    }
  }
  final Collection<PyTargetExpression> expressions=result.values();
  return new ArrayList<PyTargetExpression>(expressions);
}
