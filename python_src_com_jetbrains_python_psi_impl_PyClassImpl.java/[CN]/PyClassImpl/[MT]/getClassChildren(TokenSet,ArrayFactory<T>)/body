{
  final PyClassStub classStub=getStub();
  if (classStub != null) {
    return classStub.getChildrenByType(elementTypes,factory);
  }
  List<T> result=new ArrayList<T>();
  final PyStatementList statementList=getStatementList();
  for (  PsiElement element : statementList.getChildren()) {
    if (elementTypes.contains(element.getNode().getElementType())) {
      result.add((T)element);
    }
  }
  return result.toArray(factory.create(result.size()));
}
