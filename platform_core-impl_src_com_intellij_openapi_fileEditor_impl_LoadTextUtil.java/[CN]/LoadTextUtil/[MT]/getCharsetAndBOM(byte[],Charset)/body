{
  if (charset.name().contains(CharsetToolkit.UTF8) && CharsetToolkit.hasUTF8Bom(content)) {
    return Pair.createNonNull(charset,CharsetToolkit.UTF8_BOM);
  }
  try {
    Charset fromBOM=CharsetToolkit.guessFromBOM(content);
    if (fromBOM != null) {
      return Pair.createNonNull(fromBOM,ObjectUtils.notNull(CharsetToolkit.getMandatoryBom(fromBOM),ArrayUtil.EMPTY_BYTE_ARRAY));
    }
  }
 catch (  UnsupportedCharsetException ignore) {
  }
  return Pair.createNonNull(charset,ArrayUtil.EMPTY_BYTE_ARRAY);
}
