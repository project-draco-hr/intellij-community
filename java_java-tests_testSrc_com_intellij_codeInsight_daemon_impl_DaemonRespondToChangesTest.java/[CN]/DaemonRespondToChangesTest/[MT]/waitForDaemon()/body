{
  long deadline=System.currentTimeMillis() + 10000;
  while (!myDaemonCodeAnalyzer.isRunning()) {
    if (System.currentTimeMillis() > deadline)     fail("Too long waiting for daemon to start");
    UIUtil.dispatchAllInvocationEvents();
  }
  while (myDaemonCodeAnalyzer.isRunning()) {
    if (System.currentTimeMillis() > deadline)     fail("Too long waiting for daemon to finish");
    UIUtil.dispatchAllInvocationEvents();
  }
}
