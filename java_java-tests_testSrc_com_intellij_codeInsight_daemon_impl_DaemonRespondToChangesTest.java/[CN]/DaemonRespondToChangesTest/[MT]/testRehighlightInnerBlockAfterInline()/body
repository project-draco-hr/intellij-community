{
  configureByFile(BASE_PATH + getTestName(false) + ".java");
  Collection<HighlightInfo> errors=highlightErrors();
  HighlightInfo error=assertOneElement(errors);
  assertEquals("Variable 'e' is already defined in the scope",error.getDescription());
  PsiElement element=getFile().findElementAt(getEditor().getCaretModel().getOffset()).getParent();
  DataContext dataContext=SimpleDataContext.getSimpleContext(CommonDataKeys.PSI_ELEMENT.getName(),element,((EditorEx)getEditor()).getDataContext());
  new InlineRefactoringActionHandler().invoke(getProject(),getEditor(),getFile(),dataContext);
  Collection<HighlightInfo> afterTyping=highlightErrors();
  assertEmpty(afterTyping);
}
