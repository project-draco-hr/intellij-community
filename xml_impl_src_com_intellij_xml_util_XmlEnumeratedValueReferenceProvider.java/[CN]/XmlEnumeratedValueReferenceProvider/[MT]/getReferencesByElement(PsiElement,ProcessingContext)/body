{
  if (XmlSchemaTagsProcessor.PROCESSING_FLAG.get() != null || context.get(SUPPRESS) != null) {
    return PsiReference.EMPTY_ARRAY;
  }
  XmlAttributeValue value=(XmlAttributeValue)element;
  if (value instanceof PsiLanguageInjectionHost && InjectedLanguageUtil.hasInjections((PsiLanguageInjectionHost)value)) {
    return PsiReference.EMPTY_ARRAY;
  }
  String unquotedValue=value.getValue();
  if (unquotedValue == null || XmlHighlightVisitor.skipValidation(value) || !XmlUtil.isSimpleXmlAttributeValue(unquotedValue,value)) {
    return PsiReference.EMPTY_ARRAY;
  }
  PsiElement parent=value.getParent();
  if (parent instanceof XmlAttribute) {
    final XmlAttributeDescriptor descriptor=((XmlAttribute)parent).getDescriptor();
    if (descriptor instanceof XmlEnumerationDescriptor && (descriptor.isFixed() || descriptor.isEnumerated() || unquotedValue.equals(descriptor.getDefaultValue()))) {
      return ((XmlEnumerationDescriptor)descriptor).getValueReferences(value);
    }
  }
  return PsiReference.EMPTY_ARRAY;
}
