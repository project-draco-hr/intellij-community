{
  PyExpression[] elements=expr.getElements();
  if (expr instanceof PyDictLiteralExpression) {
    Map<Object,Object> result=new HashMap<Object,Object>();
    for (    PyKeyValueExpression keyValueExpression : ((PyDictLiteralExpression)expr).getElements()) {
      Object dictKey=evaluate(keyValueExpression.getKey());
      if (dictKey != null) {
        PyExpression value=keyValueExpression.getValue();
        result.put(dictKey,myEvaluateCollectionItems ? evaluate(value) : value);
      }
    }
    return result;
  }
 else {
    List<Object> result=new ArrayList<Object>();
    for (    PyExpression element : elements) {
      result.add(myEvaluateCollectionItems ? evaluate(element) : element);
    }
    return result;
  }
}
