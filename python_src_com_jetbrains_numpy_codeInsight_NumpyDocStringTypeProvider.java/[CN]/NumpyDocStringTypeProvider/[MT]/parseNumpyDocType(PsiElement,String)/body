{
  final String withoutOptional=NumPyDocString.cleanupOptional(typeString);
  final Set<PyType> types=new LinkedHashSet<PyType>();
  if (withoutOptional != null) {
    typeString=withoutOptional;
  }
  for (  String typeName : NumPyDocString.getNumpyUnionType(typeString)) {
    PyType parsedType=parseSingleNumpyDocType(anchor,typeName);
    if (parsedType != null) {
      types.add(parsedType);
    }
  }
  if (!types.isEmpty() && withoutOptional != null) {
    types.add(PyNoneType.INSTANCE);
  }
  return getPsiFacade(anchor).createUnionType(types);
}
