{
  if (!elementAtPointer.isPhysical())   return Collections.emptyList();
  int textOffset=elementAtPointer.getTextOffset();
  final TextRange range=elementAtPointer.getTextRange();
  if (range == null) {
    throw new AssertionError("Null range for " + elementAtPointer + " of "+ elementAtPointer.getClass());
  }
  if (textOffset < range.getStartOffset() || textOffset < 0) {
    LOG.error("Invalid text offset " + textOffset + " of element "+ elementAtPointer+ " of "+ elementAtPointer.getClass());
    textOffset=range.getStartOffset();
  }
  return Collections.singletonList(new TextRange(textOffset,range.getEndOffset()));
}
