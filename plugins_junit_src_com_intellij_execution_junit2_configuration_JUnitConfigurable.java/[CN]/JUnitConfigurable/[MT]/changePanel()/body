{
  String selectedItem=(String)myForkCb.getSelectedItem();
  if (selectedItem == null) {
    selectedItem=JUnitConfiguration.FORK_NONE;
  }
  final Integer selectedType=(Integer)myTypeChooser.getSelectedItem();
  if (selectedType == JUnitConfigurationModel.ALL_IN_PACKAGE) {
    myPackagePanel.setVisible(true);
    myScopesPanel.setVisible(true);
    myPattern.setVisible(false);
    myClass.setVisible(false);
    myCategory.setVisible(false);
    myMethod.setVisible(false);
    myDir.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE_ALL));
    myForkCb.setSelectedItem(selectedItem);
  }
 else   if (selectedType == JUnitConfigurationModel.DIR) {
    myPackagePanel.setVisible(false);
    myScopesPanel.setVisible(false);
    myDir.setVisible(true);
    myPattern.setVisible(false);
    myClass.setVisible(false);
    myCategory.setVisible(false);
    myMethod.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE_ALL));
    myForkCb.setSelectedItem(selectedItem);
  }
 else   if (selectedType == JUnitConfigurationModel.CLASS) {
    myPackagePanel.setVisible(false);
    myScopesPanel.setVisible(false);
    myPattern.setVisible(false);
    myDir.setVisible(false);
    myClass.setVisible(true);
    myCategory.setVisible(false);
    myMethod.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE));
    myForkCb.setSelectedItem(selectedItem != JUnitConfiguration.FORK_KLASS ? selectedItem : JUnitConfiguration.FORK_METHOD);
  }
 else   if (selectedType == JUnitConfigurationModel.METHOD) {
    myPackagePanel.setVisible(false);
    myScopesPanel.setVisible(false);
    myPattern.setVisible(false);
    myDir.setVisible(false);
    myClass.setVisible(true);
    myCategory.setVisible(false);
    myMethod.setVisible(true);
    myForkCb.setEnabled(false);
    myForkCb.setSelectedItem(JUnitConfiguration.FORK_NONE);
  }
 else   if (selectedType == JUnitConfigurationModel.CATEGORY) {
    myPackagePanel.setVisible(false);
    myScopesPanel.setVisible(true);
    myDir.setVisible(false);
    myPattern.setVisible(false);
    myClass.setVisible(false);
    myCategory.setVisible(true);
    myMethod.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE_ALL));
    myForkCb.setSelectedItem(selectedItem);
  }
 else {
    myPackagePanel.setVisible(false);
    myScopesPanel.setVisible(true);
    myPattern.setVisible(true);
    myDir.setVisible(false);
    myClass.setVisible(false);
    myCategory.setVisible(false);
    myMethod.setVisible(true);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE_ALL));
    myForkCb.setSelectedItem(selectedItem);
  }
}
