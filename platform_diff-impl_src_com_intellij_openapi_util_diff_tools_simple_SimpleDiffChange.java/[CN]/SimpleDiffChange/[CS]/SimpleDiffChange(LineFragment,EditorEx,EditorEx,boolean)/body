{
  myFragment=fragment;
  myFineFragments=inlineHighlight && fragment instanceof FineLineFragment ? ((FineLineFragment)fragment).getFineFragments() : null;
  myEditor1=editor1;
  myEditor2=editor2;
  myHighlighters=new ArrayList<RangeHighlighter>();
  myActionHighlighters=new ArrayList<RangeHighlighter>();
  if (editor1 != null && editor2 != null) {
    myShiftedFragment=new ShiftedLineFragment(fragment,editor1.getDocument(),editor2.getDocument());
  }
 else {
    myShiftedFragment=null;
  }
  installHighlighter();
}
