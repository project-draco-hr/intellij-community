{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Remove " + path);
  }
  try {
    File file=new File(dir,path);
    File parent=file;
synchronized (lock) {
      while (parent != null && !parent.equals(dir) && parent.delete()) {
        parent=parent.getParentFile();
      }
      deleteFromIndex(file,path);
    }
  }
 catch (  Exception e) {
    LOG.error(e);
  }
}
