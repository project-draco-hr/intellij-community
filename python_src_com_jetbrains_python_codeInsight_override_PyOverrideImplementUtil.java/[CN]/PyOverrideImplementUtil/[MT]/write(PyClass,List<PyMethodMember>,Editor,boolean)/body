{
  final PyStatementList statementList=pyClass.getStatementList();
  final int offset=editor.getCaretModel().getOffset();
  PsiElement anchor=null;
  for (  PyStatement statement : statementList.getStatements()) {
    if (statement.getTextRange().getStartOffset() < offset || (statement instanceof PyExpressionStatement && ((PyExpressionStatement)statement).getExpression() instanceof PyStringLiteralExpression)) {
      anchor=statement;
    }
  }
  PyFunction element=null;
  for (  PyMethodMember newMember : newMembers) {
    PyFunction baseFunction=(PyFunction)newMember.getPsiElement();
    final PyFunctionBuilder builder=buildOverriddenFunction(pyClass,baseFunction,implement);
    PyFunction function=builder.addFunctionAfter(statementList,anchor,LanguageLevel.forElement(statementList));
    element=CodeInsightUtilCore.forcePsiPostprocessAndRestoreElement(function);
  }
  PyPsiUtils.removeRedundantPass(statementList);
  if (element != null) {
    final PyStatementList targetStatementList=element.getStatementList();
    final int start=targetStatementList != null ? targetStatementList.getTextRange().getStartOffset() : element.getTextRange().getStartOffset();
    editor.getCaretModel().moveToOffset(start);
    editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
    editor.getSelectionModel().setSelection(start,element.getTextRange().getEndOffset());
  }
}
