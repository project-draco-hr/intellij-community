{
  ProjectSetReader reader=new ProjectSetReader();
  final ArrayList<String> entries=new ArrayList<String>();
  PlatformTestUtil.registerExtension(ProjectSetProcessor.EXTENSION_POINT_NAME,new ProjectSetProcessor(){
    @Override public String getId(){
      return "test";
    }
    @Override public Object interactWithUser(){
      return new Object();
    }
    @Override public void processEntry(    String key,    String value,    Object o){
      entries.add(value);
    }
  }
,myTestRootDisposable);
  @Language("JSON") String descriptor=FileUtil.loadFile(new File(getTestDataPath() + "descriptor.json"));
  reader.readDescriptor(descriptor);
  assertEquals(1,entries.size());
}
