{
synchronized (LOCK) {
    Map<GroupDescriptor,Set<UsageDescriptor>> usageDescriptors=new LinkedHashMap<GroupDescriptor,Set<UsageDescriptor>>();
    for (    UsagesCollector usagesCollector : EP_NAME.getExtensions()) {
      GroupDescriptor groupDescriptor=usagesCollector.getGroupId();
      if (!disabledGroups.contains(groupDescriptor.getId())) {
        try {
          usageDescriptors.put(groupDescriptor,usagesCollector.getUsages());
        }
 catch (        CollectUsagesException e) {
          LOG.info(e);
        }
      }
    }
    return usageDescriptors;
  }
}
