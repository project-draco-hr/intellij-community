{
  Task.Backgroundable task=data.myTask;
  ProgressIndicator indicator=data.myIndicator;
  if (indicator == null)   indicator=new EmptyProgressIndicator();
  ModalityState modalityState=data.myModalityState;
  if (modalityState == null)   modalityState=ModalityState.NON_MODAL;
  ProgressManagerImpl pm=(ProgressManagerImpl)ProgressManager.getInstance();
synchronized (TEST_TASK_LOCK) {
    pm.runProcessWithProgressInCurrentThread(task,indicator,modalityState);
  }
}
