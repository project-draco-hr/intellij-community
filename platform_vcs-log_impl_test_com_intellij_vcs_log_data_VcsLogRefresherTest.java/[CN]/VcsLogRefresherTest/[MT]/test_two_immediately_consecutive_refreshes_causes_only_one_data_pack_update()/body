{
  DataWaiter dataWaiter=new DataWaiter();
  VcsLogRefresher loader=createLoader(dataWaiter);
  myLogProvider.blockRefresh();
  loader.readFirstBlock();
  loader.refresh(Collections.singletonList(myProjectRoot));
  myLogProvider.unblockRefresh();
  dataWaiter.get(1,TimeUnit.SECONDS);
  dataWaiter.reset();
  assertTimeout(dataWaiter,"Second refresh shouldn't cause the data pack update");
  assertFalse("DataPack FutureResult failed with an exception",dataWaiter.failed());
}
