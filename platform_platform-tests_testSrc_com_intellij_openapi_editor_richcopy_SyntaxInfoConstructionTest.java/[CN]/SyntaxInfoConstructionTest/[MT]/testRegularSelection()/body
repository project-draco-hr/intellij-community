{
  String text="package org;\n" + "\n" + "public class TestClass {\n"+ "\n"+ "    int field;\n"+ "\n"+ "    public int getField() {\n"+ "        return field;\n"+ "    }\n"+ "}";
  init(text);
  int selectionStart=text.indexOf("public int");
  int selectionEnd=text.indexOf('}',selectionStart) + 1;
  SelectionModel selectionModel=myFixture.getEditor().getSelectionModel();
  selectionModel.setSelection(selectionStart,selectionEnd);
  String expected="foreground=java.awt.Color[r=0,g=0,b=128],fontStyle=1,text=public int \n" + "foreground=java.awt.Color[r=0,g=0,b=0],fontStyle=0,text=getField() {\n" + "\n"+ "text=    \n"+ "foreground=java.awt.Color[r=0,g=0,b=128],fontStyle=1,text=return \n"+ "foreground=java.awt.Color[r=102,g=14,b=122],text=field\n"+ "foreground=java.awt.Color[r=0,g=0,b=0],fontStyle=0,text=;\n"+ "\n"+ "text=}\n";
  verifySyntaxInfo(expected);
  selectionModel.setSelection(selectionStart - 2,selectionEnd);
  verifySyntaxInfo(expected);
  selectionModel.setSelection(selectionStart - 4,selectionEnd);
  verifySyntaxInfo(expected);
}
