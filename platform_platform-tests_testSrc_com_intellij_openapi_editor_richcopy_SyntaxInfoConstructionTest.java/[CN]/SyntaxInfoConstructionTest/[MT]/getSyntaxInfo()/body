{
  final Ref<SyntaxInfo> syntaxInfo=new Ref<SyntaxInfo>();
  Editor editor=myFixture.getEditor();
  TextWithMarkupProcessor processor=new TextWithMarkupProcessor();
  processor.addBuilder(new TextWithMarkupBuilder(){
    @Override public void reset(){
    }
    @Override public void build(    CharSequence charSequence,    SyntaxInfo info){
      syntaxInfo.set(info);
    }
  }
);
  SelectionModel selectionModel=editor.getSelectionModel();
  processor.collectTransferableData(myFixture.getFile(),editor,selectionModel.getBlockSelectionStarts(),selectionModel.getBlockSelectionEnds());
  return syntaxInfo.get();
}
