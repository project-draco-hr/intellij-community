{
  if (startOffset == endOffset) {
    while (startOffset < text.length() && text.charAt(startOffset) == ' ') {
      startOffset++;
    }
    return new TextRange(startOffset,startOffset);
  }
  CharSequence originalSequence=text.subSequence(startOffset,endOffset);
  while (endOffset < text.length() && StringUtil.equals(originalSequence,text.subSequence(startOffset + 1,endOffset + 1))) {
    startOffset++;
    endOffset++;
  }
  return new TextRange(startOffset,endOffset);
}
