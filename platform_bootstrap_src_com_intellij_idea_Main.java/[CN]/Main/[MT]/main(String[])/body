{
  if (args.length == 1 && "%f".equals(args[0])) {
    args=NO_ARGS;
  }
  setFlags(args);
  if (isHeadless()) {
    System.setProperty(AWT_HEADLESS,Boolean.TRUE.toString());
  }
 else {
    if (GraphicsEnvironment.isHeadless()) {
      throw new HeadlessException("Unable to detect graphics environment");
    }
    if (args.length == 0) {
      try {
        installPatch();
      }
 catch (      Throwable t) {
        showMessage("Update Failed",t);
        System.exit(UPDATE_FAILED);
      }
    }
  }
  try {
    Bootstrap.main(args,Main.class.getName() + "Impl","start");
  }
 catch (  Throwable t) {
    showMessage("Start Failed",t);
    System.exit(STARTUP_EXCEPTION);
  }
}
