{
  boolean checkVersion=!SystemProperties.getBooleanProperty("idea.no.java.version.check",false);
  if (checkVersion && !SystemInfo.isJavaVersionAtLeast("1.8")) {
    showMessage("Unsupported Java Version","Cannot start under Java " + SystemInfo.JAVA_RUNTIME_VERSION + ": Java 1.8 or later is required.",true);
    System.exit(JAVA_VERSION_ERROR);
  }
  if (args.length == 1 && "%f".equals(args[0])) {
    args=NO_ARGS;
  }
  if (args.length == 1 && args[0].startsWith(JetBrainsProtocolHandler.PROTOCOL)) {
    JetBrainsProtocolHandler.processJetBrainsLauncherParameters(args[0]);
    args=NO_ARGS;
  }
  setFlags(args);
  if (isHeadless()) {
    System.setProperty(AWT_HEADLESS,Boolean.TRUE.toString());
  }
 else   if (!checkGraphics()) {
    System.exit(NO_GRAPHICS);
  }
  if (args.length == 0 || (args.length == 1 && "nosplash".equals(args[0]))) {
    try {
      installPatch();
    }
 catch (    Throwable t) {
      showMessage("Update Failed",t);
      System.exit(UPDATE_FAILED);
    }
  }
  try {
    Bootstrap.main(args,Main.class.getName() + "Impl","start");
  }
 catch (  Throwable t) {
    showMessage("Start Failed",t);
    System.exit(STARTUP_EXCEPTION);
  }
}
