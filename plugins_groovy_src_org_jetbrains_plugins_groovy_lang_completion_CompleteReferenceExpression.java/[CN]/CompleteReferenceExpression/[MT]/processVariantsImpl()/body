{
  processRefInAnnotationImpl();
  getVariantsImpl();
  final GroovyResolveResult[] candidates=myProcessor.getCandidates();
  List<LookupElement> results=GroovyCompletionUtil.getCompletionVariants(candidates,JavaClassNameCompletionContributor.AFTER_NEW.accepts(myRefExpr),myMatcher,myRefExpr);
  if (myProcessor.isEmpty() && results.size() == 0) {
    results=GroovyCompletionUtil.getCompletionVariants(myProcessor.getInapplicableResults(),JavaClassNameCompletionContributor.AFTER_NEW.accepts(myRefExpr),myMatcher,myRefExpr);
  }
  for (  LookupElement o : results) {
    myConsumer.consume(o);
  }
}
