{
  MacUIUtil.hideCursor();
  CommandProcessor.getInstance().setCurrentCommandGroupId(EditorActionUtil.DELETE_COMMAND_GROUP);
  CopyPasteManager.getInstance().stopKillRings();
  SelectionModel selectionModel=editor.getSelectionModel();
  if (!selectionModel.hasSelection()) {
    if (editor.getInlayModel().hasInlineElementAt(editor.getCaretModel().getVisualPosition())) {
      editor.getCaretModel().moveCaretRelatively(1,0,false,false,EditorUtil.isCurrentCaretPrimary(editor));
    }
 else {
      deleteCharAtCaret(editor);
    }
  }
 else {
    EditorModificationUtil.deleteSelectedText(editor);
  }
}
