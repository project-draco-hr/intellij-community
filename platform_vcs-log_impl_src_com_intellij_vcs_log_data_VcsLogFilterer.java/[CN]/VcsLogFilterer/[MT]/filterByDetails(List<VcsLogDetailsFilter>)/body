{
  List<VcsFullCommitDetails> result=ContainerUtil.newArrayList();
  int topCommits=myLogDataHolder.getSettings().getRecentCommitsCount();
  List<Integer> visibleCommits=VcsLogUtil.getVisibleCommits(myLogDataHolder.getDataPack().getGraphFacade());
  for (int i=0; i < topCommits && i < visibleCommits.size(); i++) {
    int commitIndex=visibleCommits.get(i);
    final VcsFullCommitDetails details=getDetailsFromCache(commitIndex);
    if (details == null) {
      LOG.debug("No details found for a recent commit " + myLogDataHolder.getHash(commitIndex));
      break;
    }
    boolean allFiltersMatch=!ContainerUtil.exists(detailsFilters,new Condition<VcsLogDetailsFilter>(){
      @Override public boolean value(      VcsLogDetailsFilter filter){
        return !filter.matches(details);
      }
    }
);
    if (allFiltersMatch) {
      result.add(details);
    }
  }
  return result;
}
