{
  PsiModifierListOwner var=getAccessedVariableOrGetter(refExpr.resolve());
  if (var == null) {
    return null;
  }
  if (!var.hasModifierProperty(PsiModifier.VOLATILE)) {
    if (var instanceof PsiVariable && var.hasModifierProperty(PsiModifier.FINAL) && !PsiUtil.isAccessedForWriting(refExpr)) {
      DfaValue constValue=myFactory.getConstFactory().create((PsiVariable)var);
      if (constValue != null)       return constValue;
    }
    if (DfaValueFactory.isEffectivelyUnqualified(refExpr)) {
      return myFactory.getVarFactory().createVariableValue(var,refExpr.getType(),false,null);
    }
    DfaValue qualifierValue=getExpressionDfaValue(refExpr.getQualifierExpression());
    if (qualifierValue instanceof DfaVariableValue) {
      return myFactory.getVarFactory().createVariableValue(var,refExpr.getType(),false,(DfaVariableValue)qualifierValue);
    }
  }
  PsiType type=refExpr.getType();
  return myFactory.createTypeValue(type,DfaPsiUtil.getElementNullability(type,var));
}
