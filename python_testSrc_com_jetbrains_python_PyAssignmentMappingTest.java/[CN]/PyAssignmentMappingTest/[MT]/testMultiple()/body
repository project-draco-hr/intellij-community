{
  Map<String,PsiElement> marks=loadTest();
  final int TARGET_NUM=3;
  assertEquals(TARGET_NUM + 1,marks.size());
  PsiElement src=marks.get("<src>").getParent();
  PsiElement[] dsts=new PsiElement[TARGET_NUM];
  for (int i=0; i < TARGET_NUM; i+=1) {
    PsiElement dst=marks.get("<dst" + String.valueOf(i + 1) + ">").getParent();
    assertTrue(dst instanceof PyTargetExpression);
    dsts[i]=dst;
  }
  PyAssignmentStatement stmt=(PyAssignmentStatement)src.getParent();
  List<Pair<PyExpression,PyExpression>> mapping=stmt.getTargetsToValuesMapping();
  assertEquals(TARGET_NUM,mapping.size());
  for (int i=0; i < TARGET_NUM; i+=1) {
    Pair<PyExpression,PyExpression> pair=mapping.get(i);
    assertEquals(dsts[i],pair.getFirst());
    assertEquals(src,pair.getSecond());
  }
}
