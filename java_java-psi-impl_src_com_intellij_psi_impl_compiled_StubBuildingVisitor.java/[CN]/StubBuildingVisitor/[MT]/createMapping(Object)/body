{
  byte[] bytes=null;
  if (classSource instanceof ClsFileImpl.FileContentPair) {
    bytes=((ClsFileImpl.FileContentPair)classSource).getContent();
  }
 else   if (classSource instanceof VirtualFile) {
    try {
      bytes=((VirtualFile)classSource).contentsToByteArray(false);
    }
 catch (    IOException ignored) {
    }
  }
  if (bytes != null) {
    Function<String,String> mapping=createMapping(bytes);
    if (mapping != null) {
      return mapping;
    }
  }
  return GUESSING_MAPPER;
}
