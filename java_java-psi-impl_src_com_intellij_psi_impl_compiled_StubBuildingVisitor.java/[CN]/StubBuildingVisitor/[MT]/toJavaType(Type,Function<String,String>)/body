{
  int dimensions=0;
  if (type.getSort() == Type.ARRAY) {
    dimensions=type.getDimensions();
    type=type.getElementType();
  }
  String text=type.getSort() == Type.OBJECT ? mapping.fun(type.getInternalName()) : type.getClassName();
  if (dimensions > 0)   text+=StringUtil.repeat("[]",dimensions);
  return text;
}
