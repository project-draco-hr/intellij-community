{
  final Sdk sdk=PythonSdkType.findPythonSdk(module);
  if (sdk != null) {
    final SdkType sdkType=sdk.getSdkType();
    if (sdkType instanceof PythonSdkType) {
      ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
        public void run(){
          try {
            Thread.sleep(7000);
          }
 catch (          InterruptedException ignore) {
          }
          ApplicationManager.getApplication().invokeLater(new Runnable(){
            @Override public void run(){
              ProgressManager.getInstance().run(new Task.Backgroundable(project,PyBundle.message("sdk.gen.updating.skels"),false){
                @Override public void run(                @NotNull ProgressIndicator indicator){
                  long start_time=System.currentTimeMillis();
                  PythonSdkType.refreshSkeletonsOfAllSDKs(project);
                  LOG.info("Refreshing skeletons took " + (System.currentTimeMillis() - start_time) + " ms");
                }
              }
);
            }
          }
);
          final List<String> sysPath=((PythonSdkType)sdkType).getSysPath(sdk.getHomePath());
          if (sysPath != null) {
            ApplicationManager.getApplication().invokeLater(new Runnable(){
              @Override public void run(){
                long start_time=System.currentTimeMillis();
                updateSdkPath(sdk,sysPath);
                LOG.info("Updating sys.path took " + (System.currentTimeMillis() - start_time) + " ms");
              }
            }
);
          }
        }
      }
);
    }
  }
}
