{
  boolean changed=false;
  final String skeletonsPath=PythonSdkType.getSkeletonsPath(PathManager.getSystemPath(),sdk.getHomePath());
  if (skeletonsPath != null) {
    final VirtualFile skeletonsDir=StandardFileSystems.local().refreshAndFindFileByPath(skeletonsPath);
    if (skeletonsDir != null) {
      LOG.info("Binary skeletons directory for SDK \"" + sdk.getName() + "\" ("+ sdk.getHomePath()+ "): "+ skeletonsDir.getPath());
      final List<VirtualFile> sourceRoots=Arrays.asList(sdk.getRootProvider().getFiles(OrderRootType.CLASSES));
      boolean skeletonsDirFound=false;
      for (      VirtualFile root : sourceRoots) {
        if (root.equals(skeletonsDir)) {
          skeletonsDirFound=true;
        }
        if (PythonSdkType.isSkeletonsPath(root.getPath()) && !skeletonsDirFound) {
          modificator.removeRoot(root,OrderRootType.CLASSES);
          changed=true;
        }
      }
      if (!skeletonsDirFound) {
        modificator.addRoot(skeletonsDir,OrderRootType.CLASSES);
        changed=true;
      }
    }
  }
  return changed;
}
