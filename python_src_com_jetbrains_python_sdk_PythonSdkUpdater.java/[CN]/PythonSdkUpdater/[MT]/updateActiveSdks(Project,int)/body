{
  final Set<Sdk> sdksToUpdate=new HashSet<Sdk>();
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    final Sdk sdk=PythonSdkType.findPythonSdk(module);
    if (sdk != null) {
      final SdkTypeId sdkType=sdk.getSdkType();
      if (sdkType instanceof PythonSdkType && !myAlreadyUpdated.contains(sdk.getHomePath())) {
        sdksToUpdate.add(sdk);
      }
    }
  }
  if (!sdksToUpdate.isEmpty()) {
    updateSdks(project,delay,sdksToUpdate);
  }
}
