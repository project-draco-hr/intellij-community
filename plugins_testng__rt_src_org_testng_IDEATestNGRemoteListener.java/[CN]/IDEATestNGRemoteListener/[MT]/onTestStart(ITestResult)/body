{
  final String className=getShortName(result.getTestClass().getName());
  if (myCurrentClassName == null || !myCurrentClassName.equals(className)) {
    if (myCurrentClassName != null) {
      System.out.println("##teamcity[testSuiteFinished name=\'" + escapeName(myCurrentClassName) + "\']");
    }
    System.out.println("##teamcity[testSuiteStarted name =\'" + escapeName(className) + "\']");
    myCurrentClassName=className;
    myInvocationCount=0;
  }
  String methodName=getMethodName(result,false);
  System.out.println("##teamcity[testStarted name=\'" + escapeName(methodName) + "\' locationHint=\'java:test://"+ escapeName(className + "." + methodName)+ "\']");
}
