{
  try {
    if (suite != null && suite.getAllInvokedMethods().size() < suite.getAllMethods().size()) {
      for (      ITestNGMethod method : suite.getAllMethods()) {
        if (method.isTest()) {
          boolean found=false;
          for (          IInvokedMethod invokedMethod : suite.getAllInvokedMethods()) {
            if (invokedMethod.getTestMethod() == method) {
              found=true;
              break;
            }
          }
          if (!found) {
            final String fullEscapedMethodName=escapeName(getShortName(method.getTestClass().getName()) + "." + method.getMethodName());
            myPrintStream.println("##teamcity[testStarted name=\'" + fullEscapedMethodName + "\']");
            myPrintStream.println("##teamcity[testIgnored name=\'" + fullEscapedMethodName + "\']");
            myPrintStream.println("##teamcity[testFinished name=\'" + fullEscapedMethodName + "\']");
            break;
          }
        }
      }
    }
  }
 catch (  NoSuchMethodError ignored) {
  }
  for (int i=myCurrentSuites.size() - 1; i >= 0; i--) {
    onSuiteFinish(myCurrentSuites.remove(i));
  }
  myCurrentSuites.clear();
}
