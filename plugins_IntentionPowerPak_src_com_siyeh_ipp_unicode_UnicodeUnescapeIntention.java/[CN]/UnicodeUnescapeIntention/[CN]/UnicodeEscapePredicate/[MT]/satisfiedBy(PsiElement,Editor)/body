{
  if (editor == null) {
    return false;
  }
  final SelectionModel selectionModel=editor.getSelectionModel();
  final Document document=editor.getDocument();
  if (selectionModel.hasSelection()) {
    final int start=selectionModel.getSelectionStart();
    final int end=selectionModel.getSelectionEnd();
    if (start < 0 || end < 0 || start > end) {
      return false;
    }
    final String text=document.getCharsSequence().subSequence(start,end).toString();
    return indexOfUnicodeEscape(text,1) >= 0;
  }
 else {
    final CaretModel caretModel=editor.getCaretModel();
    final int lineNumber=document.getLineNumber(caretModel.getOffset());
    final String line=document.getText(new TextRange(document.getLineStartOffset(lineNumber),document.getLineEndOffset(lineNumber)));
    final int column=caretModel.getLogicalPosition().column;
    final int index=indexOfUnicodeEscape(line,column);
    return index >= 0 && column >= index;
  }
}
