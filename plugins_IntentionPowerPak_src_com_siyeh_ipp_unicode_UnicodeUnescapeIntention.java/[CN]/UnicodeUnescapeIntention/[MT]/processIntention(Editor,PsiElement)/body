{
  final CaretModel caretModel=editor.getCaretModel();
  final Document document=editor.getDocument();
  int offset=caretModel.getOffset();
  if (offset == document.getTextLength() - 1) {
    offset--;
  }
  String text=document.getText(new TextRange(offset,offset + 1));
  while (!text.equals("\\")) {
    offset--;
    text=document.getText(new TextRange(offset,offset + 1));
  }
  text=document.getText(new TextRange(offset,offset + 6));
  final int c=Integer.parseInt(text.substring(2),16);
  document.replaceString(offset,offset + 6,String.valueOf((char)c));
}
