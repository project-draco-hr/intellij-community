{
  if (text != null) {
    if (needSlashRSupport(text,isViewer())) {
      ((DocumentImpl)getDocument()).setAcceptSlashR(true);
    }
 else {
      text=StringUtil.convertLineSeparators(text);
    }
  }
  super.setText(text);
}
