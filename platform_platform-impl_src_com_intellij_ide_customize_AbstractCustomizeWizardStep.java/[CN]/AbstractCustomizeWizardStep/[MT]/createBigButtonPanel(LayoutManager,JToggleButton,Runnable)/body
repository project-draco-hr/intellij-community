{
  final JPanel panel=new JPanel(layout){
    @Override public Color getBackground(){
      return anchorButton.isSelected() ? getSelectionBackground() : super.getBackground();
    }
  }
;
  panel.setOpaque(true);
  new ClickListener(){
    @Override public boolean onClick(    @NotNull MouseEvent event,    int clickCount){
      anchorButton.setSelected(true);
      action.run();
      return true;
    }
  }
.installOn(panel);
  anchorButton.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      panel.repaint();
    }
  }
);
  return panel;
}
