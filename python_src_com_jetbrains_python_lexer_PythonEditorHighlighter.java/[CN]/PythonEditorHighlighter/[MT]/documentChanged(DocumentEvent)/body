{
synchronized (this) {
    final Document document=e.getDocument();
    Lexer l=getLexer();
    if (l instanceof PythonHighlightingLexer && (((PythonHighlightingLexer)l).getImportOffset() > e.getOffset() || ((PythonHighlightingLexer)l).getImportOffset() == -1)) {
      ((PythonHighlightingLexer)l).clearState(e.getDocument().getTextLength());
      setText(document.getCharsSequence());
    }
 else     super.documentChanged(e);
  }
}
