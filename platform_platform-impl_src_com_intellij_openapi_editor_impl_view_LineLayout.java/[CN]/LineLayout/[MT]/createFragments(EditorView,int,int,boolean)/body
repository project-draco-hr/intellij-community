{
  if (lineEndOffset <= lineStartOffset)   return Collections.emptyList();
  EditorImpl editor=view.getEditor();
  List<BidiRun> runs;
  if (skipBidiLayout) {
    runs=Collections.singletonList(new BidiRun((byte)0,0,lineEndOffset - lineStartOffset));
  }
 else {
    CharSequence text=editor.getDocument().getImmutableCharSequence().subSequence(lineStartOffset,lineEndOffset);
    char[] chars=CharArrayUtil.fromSequence(text);
    runs=createRuns(editor,chars,lineStartOffset);
  }
  return runs;
}
