{
  myBidiRunsInLogicalOrder=runs.toArray(new BidiRun[runs.size()]);
  myBidiRunsInVisualOrder=myBidiRunsInLogicalOrder.clone();
  reorderRunsVisually(myBidiRunsInVisualOrder);
  int logicalColumn=0;
  for (  BidiRun run : runs) {
    logicalColumn=run.createIndices(logicalColumn);
  }
  myWidth=calculateWidth ? calculateWidth() : -1;
}
