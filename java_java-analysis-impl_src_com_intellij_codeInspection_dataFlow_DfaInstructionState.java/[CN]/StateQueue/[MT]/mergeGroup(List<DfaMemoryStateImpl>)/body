{
  if (group.size() < 2) {
    return group;
  }
  int prevSize=group.size();
  StateMerger merger=new StateMerger();
  while (true) {
    List<DfaMemoryStateImpl> nextStates=merger.mergeByFacts(group);
    if (nextStates == null)     nextStates=merger.mergeByNullability(group);
    if (nextStates == null)     nextStates=merger.mergeByUnknowns(group);
    if (nextStates == null)     break;
    group=nextStates;
  }
  int afterSize=group.size();
  if (prevSize > 100 && afterSize > 100) {
    System.out.println(prevSize + " -> " + afterSize);
  }
  return group;
}
