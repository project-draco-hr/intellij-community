{
  Pair<Document,List<AnswerPlaceholder>> placeholders=getPlaceholders(fileName,useLength,true);
  String message="Placeholders don't match";
  if (taskFile.getAnswerPlaceholders().size() != placeholders.second.size()) {
    throw new ComparisonFailure(message,CCTestsUtil.getPlaceholdersPresentation(taskFile.getAnswerPlaceholders()),CCTestsUtil.getPlaceholdersPresentation(placeholders.second));
  }
  for (  AnswerPlaceholder answerPlaceholder : placeholders.getSecond()) {
    AnswerPlaceholder placeholder=taskFile.getAnswerPlaceholder(answerPlaceholder.getOffset());
    if (!CCTestsUtil.comparePlaceholders(placeholder,answerPlaceholder)) {
      throw new ComparisonFailure(message,CCTestsUtil.getPlaceholdersPresentation(taskFile.getAnswerPlaceholders()),CCTestsUtil.getPlaceholdersPresentation(placeholders.second));
    }
  }
}
