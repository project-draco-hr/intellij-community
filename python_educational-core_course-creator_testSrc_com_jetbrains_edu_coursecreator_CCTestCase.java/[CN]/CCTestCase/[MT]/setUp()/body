{
  super.setUp();
  Course course=new Course();
  course.setName("test course");
  course.setCourseDirectory(getProject().getBasePath());
  StudyTaskManager.getInstance(getProject()).setCourse(course);
  Lesson lesson=new Lesson();
  lesson.setName("lesson1");
  Task task=new Task();
  task.setName("task1");
  task.setIndex(1);
  lesson.addTask(task);
  lesson.setIndex(1);
  course.getLessons().add(lesson);
  course.setCourseMode(CCUtils.COURSE_MODE);
  course.initCourse(false);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      try {
        VirtualFile lesson1=myFixture.getProject().getBaseDir().createChildDirectory(this,"lesson1");
        lesson1.createChildDirectory(this,"task1");
      }
 catch (      IOException e) {
      }
    }
  }
);
}
