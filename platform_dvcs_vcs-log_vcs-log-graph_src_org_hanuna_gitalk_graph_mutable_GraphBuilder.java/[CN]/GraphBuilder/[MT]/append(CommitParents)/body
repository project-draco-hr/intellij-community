{
  MutableNode node=addCurrentCommitAndFinishRow(commitParents.getHash());
  List<Hash> parents=commitParents.getParents();
  Branch branch=node.getBranch();
  if (parents.size() == 1) {
    addParent(node,parents.get(0),branch);
  }
 else {
    for (    Hash parentHash : parents) {
      VcsRef ref=findRefForHash(node.getCommitHash());
      addParent(node,parentHash,new Branch(node.getCommitHash(),parentHash,ref,branch.getRepositoryRoot()));
    }
  }
}
