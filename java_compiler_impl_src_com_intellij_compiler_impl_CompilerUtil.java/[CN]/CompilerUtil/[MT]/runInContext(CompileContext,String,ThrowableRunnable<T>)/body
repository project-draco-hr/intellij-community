{
  ProgressIndicator indicator=context.getProgressIndicator();
  if (title != null) {
    indicator.pushState();
    indicator.setText(title);
  }
  try {
    action.run();
  }
  finally {
    if (title != null) {
      indicator.popState();
    }
  }
}
