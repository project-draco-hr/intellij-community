{
  try {
    File zipFile=new File(myLocationDir,myZipName + ".zip");
    ZipOutputStream zos=new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(zipFile)));
    for (    Map.Entry<String,Lesson> entry : lessons.entrySet()) {
      final VirtualFile lessonDir=baseDir.findChild(entry.getKey());
      if (lessonDir == null)       continue;
      ZipUtil.addFileOrDirRecursively(zos,null,new File(lessonDir.getPath()),lessonDir.getName(),new FileFilter(){
        @Override public boolean accept(        File pathname){
          String name=pathname.getName();
          return !name.contains(".answer") && !name.contains("__pycache__") && !name.contains("_windows")&& !name.contains(".pyc");
        }
      }
,null);
    }
    ZipUtil.addFileOrDirRecursively(zos,null,new File(baseDir.getPath(),"hints"),"hints",null,null);
    ZipUtil.addFileOrDirRecursively(zos,null,new File(baseDir.getPath(),"course.json"),"course.json",null,null);
    ZipUtil.addFileOrDirRecursively(zos,null,new File(baseDir.getPath(),"test_helper.py"),"test_helper.py",null,null);
    zos.close();
    Messages.showInfoMessage("Course archive was saved to " + zipFile.getPath(),"Course Archive Was Created Successfully");
  }
 catch (  IOException e1) {
    LOG.error(e1);
  }
}
