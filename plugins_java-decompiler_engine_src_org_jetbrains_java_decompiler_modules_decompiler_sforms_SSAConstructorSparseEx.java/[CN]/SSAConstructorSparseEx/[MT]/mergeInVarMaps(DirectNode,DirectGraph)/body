{
  SFormsFastMapDirect mapNew=new SFormsFastMapDirect();
  for (  DirectNode pred : node.preds) {
    SFormsFastMapDirect mapOut=getFilteredOutMap(node.id,pred.id,dgraph,node.id);
    if (mapNew.isEmpty()) {
      mapNew=mapOut.getCopy();
    }
 else {
      mergeMaps(mapNew,mapOut);
    }
  }
  if (extraVarVersions.containsKey(node.id)) {
    SFormsFastMapDirect mapExtra=extraVarVersions.get(node.id);
    if (mapNew.isEmpty()) {
      mapNew=mapExtra.getCopy();
    }
 else {
      mergeMaps(mapNew,mapExtra);
    }
  }
  inVarVersions.put(node.id,mapNew);
}
