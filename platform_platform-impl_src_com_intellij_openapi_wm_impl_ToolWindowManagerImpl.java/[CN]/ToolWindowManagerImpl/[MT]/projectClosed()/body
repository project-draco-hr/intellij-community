{
  final String[] ids=getToolWindowIds();
  if (myFrame != null) {
    ((IdeRootPane)myFrame.getRootPane()).setToolWindowsPane(null);
    myWindowManager.releaseFrame(myFrame);
  }
  List<FinalizableCommand> commandsList=new ArrayList<>();
  appendUpdateToolWindowsPaneCmd(commandsList);
  for (  final String id : ids) {
    deactivateToolWindowImpl(id,true,commandsList);
  }
  final JComponent editorComponent=FileEditorManagerEx.getInstanceEx(myProject).getComponent();
  myEditorComponentFocusWatcher.deinstall(editorComponent);
  appendSetEditorComponentCmd(null,commandsList);
  execute(commandsList);
}
