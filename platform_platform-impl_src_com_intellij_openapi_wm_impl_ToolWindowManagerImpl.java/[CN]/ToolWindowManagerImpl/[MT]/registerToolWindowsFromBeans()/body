{
  ToolWindowEP[] beans=Extensions.getExtensions(ToolWindowEP.EP_NAME);
  for (  final ToolWindowEP bean : beans) {
    final Condition<Project> condition=bean.getCondition();
    if (condition == null) {
      initToolWindow(bean);
    }
 else {
      ProgressManager.getInstance().run(new Task.Backgroundable(myProject,bean.id + " initialization",true){
        @Override public void run(        @NotNull ProgressIndicator indicator){
          if (condition.value(myProject)) {
            ApplicationManager.getApplication().invokeLater(new Runnable(){
              @Override public void run(){
                initToolWindow(bean);
              }
            }
);
          }
        }
      }
);
    }
  }
}
