{
  ProgressIndicatorUtils.scheduleWithWriteActionPriority(new ReadTask(){
    @Override public void computeInReadAction(    @NotNull ProgressIndicator indicator) throws ProcessCanceledException {
      if (!myProject.isDisposed() && condition.value(myProject)) {
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          @Override public void run(){
            if (!myProject.isDisposed()) {
              initToolWindow(bean);
            }
          }
        }
);
      }
    }
    @Override public void onCanceled(    @NotNull ProgressIndicator indicator){
      checkConditionInReadAction(bean,condition);
    }
  }
);
}
