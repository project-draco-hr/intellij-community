{
  ProgressIndicatorUtils.scheduleWithWriteActionPriority(new ReadTask(){
    @Nullable @Override public Continuation performInReadAction(    @NotNull ProgressIndicator indicator) throws ProcessCanceledException {
      if (!myProject.isDisposed() && condition.value(myProject)) {
        return new Continuation(new Runnable(){
          @Override public void run(){
            if (!myProject.isDisposed() && getToolWindow(bean.id) == null) {
              initToolWindow(bean);
            }
          }
        }
);
      }
      return null;
    }
    @Override public void onCanceled(    @NotNull ProgressIndicator indicator){
      checkConditionInReadAction(bean,condition);
    }
  }
);
}
