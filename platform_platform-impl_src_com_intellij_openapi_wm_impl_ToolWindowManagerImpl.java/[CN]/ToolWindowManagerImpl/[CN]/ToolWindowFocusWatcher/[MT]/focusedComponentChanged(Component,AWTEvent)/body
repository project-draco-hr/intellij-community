{
  if (myWindowManager.getCommandProcessor().getCommandCount() > 0 || component == null) {
    return;
  }
  final WindowInfoImpl info=getInfo(myId);
  if (!info.isActive()) {
    getFocusManagerImpl(myProject).doWhenFocusSettlesDown(new EdtRunnable(){
      @Override public void runEdt(){
        WindowInfoImpl windowInfo=myLayout.getInfo(myId,true);
        if (windowInfo == null || !windowInfo.isVisible())         return;
        activateToolWindow(myId,false,false);
      }
    }
);
  }
}
