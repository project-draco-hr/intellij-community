{
  final KeyboardFocusManager mgr=KeyboardFocusManager.getCurrentKeyboardFocusManager();
  final Component owner=mgr.getFocusOwner();
  if (myWindowManager.getCommandProcessor().getCommandCount() > 0 || component == null || component == owner) {
    return;
  }
  IdeFocusManager.getInstance(myProject).doWhenFocusSettlesDown(new ExpirableRunnable.ForProject(myProject){
    @Override public void run(){
      if (mgr.getFocusOwner() == owner) {
        activateEditorComponent(false);
      }
    }
  }
);
}
