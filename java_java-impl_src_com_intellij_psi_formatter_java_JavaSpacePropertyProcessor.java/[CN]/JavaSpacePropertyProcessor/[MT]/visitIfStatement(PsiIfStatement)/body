{
  if (myRole2 == ChildRole.ELSE_KEYWORD) {
    if (myChild1.getElementType() != JavaElementType.BLOCK_STATEMENT) {
      myResult=Spacing.createSpacing(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
    }
 else {
      if (mySettings.ELSE_ON_NEW_LINE) {
        myResult=Spacing.createSpacing(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
      }
 else {
        createSpaceProperty(mySettings.SPACE_BEFORE_ELSE_KEYWORD,false,0);
      }
    }
  }
 else   if (myRole1 == ChildRole.ELSE_KEYWORD) {
    if (myChild2.getElementType() == JavaElementType.IF_STATEMENT) {
      if (mySettings.SPECIAL_ELSE_IF_TREATMENT) {
        createSpaceProperty(false,false,0);
      }
 else {
        myResult=Spacing.createSpacing(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
      }
    }
 else {
      if (myChild2.getElementType() == JavaElementType.BLOCK_STATEMENT || myChild2.getElementType() == JavaElementType.CODE_BLOCK) {
        myResult=getSpaceBeforeLBrace(myChild2,mySettings.SPACE_BEFORE_ELSE_LBRACE,null);
      }
 else {
        createSpacingBeforeElementInsideControlStatement();
      }
    }
  }
 else   if (myChild2.getElementType() == JavaElementType.BLOCK_STATEMENT || myChild2.getElementType() == JavaElementType.CODE_BLOCK) {
    boolean space=myRole2 == ChildRole.ELSE_BRANCH ? mySettings.SPACE_BEFORE_ELSE_LBRACE : mySettings.SPACE_BEFORE_IF_LBRACE;
    TextRange dependentRange=null;
    if (myRole2 == ChildRole.THEN_BRANCH) {
      PsiExpression condition=statement.getCondition();
      if (condition != null)       dependentRange=condition.getTextRange();
    }
    myResult=getSpaceBeforeLBrace(myChild2,space,dependentRange);
  }
 else   if (myRole2 == ChildRole.LPARENTH) {
    createSpaceInCode(mySettings.SPACE_BEFORE_IF_PARENTHESES);
  }
 else   if (myRole1 == ChildRole.LPARENTH || myRole2 == ChildRole.RPARENTH) {
    createSpaceInCode(mySettings.SPACE_WITHIN_IF_PARENTHESES);
  }
 else   if (myRole2 == ChildRole.THEN_BRANCH) {
    createSpacingBeforeElementInsideControlStatement();
  }
}
