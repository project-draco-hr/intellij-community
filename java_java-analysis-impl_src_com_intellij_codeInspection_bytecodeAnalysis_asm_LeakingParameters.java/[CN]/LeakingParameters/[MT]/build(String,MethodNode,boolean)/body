{
  Frame<ParamsValue>[] frames=jsr ? new Analyzer<>(new ParametersUsage(methodNode)).analyze(className,methodNode) : new LiteAnalyzer<>(new ParametersUsage(methodNode)).analyze(className,methodNode);
  InsnList insns=methodNode.instructions;
  LeakingParametersCollector collector=new LeakingParametersCollector(methodNode);
  for (int i=0; i < frames.length; i++) {
    AbstractInsnNode insnNode=insns.get(i);
    Frame<ParamsValue> frame=frames[i];
    if (frame != null) {
switch (insnNode.getType()) {
case AbstractInsnNode.LABEL:
case AbstractInsnNode.LINE:
case AbstractInsnNode.FRAME:
        break;
default :
      new Frame<>(frame).execute(insnNode,collector);
  }
}
}
boolean[] notNullParameters=collector.leaking;
boolean[] nullableParameters=collector.nullableLeaking;
for (int i=0; i < nullableParameters.length; i++) {
nullableParameters[i]|=notNullParameters[i];
}
return new LeakingParameters((Frame<Value>[])(Frame<?>[])frames,notNullParameters,nullableParameters);
}
