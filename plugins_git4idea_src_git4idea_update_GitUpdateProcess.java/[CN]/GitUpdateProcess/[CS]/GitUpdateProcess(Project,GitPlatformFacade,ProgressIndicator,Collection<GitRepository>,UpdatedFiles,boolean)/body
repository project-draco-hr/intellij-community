{
  myProject=project;
  myRepositories=repositories;
  myCheckRebaseOverMergeProblem=checkRebaseOverMergeProblem;
  myGit=ServiceManager.getService(Git.class);
  myUpdatedFiles=updatedFiles;
  myProgressIndicator=progressIndicator == null ? new EmptyProgressIndicator() : progressIndicator;
  myMerger=new GitMerger(myProject);
  mySaver=GitChangesSaver.getSaver(myProject,platformFacade,myGit,myProgressIndicator,"Uncommitted changes before update operation at " + DateFormatUtil.formatDateTime(Clock.getTime()),GitVcsSettings.getInstance(project).updateChangesPolicy());
}
