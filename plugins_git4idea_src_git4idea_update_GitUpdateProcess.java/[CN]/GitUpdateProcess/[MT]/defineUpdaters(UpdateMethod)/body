{
  final Map<VirtualFile,GitUpdater> updaters=new HashMap<VirtualFile,GitUpdater>();
  LOG.info("updateImpl: defining updaters...");
  for (  GitRepository repository : myRepositories) {
    VirtualFile root=repository.getRoot();
    GitUpdater updater=GitUpdater.getUpdater(myProject,myGit,myTrackedBranches,root,myProgressIndicator,myUpdatedFiles,updateMethod);
    if (updater.isUpdateNeeded()) {
      updaters.put(root,updater);
    }
    LOG.info("update| root=" + root + " ,updater="+ updater);
  }
  return updaters;
}
