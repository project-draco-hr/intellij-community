{
  if (type == null) {
    return null;
  }
  if (type instanceof PsiPrimitiveType) {
    final PsiPrimitiveType primitiveType=(PsiPrimitiveType)type;
    if (PsiType.INT.equals(primitiveType)) {
      return "I";
    }
 else     if (primitiveType.equals(PsiType.VOID)) {
      return "V";
    }
 else     if (primitiveType.equals(PsiType.BOOLEAN)) {
      return "Z";
    }
 else     if (primitiveType.equals(PsiType.BYTE)) {
      return "B";
    }
 else     if (primitiveType.equals(PsiType.CHAR)) {
      return "C";
    }
 else     if (primitiveType.equals(PsiType.SHORT)) {
      return "S";
    }
 else     if (primitiveType.equals(PsiType.DOUBLE)) {
      return "D";
    }
 else     if (primitiveType.equals(PsiType.FLOAT)) {
      return "F";
    }
 else {
      return "J";
    }
  }
 else   if (type instanceof PsiArrayType) {
    return "[" + getDescriptor(((PsiArrayType)type).getComponentType());
  }
 else {
    final PsiClassType classType=(PsiClassType)type;
    final PsiClass aClass=classType.resolve();
    if (aClass == null) {
      return null;
    }
    final String qName=aClass.getQualifiedName();
    if (qName == null) {
      return null;
    }
    return "L" + StringUtil.replace(qName,".","/") + ";";
  }
}
