{
  super(project);
  myDefaultCharset=Charset.forName("UTF-8");
  String shellPath=TerminalOptionsProvider.getInstance().getShellPath();
  if (SystemInfo.isUnix) {
    File rcFile=findRCFile();
    String shellName=getShellName(shellPath);
    if (rcFile != null && (shellName.equals("bash") || shellName.equals("sh"))) {
      myCommand=new String[]{shellPath,"--rcfile",rcFile.getAbsolutePath(),"-i"};
    }
 else     if (hasLoginArgument(shellName)) {
      myCommand=new String[]{shellPath,"--login"};
    }
 else {
      myCommand=shellPath.split(" ");
    }
  }
 else {
    myCommand=new String[]{shellPath};
  }
}
