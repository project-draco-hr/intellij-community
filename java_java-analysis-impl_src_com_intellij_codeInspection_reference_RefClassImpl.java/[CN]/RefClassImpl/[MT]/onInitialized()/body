{
  super.onInitialized();
  PsiClass psiClass=getElement();
  LOG.assertTrue(psiClass != null);
  final PsiClass applet=getRefJavaManager().getApplet();
  boolean isApplet=applet != null && psiClass.isInheritor(applet,true);
  setApplet(isApplet);
  if (!isApplet) {
    final PsiClass servlet=getRefJavaManager().getServlet();
    setServlet(servlet != null && psiClass.isInheritor(servlet,true));
  }
  if (!isApplet() && !isServlet()) {
    final boolean isTestClass=TestFrameworks.getInstance().isTestClass(psiClass);
    setTestCase(isTestClass);
    if (isTestClass) {
      for (      RefClass refBase : getBaseClasses()) {
        ((RefClassImpl)refBase).setTestCase(true);
      }
    }
  }
}
