{
  list.putClientProperty(SwingUtilities2.AA_TEXT_PROPERTY_KEY,AntialiasingType.getAAHintForSwingComponent());
  Component result=myWrappee.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
  if (!myHandler.getExpandedItems().contains(index))   return result;
  Rectangle bounds=result.getBounds();
  ExpandedItemRendererComponentWrapper wrapper=ExpandedItemRendererComponentWrapper.wrap(result);
  if (UIUtil.isClientPropertyTrue(list,ExpandableItemsHandler.EXPANDED_RENDERER)) {
    if (UIUtil.isClientPropertyTrue(result,ExpandableItemsHandler.USE_RENDERER_BOUNDS)) {
      Insets insets=wrapper.getInsets();
      bounds.translate(-insets.left,-insets.top);
      bounds.grow(insets.left + insets.right,insets.top + insets.bottom);
      wrapper.setBounds(bounds);
      UIUtil.putClientProperty(wrapper,ExpandableItemsHandler.USE_RENDERER_BOUNDS,true);
    }
  }
  return wrapper;
}
