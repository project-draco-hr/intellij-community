{
  getCurrentCodeStyleSettings().RIGHT_MARGIN=40;
  getCurrentCodeStyleSettings().ENABLE_JAVADOC_FORMATTING=true;
  getCurrentCodeStyleSettings().WRAP_COMMENTS=true;
  getCurrentCodeStyleSettings().JD_LEADING_ASTERISKS_ARE_ENABLED=true;
  String code="public class Outer {\n" + "    class Inner {\n" + "        /**\n"+ "         * Password from wild forest big house\n"+ "         */\n"+ "        public int getMagic() {\n"+ "            return 312;\n"+ "        }\n"+ "\n"+ "class InnerInner {\n"+ "/**\n"+ " * Special magic needs special rules\n"+ " */\n"+ "public int innerMagic() {\n"+ "    return 1;\n"+ "}\n"+ "}\n"+ "    }\n"+ "}";
  String result="public class Outer {\n" + "    class Inner {\n" + "        /**\n"+ "         * Password from wild forest big\n"+ "         * house\n"+ "         */\n"+ "        public int getMagic() {\n"+ "            return 312;\n"+ "        }\n"+ "\n"+ "        class InnerInner {\n"+ "            /**\n"+ "             * Special magic needs\n"+ "             * special rules\n"+ "             */\n"+ "            public int innerMagic() {\n"+ "                return 1;\n"+ "            }\n"+ "        }\n"+ "    }\n"+ "}";
  doTextTest(code,result);
}
