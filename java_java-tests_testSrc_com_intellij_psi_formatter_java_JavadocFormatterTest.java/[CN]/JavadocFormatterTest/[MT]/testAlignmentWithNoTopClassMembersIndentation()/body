{
  getCurrentCodeStyleSettings().RIGHT_MARGIN=40;
  getCurrentCodeStyleSettings().WRAP_COMMENTS=true;
  getCurrentCodeStyleSettings().JD_LEADING_ASTERISKS_ARE_ENABLED=true;
  getCurrentCodeStyleSettings().getCommonSettings(JavaLanguage.INSTANCE).DO_NOT_INDENT_TOP_LEVEL_CLASS_MEMBERS=true;
  String before="public class Outer {\n" + "class Inner {\n" + "/**\n"+ " * Password from wild forest big\n"+ " * house\n"+ " */\n"+ "public int getMagic() {\n"+ "    return 312;\n"+ "}\n"+ "\n"+ "class InnerInner {\n"+ "/**\n"+ " * Special magic needs special rules\n"+ " */\n"+ "public int innerMagic() {\n"+ "    return 1;\n"+ "}\n"+ "\n"+ "class InnerInnerInner {\n"+ "int iii;\n"+ "class TripleInner {\n"+ "int ti;\n"+ "}\n"+ "}\n"+ "}\n"+ "}\n"+ "    public static void main(String[] args) {\n"+ "        System.out.println(\"AAA!\");\n"+ "    }\n"+ "}";
  String after="public class Outer {\n" + "class Inner {\n" + "    /**\n"+ "     * Password from wild forest big\n"+ "     * house\n"+ "     */\n"+ "    public int getMagic() {\n"+ "        return 312;\n"+ "    }\n"+ "\n"+ "    class InnerInner {\n"+ "        /**\n"+ "         * Special magic needs special\n"+ "         * rules\n"+ "         */\n"+ "        public int innerMagic() {\n"+ "            return 1;\n"+ "        }\n"+ "\n"+ "        class InnerInnerInner {\n"+ "            int iii;\n"+ "\n"+ "            class TripleInner {\n"+ "                int ti;\n"+ "            }\n"+ "        }\n"+ "    }\n"+ "}\n"+ "\n"+ "public static void main(String[] args) {\n"+ "    System.out.println(\"AAA!\");\n"+ "}\n"+ "}";
  doTextTest(before,after);
}
