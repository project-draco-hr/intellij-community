{
  ASTNode astNode=exception.getNode();
  ModuleNode module=exception.getModule();
  if (module == null) {
    module=findModule(astNode);
  }
  String moduleName=module == null ? "<no module>" : module.getDescription();
  int lineNumber=astNode == null ? -1 : astNode.getLineNumber();
  int columnNumber=astNode == null ? -1 : astNode.getColumnNumber();
  collector.add(new CompilerMessage(GroovyCompilerMessageCategories.ERROR,getExceptionMessage(exception),moduleName,lineNumber,columnNumber));
}
