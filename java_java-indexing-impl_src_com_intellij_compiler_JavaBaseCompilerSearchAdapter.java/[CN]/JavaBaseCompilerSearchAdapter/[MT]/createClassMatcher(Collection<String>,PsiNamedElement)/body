{
  boolean matcherBySuperNameAdded=false;
  final List<InternalClassMatcher> matchers=new ArrayList<>(internalNames.size());
  for (  String internalName : internalNames) {
    int curLast=internalName.length() - 1;
    while (true) {
      int lastIndex=internalName.lastIndexOf('$',curLast);
      if (lastIndex > -1 && lastIndex < internalName.length() - 1) {
        final int followingIndex=lastIndex + 1;
        final boolean digit=Character.isDigit(internalName.charAt(followingIndex));
        if (digit) {
          if (curLast == internalName.length() - 1) {
            final int nextNonDigit=getNextNonDigitIndex(internalName,followingIndex);
            if (nextNonDigit == -1) {
              if (matcherBySuperNameAdded) {
                break;
              }
              matcherBySuperNameAdded=true;
              matchers.add(new InternalClassMatcher.BySuperName(baseClass.getName()));
              break;
            }
 else {
              matchers.add(new InternalClassMatcher.ByName(internalName.substring(nextNonDigit)));
            }
          }
 else {
            matchers.add(new InternalClassMatcher.ByName(StringUtil.getShortName(internalName,'$')));
            break;
          }
        }
      }
 else {
        matchers.add(new InternalClassMatcher.ByQualifiedName(StringUtil.replace(internalName,"$",".")));
        break;
      }
      curLast=lastIndex - 1;
    }
  }
  return matchers;
}
