{
  for (  PyTypeProvider typeProvider : Extensions.getExtensions(PyTypeProvider.EP_NAME)) {
    final Ref<PyType> returnTypeRef=typeProvider.getReturnType(this,context);
    if (returnTypeRef != null) {
      return derefType(returnTypeRef,typeProvider);
    }
  }
  if (context.allowReturnTypes(this)) {
    final Ref<? extends PyType> yieldTypeRef=getYieldStatementType(context);
    if (yieldTypeRef != null) {
      return yieldTypeRef.get();
    }
    return getReturnStatementType(context);
  }
  return null;
}
