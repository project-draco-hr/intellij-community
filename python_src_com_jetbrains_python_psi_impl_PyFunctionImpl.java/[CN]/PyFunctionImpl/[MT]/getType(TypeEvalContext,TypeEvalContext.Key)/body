{
  for (  PyTypeProvider provider : Extensions.getExtensions(PyTypeProvider.EP_NAME)) {
    final PyType type=provider.getCallableType(this,context);
    if (type != null) {
      return type;
    }
  }
  final boolean hasCustomDecorators=PyUtil.hasCustomDecorators(this) && !PyUtil.isDecoratedAsAbstract(this) && getProperty() == null;
  final PyType returnType=calculateReturnType(context);
  final PyFunctionType type=new PyFunctionType(this,hasCustomDecorators ? PyUnionType.createWeakType(returnType) : returnType);
  if (hasCustomDecorators) {
    return PyUnionType.createWeakType(type);
  }
  return type;
}
