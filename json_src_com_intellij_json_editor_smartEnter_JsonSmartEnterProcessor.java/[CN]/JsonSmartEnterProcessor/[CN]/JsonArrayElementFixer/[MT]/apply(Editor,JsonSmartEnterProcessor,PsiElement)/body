{
  if (element instanceof JsonValue && element.getParent() instanceof JsonArray) {
    final JsonValue arrayElement=(JsonValue)element;
    if (terminatedOnCurrentLine(editor,arrayElement) && !isFollowedByTerminal(element,COMMA)) {
      editor.getDocument().insertString(arrayElement.getTextRange().getEndOffset(),",");
      processor.myShouldAddNewline=true;
    }
  }
}
