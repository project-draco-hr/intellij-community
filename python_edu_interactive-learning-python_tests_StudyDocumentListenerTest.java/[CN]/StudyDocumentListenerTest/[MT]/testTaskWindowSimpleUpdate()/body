{
  PsiFile psiFile=myFixture.configureByFile("helloworld.py");
  final Document document=myFixture.getDocument(psiFile);
  TaskFile taskFile=new TaskFile();
  List<AnswerPlaceholder> answerPlaceholders=new ArrayList<AnswerPlaceholder>();
  addTaskWindow(answerPlaceholders,0,32,14);
  taskFile.setAnswerPlaceholders(answerPlaceholders);
  StudyDocumentListener listener=new StudyDocumentListener(taskFile);
  document.addDocumentListener(listener);
  CommandProcessor.getInstance().executeCommand(myFixture.getProject(),new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          document.insertString(0,"text");
          FileDocumentManager.getInstance().saveDocument(document);
        }
      }
);
    }
  }
,"x","qwe");
  assertEquals(answerPlaceholders.get(0).getRealStartOffset(document),36);
}
