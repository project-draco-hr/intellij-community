{
  try {
    XmlRpcClient client=new XmlRpcClient(getUrl());
    Vector<String> parameters=new Vector<String>(Collections.singletonList(""));
    XmlRpcRequest request=new XmlRpcRequest("jira1.getServerInfo",parameters);
    @SuppressWarnings("unchecked") Hashtable<String,Object> response=(Hashtable<String,Object>)client.execute(request,new CommonsXmlRpcTransport(new URL(getUrl()),getHttpClient()));
    if (response != null) {
      myJiraVersion=(String)response.get("version");
    }
  }
 catch (  Exception e) {
    LOG.error("Cannot find out JIRA version via XML-RPC",e);
  }
  return new JiraLegacyApi(this);
}
