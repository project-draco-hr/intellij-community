{
  byte[] data=FileUtil.loadFileBytes(new File(getTestDataPath(),"remote.xml"));
  byte[] data2=FileUtil.loadFileBytes(new File(getTestDataPath(),"local.xml"));
  String addedFile="$APP_CONFIG$/remote.xml";
  String addedFile2="$APP_CONFIG$/local.xml";
  getProvider().saveContent(addedFile,data,data.length,RoamingType.PER_USER,false);
  getProvider().saveContent(addedFile2,data2,data2.length,RoamingType.PER_USER,false);
  IndexDiff diff=GitPackage.computeIndexDiff(getRepositoryManager().getRepository());
  assertThat(diff.diff(),equalTo(true));
  assertThat(diff.getAdded(),contains(equalTo(addedFile),equalTo(addedFile2)));
  assertThat(diff.getChanged(),empty());
  assertThat(diff.getRemoved(),empty());
  assertThat(diff.getModified(),empty());
  assertThat(diff.getUntracked(),empty());
  assertThat(diff.getUntrackedFolders(),empty());
}
