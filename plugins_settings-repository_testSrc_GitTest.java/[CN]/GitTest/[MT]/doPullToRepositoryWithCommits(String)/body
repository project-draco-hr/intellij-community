{
  Pair<String,byte[]> file=createLocalRepositoryAndCommit(remoteBranchName);
  BaseRepositoryManager repositoryManager=getRepositoryManager();
  EmptyProgressIndicator progressIndicator=new EmptyProgressIndicator();
  repositoryManager.commit(progressIndicator);
  repositoryManager.pull(progressIndicator);
  assertThat(FileUtil.loadFile(new File(getRepository().getWorkTree(),file.first)),equalTo(new String(file.second,CharsetToolkit.UTF8_CHARSET)));
  compareFiles(getRepository().getWorkTree(),remoteRepository,"crucibleConnector.xml");
}
