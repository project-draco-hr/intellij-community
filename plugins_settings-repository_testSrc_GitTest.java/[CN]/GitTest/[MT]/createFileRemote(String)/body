{
  Repository repository=testWatcher.getRepository(ICS_DIR);
  remoteRepositoryApi=new Git(repository);
  if (branchName != null) {
    remoteRepositoryApi.commit().setMessage("").call();
    remoteRepositoryApi.checkout().setCreateBranch(true).setName(branchName).call();
  }
  String addedFile="$APP_CONFIG$/remote.xml";
  File workTree=repository.getWorkTree();
  FileUtil.copy(new File(getTestDataPath(),"remote.xml"),new File(workTree,addedFile));
  GitPackage.edit(repository,new AddFile(addedFile));
  remoteRepositoryApi.commit().setMessage("").call();
  return workTree;
}
