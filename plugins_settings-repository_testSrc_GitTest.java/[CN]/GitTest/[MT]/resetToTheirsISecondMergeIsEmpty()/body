{
  createLocalRepositoryAndCommit(null);
  sync(SyncType.MERGE);
  remoteRepositoryApi.reset().setMode(ResetCommand.ResetType.HARD).call();
  MockVirtualFileSystem fs=new MockVirtualFileSystem();
  fs.findFileByPath("$APP_CONFIG$/local.xml");
  fs.findFileByPath("$APP_CONFIG$/remote.xml");
  compareFiles(getRepository().getWorkTree(),remoteRepository,fs.findFileByPath(""));
  addAndCommit("_mac/local2.xml");
  sync(SyncType.RESET_TO_THEIRS);
  compareFiles(getRepository().getWorkTree(),remoteRepository,fs.findFileByPath(""));
}
