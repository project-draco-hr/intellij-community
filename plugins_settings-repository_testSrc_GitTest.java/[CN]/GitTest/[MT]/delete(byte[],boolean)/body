{
  String addedFile="$APP_CONFIG$/remote.xml";
  getProvider().saveContent(addedFile,data,data.length,RoamingType.PER_USER,true);
  getProvider().delete(directory ? "$APP_CONFIG$" : addedFile,RoamingType.PER_USER);
  IndexDiff diff=GitPackage.computeIndexDiff(getRepositoryManager().getRepository());
  assertThat(diff.diff(),equalTo(false));
  assertThat(diff.getAdded(),empty());
  assertThat(diff.getChanged(),empty());
  assertThat(diff.getRemoved(),empty());
  assertThat(diff.getModified(),empty());
  assertThat(diff.getUntracked(),empty());
  assertThat(diff.getUntrackedFolders(),empty());
}
