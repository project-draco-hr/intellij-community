{
  if (myCourse == null || file == null) {
    return null;
  }
  VirtualFile taskDir=file.getParent();
  if (taskDir != null) {
    String taskDirName=taskDir.getName();
    if (taskDirName.contains(EduNames.TASK)) {
      VirtualFile lessonDir=taskDir.getParent();
      if (lessonDir != null) {
        String lessonDirName=lessonDir.getName();
        int lessonIndex=EduUtils.getIndex(lessonDirName,EduNames.LESSON);
        List<Lesson> lessons=myCourse.getLessons();
        if (!EduUtils.indexIsValid(lessonIndex,lessons)) {
          return null;
        }
        Lesson lesson=lessons.get(lessonIndex);
        int taskIndex=EduUtils.getIndex(taskDirName,EduNames.TASK);
        List<Task> tasks=lesson.getTaskList();
        if (!EduUtils.indexIsValid(taskIndex,tasks)) {
          return null;
        }
        return tasks.get(taskIndex);
      }
    }
  }
  return null;
}
