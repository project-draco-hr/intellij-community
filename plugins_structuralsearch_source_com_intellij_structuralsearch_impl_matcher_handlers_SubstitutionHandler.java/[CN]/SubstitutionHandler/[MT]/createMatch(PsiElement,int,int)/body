{
  final String image=(match != null) ? MatchingVisitor.getText(match,start,end) : null;
  final SmartPsiPointer ref=new SmartPsiPointer(match);
  final MatchResultImpl result=(myNestedResult != null) ? myNestedResult : new MatchResultImpl(name,image,ref,start,end,target);
  if (myNestedResult != null) {
    myNestedResult.setName(name);
    myNestedResult.setMatchImage(image);
    myNestedResult.setMatchRef(ref);
    myNestedResult.setStart(start);
    myNestedResult.setEnd(end);
    myNestedResult.setTarget(target);
    myNestedResult=null;
  }
  return result;
}
