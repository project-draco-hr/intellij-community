{
  final List<NotificationInfo> notifications=new ArrayList<NotificationInfo>();
  NotificationInfo notification=null;
  for (  String line : StringUtil.splitByLines(text,false)) {
    if (line.length() == 0) {
      if (notification != null) {
        notification=null;
        continue;
      }
    }
    if (line.startsWith("//")) {
      continue;
    }
    if (line.startsWith("--")) {
      break;
    }
    if (notification == null) {
      notification=new NotificationInfo();
      notifications.add(notification);
    }
    if (line.startsWith("GroupID:")) {
      notification.setGroupId(StringUtil.substringAfter(line,":"));
    }
 else     if (line.startsWith("Title:")) {
      notification.setTitle(StringUtil.substringAfter(line,":"));
    }
 else     if (line.startsWith("Content:")) {
      String value=StringUtil.substringAfter(line,":");
      if (value != null) {
        notification.addContent(value);
      }
    }
 else     if (line.startsWith("Subtitle:")) {
      notification.setSubtitle(StringUtil.substringAfter(line,":"));
    }
 else     if (line.startsWith("Actions:")) {
      String value=StringUtil.substringAfter(line,":");
      if (value != null) {
        notification.setActions(StringUtil.split(value,","));
      }
    }
 else     if (line.startsWith("Sticky:")) {
      notification.setSticky("true".equals(StringUtil.substringAfter(line,":")));
    }
 else     if (line.startsWith("Listener:")) {
      notification.setAddListener("true".equals(StringUtil.substringAfter(line,":")));
    }
  }
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      for (      NotificationInfo info : notifications) {
        myMessageBus.syncPublisher(Notifications.TOPIC).notify(info.getNotification());
      }
    }
  }
);
}
