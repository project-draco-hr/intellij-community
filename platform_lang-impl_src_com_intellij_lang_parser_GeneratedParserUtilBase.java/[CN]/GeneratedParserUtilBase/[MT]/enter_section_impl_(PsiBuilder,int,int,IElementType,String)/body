{
  ErrorState state=ErrorState.get(builder);
  state.level++;
  Frame frame=state.FRAMES.alloc().init(builder,state,level,modifiers,elementType,frameName);
  Frame prevFrame=state.currentFrame;
  if (prevFrame != null && prevFrame.errorReportedAt > frame.position) {
    reportError(builder,state,frame,null,true,false);
  }
  if (((frame.modifiers & _LEFT_) | (frame.modifiers & _LEFT_INNER_)) != 0) {
    PsiBuilder.Marker left=(PsiBuilder.Marker)builder.getLatestDoneMarker();
    if (invalid_left_marker_guard_(builder,left,frameName)) {
      frame.leftMarker=left;
    }
  }
  state.currentFrame=frame;
  if ((modifiers & _AND_) != 0) {
    if (state.predicateCount == 0 && !state.predicateSign) {
      throw new AssertionError("Incorrect false predicate sign");
    }
    state.predicateCount++;
  }
 else   if ((modifiers & _NOT_) != 0) {
    state.predicateSign=state.predicateCount != 0 && !state.predicateSign;
    state.predicateCount++;
  }
}
