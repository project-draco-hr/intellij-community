{
  ErrorState state=ErrorState.get(builder);
  Frame frame=state.frameStack.pollLast();
  if (frame == null || level != frame.level) {
    LOG.error("Unbalanced error section: got " + frame + ", expected level "+ level);
    if (frame != null)     state.FRAMES.recycle(frame);
    close_marker_impl_(frame,marker,elementType,result);
    return;
  }
  if (((frame.modifiers & _AND_) | (frame.modifiers & _NOT_)) != 0) {
    close_marker_impl_(frame,marker,null,false);
    state.predicateCount--;
    if ((frame.modifiers & _NOT_) != 0)     state.predicateSign=!state.predicateSign;
    state.FRAMES.recycle(frame);
    return;
  }
  close_frame_impl_(state,frame,builder,marker,elementType,result,pinned);
  exit_section_impl_(state,frame,builder,elementType,result,pinned,eatMore);
  state.FRAMES.recycle(frame);
}
