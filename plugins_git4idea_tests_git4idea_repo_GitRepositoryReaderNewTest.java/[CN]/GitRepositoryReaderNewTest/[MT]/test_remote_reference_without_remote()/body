{
  final String INVALID_REMOTE="invalid-remote";
  final String INVALID_REMOTE_BRANCH="master";
  git("update-ref refs/remotes/" + INVALID_REMOTE + "/"+ INVALID_REMOTE_BRANCH+ " HEAD");
  File gitDir=new File(myRepo.getRoot().getPath(),".git");
  GitRepositoryReader reader=new GitRepositoryReader(gitDir);
  GitConfig config=GitConfig.read(myPlatformFacade,new File(gitDir,"config"));
  Collection<GitRemote> remotes=config.parseRemotes();
  Collection<GitRemoteBranch> remoteBranches=reader.readBranches(remotes).getRemoteBranches();
  assertTrue("Remote branch not found",ContainerUtil.exists(remoteBranches,new Condition<GitRemoteBranch>(){
    @Override public boolean value(    GitRemoteBranch branch){
      return branch.getNameForLocalOperations().equals(INVALID_REMOTE + "/" + INVALID_REMOTE_BRANCH);
    }
  }
));
}
