{
  DomainObjectSet<? extends IdeaContentRoot> contentRoots;
  ModuleExtendedModel moduleExtendedModel=resolverCtx.getExtraProject(gradleModule,ModuleExtendedModel.class);
  if (moduleExtendedModel != null) {
    contentRoots=moduleExtendedModel.getContentRoots();
  }
 else {
    contentRoots=gradleModule.getContentRoots();
  }
  if (contentRoots == null) {
    return;
  }
  for (  IdeaContentRoot gradleContentRoot : contentRoots) {
    if (gradleContentRoot == null)     continue;
    File rootDirectory=gradleContentRoot.getRootDirectory();
    if (rootDirectory == null)     continue;
    ContentRootData ideContentRoot=new ContentRootData(GradleConstants.SYSTEM_ID,rootDirectory.getAbsolutePath());
    ideModule.getData().setModuleFileDirectoryPath(ideContentRoot.getRootPath());
    populateContentRoot(ideContentRoot,ExternalSystemSourceType.SOURCE,gradleContentRoot.getSourceDirectories());
    populateContentRoot(ideContentRoot,ExternalSystemSourceType.TEST,gradleContentRoot.getTestDirectories());
    if (gradleContentRoot instanceof ExtIdeaContentRoot) {
      populateContentRoot(ideContentRoot,ExternalSystemSourceType.RESOURCE,ExtIdeaContentRoot.class.cast(gradleContentRoot).getResourceDirectories());
    }
    Set<File> excluded=gradleContentRoot.getExcludeDirectories();
    if (excluded != null) {
      for (      File file : excluded) {
        ideContentRoot.storePath(ExternalSystemSourceType.EXCLUDED,file.getAbsolutePath());
      }
    }
    ideModule.createChild(ProjectKeys.CONTENT_ROOT,ideContentRoot);
  }
}
