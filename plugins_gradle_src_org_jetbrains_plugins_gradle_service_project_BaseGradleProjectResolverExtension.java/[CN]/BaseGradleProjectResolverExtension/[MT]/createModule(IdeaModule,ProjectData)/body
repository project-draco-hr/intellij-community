{
  final String moduleName=gradleModule.getName();
  if (moduleName == null) {
    throw new IllegalStateException("Module with undefined name detected: " + gradleModule);
  }
  final String moduleConfigPath=GradleUtil.getConfigPath(gradleModule.getGradleProject(),projectData.getLinkedExternalProjectPath());
  ModuleData moduleData=new ModuleData(GradleConstants.SYSTEM_ID,StdModuleTypes.JAVA.getId(),moduleName,moduleConfigPath,moduleConfigPath);
  ModuleExtendedModel moduleExtendedModel=resolverCtx.getExtraProject(gradleModule,ModuleExtendedModel.class);
  if (moduleExtendedModel != null) {
    moduleData.setGroup(moduleExtendedModel.getGroup());
    moduleData.setVersion(moduleExtendedModel.getVersion());
    moduleData.setArtifacts(moduleExtendedModel.getArtifacts());
  }
  return moduleData;
}
