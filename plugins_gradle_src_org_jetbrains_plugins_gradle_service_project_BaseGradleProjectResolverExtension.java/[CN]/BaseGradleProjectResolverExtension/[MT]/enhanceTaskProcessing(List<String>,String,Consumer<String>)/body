{
  if (!StringUtil.isEmpty(debuggerSetup)) {
    final String[] lines={"gradle.taskGraph.beforeTask { Task task ->","    if (task instanceof JavaForkOptions) {","        def jvmArgs = task.jvmArgs.findAll{!it?.startsWith('-agentlib') && !it?.startsWith('-Xrunjdwp')}","        jvmArgs << '" + debuggerSetup.trim() + '\'',"        task.jvmArgs jvmArgs","    }" + "}"};
    final String script=StringUtil.join(lines,SystemProperties.getLineSeparator());
    initScriptConsumer.consume(script);
  }
}
