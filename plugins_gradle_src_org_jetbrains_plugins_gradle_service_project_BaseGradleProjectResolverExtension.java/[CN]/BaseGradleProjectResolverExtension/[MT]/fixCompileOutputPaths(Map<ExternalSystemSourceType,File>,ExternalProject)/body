{
  boolean isInitialProjectDataModified=false;
  final File sourceCompileOutputPath=compileOutputPaths.get(ExternalSystemSourceType.SOURCE);
  if (sourceCompileOutputPath == null) {
    addCompileOutputPath(compileOutputPaths,externalProject,MAIN_SOURCE_SET,ExternalSystemSourceType.SOURCE);
    addCompileOutputPath(compileOutputPaths,externalProject,MAIN_SOURCE_SET,ExternalSystemSourceType.RESOURCE);
  }
 else {
    final ExternalSourceSet mainSourceSet=externalProject.getSourceSets().get(MAIN_SOURCE_SET);
    if (mainSourceSet != null) {
      final ExternalSourceDirectorySet sourceDirectories=mainSourceSet.getSources().get(ExternalSystemSourceType.SOURCE);
      if (sourceDirectories instanceof DefaultExternalSourceDirectorySet) {
        ((DefaultExternalSourceDirectorySet)sourceDirectories).setOutputDir(sourceCompileOutputPath);
        isInitialProjectDataModified=true;
      }
      final ExternalSourceDirectorySet resourceDirectories=mainSourceSet.getSources().get(ExternalSystemSourceType.RESOURCE);
      if (resourceDirectories instanceof DefaultExternalSourceDirectorySet) {
        ((DefaultExternalSourceDirectorySet)resourceDirectories).setOutputDir(sourceCompileOutputPath);
        isInitialProjectDataModified=true;
      }
    }
  }
  final File testCompileOutputPath=compileOutputPaths.get(ExternalSystemSourceType.TEST);
  if (testCompileOutputPath == null) {
    addCompileOutputPath(compileOutputPaths,externalProject,TEST_SOURCE_SET,ExternalSystemSourceType.TEST);
    addCompileOutputPath(compileOutputPaths,externalProject,TEST_SOURCE_SET,ExternalSystemSourceType.TEST_RESOURCE);
  }
 else {
    final ExternalSourceSet testSourceSet=externalProject.getSourceSets().get(TEST_SOURCE_SET);
    if (testSourceSet != null) {
      final ExternalSourceDirectorySet testDirectories=testSourceSet.getSources().get(ExternalSystemSourceType.TEST);
      if (testDirectories instanceof DefaultExternalSourceDirectorySet) {
        ((DefaultExternalSourceDirectorySet)testDirectories).setOutputDir(testCompileOutputPath);
        isInitialProjectDataModified=true;
      }
      final ExternalSourceDirectorySet testResourceDirectories=testSourceSet.getSources().get(ExternalSystemSourceType.TEST_RESOURCE);
      if (testResourceDirectories instanceof DefaultExternalSourceDirectorySet) {
        ((DefaultExternalSourceDirectorySet)testResourceDirectories).setOutputDir(testCompileOutputPath);
        isInitialProjectDataModified=true;
      }
    }
  }
  return isInitialProjectDataModified;
}
