{
  super(delegateLinearGraphController,permanentGraphInfo);
  myCollapsedGraph=CollapsedGraph.newInstance(getDelegateLinearGraphController().getCompiledGraph(),null);
  myLinearFragmentGenerator=new LinearFragmentGenerator(myCollapsedGraph.getCompiledGraph(),new Condition<Integer>(){
    @Override public boolean value(    Integer nodeIndex){
      int nodeId=myCollapsedGraph.getCompiledGraph().getGraphNode(nodeIndex).getNodeId();
      return permanentGraphInfo.getNotCollapsedNodes().value(nodeId);
    }
  }
);
  myFragmentGenerator=new FragmentGenerator(LinearGraphUtils.asLiteLinearGraph(myCollapsedGraph.getCompiledGraph()),new Condition<Integer>(){
    @Override public boolean value(    Integer integer){
      return false;
    }
  }
);
}
