{
  GlobalSearchScope scope=GlobalSearchScope.allScope(project);
  if (scope.contains(forFile))   return forFile;
  Collection<VirtualFile> projectFiles=FilenameIndex.getVirtualFilesByName(project,forFile.getName(),true,scope);
  for (  VirtualFile eachContentFile : projectFiles) {
    if (forFile.equals(eachContentFile.getCanonicalFile()))     return eachContentFile;
  }
  return forFile;
}
