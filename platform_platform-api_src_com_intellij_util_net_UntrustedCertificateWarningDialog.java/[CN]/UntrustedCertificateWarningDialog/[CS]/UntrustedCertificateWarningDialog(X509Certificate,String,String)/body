{
  super((Project)null,false);
  myCertificate=certificate;
  myPath=FileUtil.toCanonicalPath(storePath);
  myPassword=password;
  FormBuilder builder=FormBuilder.createFormBuilder();
  builder=updateBuilderWithTitle(builder,"Issued To");
  builder=updateBuilderWithPrincipalData(builder,myCertificate.getSubjectX500Principal());
  builder=updateBuilderWithTitle(builder,"Issued By");
  builder=updateBuilderWithPrincipalData(builder,myCertificate.getIssuerX500Principal());
  builder=updateBuilderWithTitle(builder,"Validity Period");
  builder=builder.setIndent(IdeBorderFactory.TITLED_BORDER_INDENT).addLabeledComponent("Valid from:",new JBLabel(DATE_FORMAT.format(myCertificate.getNotBefore()))).addLabeledComponent("Valid until:",new JBLabel(DATE_FORMAT.format(myCertificate.getNotAfter())));
  builder=builder.setIndent(0);
  builder=updateBuilderWithTitle(builder,"Fingerprints");
  builder=builder.setIndent(IdeBorderFactory.TITLED_BORDER_INDENT);
  builder=builder.addLabeledComponent("SHA-256:",getTextPane(getSHA256FingerPrint(certificate)));
  builder=builder.addLabeledComponent("SHA-1:",getTextPane(getSHA1FingerPrint(certificate)));
  myCertificateInfoPanel.add(builder.getPanel(),BorderLayout.CENTER);
  setTitle("Untrusted Server's Certificate");
  setOKButtonText("Accept");
  setCancelButtonText("Reject");
  myWarningSign.setIcon(AllIcons.General.WarningDialog);
  Messages.installHyperlinkSupport(myNoticePane);
  myNoticePane.setText(String.format("<html><p><small>" + "Accepted certificate will be saved in truststore <code>%s</code> with password <code>%s</code>" + "</small></p><html>",myPath,myPassword));
  init();
  LOG.debug("Preferred size: " + getPreferredSize());
}
