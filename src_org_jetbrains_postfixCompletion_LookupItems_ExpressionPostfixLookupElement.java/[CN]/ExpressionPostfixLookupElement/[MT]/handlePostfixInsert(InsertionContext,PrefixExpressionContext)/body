{
  Project project=expressionContext.expression.getProject();
  JavaPsiFacade psiFacade=JavaPsiFacade.getInstance(project);
  PsiElementFactory elementFactory=psiFacade.getElementFactory();
  PrefixExpressionContext fixedContext=expressionContext.fixUp();
  PsiExpression exprCopy=(PsiExpression)fixedContext.expression.copy();
  TExpression newExpression=createNewExpression(elementFactory,exprCopy,fixedContext.expression);
  return (TExpression)fixedContext.expression.replace(newExpression);
}
