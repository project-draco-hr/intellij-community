{
  if (isSessionActive()) {
    return false;
  }
  if (e.getID() != KeyEvent.KEY_PRESSED) {
    if (myWaitingForAutoInitSession) {
      cancelWaitingForAutoInit();
    }
    return false;
  }
  if (myQa.getModiferCodes().contains(e.getKeyCode())) {
    if (areAllModifiersPressed(e.getModifiers(),myQa.getModiferCodes())) {
      myWaitingForAutoInitSession=true;
      myAutoInitSessionEvent=e;
      Runnable initRunnable=new Runnable(){
        @Override public void run(){
          IdeFocusManager.getInstance(myProject).doWhenFocusSettlesDown(new Runnable(){
            @Override public void run(){
              if (myWaitingForAutoInitSession) {
                tryToInitSessionFromFocus(null,false);
              }
            }
          }
);
        }
      }
;
      if (myFadingAway.isEmpty()) {
        myInitSessionAlarm.addRequest(initRunnable,Registry.intValue("actionSystem.keyGestureHoldTime"));
      }
 else {
        initRunnable.run();
      }
    }
  }
 else   if (myWaitingForAutoInitSession) {
    cancelWaitingForAutoInit();
  }
  return false;
}
