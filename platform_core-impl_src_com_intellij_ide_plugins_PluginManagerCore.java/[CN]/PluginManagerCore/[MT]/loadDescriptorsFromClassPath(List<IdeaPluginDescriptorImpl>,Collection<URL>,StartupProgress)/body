{
  String platformPrefix=System.getProperty(PlatformUtils.PLATFORM_PREFIX_KEY);
  int i=0;
  for (  URL url : urls) {
    i++;
    if ("file".equals(url.getProtocol())) {
      File file=new File(decodeUrl(url.getFile()));
      final IdeaPluginDescriptorImpl pluginDescriptor=loadDescriptorFromClassPath(file,result,platformPrefix);
      if (pluginDescriptor != null) {
        if (progress != null && !pluginDescriptor.getName().equals(SPECIAL_IDEA_PLUGIN)) {
          progress.showProgress("Plugin loaded: " + pluginDescriptor.getName(),PLUGINS_PROGRESS_MAX_VALUE * (float)i / urls.size());
        }
        continue;
      }
      final String[] referencedJars=ClassPath.loadManifestClasspath(file);
      if (referencedJars != null) {
        for (        String referencedJar : referencedJars) {
          final File referencedFile;
          try {
            referencedFile=new File(new URI(referencedJar));
          }
 catch (          Exception e) {
            continue;
          }
          loadDescriptorFromClassPath(referencedFile,result,platformPrefix);
        }
      }
    }
  }
}
