{
  checkCanLoadPlugins(pluginDescriptors,parentLoader,disabledPluginNames,brokenPluginsList,result);
  String errorMessage=filterBadPlugins(result,disabledPluginNames);
  if (!brokenPluginsList.isEmpty()) {
    if (!StringUtil.isEmptyOrSpaces(errorMessage)) {
      errorMessage+="<br>";
    }
    errorMessage+="Following plugins are incompatible with current IDE build: " + StringUtil.join(brokenPluginsList,", ") + "<br>\n"+ StringUtil.notNullize(errorMessage);
  }
  fixDependencies(result,idToDescriptorMap);
  return errorMessage;
}
