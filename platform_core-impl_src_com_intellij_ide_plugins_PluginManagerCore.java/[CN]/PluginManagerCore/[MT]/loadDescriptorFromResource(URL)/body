{
  try {
    if (URLUtil.FILE_PROTOCOL.equals(resource.getProtocol())) {
      File descriptorFile=urlToFile(resource);
      File pluginDir=descriptorFile.getParentFile().getParentFile();
      return loadDescriptor(pluginDir,descriptorFile.getName());
    }
 else     if (URLUtil.JAR_PROTOCOL.equals(resource.getProtocol())) {
      String path=resource.getFile();
      File pluginJar=urlToFile(new URL(path.substring(0,path.indexOf(URLUtil.JAR_SEPARATOR))));
      return loadDescriptor(pluginJar,PathUtil.getFileName(path));
    }
  }
 catch (  Throwable e) {
    getLogger().info("Cannot load " + resource,e);
  }
  return null;
}
