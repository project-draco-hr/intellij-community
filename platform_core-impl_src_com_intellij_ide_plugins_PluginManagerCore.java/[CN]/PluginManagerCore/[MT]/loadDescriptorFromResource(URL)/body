{
  try {
    if (URLUtil.FILE_PROTOCOL.equals(resource.getProtocol())) {
      File descriptorFile=new File(resource.toURI());
      File pluginDir=descriptorFile.getParentFile().getParentFile();
      return loadDescriptor(pluginDir,descriptorFile.getName());
    }
 else     if (URLUtil.JAR_PROTOCOL.equals(resource.getProtocol())) {
      String path=resource.getFile();
      File pluginJar=new File(new URL(path.substring(0,path.indexOf(URLUtil.JAR_SEPARATOR))).toURI());
      return loadDescriptor(pluginJar,PathUtil.getFileName(path));
    }
  }
 catch (  Throwable e) {
    getLogger().info("Cannot load " + resource,e);
  }
  return null;
}
