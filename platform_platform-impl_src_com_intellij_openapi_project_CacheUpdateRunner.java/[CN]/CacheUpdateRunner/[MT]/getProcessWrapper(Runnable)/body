{
  return ApplicationManager.getApplication().isReadAccessAllowed() ? new Runnable(){
    @Override public void run(){
      ApplicationImpl.setExceptionalThreadWithReadAccessFlag(true);
      try {
        process.run();
      }
  finally {
        ApplicationImpl.setExceptionalThreadWithReadAccessFlag(false);
      }
    }
  }
 : process;
}
