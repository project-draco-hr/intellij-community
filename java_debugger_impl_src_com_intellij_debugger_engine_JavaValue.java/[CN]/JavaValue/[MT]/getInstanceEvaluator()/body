{
  return new XInstanceEvaluator(){
    @Override public void evaluate(    @NotNull final XDebuggerEvaluator.XEvaluationCallback callback,    @NotNull final XStackFrame frame){
      myDebuggerManagerThread.schedule(new DebuggerCommandImpl(){
        @Override protected void action() throws Exception {
          ValueDescriptorImpl inspectDescriptor=myValueDescriptor;
          if (myValueDescriptor instanceof WatchItemDescriptor) {
            inspectDescriptor=(ValueDescriptorImpl)((WatchItemDescriptor)myValueDescriptor).getModifier().getInspectItem(getProject());
          }
          EvaluationContextImpl evaluationContext=((JavaStackFrame)frame).getFrameDebuggerContext().createEvaluationContext();
          if (evaluationContext != null) {
            callback.evaluated(create(inspectDescriptor,evaluationContext,myNodeManager));
          }
 else {
            callback.errorOccurred("Context is not available");
          }
        }
      }
);
    }
  }
;
}
