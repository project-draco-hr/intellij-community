{
  myEvaluationContext.getManagerThread().schedule(new SuspendContextCommandImpl(myEvaluationContext.getSuspendContext()){
    @Override public Priority getPriority(){
      return Priority.NORMAL;
    }
    @Override protected void commandCancelled(){
      navigatable.setSourcePosition(null);
    }
    @Override public void contextAction() throws Exception {
      ApplicationManager.getApplication().runReadAction(new Runnable(){
        @Override public void run(){
          final boolean nearest=navigatable instanceof XNearestSourcePosition;
          if (myValueDescriptor instanceof FieldDescriptorImpl) {
            SourcePosition position=((FieldDescriptorImpl)myValueDescriptor).getSourcePosition(getProject(),getDebuggerContext(),nearest);
            if (position != null) {
              navigatable.setSourcePosition(DebuggerUtilsEx.toXSourcePosition(position));
            }
          }
          if (myValueDescriptor instanceof LocalVariableDescriptorImpl) {
            SourcePosition position=((LocalVariableDescriptorImpl)myValueDescriptor).getSourcePosition(getProject(),getDebuggerContext(),nearest);
            if (position != null) {
              navigatable.setSourcePosition(DebuggerUtilsEx.toXSourcePosition(position));
            }
          }
        }
      }
);
    }
  }
);
}
