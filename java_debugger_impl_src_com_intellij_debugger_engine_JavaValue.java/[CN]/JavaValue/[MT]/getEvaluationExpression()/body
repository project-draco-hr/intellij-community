{
  if (evaluationExpression == null) {
    final DebuggerContextImpl debuggerContext=DebuggerManagerEx.getInstanceEx(getProject()).getContext();
    DebugProcessImpl debugProcess=myEvaluationContext.getDebugProcess();
    debugProcess.getManagerThread().invokeAndWait(new DebuggerCommandImpl(){
      @Override protected void action() throws Exception {
        evaluationExpression=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
          @Override public String compute(){
            try {
              return new TextWithImportsImpl(getDescriptor().getTreeEvaluation(JavaValue.this,debuggerContext)).getText();
            }
 catch (            EvaluateException e) {
              e.printStackTrace();
            }
            return null;
          }
        }
);
      }
    }
);
  }
  return evaluationExpression;
}
