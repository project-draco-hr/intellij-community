{
  myPasswordConsumer=passwordConsumer;
  String note;
  if (SystemInfo.isMacIntel64 && SystemInfo.isMacOSLeopard) {
    note="The passwords will be stored in the system MacOS keychain.";
  }
 else   if (SystemInfo.isLinux) {
    note="The passwords will be stored in the system keychain using Secret Service API.";
  }
 else   if (SystemInfo.isWindows) {
    note="The passwords will be stored in the KeePass database protected by your Windows account.";
  }
 else {
    String subNote=SystemInfo.isMacIntel64 ? "at least OS X 10.5 is required" : "your OS is not supported, please file issue";
    note="The passwords will be stored in IDE configuration files with weak protection (" + subNote + ").";
  }
  myPromptLabel.setText("<html>Master password is required to convert saved passwords.<br><br>" + note + "</html>");
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    myPasswordField.setText("pass");
  }
}
