{
  final Number newValue;
  if ((value instanceof Float) || (value instanceof Double)) {
    final double v=value.doubleValue() + (stepSize.doubleValue() * (double)steps);
    newValue=value instanceof Double ? new Double(v) : new Float(v);
  }
 else {
    final long v=value.longValue() + (stepSize.longValue() * (long)steps);
    if (value instanceof Long) {
      newValue=Long.valueOf(v);
    }
 else     if (value instanceof Integer) {
      newValue=Integer.valueOf((int)v);
    }
 else     if (value instanceof Short) {
      newValue=Short.valueOf((short)v);
    }
 else {
      newValue=Byte.valueOf((byte)v);
    }
  }
  if ((maximum != null) && (maximum.compareTo(newValue) < 0) || (minimum != null) && (minimum.compareTo(newValue) > 0)) {
    return null;
  }
  return newValue;
}
