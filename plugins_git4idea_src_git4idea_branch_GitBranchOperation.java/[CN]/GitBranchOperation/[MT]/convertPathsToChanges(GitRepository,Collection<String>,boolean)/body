{
  List<Change> affectedChanges=new ArrayList<Change>();
  for (  String path : affectedPaths) {
    String absolutePath=relativePaths ? joinPaths(repository.getRoot(),path) : path;
    VirtualFile file=LocalFileSystem.getInstance().findFileByPath(absolutePath);
    if (file == null) {
      file=LocalFileSystem.getInstance().refreshAndFindFileByPath(absolutePath);
    }
    if (file != null) {
      Change change=myFacade.getChangeListManager(myProject).getChange(file);
      if (change != null) {
        affectedChanges.add(change);
      }
 else {
        LOG.warn("Change is not found for " + file.getPath());
      }
    }
 else {
      LOG.warn("VirtualFile not found for " + path);
    }
  }
  return affectedChanges;
}
