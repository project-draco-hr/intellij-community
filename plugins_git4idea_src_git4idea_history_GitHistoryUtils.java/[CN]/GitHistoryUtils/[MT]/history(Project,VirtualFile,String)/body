{
  final List<GitHeavyCommit> commits=new ArrayList<GitHeavyCommit>();
  final Semaphore semaphore=new Semaphore();
  semaphore.down();
  historyWithLinks(project,new FilePathImpl(root),null,new AsynchConsumer<GitHeavyCommit>(){
    @Override public void finished(){
      semaphore.up();
    }
    @Override public void consume(    GitHeavyCommit gitCommit){
      commits.add(gitCommit);
    }
  }
,null,null,false,parameters);
  semaphore.waitFor();
  return commits;
}
