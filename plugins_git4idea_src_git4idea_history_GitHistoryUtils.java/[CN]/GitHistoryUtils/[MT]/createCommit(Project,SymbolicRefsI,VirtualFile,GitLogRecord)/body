{
  final Collection<String> currentRefs=record.getRefs();
  List<String> locals=new ArrayList<String>();
  List<String> remotes=new ArrayList<String>();
  List<String> tags=new ArrayList<String>();
  final String s=parseRefs(refs,currentRefs,locals,remotes,tags);
  GitHeavyCommit gitCommit=new GitHeavyCommit(root,AbstractHash.create(record.getHash()),new SHAHash(record.getHash()),record.getAuthorName(),record.getCommitterName(),record.getDate(),record.getSubject(),record.getFullMessage(),new HashSet<String>(Arrays.asList(record.getParentsHashes())),record.getFilePaths(root),record.getAuthorEmail(),record.getCommitterEmail(),tags,locals,remotes,record.parseChanges(project,root),record.getAuthorTimeStamp());
  gitCommit.setCurrentBranch(s);
  return gitCommit;
}
