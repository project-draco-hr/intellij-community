{
  List<GitLogRecord> rec=parser.parse(record.toString());
  return ContainerUtil.mapNotNull(rec,new Function<GitLogRecord,TimedVcsCommit>(){
    @Override public TimedVcsCommit fun(    GitLogRecord record){
      if (record == null) {
        return null;
      }
      Pair<TimedVcsCommit,Collection<VcsRef>> pair=convert(record,factory,root);
      TimedVcsCommit commit=pair.first;
      for (      VcsRef ref : pair.second) {
        refConsumer.consume(ref);
      }
      userRegistry.consume(factory.createUser(record.getAuthorName(),record.getAuthorEmail()));
      return commit;
    }
  }
);
}
