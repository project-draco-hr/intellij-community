{
  final VcsLogObjectsFactory factory=getObjectsFactoryWithDisposeCheck(project);
  if (factory == null) {
    return Collections.emptyList();
  }
  GitSimpleHandler h=new GitSimpleHandler(project,root,GitCommand.LOG);
  GitLogParser parser=new GitLogParser(project,GitLogParser.NameStatus.NONE,HASH,PARENTS,AUTHOR_NAME,AUTHOR_EMAIL,COMMIT_TIME,SUBJECT,COMMITTER_NAME,COMMITTER_EMAIL,AUTHOR_TIME);
  h.setSilent(true);
  h.addParameters("--no-walk");
  h.addParameters(parser.getPretty(),"--encoding=UTF-8");
  h.addParameters(new ArrayList<String>(hashes));
  h.endOptions();
  String output=h.run();
  List<GitLogRecord> records=parser.parse(output);
  return ContainerUtil.map(records,new Function<GitLogRecord,VcsShortCommitDetails>(){
    @Override public VcsShortCommitDetails fun(    GitLogRecord record){
      List<Hash> parents=new SmartList<Hash>();
      for (      String parent : record.getParentsHashes()) {
        parents.add(HashImpl.build(parent));
      }
      return factory.createShortDetails(HashImpl.build(record.getHash()),parents,record.getCommitTime(),root,record.getSubject(),record.getAuthorName(),record.getAuthorEmail(),record.getCommitterName(),record.getCommitterEmail(),record.getAuthorTimeStamp());
    }
  }
);
}
