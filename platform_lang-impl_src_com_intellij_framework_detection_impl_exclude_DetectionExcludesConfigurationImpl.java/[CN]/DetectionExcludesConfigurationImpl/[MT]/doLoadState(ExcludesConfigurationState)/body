{
  myExcludedFrameworks.clear();
  for (  VirtualFilePointerContainer container : myExcludedFiles.values()) {
    container.clear();
  }
  myDetectionEnabled=state == null || state.isDetectionEnabled();
  if (state != null) {
    myExcludedFrameworks.addAll(state.getFrameworkTypes());
    for (    ExcludedFileState fileState : state.getFiles()) {
      myExcludedFiles.get(fileState.getFrameworkType()).add(fileState.getUrl());
    }
  }
}
