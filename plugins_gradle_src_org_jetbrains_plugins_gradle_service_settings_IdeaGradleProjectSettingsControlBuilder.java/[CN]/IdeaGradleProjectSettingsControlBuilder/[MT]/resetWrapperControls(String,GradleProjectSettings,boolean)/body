{
  if (StringUtil.isEmpty(linkedProjectPath) && !isDefaultModuleCreation) {
    if (myUseLocalDistributionButton != null) {
      myUseLocalDistributionButton.setSelected(true);
    }
    if (myGradleHomePathField != null) {
      myGradleHomePathField.setEnabled(true);
    }
    return;
  }
  final boolean isGradleDefaultWrapperFilesExist=GradleUtil.isGradleDefaultWrapperFilesExist(linkedProjectPath);
  if (myUseWrapperButton != null && (isGradleDefaultWrapperFilesExist || isDefaultModuleCreation)) {
    myUseWrapperButton.setEnabled(true);
    myUseWrapperButton.setSelected(true);
    if (myGradleHomePathField != null) {
      myGradleHomePathField.setEnabled(false);
    }
    myUseWrapperButton.setText(GradleBundle.message("gradle.settings.text.use.default_wrapper.configured"));
  }
 else {
    if (myUseWrapperButton != null) {
      myUseWrapperButton.setEnabled(false);
      myUseWrapperButton.setText(GradleBundle.message("gradle.settings.text.use.default_wrapper.not_configured"));
    }
    if (myUseLocalDistributionButton != null) {
      myUseLocalDistributionButton.setSelected(true);
    }
    if (myGradleHomePathField != null) {
      myGradleHomePathField.setEnabled(true);
    }
  }
  if (settings.getDistributionType() == null) {
    return;
  }
switch (settings.getDistributionType()) {
case LOCAL:
    if (myGradleHomePathField != null) {
      myGradleHomePathField.setEnabled(true);
    }
  if (myUseLocalDistributionButton != null) {
    myUseLocalDistributionButton.setSelected(true);
  }
break;
case DEFAULT_WRAPPED:
if (isGradleDefaultWrapperFilesExist) {
if (myGradleHomePathField != null) {
  myGradleHomePathField.setEnabled(false);
}
if (myUseWrapperButton != null) {
  myUseWrapperButton.setSelected(true);
  myUseWrapperButton.setEnabled(true);
}
}
break;
case WRAPPED:
if (myGradleHomePathField != null) {
myGradleHomePathField.setEnabled(false);
}
if (myUseWrapperWithVerificationButton != null) {
myUseWrapperWithVerificationButton.setSelected(true);
}
break;
case BUNDLED:
if (myGradleHomePathField != null) {
myGradleHomePathField.setEnabled(false);
}
if (myUseBundledDistributionButton != null) {
myUseBundledDistributionButton.setSelected(true);
}
break;
}
}
