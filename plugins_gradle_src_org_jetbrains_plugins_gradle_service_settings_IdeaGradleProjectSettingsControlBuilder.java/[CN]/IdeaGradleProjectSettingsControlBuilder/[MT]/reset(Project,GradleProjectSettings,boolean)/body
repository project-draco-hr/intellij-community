{
  String gradleHome=settings.getGradleHome();
  if (myGradleHomePathField != null) {
    myGradleHomePathField.setText(gradleHome == null ? "" : gradleHome);
    myGradleHomePathField.getTextField().setForeground(LocationSettingType.EXPLICIT_CORRECT.getColor());
  }
  resetGradleJdkComboBox(project,settings);
  resetWrapperControls(settings.getExternalProjectPath(),settings,isDefaultModuleCreation);
  if (myUseLocalDistributionButton != null && !myUseLocalDistributionButton.isSelected()) {
    myGradleHomePathField.setEnabled(false);
    return;
  }
  if (StringUtil.isEmpty(gradleHome)) {
    myGradleHomeSettingType=LocationSettingType.UNKNOWN;
    deduceGradleHomeIfPossible();
  }
 else {
    myGradleHomeSettingType=myInstallationManager.isGradleSdkHome(new File(gradleHome)) ? LocationSettingType.EXPLICIT_CORRECT : LocationSettingType.EXPLICIT_INCORRECT;
    myAlarm.cancelAllRequests();
    if (myGradleHomeSettingType == LocationSettingType.EXPLICIT_INCORRECT && settings.getDistributionType() == DistributionType.LOCAL) {
      new DelayedBalloonInfo(MessageType.ERROR,myGradleHomeSettingType,0).run();
    }
  }
}
