{
  final PsiExpression qualifier=referenceExpression.getQualifierExpression();
  if (qualifier != null) {
    checkExpression(qualifier,definiteAssignment,value);
  }
  if (!definiteAssignment.getVariable().equals(referenceExpression.resolve())) {
    return;
  }
  if (PsiUtil.isAccessedForWriting(referenceExpression)) {
    definiteAssignment.assign(referenceExpression,false);
  }
 else {
    if (qualifier != null) {
      if (!(qualifier instanceof PsiThisExpression)) {
        return;
      }
      final PsiThisExpression thisExpression=(PsiThisExpression)qualifier;
      if (thisExpression.getQualifier() != null) {
        return;
      }
    }
    definiteAssignment.valueAccess(referenceExpression);
  }
}
