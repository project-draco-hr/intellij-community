{
  final boolean da=definiteAssignment.isDefinitelyAssigned();
  final PsiResourceList resourceList=tryStatement.getResourceList();
  if (resourceList != null) {
    for (    PsiResourceListElement element : resourceList) {
      if (element instanceof PsiResourceExpression) {
        final PsiResourceExpression resourceExpression=(PsiResourceExpression)element;
        checkExpression(resourceExpression.getExpression(),definiteAssignment,BooleanExpressionValue.UNDEFINED);
      }
 else       if (element instanceof PsiResourceVariable) {
        final PsiResourceVariable resourceVariable=(PsiResourceVariable)element;
        checkExpression(resourceVariable.getInitializer(),definiteAssignment,BooleanExpressionValue.UNDEFINED);
      }
 else {
        throw new AssertionError();
      }
    }
  }
  checkCodeBlock(tryStatement.getTryBlock(),definiteAssignment);
  final boolean du=definiteAssignment.isDefinitelyUnassigned();
  boolean resultDa=definiteAssignment.isDefinitelyAssigned();
  boolean resultDu=du;
  for (  PsiCodeBlock catchBlock : tryStatement.getCatchBlocks()) {
    definiteAssignment.set(da,du);
    checkCodeBlock(catchBlock,definiteAssignment);
    resultDu&=definiteAssignment.isDefinitelyUnassigned();
    resultDa&=definiteAssignment.isDefinitelyAssigned();
  }
  final PsiCodeBlock finallyBlock=tryStatement.getFinallyBlock();
  if (finallyBlock != null) {
    definiteAssignment.set(da,definiteAssignment.isDefinitelyUnassigned());
    checkCodeBlock(finallyBlock,definiteAssignment);
    resultDu&=definiteAssignment.isDefinitelyUnassigned();
  }
  definiteAssignment.set(resultDa | definiteAssignment.isDefinitelyAssigned(),resultDu);
}
