{
  if (expression == null || definiteAssignment.stop()) {
    return;
  }
  if (PsiType.BOOLEAN.equals(expression.getType())) {
    final Object result=ExpressionUtils.computeConstantExpression(expression);
    if (result != null) {
      if (Boolean.TRUE == result && BooleanExpressionValue.WHEN_FALSE == value || Boolean.FALSE == result && BooleanExpressionValue.WHEN_TRUE == value) {
        definiteAssignment.set(true,true);
      }
      return;
    }
  }
  if (expression instanceof PsiArrayAccessExpression) {
    final PsiArrayAccessExpression arrayAccessExpression=(PsiArrayAccessExpression)expression;
    checkArrayAccessExpression(arrayAccessExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiArrayInitializerExpression) {
    final PsiArrayInitializerExpression arrayInitializerExpression=(PsiArrayInitializerExpression)expression;
    checkArrayInitializerExpression(arrayInitializerExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiAssignmentExpression) {
    final PsiAssignmentExpression assignmentExpression=(PsiAssignmentExpression)expression;
    checkAssignmentExpression(assignmentExpression,definiteAssignment);
  }
 else   if (expression instanceof PsiConditionalExpression) {
    final PsiConditionalExpression conditionalExpression=(PsiConditionalExpression)expression;
    checkConditionalExpression(conditionalExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiInstanceOfExpression) {
    final PsiInstanceOfExpression instanceOfExpression=(PsiInstanceOfExpression)expression;
    checkExpression(instanceOfExpression.getOperand(),definiteAssignment,value);
  }
 else   if (expression instanceof PsiLambdaExpression) {
    final PsiLambdaExpression lambdaExpression=(PsiLambdaExpression)expression;
    final boolean du=definiteAssignment.isDefinitelyUnassigned();
    definiteAssignment.set(definiteAssignment.isDefinitelyAssigned(),false);
    checkLambdaExpression(lambdaExpression,definiteAssignment);
    definiteAssignment.set(definiteAssignment.isDefinitelyAssigned(),du);
  }
 else   if (expression instanceof PsiMethodCallExpression) {
    final PsiMethodCallExpression methodCallExpression=(PsiMethodCallExpression)expression;
    checkMethodCallExpression(methodCallExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiNewExpression) {
    final PsiNewExpression newExpression=(PsiNewExpression)expression;
    checkNewExpression(newExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)expression;
    checkExpression(parenthesizedExpression.getExpression(),definiteAssignment,value);
  }
 else   if (expression instanceof PsiPolyadicExpression) {
    final PsiPolyadicExpression polyadicExpression=(PsiPolyadicExpression)expression;
    checkPolyadicExpression(polyadicExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiPostfixExpression) {
    final PsiPostfixExpression postfixExpression=(PsiPostfixExpression)expression;
    checkPostFixExpression(postfixExpression,definiteAssignment);
  }
 else   if (expression instanceof PsiPrefixExpression) {
    final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)expression;
    checkPrefixExpression(prefixExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiReferenceExpression) {
    final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)expression;
    checkReferenceExpression(referenceExpression,definiteAssignment,value);
  }
 else   if (expression instanceof PsiTypeCastExpression) {
    final PsiTypeCastExpression typeCastExpression=(PsiTypeCastExpression)expression;
    checkExpression(typeCastExpression.getOperand(),definiteAssignment,value);
  }
}
