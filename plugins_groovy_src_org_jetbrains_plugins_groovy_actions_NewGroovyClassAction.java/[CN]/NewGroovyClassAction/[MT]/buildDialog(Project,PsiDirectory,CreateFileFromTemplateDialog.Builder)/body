{
  builder.setTitle(GroovyBundle.message("newclass.dlg.title")).addKind("Class",JetgroovyIcons.Groovy.Class,GroovyTemplates.GROOVY_CLASS).addKind("Interface",JetgroovyIcons.Groovy.Interface,GroovyTemplates.GROOVY_INTERFACE);
  if (GroovyConfigUtils.getInstance().isVersionAtLeast(directory,GroovyConfigUtils.GROOVY2_3,true)) {
    builder.addKind("Trait",JetgroovyIcons.Groovy.Trait,GroovyTemplates.GROOVY_TRAIT);
  }
  builder.addKind("Enum",JetgroovyIcons.Groovy.Enum,GroovyTemplates.GROOVY_ENUM).addKind("Annotation",JetgroovyIcons.Groovy.AnnotationType,GroovyTemplates.GROOVY_ANNOTATION);
  for (  FileTemplate template : FileTemplateManager.getInstance(project).getAllTemplates()) {
    FileType fileType=FileTypeManagerEx.getInstanceEx().getFileTypeByExtension(template.getExtension());
    if (fileType.equals(GroovyFileType.GROOVY_FILE_TYPE) && JavaDirectoryService.getInstance().getPackage(directory) != null) {
      builder.addKind(template.getName(),JetgroovyIcons.Groovy.Class,template.getName());
    }
  }
}
