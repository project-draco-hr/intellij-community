{
  super(project,true);
  myProject=project;
  myParentClass=parentClass;
  myInitializerExpression=initializerExpression;
  myLocalVariable=localVariable;
  myInvokedOnDeclaration=isInvokedOnDeclaration;
  myOccurrences=occurrences;
  myEnteredName=enteredName;
  myOccurrencesCount=occurrences.length;
  myTargetClass=targetClass;
  myTypeSelectorManager=typeSelectorManager;
  myDestinationClass=null;
  setTitle(IntroduceConstantHandler.REFACTORING_NAME);
  myCodeStyleManager=JavaCodeStyleManager.getInstance(myProject);
  myVPanel=new JavaVisibilityPanel(false,true);
  myVisibilityPanel.add(myVPanel,BorderLayout.CENTER);
  init();
  String initialVisibility=JavaRefactoringSettings.getInstance().INTRODUCE_CONSTANT_VISIBILITY;
  if (initialVisibility == null) {
    initialVisibility=PsiModifier.PUBLIC;
  }
  myVPanel.setVisibility(initialVisibility);
  myIntroduceEnumConstantCb.setEnabled(isSuitableForEnumConstant());
  updateVisibilityPanel();
  updateButtons();
}
