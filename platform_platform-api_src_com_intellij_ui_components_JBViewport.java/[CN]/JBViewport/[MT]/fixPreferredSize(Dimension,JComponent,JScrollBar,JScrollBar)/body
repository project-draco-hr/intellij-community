{
  if (!view.isPreferredSizeSet()) {
    Border border=view.getBorder();
    if (border instanceof ViewBorder) {
      Alignment va=getAlignment(vsb);
      if (va == Alignment.LEFT || va == Alignment.RIGHT && isAlignmentNeeded(view)) {
        size.width-=vsb.getWidth();
      }
      Alignment ha=getAlignment(hsb);
      if (ha == Alignment.TOP || ha == Alignment.BOTTOM && isAlignmentNeeded(view)) {
        size.height-=hsb.getHeight();
      }
    }
  }
}
