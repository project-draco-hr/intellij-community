{
  if (myVFile != null) {
    ApplicationManager.getApplication().runWriteAction(new ThrowableComputable<Void,IOException>(){
      @Override public Void compute() throws IOException {
        PsiDocumentManager.getInstance(ourProject).commitAllDocuments();
        FileEditorManager.getInstance(ourProject).closeFile(myVFile);
        myVFile.delete(this);
        return null;
      }
    }
);
  }
}
