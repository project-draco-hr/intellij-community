{
  if (!(attributeDescriptor instanceof RainbowAttributeDescriptor))   return;
  RainbowAttributeDescriptor descriptor=(RainbowAttributeDescriptor)attributeDescriptor;
  List<Pair<Boolean,Color>> rainbowCurState=descriptor.getRainbowCurState();
  if (rainbowCurState.size() < myCbStops.length)   return;
  myRainbow.setSelected(myGlobalState.isRainbowOn);
  boolean isEnable=!ColorAndFontOptions.isReadOnly(attributeDescriptor.getScheme()) && myGlobalState.isRainbowOn;
  for (int i=0; i < myCbStops.length; ++i) {
    Pair<Boolean,Color> state=rainbowCurState.get(i);
    myCbStops[i].setEnabled(isEnable);
    boolean isOverride=state.first;
    myCbStops[i].setSelected(isOverride);
    myStops[i].setEditable(isEnable && isOverride);
    myStops[i].setSelectedColor(state.second);
  }
}
