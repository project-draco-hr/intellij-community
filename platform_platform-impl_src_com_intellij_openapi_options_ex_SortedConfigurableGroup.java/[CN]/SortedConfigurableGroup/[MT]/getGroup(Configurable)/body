{
  SortedConfigurableGroup root=new SortedConfigurableGroup("root");
  HashMap<String,SortedConfigurableGroup> map=new HashMap<String,SortedConfigurableGroup>();
  map.put("root",root);
  for (  Configurable configurable : configurables) {
    int weight=0;
    String groupId=null;
    if (configurable instanceof ConfigurableWrapper) {
      ConfigurableWrapper wrapper=(ConfigurableWrapper)configurable;
      weight=wrapper.getExtensionPoint().groupWeight;
      groupId=wrapper.getExtensionPoint().groupId;
    }
    SortedConfigurableGroup composite=map.get(groupId);
    if (composite == null) {
      composite=new SortedConfigurableGroup(groupId);
      map.put(groupId,composite);
    }
    composite.add(weight,configurable);
  }
  root.add(60,map.remove("appearance"));
  root.add(50,map.remove("editor"));
  root.add(40,map.remove("project"));
  SortedConfigurableGroup build=map.remove("build");
  if (build == null) {
    build=map.remove("build.tools");
  }
 else {
    build.add(1000,map.remove("build.tools"));
  }
  root.add(30,build);
  root.add(20,map.remove("language"));
  root.add(10,map.remove("tools"));
  root.add(-10,map.remove(null));
  if (1 < map.size()) {
    for (    SortedConfigurableGroup group : map.values()) {
      if (root != group) {
        group.myDisplayName="Category: " + group.myGroupId;
        root.add(0,group);
      }
    }
  }
  return root;
}
