{
  if (dirs.length != 0) {
    final List<VirtualFile> result=new ArrayList<VirtualFile>();
    for (    PsiDirectory dir : dirs) {
      final PsiDirectory parent=dir.getParentDirectory();
      if (parent != null)       result.add(parent.getVirtualFile());
    }
    return result;
  }
 else {
    ModuleRootManager rootManager=ModuleRootManager.getInstance(module);
    List<VirtualFile> resourceRoots=rootManager.getSourceRoots(JavaResourceRootType.RESOURCE);
    if (!resourceRoots.isEmpty()) {
      return resourceRoots;
    }
    return rootManager.getSourceRoots(JavaModuleSourceRootTypes.SOURCES);
  }
}
