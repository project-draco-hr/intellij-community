{
  if (isFromIDEAProject(ideaSdk.getHomePath()))   return JavaSdkVersion.JDK_1_8;
  File apiJar=getOpenApiJar(ideaSdk.getHomePath());
  int classFileVersion=apiJar == null ? -1 : getIdeaClassFileVersion(apiJar);
  LanguageLevel languageLevel=classFileVersion <= 0 ? null : ClsParsingUtil.getLanguageLevelByVersion(classFileVersion);
  return languageLevel != null ? JavaSdkVersion.fromLanguageLevel(languageLevel) : null;
}
