{
  if (namespace == null) {
    return getAttributeValue(_name);
  }
  XmlTagImpl current=this;
  while (true) {
    BidirectionalMap<String,String> map=current.getNamespaceMap();
    if (map != null) {
      List<String> keysByValue=map.getKeysByValue(namespace);
      if (keysByValue != null && !keysByValue.isEmpty()) {
        for (        String prefix : keysByValue) {
          if (prefix != null && !prefix.isEmpty()) {
            final String value=getAttributeValue(prefix + ":" + _name);
            if (value != null)             return value;
          }
        }
      }
    }
    PsiElement parent=current.getParent();
    if (!(parent instanceof XmlTag)) {
      break;
    }
    current=(XmlTagImpl)parent;
  }
  if (namespace.isEmpty() || getNamespace().equals(namespace)) {
    return getAttributeValue(_name);
  }
  return null;
}
