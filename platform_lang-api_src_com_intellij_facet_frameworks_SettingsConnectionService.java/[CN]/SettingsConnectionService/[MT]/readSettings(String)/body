{
  Map<String,String> settings=ContainerUtil.newLinkedHashMap();
  try {
    URL url=new URL(getSettingsUrl());
    String text=FileUtil.loadTextAndClose(getStream(url));
    try {
      Document document=JDOMUtil.loadDocument(text);
      Element root=document.getRootElement();
      for (      String s : attributes) {
        String attributeValue=root.getAttributeValue(s);
        if (StringUtil.isNotEmpty(attributeValue)) {
          settings.put(s,attributeValue);
        }
      }
    }
 catch (    JDOMException e) {
      LOG.error("",e,text);
    }
  }
 catch (  MalformedURLException e) {
    LOG.error(e);
  }
catch (  IOException e) {
  }
catch (  Exception e) {
    LOG.error(e);
  }
  return settings;
}
