{
  return HttpRequests.request(mySettingsUrl).productNameAsUserAgent().connect(new HttpRequests.RequestProcessor<Map<String,String>>(){
    @Override public Map<String,String> process(    @NotNull HttpRequests.Request request) throws IOException {
      if (!request.isSuccessful()) {
        HttpURLConnection connection=(HttpURLConnection)request.getConnection();
        LOG.warn(connection.getResponseCode() + " " + connection.getResponseMessage());
        return Collections.emptyMap();
      }
      Map<String,String> settings=ContainerUtilRt.newLinkedHashMap();
      try {
        Element root=JDOMUtil.load(request.getReader());
        for (        String s : attributes) {
          String attributeValue=root.getAttributeValue(s);
          if (StringUtil.isNotEmpty(attributeValue)) {
            settings.put(s,attributeValue);
          }
        }
      }
 catch (      JDOMException e) {
        LOG.error(e);
      }
      return settings;
    }
  }
,Collections.<String,String>emptyMap(),LOG);
}
