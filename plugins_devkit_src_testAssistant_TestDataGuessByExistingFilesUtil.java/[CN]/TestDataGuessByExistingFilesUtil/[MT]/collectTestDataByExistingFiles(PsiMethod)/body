{
  if (getTestName(psiMethod) == null) {
    return null;
  }
  PsiFile psiFile=PsiTreeUtil.getParentOfType(psiMethod,PsiFile.class);
  if (psiFile == null) {
    return null;
  }
  TestDataDescriptor descriptor=buildDescriptorFromExistingTestData(psiMethod);
  if (descriptor == null || !descriptor.isComplete()) {
    return null;
  }
  return descriptor.generate(getTestName(psiMethod.getName()));
}
