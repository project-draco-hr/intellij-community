{
  if (request == null) {
    return;
  }
  try {
    Collection<Url> urls=WebBrowserService.getInstance().getUrlsToOpen(request,preferLocalUrl);
    if (!urls.isEmpty()) {
      chooseUrl(urls).doWhenDone(new Consumer<Url>(){
        @Override public void consume(        Url url){
          ApplicationManager.getApplication().saveAll();
          UrlOpener.launchBrowser(url.toExternalForm(),browser);
        }
      }
);
    }
  }
 catch (  WebBrowserUrlProvider.BrowserException e1) {
    Messages.showErrorDialog(e1.getMessage(),XmlBundle.message("browser.error"));
  }
catch (  Exception e1) {
    LOG.error(e1);
  }
}
