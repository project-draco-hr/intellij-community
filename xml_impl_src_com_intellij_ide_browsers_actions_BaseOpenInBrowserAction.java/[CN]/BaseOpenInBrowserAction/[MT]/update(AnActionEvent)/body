{
  WebBrowser browser=getBrowser(e);
  if (browser == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  OpenInBrowserRequest result=doUpdate(e);
  if (result == null) {
    return;
  }
  String description=getTemplatePresentation().getText();
  if (ActionPlaces.CONTEXT_TOOLBAR.equals(e.getPlace())) {
    StringBuilder builder=new StringBuilder(description);
    builder.append(" (");
    Shortcut[] shortcuts=KeymapManager.getInstance().getActiveKeymap().getShortcuts("WebOpenInAction");
    boolean exists=shortcuts.length > 0;
    if (exists) {
      builder.append(KeymapUtil.getShortcutText(shortcuts[0]));
    }
    if (HtmlUtil.isHtmlFile(result.getFile())) {
      builder.append(exists ? ", " : "").append("hold Shift to open URL of local file");
    }
    builder.append(')');
    description=builder.toString();
  }
  e.getPresentation().setText(description);
}
