{
  if (file == null || !file.isInLocalFileSystem())   return;
  final String filePath=file.getCanonicalPath();
  final List<EditorConfig.OutPair> outPairs=SettingsProviderComponent.getInstance().getOutPairs(filePath);
  final String lineEndings=Utils.configValueForKey(outPairs,lineEndingsKey);
  if (!lineEndings.isEmpty()) {
    try {
      LineSeparator separator=LineSeparator.valueOf(lineEndings.toUpperCase(Locale.US));
      String oldSeparator=file.getDetectedLineSeparator();
      String newSeparator=separator.getSeparatorString();
      if (!StringUtil.equals(oldSeparator,newSeparator)) {
        file.setDetectedLineSeparator(newSeparator);
        if (!statusBarUpdated) {
          statusBarUpdated=true;
          updateStatusBar();
        }
        LOG.debug(Utils.appliedConfigMessage(lineEndings,lineEndingsKey,filePath));
      }
    }
 catch (    IllegalArgumentException e) {
      LOG.warn(Utils.invalidConfigMessage(lineEndings,lineEndingsKey,filePath));
    }
  }
}
