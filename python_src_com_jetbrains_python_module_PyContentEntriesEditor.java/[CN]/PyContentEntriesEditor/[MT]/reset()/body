{
  if (myFilePointersDisposable != null) {
    Disposer.dispose(myFilePointersDisposable);
  }
  myTemplateRoots.clear();
  myFilePointersDisposable=Disposer.newDisposable();
  final TemplatesService instance=TemplatesService.getInstance(myModule);
  if (instance != null) {
    final List<VirtualFile> folders=instance.getTemplateFolders();
    for (    VirtualFile folder : folders) {
      ContentEntry contentEntry=findContentEntryForFile(folder);
      if (contentEntry != null) {
        myTemplateRoots.putValue(contentEntry,VirtualFilePointerManager.getInstance().create(folder,myFilePointersDisposable,DUMMY_LISTENER));
      }
    }
  }
  if (myRootTreeEditor != null) {
    ContentEntryEditor editor=myRootTreeEditor.getContentEntryEditor();
    if (editor != null)     editor.update();
    myRootTreeEditor.update();
  }
}
