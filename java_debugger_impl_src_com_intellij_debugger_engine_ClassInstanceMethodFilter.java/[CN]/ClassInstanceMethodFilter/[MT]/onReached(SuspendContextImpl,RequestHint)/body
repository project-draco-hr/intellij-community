{
  StackFrameProxyImpl proxy=context.getFrameProxy();
  if (proxy != null) {
    try {
      ObjectReference reference=proxy.thisObject();
      if (reference != null) {
        DebugProcessImpl debugProcess=context.getDebugProcess();
        BreakpointManager breakpointManager=DebuggerManagerEx.getInstanceEx(debugProcess.getProject()).getBreakpointManager();
        StepIntoBreakpoint breakpoint=breakpointManager.addStepIntoBreakpoint(myMethodFilter);
        if (breakpoint != null) {
          breakpointManager.applyThreadFilter(debugProcess,null);
          breakpoint.addInstanceFilter(reference.uniqueID());
          breakpoint.setInstanceFiltersEnabled(true);
          breakpoint.setSuspendPolicy(context.getSuspendPolicy() == EventRequest.SUSPEND_EVENT_THREAD ? DebuggerSettings.SUSPEND_THREAD : DebuggerSettings.SUSPEND_ALL);
          breakpoint.createRequest(debugProcess);
          breakpoint.setRequestHint(hint);
          debugProcess.setRunToCursorBreakpoint(breakpoint);
          return RequestHint.RESUME;
        }
      }
    }
 catch (    EvaluateException ignored) {
    }
  }
  return RequestHint.STOP;
}
