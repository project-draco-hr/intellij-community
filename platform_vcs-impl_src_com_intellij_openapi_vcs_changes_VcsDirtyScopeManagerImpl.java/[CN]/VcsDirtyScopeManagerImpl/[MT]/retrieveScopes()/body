{
synchronized (LOCK) {
    if (myDisposed)     return null;
    myProgressHolder.takeNext(new DirtBuilder(myDirtBuilder));
    myDirtBuilder.reset();
  }
  VcsInvalidated invalidated=myProgressHolder.calculateInvalidated();
synchronized (LOCK) {
    if (!myDisposed) {
      myProgressHolder.takeInvalidated(invalidated);
    }
  }
  return invalidated;
}
