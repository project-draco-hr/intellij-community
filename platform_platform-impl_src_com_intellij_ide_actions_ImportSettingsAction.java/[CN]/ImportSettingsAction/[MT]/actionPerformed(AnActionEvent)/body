{
  final DataContext dataContext=e.getDataContext();
  final Component component=PlatformDataKeys.CONTEXT_COMPONENT.getData(dataContext);
  ChooseComponentsToExportDialog.chooseSettingsFile(PathManager.getConfigPath(),component,IdeBundle.message("title.import.file.location"),IdeBundle.message("prompt.choose.import.file.path")).doWhenDone(new Consumer<String>(){
    @Override public void consume(    String path){
      File saveFile=new File(path);
      try {
        doImport(saveFile);
      }
 catch (      ZipException e1) {
        Messages.showErrorDialog(IdeBundle.message("error.reading.settings.file",presentableFileName(saveFile),e1.getMessage(),promptLocationMessage()),IdeBundle.message("title.invalid.file"));
      }
catch (      IOException e1) {
        Messages.showErrorDialog(IdeBundle.message("error.reading.settings.file.2",presentableFileName(saveFile),e1.getMessage()),IdeBundle.message("title.error.reading.file"));
      }
    }
  }
);
}
