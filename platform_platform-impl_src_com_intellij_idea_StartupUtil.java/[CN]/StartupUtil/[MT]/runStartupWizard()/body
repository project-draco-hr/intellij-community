{
  ApplicationInfoEx appInfo=ApplicationInfoImpl.getShadowInstance();
  String stepsProviderName=appInfo.getCustomizeIDEWizardStepsProvider();
  if (stepsProviderName != null) {
    CustomizeIDEWizardStepsProvider provider;
    try {
      Class<?> providerClass=Class.forName(stepsProviderName);
      provider=(CustomizeIDEWizardStepsProvider)providerClass.newInstance();
    }
 catch (    Throwable e) {
      Main.showMessage("Configuration Wizard Failed",e);
      return;
    }
    CloudConfigProvider configProvider=CloudConfigProvider.getProvider();
    if (configProvider != null) {
      configProvider.beforeStartupWizard();
    }
    new CustomizeIDEWizardDialog(provider).show();
    PluginManagerCore.invalidatePlugins();
    if (configProvider != null) {
      configProvider.startupWizardFinished();
    }
    return;
  }
  List<ApplicationInfoEx.PluginChooserPage> pages=appInfo.getPluginChooserPages();
  if (!pages.isEmpty()) {
    new StartupWizard(pages).show();
    PluginManagerCore.invalidatePlugins();
  }
}
