{
  ApplicationInfoEx appInfo=ApplicationInfoImpl.getShadowInstance();
  String stepsProvider=appInfo.getCustomizeIDEWizardStepsProvider();
  if (stepsProvider != null) {
    CustomizeIDEWizardDialog.showCustomSteps(stepsProvider);
    PluginManagerCore.invalidatePlugins();
    return;
  }
  if (PlatformUtils.isIntelliJ()) {
    new CustomizeIDEWizardDialog().show();
    PluginManagerCore.invalidatePlugins();
    return;
  }
  List<ApplicationInfoEx.PluginChooserPage> pages=appInfo.getPluginChooserPages();
  if (!pages.isEmpty()) {
    StartupWizard startupWizard=new StartupWizard(pages);
    startupWizard.setCancelText("Skip");
    startupWizard.show();
    PluginManagerCore.invalidatePlugins();
  }
}
