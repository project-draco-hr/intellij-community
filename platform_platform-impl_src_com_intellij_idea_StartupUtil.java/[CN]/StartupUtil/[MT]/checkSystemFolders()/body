{
  final String configPath=PathManager.getConfigPath();
  if (!new File(configPath).isDirectory()) {
    String message="Config path '" + configPath + "' is invalid.\n"+ "If you have modified the 'idea.config.path' property please make sure it is correct,\n"+ "otherwise please re-install the IDE.";
    Main.showMessage("Invalid Config Path",message,true);
    return false;
  }
  final String systemPath=PathManager.getSystemPath();
  if (systemPath == null || !new File(systemPath).isDirectory()) {
    String message="System path '" + systemPath + "' is invalid.\n"+ "If you have modified the 'idea.system.path' property please make sure it is correct,\n"+ "otherwise please re-install the IDE.";
    Main.showMessage("Invalid System Path",message,true);
    return false;
  }
  return true;
}
