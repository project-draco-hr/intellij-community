{
  if (!"true".equals(System.getProperty("idea.no.jre.check"))) {
    try {
      Class.forName("com.sun.jdi.Field");
    }
 catch (    ClassNotFoundException e) {
      String message="'tools.jar' seems to be not in " + ApplicationNamesInfo.getInstance().getProductName() + " classpath.\n"+ "Please ensure JAVA_HOME points to JDK rather than JRE.";
      Main.showMessage("JDK Required",message,true);
      return false;
    }
    if (StringUtil.containsIgnoreCase(System.getProperty("java.vm.name",""),"OpenJDK") && !SystemInfo.isJavaVersionAtLeast("1.7")) {
      String message="OpenJDK 6 is not supported. Please use Oracle Java or newer OpenJDK.";
      Main.showMessage("Unsupported JVM",message,true);
      return false;
    }
  }
  if (!"true".equals(System.getProperty("idea.no.64bit.check"))) {
    if (PlatformUtils.isCidr() && !SystemInfo.is64Bit) {
      String message="32-bit JVM is not supported. Please install 64-bit version.";
      Main.showMessage("Unsupported JVM",message,true);
      return false;
    }
  }
  return true;
}
