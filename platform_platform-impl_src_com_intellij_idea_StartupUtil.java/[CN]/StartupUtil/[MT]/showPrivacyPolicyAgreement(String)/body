{
  DialogWrapper dialog=new DialogWrapper(true){
    @Nullable @Override protected JComponent createCenterPanel(){
      JPanel centerPanel=new JPanel(new BorderLayout(5,5));
      String html=alternativeHTML;
      if (html == null) {
        try {
          html=FileUtil.loadTextAndClose(StartupUtil.class.getResource("/PrivacyPolicy.html").openStream());
        }
 catch (        IOException e) {
        }
      }
      JEditorPane viewer=SwingHelper.createHtmlViewer(true,null,JBColor.WHITE,JBColor.BLACK);
      viewer.setFocusable(true);
      viewer.addHyperlinkListener(new HyperlinkAdapter(){
        @Override protected void hyperlinkActivated(        HyperlinkEvent e){
          URL url=e.getURL();
          if (url != null) {
            BrowserUtil.browse(url);
          }
 else {
            SwingHelper.scrollToReference(viewer,e.getDescription());
          }
        }
      }
);
      viewer.setText(html);
      viewer.setCaretPosition(0);
      viewer.setBorder(JBUI.Borders.empty(5));
      centerPanel.add(new JLabel("Please read and accept these terms and conditions:"),BorderLayout.NORTH);
      centerPanel.add(new JBScrollPane(viewer,ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER),BorderLayout.CENTER);
      return centerPanel;
    }
    @Override protected void createDefaultActions(){
      super.createDefaultActions();
      init();
      setOKButtonText("Accept");
      setCancelButtonText("Reject and Exit");
      setAutoAdjustable(false);
    }
    @Override public void doCancelAction(){
      super.doCancelAction();
      ApplicationEx application=ApplicationManagerEx.getApplicationEx();
      if (application == null) {
        System.exit(Main.PRIVACY_POLICY_REJECTION);
      }
 else {
        ((ApplicationImpl)application).exit(true,true,false,false);
      }
    }
  }
;
  dialog.setModal(true);
  dialog.setTitle(ApplicationNamesInfo.getInstance().getFullProductName() + " Privacy Policy Agreement");
  dialog.setResizable(false);
  dialog.setSize(509,395);
  dialog.show();
}
