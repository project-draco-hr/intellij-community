{
  SoftWrapModelImpl model=myEditor.getSoftWrapModel();
  if (!myEditor.offsetToVisualPosition(marker.getStartOffset(),true).equals(myRangeMarkerStartPosition) && model.getSoftWrap(marker.getStartOffset()) == null || !myEditor.offsetToVisualPosition(marker.getEndOffset()).equals(myRangeMarkerEndPosition) && model.getSoftWrap(marker.getEndOffset()) == null) {
    myRangeMarkerStartPosition=null;
    myRangeMarkerEndPosition=null;
  }
}
