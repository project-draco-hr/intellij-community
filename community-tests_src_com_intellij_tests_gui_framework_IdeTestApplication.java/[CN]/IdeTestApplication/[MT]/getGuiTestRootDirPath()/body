{
  String guiTestRootDirPathProperty=System.getProperty("gui.tests.root.dir.path");
  if (isNotEmpty(guiTestRootDirPathProperty)) {
    File rootDirPath=new File(guiTestRootDirPathProperty);
    if (rootDirPath.isDirectory()) {
      return rootDirPath;
    }
  }
  String homeDirPath=toSystemDependentName(PathManager.getHomePath());
  assertThat(homeDirPath).isNotEmpty();
  File rootDirPath=new File(homeDirPath,join("community-tests","gui-tests"));
  ensureExists(rootDirPath);
  return rootDirPath;
}
