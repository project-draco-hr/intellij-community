{
  final int lastIdx=Integer.parseInt(args[1]);
  final String[] childTestDescription={args[2]};
  final String argentName=args[3];
  final ArrayList listeners=new ArrayList();
  for (int i=4, argsLength=args.length; i < argsLength; i++) {
    listeners.add(args[i]);
  }
  IdeaTestRunner testRunner=(IdeaTestRunner)JUnitStarter.getAgentClass(argentName).newInstance();
  testRunner.setStreams(new SegmentedOutputStream(out,true),new SegmentedOutputStream(err,true),lastIdx);
  System.exit(testRunner.startRunnerWithArgs(childTestDescription,listeners,null,1,false));
}
