{
  final Document document=event.getDocument();
  VirtualFile virtualFile=FileDocumentManager.getInstance().getFile(document);
  boolean isBulk=document instanceof DocumentEx && ((DocumentEx)document).isInBulkUpdate();
  boolean isRelevant=virtualFile != null && isRelevant(virtualFile);
  if (!isBulk && isRelevant && shouldNotifySmartPointers(virtualFile)) {
    mySmartPointerManager.unfastenBelts(virtualFile,event.getOffset());
  }
}
