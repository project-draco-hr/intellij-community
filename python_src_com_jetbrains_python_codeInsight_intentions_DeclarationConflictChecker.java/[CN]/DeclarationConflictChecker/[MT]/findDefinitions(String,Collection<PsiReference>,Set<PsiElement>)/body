{
  List<Pair<PsiElement,PsiElement>> conflicts=new ArrayList<Pair<PsiElement,PsiElement>>();
  for (  PsiReference ref : references) {
    final PsiElement refElement=ref.getElement();
    final ScopeOwner owner=ScopeUtil.getScopeOwner(refElement);
    final PyResolveProcessor processor=new PyResolveProcessor(name,true);
    if (owner != null) {
      PyResolveUtil.scopeCrawlUp(processor,owner,name,null);
      for (      PsiElement element : processor.getElements()) {
        if (!ignored.contains(element)) {
          conflicts.add(Pair.create(refElement,element));
        }
      }
    }
  }
  return conflicts;
}
