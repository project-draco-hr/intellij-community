{
  List<Pair<PsiElement,PsiElement>> conflicts=new ArrayList<Pair<PsiElement,PsiElement>>();
  REF_LOOP:   for (  PsiReference ref : references) {
    ResolveProcessor processor=new ResolveProcessor(name);
    PyResolveUtil.treeCrawlUp(processor,ref.getElement());
    PsiElement result=processor.getResult();
    if (result != null) {
      List<NameDefiner> definers=processor.getDefiners();
      if (definers != null && definers.size() > 0) {
        result=definers.get(0);
      }
      if (ignored != null)       for (      PsiElement ignorable : ignored) {
        if (result == ignorable)         continue REF_LOOP;
      }
      conflicts.add(new Pair<PsiElement,PsiElement>(ref.getElement(),result));
    }
  }
  return conflicts;
}
