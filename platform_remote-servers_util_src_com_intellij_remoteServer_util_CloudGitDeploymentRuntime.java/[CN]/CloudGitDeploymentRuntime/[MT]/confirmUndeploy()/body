{
  final Ref<Boolean> confirmed=new Ref<Boolean>(false);
  ApplicationManager.getApplication().invokeAndWait(new Runnable(){
    @Override public void run(){
      String title=CloudBundle.getText("cloud.undeploy.confirm.title");
      while (true) {
        String password=Messages.showPasswordDialog(CloudBundle.getText("cloud.undeploy.confirm.message",myPresentableName),title);
        if (password == null) {
          return;
        }
        if (password.equals(myConfiguration.getPassword())) {
          confirmed.set(true);
          return;
        }
        Messages.showErrorDialog(CloudBundle.getText("cloud.undeploy.confirm.password.incorrect"),title);
      }
    }
  }
,ModalityState.defaultModalityState());
  return confirmed.get();
}
