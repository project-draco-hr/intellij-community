{
  @SuppressWarnings("unchecked") ConcurrentWeakHashMap<Object,Object> map=new ConcurrentWeakHashMap<Object,Object>(TObjectHashingStrategy.IDENTITY);
  map.put(new Object(),new Object());
  do {
    tryGcSoftlyReachableObjects();
    System.gc();
  }
 while (!map.processQueue());
  map.put(this,this);
  assertEquals(1,map.underlyingMapSize());
}
