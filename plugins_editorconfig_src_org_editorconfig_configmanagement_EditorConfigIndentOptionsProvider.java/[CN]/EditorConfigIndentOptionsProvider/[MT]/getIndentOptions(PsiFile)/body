{
  final VirtualFile file=psiFile.getVirtualFile();
  if (file == null || !file.isInLocalFileSystem())   return null;
  final Project project=psiFile.getProject();
  final CodeStyleSettings currentSettings=CodeStyleSettingsManager.getInstance(project).getCurrentSettings();
  if (!Utils.isEnabled(currentSettings))   return null;
  final String filePath=file.getCanonicalPath();
  final SettingsProviderComponent settingsProvider=SettingsProviderComponent.getInstance();
  final List<EditorConfig.OutPair> outPairs=settingsProvider.getOutPairs(filePath);
  return applyCodeStyleSettings(project,outPairs,file);
}
