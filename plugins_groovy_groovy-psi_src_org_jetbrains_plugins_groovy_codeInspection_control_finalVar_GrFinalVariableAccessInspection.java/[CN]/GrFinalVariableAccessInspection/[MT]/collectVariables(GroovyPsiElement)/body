{
  final MultiMap<PsiElement,GrVariable> scopes=MultiMap.create();
  scope.accept(new GroovyRecursiveElementVisitor(){
    @Override public void visitVariable(    @NotNull GrVariable variable){
      super.visitVariable(variable);
      if (!(variable instanceof PsiField) && variable.hasModifierProperty(PsiModifier.FINAL)) {
        final PsiElement varScope=findScope(variable);
        if (varScope != null) {
          scopes.putValue(varScope,variable);
        }
      }
    }
  }
);
  return scopes;
}
