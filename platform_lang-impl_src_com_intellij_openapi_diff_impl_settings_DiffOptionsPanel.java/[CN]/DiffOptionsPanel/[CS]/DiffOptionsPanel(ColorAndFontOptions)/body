{
  myOptions=options;
  myOptionsList.setCellRenderer(new MyCellRenderer());
  myOptionsList.setModel(myOptionsModel);
  ListSelectionModel selectionModel=myOptionsList.getSelectionModel();
  selectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  selectionModel.addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      MyDescription description=getSelectedDescription();
      if (description == null) {
        myBackgroundColorPanel.setEnabled(false);
        myStripeMarkColorPanel.setEnabled(false);
      }
 else {
        myBackgroundColorPanel.setEnabled(true);
        myStripeMarkColorPanel.setEnabled(true);
        myBackgroundColorPanel.setSelectedColor(description.getBackgroundColor());
        myStripeMarkColorPanel.setSelectedColor(description.getStripeMarkColor());
      }
      myDispatcher.getMulticaster().selectedOptionChanged(description);
    }
  }
);
  myBackgroundColorPanel.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      MyDescription selectedDescription=getSelectedDescription();
      if (selectedDescription == null)       return;
      if (!checkModifiableScheme()) {
        myBackgroundColorPanel.setSelectedColor(selectedDescription.getBackgroundColor());
      }
 else {
        selectedDescription.setBackgroundColor(myBackgroundColorPanel.getSelectedColor());
        myDispatcher.getMulticaster().settingsChanged();
      }
    }
  }
);
  myStripeMarkColorPanel.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      MyDescription selectedDescription=getSelectedDescription();
      if (selectedDescription == null)       return;
      if (!checkModifiableScheme()) {
        myStripeMarkColorPanel.setSelectedColor(selectedDescription.getStripeMarkColor());
      }
 else {
        selectedDescription.setStripeMarkColor(myStripeMarkColorPanel.getSelectedColor());
        myDispatcher.getMulticaster().settingsChanged();
      }
    }
  }
);
}
