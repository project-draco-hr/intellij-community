{
  final PyExpression qualifier=node.getQualifier();
  if (qualifier != null) {
    final PyType type=myTypeEvalContext.getType(qualifier);
    if (type instanceof PyClassType) {
      final PyClass pyClass=((PyClassType)type).getPyClass();
      if (pyClass.isNewStyleClass(myTypeEvalContext)) {
        if (pyClass.getOwnSlots() == null) {
          return;
        }
        final String attrName=node.getReferencedName();
        if (!canHaveAttribute(pyClass,attrName)) {
          for (          PyClass ancestor : pyClass.getAncestorClasses(myTypeEvalContext)) {
            if (ancestor == null) {
              return;
            }
            if (PyNames.OBJECT.equals(ancestor.getName())) {
              break;
            }
            if (canHaveAttribute(pyClass,attrName)) {
              return;
            }
          }
          final ASTNode nameNode=node.getNameElement();
          final PsiElement e=nameNode != null ? nameNode.getPsi() : node;
          registerProblem(e,"'" + pyClass.getName() + "' object has no attribute '"+ attrName+ "'");
        }
      }
    }
  }
}
