{
  while (position != null) {
    ProgressManager.checkCanceled();
    T anchor=position.peek();
    if (!classesProcessed.contains(anchor) && !classesBeingProcessed.contains(anchor)) {
      V value=myAnchorToValueConvertor.fun(anchor);
      boolean isAccepted=value != null && myApplicableForGenerationFilter.apply(value);
      if (isAccepted) {
        return Pair.createNonNull(anchor,value);
      }
      classesProcessed.add(anchor);
    }
    position=position.next();
  }
  return null;
}
