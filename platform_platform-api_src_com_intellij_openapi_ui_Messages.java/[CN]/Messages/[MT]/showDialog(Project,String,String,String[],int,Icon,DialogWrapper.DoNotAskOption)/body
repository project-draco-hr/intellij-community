{
  if (isApplicationInUnitTestOrHeadless()) {
    return ourTestImplementation.show(message);
  }
  try {
    if (canShowMacSheetPanel()) {
      WindowManager windowManager=WindowManager.getInstance();
      if (windowManager != null) {
        Window parentWindow=windowManager.suggestParentWindow(project);
        return MacMessages.getInstance().showMessageDialog(title,message,options,false,parentWindow,defaultOptionIndex,defaultOptionIndex,doNotAskOption);
      }
    }
  }
 catch (  MessageException ignored) {
  }
catch (  Exception reportThis) {
    LOG.error(reportThis);
  }
  return showIdeaMessageDialog(project,message,title,options,defaultOptionIndex,icon,doNotAskOption);
}
