{
  startElement(castExpression);
  PsiExpression operand=castExpression.getOperand();
  if (operand != null) {
    operand.accept(this);
    generateBoxingUnboxingInstructionFor(operand,castExpression.getType());
  }
 else {
    addInstruction(new PushInstruction(myFactory.createTypeValue(castExpression.getType(),Nullness.UNKNOWN),null));
  }
  final PsiTypeElement typeElement=castExpression.getCastType();
  if (typeElement != null && operand != null && operand.getType() != null) {
    if (typeElement.getType() instanceof PsiPrimitiveType && UnnecessaryExplicitNumericCastInspection.isPrimitiveNumericCastNecessary(castExpression)) {
      addInstruction(new PopInstruction());
      pushUnknown();
    }
 else {
      addInstruction(new TypeCastInstruction(castExpression,operand,typeElement.getType()));
    }
  }
  finishElement(castExpression);
}
