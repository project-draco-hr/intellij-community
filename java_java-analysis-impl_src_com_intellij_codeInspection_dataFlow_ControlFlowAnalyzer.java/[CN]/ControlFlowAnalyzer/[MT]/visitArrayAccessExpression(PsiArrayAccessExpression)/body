{
  startElement(expression);
  PsiExpression arrayExpression=expression.getArrayExpression();
  arrayExpression.accept(this);
  addInstruction(new FieldReferenceInstruction(expression,null));
  PsiExpression indexExpression=expression.getIndexExpression();
  if (indexExpression != null) {
    indexExpression.accept(this);
    generateBoxingUnboxingInstructionFor(indexExpression,PsiType.INT);
    addInstruction(new PopInstruction());
  }
  DfaValue toPush=myFactory.createValue(expression);
  addInstruction(new PushInstruction(toPush != null ? toPush : myFactory.createTypeValue(expression.getType(),Nullness.UNKNOWN),null));
  finishElement(expression);
}
