{
  if (expression instanceof PsiParenthesizedExpression) {
    return createChainedVariableValue(((PsiParenthesizedExpression)expression).getExpression());
  }
  PsiReferenceExpression refExpr;
  if (expression instanceof PsiMethodCallExpression) {
    refExpr=((PsiMethodCallExpression)expression).getMethodExpression();
  }
 else   if (expression instanceof PsiReferenceExpression) {
    refExpr=(PsiReferenceExpression)expression;
  }
 else {
    return null;
  }
  PsiElement target=refExpr.resolve();
  PsiVariable var=getAccessedVariable(target);
  if (var == null) {
    return null;
  }
  PsiMethod accessMethod=target instanceof PsiMethod ? (PsiMethod)target : null;
  PsiExpression qualifier=refExpr.getQualifierExpression();
  if (qualifier == null) {
    DfaVariableValue result=myFactory.getVarFactory().createVariableValue(var,refExpr.getType(),false,null,accessMethod);
    if (var instanceof PsiField) {
      myFields.add(result);
    }
    return result;
  }
  if (DfaPsiUtil.isFinalField(var) || DfaPsiUtil.isPlainMutableField(var)) {
    DfaVariableValue qualifierValue=createChainedVariableValue(qualifier);
    if (qualifierValue != null) {
      return myFactory.getVarFactory().createVariableValue(var,refExpr.getType(),false,qualifierValue,accessMethod);
    }
  }
  return null;
}
