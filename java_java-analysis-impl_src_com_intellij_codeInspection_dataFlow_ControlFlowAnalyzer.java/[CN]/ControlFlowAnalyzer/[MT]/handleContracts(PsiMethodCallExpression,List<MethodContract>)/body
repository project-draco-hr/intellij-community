{
  if (_contracts.isEmpty()) {
    return false;
  }
  PsiMethod method=expression.resolveMethod();
  if (method == null) {
    return false;
  }
  final int paramCount=method.getParameterList().getParametersCount();
  boolean varArgs=method.isVarArgs();
  final PsiExpression[] args=expression.getArgumentList().getExpressions();
  if (varArgs && args.length < paramCount - 1 || !varArgs && args.length != paramCount) {
    return false;
  }
  List<MethodContract> contracts=ContainerUtil.findAll(_contracts,new Condition<MethodContract>(){
    @Override public boolean value(    MethodContract contract){
      return paramCount == contract.arguments.length;
    }
  }
);
  if (contracts.isEmpty()) {
    return false;
  }
  for (  PsiExpression arg : args) {
    arg.accept(this);
  }
  if (varArgs) {
    for (int i=0; i < args.length - paramCount + 1; i++) {
      addInstruction(new PopInstruction());
    }
    pushUnknown();
  }
  if (contracts.size() > 1) {
    addInstruction(new DupInstruction(args.length,contracts.size() - 1));
  }
  for (int i=0; i < contracts.size(); i++) {
    handleContract(expression,contracts.get(i),contracts.size() - 1 - i,paramCount);
  }
  pushUnknownReturnValue(expression);
  return true;
}
