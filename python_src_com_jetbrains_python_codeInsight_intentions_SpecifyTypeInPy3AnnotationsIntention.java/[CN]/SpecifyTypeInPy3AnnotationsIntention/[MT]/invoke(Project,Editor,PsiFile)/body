{
  PsiElement elementAt=PyUtil.findNonWhitespaceAtOffset(file,editor.getCaretModel().getOffset());
  PyExpression problemElement=getProblemElement(elementAt);
  PsiReference reference=problemElement == null ? null : problemElement.getReference();
  final PsiElement resolved=reference != null ? reference.resolve() : null;
  PyParameter parameter=getParameter(problemElement,resolved);
  if (parameter != null) {
    annotateParameter(project,editor,parameter);
  }
 else {
    annotateReturnType(project,elementAt);
  }
}
