{
  final ArrayList<MatchResult> results=new ArrayList<MatchResult>();
  MinusculeMatcher matcher=NameUtil.buildMatcher(pattern,NameUtil.MatchingCaseSensitivity.NONE);
  MatchResult result;
  for (  String name : names) {
    myProgressIndicator.checkCanceled();
    result=null;
    if (model instanceof CustomMatcherModel) {
      try {
        result=((CustomMatcherModel)model).matches(name,pattern) ? new MatchResult(name,0,true) : null;
      }
 catch (      Exception ignore) {
      }
    }
 else {
      result=matcher.matches(name) ? new MatchResult(name,matcher.matchingDegree(name),matcher.isStartMatch(name)) : null;
    }
    if (result != null) {
      results.add(result);
    }
  }
  return results;
}
