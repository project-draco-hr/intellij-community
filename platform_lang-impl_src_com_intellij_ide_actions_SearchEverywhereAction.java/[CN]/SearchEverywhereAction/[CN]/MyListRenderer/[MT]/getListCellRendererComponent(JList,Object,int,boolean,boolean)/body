{
  Component cmp=super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
  if (myLocationString != null || value instanceof BooleanOptionDescription) {
    final JPanel panel=new JPanel(new BorderLayout());
    panel.add(cmp,BorderLayout.CENTER);
    final Component rightComponent;
    if (value instanceof BooleanOptionDescription) {
      final OnOffButton button=new OnOffButton();
      button.setSelected(((BooleanOptionDescription)value).isOptionEnabled());
      rightComponent=button;
    }
 else {
      rightComponent=myLocation.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
    }
    panel.add(rightComponent,BorderLayout.EAST);
    cmp=panel;
  }
  cmp.setBackground(isSelected ? UIUtil.getListSelectionBackground() : getRightBackground());
  String title=getTitle(index,value,index == 0 ? null : list.getModel().getElementAt(index - 1));
  myTitle.setText(title == null ? "" : title);
  myLeftPanel.removeAll();
  myLeftPanel.setBackground(new JBColor(Gray._242,JBColor.background()));
  myMainPanel.removeAll();
  myLeftPanel.add(myTitle,BorderLayout.EAST);
  myMainPanel.add(myLeftPanel,BorderLayout.WEST);
  myMainPanel.add(cmp,BorderLayout.CENTER);
  return myMainPanel;
}
