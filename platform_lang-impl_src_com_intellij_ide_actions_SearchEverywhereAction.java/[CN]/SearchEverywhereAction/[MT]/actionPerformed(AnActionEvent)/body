{
  myContextComponent=PlatformDataKeys.CONTEXT_COMPONENT.getData(e.getDataContext());
  myActionEvent=e;
  myPopupField=new MySearchTextField();
  myPopupField.setOpaque(true);
  initSearchField(myPopupField);
  myPopupField.getTextEditor().setColumns(25);
  myBalloon=JBPopupFactory.getInstance().createBalloonBuilder(myPopupField).setShowCallout(false).setHideOnKeyOutside(false).setHideOnAction(true).setAnimationCycle(0).setDialogMode(false).setBorderColor(new JBColor(new Color(156,192,255),new Color(77,77,77))).setFillColor(new JBColor(new Color(77,121,231),new Color(60,63,65))).createBalloon();
  myBalloon.show(JBPopupFactory.getInstance().guessBestPopupLocation(e.getDataContext()),Balloon.Position.below);
  IdeFocusManager focusManager=IdeFocusManager.getInstance(e.getProject());
  focusManager.requestFocus(myPopupField.getTextEditor(),true);
}
