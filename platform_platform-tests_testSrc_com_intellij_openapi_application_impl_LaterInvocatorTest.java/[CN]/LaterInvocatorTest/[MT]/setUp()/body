{
  myWindow1=new Frame(){
    public String toString(){
      return "Window1";
    }
  }
;
  myWindow2=new Frame(){
    public String toString(){
      return "Window2";
    }
  }
;
  final Exception[] exception={null};
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      try {
        LaterInvocatorTest.super.setUp();
        final Object[] modalEntities=LaterInvocator.getCurrentModalEntities();
        if (modalEntities.length > 0) {
          LOG.error("Expect no modal entries. Probably some of the previous tests didn't left their entries. Top entry is: " + modalEntities[0]);
        }
      }
 catch (      Exception e) {
        exception[0]=e;
      }
    }
  }
);
  if (exception[0] != null)   throw exception[0];
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      TestCase.assertFalse("Can't run test",LaterInvocator.isInModalContext());
    }
  }
);
  flushSwingQueue();
}
