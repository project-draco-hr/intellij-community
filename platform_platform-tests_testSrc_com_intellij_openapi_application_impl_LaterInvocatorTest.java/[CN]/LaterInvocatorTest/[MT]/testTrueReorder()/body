{
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      LaterInvocator.enterModal(myWindow1);
      ApplicationManager.getApplication().invokeLater(new MyRunnable("1"),ModalityState.NON_MODAL);
      SwingUtilities.invokeLater(ENTER_MODAL);
      LaterInvocator.leaveModal(myWindow1);
      SwingUtilities.invokeLater(LEAVE_MODAL);
      ApplicationManager.getApplication().invokeLater(new MyRunnable("2"),ModalityState.NON_MODAL);
    }
  }
);
  flushSwingQueue();
  flushSwingQueue();
  checkOrder(2);
}
