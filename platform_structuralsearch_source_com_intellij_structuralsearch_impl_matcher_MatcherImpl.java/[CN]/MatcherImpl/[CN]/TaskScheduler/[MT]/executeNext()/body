{
  while (!suspended && !ended) {
    if (tasks.isEmpty()) {
      ended=true;
      break;
    }
    final Runnable task=tasks.remove(tasks.size() - 1);
    try {
      task.run();
    }
 catch (    ProcessCanceledException e) {
      ended=true;
      clearSchedule();
      throw e;
    }
catch (    StructuralSearchException e) {
      ended=true;
      clearSchedule();
      throw e;
    }
catch (    Throwable th) {
      LOG.error(th);
    }
  }
  if (ended)   clearSchedule();
}
