{
  if (refname == null)   return;
  if (context.pattern.isTypedVar(refname)) {
    SubstitutionHandler handler=(SubstitutionHandler)context.pattern.getHandler(refname);
    RegExpPredicate predicate=MatchingHandler.getSimpleRegExpPredicate(handler);
    if (IsNotSuitablePredicate(predicate,handler)) {
      return;
    }
    refname=predicate.getRegExp();
    if (handler.isStrictSubtype() || handler.isSubtype()) {
      if (context.searchHelper.addDescendantsOf(refname,handler.isSubtype())) {
        context.searchHelper.endTransaction();
      }
      return;
    }
  }
  addFilesToSearchForGivenWord(refname,true,OccurenceKind.CODE);
}
