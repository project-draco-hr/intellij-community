{
  if (!context.findMatchingFiles) {
    return;
  }
  if (ourReservedWords.contains(refname))   return;
  boolean addedSomething=false;
  if (kind == OccurenceKind.CODE && context.scanned.get(refname) == null) {
    boolean isJavaReservedWord=false;
    if (context.options.getFileType() == StdFileTypes.JAVA) {
      if (context.javaLexer == null)       context.javaLexer=new JavaLexer(LanguageLevel.HIGHEST);
      context.javaLexer.start(refname,0,refname.length(),0);
      isJavaReservedWord=JavaTokenType.KEYWORD_BIT_SET.contains(context.javaLexer.getTokenType());
    }
    final GlobalSearchScope searchScope=(GlobalSearchScope)context.options.getScope();
    final MyFileProcessor fileProcessor=new MyFileProcessor();
    if (isJavaReservedWord) {
      context.helper.processAllFilesWithWordInText(refname,searchScope,fileProcessor,true);
    }
 else {
      context.helper.processAllFilesWithWord(refname,searchScope,fileProcessor,true);
    }
    context.scanned.put(refname,refname);
    addedSomething=true;
  }
 else   if (kind == OccurenceKind.COMMENT && context.scannedComments.get(refname) == null) {
    context.helper.processAllFilesWithWordInComments(refname,(GlobalSearchScope)context.options.getScope(),new MyFileProcessor());
    context.scannedComments.put(refname,refname);
    addedSomething=true;
  }
 else   if (kind == OccurenceKind.LITERAL && context.scannedLiterals.get(refname) == null) {
    context.helper.processAllFilesWithWordInLiterals(refname,(GlobalSearchScope)context.options.getScope(),new MyFileProcessor());
    context.scannedLiterals.put(refname,refname);
    addedSomething=true;
  }
  if (addedSomething && endTransaction) {
    endTransaction();
  }
}
