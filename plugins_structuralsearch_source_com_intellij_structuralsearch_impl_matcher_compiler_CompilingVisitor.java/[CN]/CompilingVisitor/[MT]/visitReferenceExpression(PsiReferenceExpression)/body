{
  visitElement(reference);
  if ((context.pattern.isRealTypedVar(reference)) && reference.getQualifierExpression() == null && !(reference.getParent() instanceof PsiExpressionStatement)) {
    SubstitutionHandler handler=(SubstitutionHandler)context.pattern.getHandler(reference);
    setFilter(handler,ExpressionFilter.getInstance());
  }
  if (!(reference.getParent() instanceof PsiMethodCallExpression)) {
    handleReference(reference);
  }
}
