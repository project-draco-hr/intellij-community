{
  super.visitComment(comment);
  Matcher matcher=pattern.matcher(comment.getText());
  boolean matches=false;
  if (!matcher.matches()) {
    matcher=pattern2.matcher(comment.getText());
    if (!matcher.matches()) {
      matcher=pattern3.matcher(comment.getText());
    }
 else {
      matches=true;
    }
  }
 else {
    matches=true;
  }
  if (matches || matcher.matches()) {
    String str=matcher.group(1);
    comment.putUserData(CompiledPattern.HANDLER_KEY,str);
    setFilter(context.pattern.getHandler(comment),CommentFilter.getInstance());
    SubstitutionHandler handler=(SubstitutionHandler)context.pattern.getHandler(str);
    if (handler.getPredicate() != null) {
      ((RegExpPredicate)handler.getPredicate()).setMultiline(true);
    }
    if (context.findMatchingFiles) {
      RegExpPredicate predicate=getSimpleRegExpPredicate(handler);
      if (!IsNotSuitablePredicate(predicate,handler)) {
        processTokenizedName(predicate.getRegExp(),true,false,true,false);
      }
    }
    matches=true;
  }
  if (!matches && context.findMatchingFiles) {
    processTokenizedName(comment.getText(),true,false,true,false);
  }
}
