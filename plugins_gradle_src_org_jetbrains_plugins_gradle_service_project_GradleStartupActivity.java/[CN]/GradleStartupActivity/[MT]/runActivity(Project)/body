{
  configureBuildClasspath(project);
  showNotificationForUnlinkedGradleProject(project);
  final GradleResourceCompilerConfigurationGenerator buildConfigurationGenerator=new GradleResourceCompilerConfigurationGenerator(project);
  CompilerManager.getInstance(project).addBeforeTask(new CompileTask(){
    @Override public boolean execute(    CompileContext context){
      AccessToken token=ReadAction.start();
      try {
        buildConfigurationGenerator.generateBuildConfiguration(context);
      }
  finally {
        token.finish();
      }
      return true;
    }
  }
);
}
