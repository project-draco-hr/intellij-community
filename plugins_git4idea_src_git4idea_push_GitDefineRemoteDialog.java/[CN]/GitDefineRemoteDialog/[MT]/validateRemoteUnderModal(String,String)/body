{
  if (url.isEmpty()) {
    return "URL can't be empty";
  }
  if (!GitRefNameValidator.getInstance().checkInput(name)) {
    return "Remote name contains illegal characters";
  }
  return ProgressManager.getInstance().runProcessWithProgressSynchronously(new ThrowableComputable<String,ProcessCanceledException>(){
    @Override public String compute() throws ProcessCanceledException {
      final GitCommandResult result=myGit.lsRemote(myRepository.getProject(),VfsUtilCore.virtualToIoFile(myRepository.getRoot()),url);
      return !result.success() ? "Remote URL test failed: " + result.getErrorOutputAsHtmlString() : null;
    }
  }
,"Checking URL...",true,myRepository.getProject());
}
