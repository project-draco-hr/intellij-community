{
  PsiElement element1=null;
  final SelectionModel selectionModel=editor.getSelectionModel();
  if (selectionModel.hasSelection()) {
    element1=file.findElementAt(selectionModel.getSelectionStart());
  }
 else {
    final CaretModel caretModel=editor.getCaretModel();
    final Document document=editor.getDocument();
    int lineNumber=document.getLineNumber(caretModel.getOffset());
    if ((lineNumber >= 0) && (lineNumber < document.getLineCount())) {
      element1=file.findElementAt(document.getLineStartOffset(lineNumber));
    }
  }
  if (element1 != null) {
    final PyClass clazz=PyUtil.getContainingClassOrSelf(element1);
    if (clazz != null && PythonUnitTestUtil.isTestCaseClass(clazz))     return true;
  }
  return false;
}
