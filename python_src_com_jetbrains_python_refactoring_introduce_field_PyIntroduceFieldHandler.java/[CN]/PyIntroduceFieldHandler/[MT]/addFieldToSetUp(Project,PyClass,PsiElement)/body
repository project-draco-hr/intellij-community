{
  final PyFunction init=clazz.findMethodByName(PythonUnitTestUtil.TESTCASE_SETUP_NAME,false);
  if (init != null) {
    return AddFieldQuickFix.appendToInit(init,new AddFieldDeclaration(declaration));
  }
  final PyFunctionBuilder builder=new PyFunctionBuilder(PythonUnitTestUtil.TESTCASE_SETUP_NAME);
  builder.parameter(PyNames.CANONICAL_SELF);
  PyFunction setUp=builder.buildFunction(project,LanguageLevel.getDefault());
  final PyStatementList statements=clazz.getStatementList();
  final PsiElement anchor=statements.getFirstChild();
  setUp=(PyFunction)statements.addBefore(setUp,anchor);
  return AddFieldQuickFix.appendToInit(setUp,new AddFieldDeclaration(declaration));
}
