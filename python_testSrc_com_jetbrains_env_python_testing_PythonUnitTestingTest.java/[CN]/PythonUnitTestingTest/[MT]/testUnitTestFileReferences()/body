{
  final String fileName="reference_tests.py";
  runPythonTest(new PyUnitTestProcessWithConsoleTestTask("/testRunner/env/unit",fileName){
    @Override protected void checkTestResults(    @NotNull final PyUnitTestProcessRunner runner,    @NotNull final String stdout,    @NotNull final String stderr,    @NotNull final String all){
      final List<String> fileNames=runner.getHighlightedStringsInConsole().getSecond();
      Assert.assertTrue(String.format("Not enough highlighted entries(%s) in the following output: %s",StringUtil.join(fileNames,","),runner.getAllConsoleText()),fileNames.size() >= 3);
      Assert.assertThat("Bad line highlighted",fileNames,Matchers.everyItem(Matchers.endsWith(fileName)));
    }
  }
);
}
