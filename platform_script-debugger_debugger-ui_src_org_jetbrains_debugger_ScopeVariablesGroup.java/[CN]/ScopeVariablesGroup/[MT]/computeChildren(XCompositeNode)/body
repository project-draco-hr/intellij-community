{
  Promise<Void> promise=Variables.processScopeVariables(scope,node,context,callFrame == null);
  if (callFrame != null) {
    promise.done(new ObsolescentConsumer<Void>(node){
      @Override public void consume(      Void ignored){
        callFrame.getReceiverVariable().done(new ObsolescentConsumer<Variable>(node){
          @Override public void consume(          Variable variable){
            node.addChildren(variable == null ? XValueChildrenList.EMPTY : XValueChildrenList.singleton(new VariableView(variable,context)),true);
          }
        }
).rejected(new ObsolescentConsumer<Throwable>(node){
          @Override public void consume(          @Nullable Throwable error){
            node.addChildren(XValueChildrenList.EMPTY,true);
          }
        }
);
      }
    }
);
  }
}
