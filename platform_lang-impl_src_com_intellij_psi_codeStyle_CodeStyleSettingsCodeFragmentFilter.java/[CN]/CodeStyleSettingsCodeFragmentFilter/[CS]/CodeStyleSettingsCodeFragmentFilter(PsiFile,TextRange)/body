{
  myProvider=forLanguage(file.getLanguage());
  myProject=file.getProject();
  myFile=PsiFileFactory.getInstance(myProject).createFileFromText("copy" + file.getName(),file.getLanguage(),file.getText(),true,false);
  myDocument=PsiDocumentManager.getInstance(myProject).getDocument(myFile);
  LOG.assertTrue(myDocument != null);
  myTextRangeMarker=myDocument.createRangeMarker(range.getStartOffset(),range.getEndOffset());
}
