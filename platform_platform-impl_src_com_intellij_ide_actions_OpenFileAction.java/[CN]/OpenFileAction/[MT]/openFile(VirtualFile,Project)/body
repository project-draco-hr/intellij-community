{
  FileEditorProvider[] providers=FileEditorProviderManager.getInstance().getProviders(project,file);
  if (providers.length == 0) {
    String message=IdeBundle.message("error.files.of.this.type.cannot.be.opened",ApplicationNamesInfo.getInstance().getProductName());
    Messages.showErrorDialog(project,message,IdeBundle.message("title.cannot.open.file"));
    return;
  }
  NonProjectFileWritingAccessProvider.allowWriting(file);
  OpenFileDescriptor descriptor=new OpenFileDescriptor(project,file);
  FileEditorManager.getInstance(project).openTextEditor(descriptor,true);
}
