{
  final RepositoryTreeNode node=getSelectedNode();
  if (node == null) {
    return;
  }
  boolean isDirectory=node.getUserObject() instanceof SVNURL || (node.getSVNDirEntry() != null && node.getSVNDirEntry().isDirectory());
  String url=node.getURL().toDecodedString();
  final SvnRepositoryLocation repositoryLocation=new SvnRepositoryLocation(node.getURL().toString());
  AbstractVcsHelper.getInstance(myProject).showFileHistory(myVCS.getVcsHistoryProvider(),VcsUtil.getFilePathOnNonLocal(url,isDirectory),myVCS,repositoryLocation);
  node.reload(false);
}
