{
  final RepositoryTreeNode node=getSelectedNode();
  if (node == null) {
    return;
  }
  boolean isDirectory=node.getUserObject() instanceof SVNURL || (node.getSVNDirEntry() != null && node.getSVNDirEntry().getKind() == SVNNodeKind.DIR);
  AbstractVcsHelper.getInstance(myProject).showFileHistory(new SvnHistoryProvider(myVCS),VcsContextFactory.SERVICE.getInstance().createFilePathOnNonLocal(node.getURL().toDecodedString(),isDirectory),myVCS,node.getURL().toDecodedString());
  node.reload(false);
}
