{
  final PsiCodeBlock body=sw.getBody();
  if (body == null)   return Collections.emptySet();
  Set<PsiField> used=ContainerUtil.newLinkedHashSet();
  for (  PsiStatement statement : body.getStatements()) {
    if (statement instanceof PsiSwitchLabelStatement) {
      final PsiExpression value=((PsiSwitchLabelStatement)statement).getCaseValue();
      if (value instanceof PsiReferenceExpression) {
        final PsiElement target=((PsiReferenceExpression)value).resolve();
        if (target instanceof PsiField) {
          used.add(CompletionUtil.getOriginalOrSelf((PsiField)target));
        }
      }
    }
  }
  return used;
}
