{
  if (getSingleStatement() instanceof PsiIfStatement) {
    PsiIfStatement ifStatement=(PsiIfStatement)getSingleStatement();
    if (ifStatement.getElseBranch() == null && ifStatement.getCondition() != null) {
      return new TerminalBlock(new FilterOp(myPreviousOp,ifStatement.getCondition(),myVariable,false),myVariable,ifStatement.getThenBranch());
    }
  }
  if (myStatements.length >= 1) {
    PsiStatement first=myStatements[0];
    if (first instanceof PsiIfStatement) {
      PsiIfStatement ifStatement=(PsiIfStatement)first;
      if (ifStatement.getCondition() == null)       return null;
      PsiStatement branch=ifStatement.getThenBranch();
      if (branch instanceof PsiBlockStatement) {
        PsiStatement[] statements=((PsiBlockStatement)branch).getCodeBlock().getStatements();
        if (statements.length == 1)         branch=statements[0];
      }
      if (!(branch instanceof PsiContinueStatement) || ((PsiContinueStatement)branch).getLabelIdentifier() != null)       return null;
      PsiStatement[] statements;
      if (ifStatement.getElseBranch() != null) {
        statements=myStatements.clone();
        statements[0]=ifStatement.getElseBranch();
      }
 else {
        statements=Arrays.copyOfRange(myStatements,1,myStatements.length);
      }
      return new TerminalBlock(new FilterOp(myPreviousOp,ifStatement.getCondition(),myVariable,true),myVariable,statements);
    }
  }
  return null;
}
