{
  name=transformName(name);
  myDebugInfo.addNameEntry(name,loader);
  if (myNameFilter == null) {
    Object loaders=myResources2LoadersTempMap.get(name);
    boolean added=false;
    if (loaders == null) {
      myResources2LoadersTempMap.put(name,loader);
      added=true;
    }
 else     if (loaders instanceof Loader && loaders != loader) {
      myResources2LoadersTempMap.put(name,new Loader[]{(Loader)loaders,loader});
      added=true;
    }
 else     if (loaders instanceof Loader[]) {
      boolean weHaveThisLoader=false;
      for (      Loader existing : (Loader[])loaders) {
        if (existing == loader) {
          weHaveThisLoader=true;
          break;
        }
      }
      if (!weHaveThisLoader) {
        myResources2LoadersTempMap.put(name,ArrayUtil.append((Loader[])loaders,loader));
        added=true;
      }
    }
    if (doDebug && added)     ++registeredBeforeClose;
  }
 else {
    if (doDebug) {
      if (!myNameFilter.maybeContains(name,loader))       ++registeredAfterClose;
    }
    myNameFilter.add(name,loader);
  }
}
