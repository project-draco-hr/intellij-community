{
  name=transformName(name);
  myDebugInfo.addNameEntry(name,loader);
  Name2LoaderFilter nameFilter=myNameFilter;
  Map<String,Set<Loader>> resources2LoadersTempMap=myResources2LoadersTempMap;
  if (nameFilter == null) {
    Set<Loader> loaders=resources2LoadersTempMap.get(name);
    if (loaders == null)     resources2LoadersTempMap.put(name,loaders=new THashSet<Loader>());
    boolean added=loaders.add(loader);
    if (doDebug && added)     ++registeredBeforeClose;
  }
 else {
    if (doDebug) {
      if (!nameFilter.maybeContains(name,loader))       ++registeredAfterClose;
    }
    nameFilter.add(name,loader);
  }
}
