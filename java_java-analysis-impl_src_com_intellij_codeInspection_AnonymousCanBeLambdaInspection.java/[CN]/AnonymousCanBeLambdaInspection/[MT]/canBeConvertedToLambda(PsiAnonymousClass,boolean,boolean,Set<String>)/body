{
  if (PsiUtil.getLanguageLevel(aClass).isAtLeast(LanguageLevel.JDK_1_8)) {
    final PsiClassType baseClassType=aClass.getBaseClassType();
    final PsiClassType.ClassResolveResult resolveResult=baseClassType.resolveGenerics();
    final PsiClass baseClass=resolveResult.getElement();
    if (baseClass == null || !reportNotAnnotatedInterfaces && !AnnotationUtil.isAnnotated(baseClass,CommonClassNames.JAVA_LANG_FUNCTIONAL_INTERFACE,false,false)) {
      return false;
    }
    final PsiMethod interfaceMethod=LambdaUtil.getFunctionalInterfaceMethod(resolveResult);
    if (interfaceMethod != null && (acceptParameterizedFunctionTypes || !interfaceMethod.hasTypeParameters())) {
      final PsiMethod[] methods=aClass.getMethods();
      if (methods.length == 1) {
        final PsiMethod method=methods[0];
        if (isClassAndMethodSuitableForConversion(aClass,method,ignoredRuntimeAnnotations)) {
          final PsiType inferredType=getInferredType(aClass,method);
          if (inferredType == null) {
            return false;
          }
          return true;
        }
      }
    }
  }
  return false;
}
