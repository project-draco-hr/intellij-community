{
  if (putBranch instanceof PsiBlockStatement) {
    final PsiStatement[] statements=((PsiBlockStatement)putBranch).getCodeBlock().getStatements();
    if (statements.length >= 2) {
      final PsiStatement putStatement=statements[statements.length - 1];
      final PsiExpression valueArgument=putExpression.getArgumentList().getExpressions()[1];
      putStatement.replace(JavaPsiFacade.getElementFactory(putBranch.getProject()).createStatementFromText("return " + valueArgument.getText() + ";",putBranch));
      return putBranch;
    }
  }
  return putExpression.getArgumentList().getExpressions()[1];
}
