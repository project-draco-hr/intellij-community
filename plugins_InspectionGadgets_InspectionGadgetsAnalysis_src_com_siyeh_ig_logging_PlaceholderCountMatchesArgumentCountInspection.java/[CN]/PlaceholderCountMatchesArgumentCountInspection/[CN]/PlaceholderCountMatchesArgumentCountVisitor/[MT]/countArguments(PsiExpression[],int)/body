{
  if (arguments.length <= countFrom) {
    return 0;
  }
  final int count=arguments.length - countFrom;
  if (count == 1) {
    final PsiExpression argument=arguments[countFrom];
    final PsiType argumentType=argument.getType();
    if (argumentType instanceof PsiArrayType) {
      if (argumentType.equalsToText("java.lang.Object[]") && argument instanceof PsiNewExpression) {
        final PsiNewExpression newExpression=(PsiNewExpression)argument;
        final PsiArrayInitializerExpression arrayInitializerExpression=newExpression.getArrayInitializer();
        if (arrayInitializerExpression != null) {
          return arrayInitializerExpression.getInitializers().length;
        }
      }
      return -1;
    }
  }
  final PsiExpression lastArgument=arguments[arguments.length - 1];
  return hasThrowableType(lastArgument) ? count - 1 : count;
}
