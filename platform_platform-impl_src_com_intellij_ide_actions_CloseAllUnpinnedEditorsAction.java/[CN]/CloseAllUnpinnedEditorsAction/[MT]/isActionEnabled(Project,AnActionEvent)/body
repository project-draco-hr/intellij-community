{
  final ArrayList<Pair<EditorComposite,EditorWindow>> filesToClose=getFilesToClose(event);
  if (filesToClose.isEmpty())   return false;
  Set<EditorWindow> checked=new HashSet<EditorWindow>();
  boolean hasPinned=false;
  boolean hasUnpinned=false;
  for (  Pair<EditorComposite,EditorWindow> pair : filesToClose) {
    final EditorWindow window=pair.second;
    if (checked.add(window)) {
      for (      EditorWithProviderComposite e : window.getEditors()) {
        if (e.isPinned()) {
          hasPinned=true;
        }
 else {
          hasUnpinned=true;
        }
      }
      if (hasUnpinned) {
        return true;
      }
    }
  }
  return false;
}
