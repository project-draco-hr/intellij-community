{
  @NotNull RepositoryLibraryProperties properties=myEditorComponent.getProperties();
  boolean wasGeneratedName=RepositoryLibraryType.getInstance().getDescription(properties).equals(myEditorComponent.getLibraryEditor().getName());
  RepositoryLibraryPropertiesEditor editor=new RepositoryLibraryPropertiesEditor(myEditorComponent.getProject(),RepositoryUtils.libraryHasSources(myEditorComponent.getLibraryEditor()),RepositoryUtils.libraryHasJavaDocs(myEditorComponent.getLibraryEditor()),properties);
  editor.setTitle(RepositoryLibraryDescription.findDescription(properties).getDisplayName());
  if (!editor.showAndGet()) {
    return;
  }
  myEditorComponent.getProperties().loadState(editor.getProperties());
  if (wasGeneratedName) {
    myEditorComponent.renameLibrary(RepositoryLibraryType.getInstance().getDescription(properties));
  }
  myEditorComponent.getLibraryEditor().removeAllRoots();
  myEditorComponent.getLibraryEditor().addRoots(RepositoryUtils.download(myEditorComponent.getProject(),editor.downloadSources(),editor.downloadJavaDocs(),properties));
}
