{
  Symbol symbol=refSymbol.getSymbol();
  final Tree.Kind kind=refSymbol.getPlaceKind();
  if (symbol instanceof Symbol.ClassSymbol) {
    if (!isPrivate(symbol) && !isAnonymous(symbol)) {
      return new LightRef.JavaLightClassRef(id(symbol,byteArrayEnumerator));
    }
  }
 else {
    Symbol owner=symbol.owner;
    if (isPrivate(symbol)) {
      return null;
    }
    if (symbol instanceof Symbol.VarSymbol) {
      return new LightRef.JavaLightFieldRef(id(owner,byteArrayEnumerator),id(symbol,byteArrayEnumerator));
    }
 else     if (symbol instanceof Symbol.MethodSymbol) {
      int paramCount=((Symbol.MethodSymbol)symbol).type.getParameterTypes().size();
      return new LightRef.JavaLightMethodRef(id(owner,byteArrayEnumerator),id(symbol,byteArrayEnumerator),paramCount);
    }
 else {
      throw new AssertionError("unexpected symbol: " + symbol + " class: "+ symbol.getClass()+ " kind: "+ kind);
    }
  }
  return null;
}
