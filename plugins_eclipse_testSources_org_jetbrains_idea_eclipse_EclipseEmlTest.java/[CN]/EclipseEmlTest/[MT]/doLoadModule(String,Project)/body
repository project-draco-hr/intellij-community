{
  Module module;
  AccessToken token=WriteAction.start();
  try {
    module=ModuleManager.getInstance(project).newModule(path + '/' + EclipseProjectFinder.findProjectName(path)+ IdeaXml.IML_EXT,StdModuleTypes.JAVA.getId());
  }
  finally {
    token.finish();
  }
  replaceRoot(path,EclipseXml.DOT_CLASSPATH_EXT,project);
  ModifiableRootModel rootModel=ModuleRootManager.getInstance(module).getModifiableModel();
  new EclipseClasspathConverter(module).readClasspath(rootModel);
  token=WriteAction.start();
  try {
    rootModel.commit();
  }
  finally {
    token.finish();
  }
  return module;
}
