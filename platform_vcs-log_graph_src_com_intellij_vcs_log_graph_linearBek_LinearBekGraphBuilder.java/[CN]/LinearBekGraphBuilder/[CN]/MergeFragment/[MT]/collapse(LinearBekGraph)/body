{
  for (  int upNodeIndex : myTailEdges.keys()) {
    for (    int downNodeIndex : myTailEdges.get(upNodeIndex)) {
      removeEdge(graph,upNodeIndex,downNodeIndex);
    }
  }
  TIntIterator it=myTails.iterator();
  while (it.hasNext()) {
    int tail=it.next();
    if (!LinearGraphUtils.getDownNodes(graph,tail).contains(myFirstChild)) {
      addEdge(graph,tail,myFirstChild);
    }
 else     if (myMergeWithOldCommit) {
      replaceEdge(graph,tail,myFirstChild);
    }
  }
  removeEdge(graph,myParent,myFirstChild);
}
