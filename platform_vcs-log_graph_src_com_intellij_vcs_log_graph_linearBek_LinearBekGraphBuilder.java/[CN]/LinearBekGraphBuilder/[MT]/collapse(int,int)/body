{
  int headNumber=myHeads.indexOf(head);
  int nextHeadIndex=headNumber == myHeads.size() - 1 ? Integer.MAX_VALUE : myGraphLayout.getLayoutIndex(myHeads.get(headNumber + 1));
  int headIndex=myGraphLayout.getLayoutIndex(head);
  List<Integer> downNodes=ContainerUtil.sorted(LinearGraphUtils.getDownNodes(myWorkingGraph,mergeCommit));
  if (collapse(downNodes.get(1),downNodes.get(0),mergeCommit,headIndex,nextHeadIndex)) {
    myWorkingGraph.apply();
  }
 else {
    myWorkingGraph.clear();
  }
}
