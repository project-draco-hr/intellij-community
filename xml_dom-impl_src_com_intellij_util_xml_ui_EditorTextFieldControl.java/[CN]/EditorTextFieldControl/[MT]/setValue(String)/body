{
  CommandProcessor.getInstance().runUndoTransparentAction(new Runnable(){
    @Override public void run(){
      new WriteAction(){
        @Override protected void run(        @NotNull Result result) throws Throwable {
          final T component=getComponent();
          final Document document=getEditorTextField(component).getDocument();
          document.replaceString(0,document.getTextLength(),value == null ? "" : value);
        }
      }
.execute();
    }
  }
);
}
