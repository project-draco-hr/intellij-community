{
  if (Utils.IS_TEST_MODE) {
    for (    File file : filesToAdd) {
      LOG.info("Marking dirty: " + file.getPath());
    }
  }
  Set<File> files;
synchronized (myFilesToRecompile) {
    files=myFilesToRecompile.get(root);
    if (files == null) {
      files=new THashSet<File>(FileUtil.FILE_HASHING_STRATEGY);
      myFilesToRecompile.put(root,files);
    }
    return files.addAll(filesToAdd);
  }
}
