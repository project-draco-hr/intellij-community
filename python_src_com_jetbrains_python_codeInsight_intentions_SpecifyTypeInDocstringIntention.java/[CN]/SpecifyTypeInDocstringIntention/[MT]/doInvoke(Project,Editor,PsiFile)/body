{
  final PsiElement elementAt=PyUtil.findNonWhitespaceAtOffset(file,editor.getCaretModel().getOffset());
  final PyExpression problemElement=getProblemElement(elementAt);
  final PsiReference reference=problemElement == null ? null : problemElement.getReference();
  final PsiElement resolved=reference != null ? reference.resolve() : null;
  final PyNamedParameter parameter=getParameter(problemElement,resolved);
  final PyCallable callable;
  if (parameter != null) {
    callable=PsiTreeUtil.getParentOfType(parameter,PyFunction.class);
  }
 else {
    callable=getCallable(elementAt);
  }
  if (callable instanceof PyFunction) {
    generateDocstring(parameter,(PyFunction)callable);
  }
}
