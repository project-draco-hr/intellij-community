{
  final List<VirtualFile> files=new ArrayList<VirtualFile>();
  for (  ExternalSystemNode each : getSelectedNodes(ExternalSystemNode.class)) {
    VirtualFile file=each.getVirtualFile();
    if (file != null && file.isValid())     files.add(file);
  }
  return files.isEmpty() ? null : VfsUtilCore.toVirtualFileArray(files);
}
