{
  final String path="joinLines/";
  myFixture.configureByFile(path + getTestName(false) + ".py");
  final Editor editor=myFixture.getEditor();
  final Document doc=editor.getDocument();
  final int caret_line=doc.getLineNumber(editor.getCaretModel().getOffset());
  final int eol_pos=doc.getLineEndOffset(caret_line);
  CharSequence text=doc.getCharsSequence();
  int i=eol_pos;
  while (" \n\t".indexOf(text.charAt(i)) >= 0)   i-=1;
  final int start=i + 1;
  i=eol_pos;
  while (" \n\t".indexOf(text.charAt(i)) >= 0)   i+=1;
  final int end=i;
  final JoinRawLinesHandlerDelegate handler=new PyJoinLinesHandler();
  new WriteAction(){
    @Override protected void run(    Result result) throws Throwable {
      handler.tryJoinRawLines(doc,myFixture.getFile(),start,end);
    }
  }
.execute().throwException();
  myFixture.checkResultByFile(path + getTestName(false) + "-after.py");
}
