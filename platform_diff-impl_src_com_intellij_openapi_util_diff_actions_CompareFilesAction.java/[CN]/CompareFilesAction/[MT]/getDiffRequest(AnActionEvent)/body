{
  final DiffRequest diffRequest=DIFF_REQUEST.getData(e.getDataContext());
  if (diffRequest != null) {
    return diffRequest;
  }
  final VirtualFile[] data=CommonDataKeys.VIRTUAL_FILE_ARRAY.getData(e.getDataContext());
  if (data == null || data.length != 2) {
    return null;
  }
  return DiffRequestFactory.createFromFile(e.getProject(),data[0],data[1]);
}
