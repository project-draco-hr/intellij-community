{
  String fullPath=getTestDataPath() + filePath;
  allowRootAccess(fullPath);
  String vfsPath=FileUtil.toSystemIndependentName(fullPath);
  VirtualFile vFile=LocalFileSystem.getInstance().findFileByPath(vfsPath);
  assertNotNull("file " + fullPath + " not found",vFile);
  String realVfsPath=vFile.getPath();
  if (!SystemInfo.isFileSystemCaseSensitive && !vfsPath.equals(realVfsPath) && vfsPath.equalsIgnoreCase(realVfsPath)) {
    fail("Please correct case-sensitivity of path to prevent test failure on case-sensitive file systems:\n" + "     path " + vfsPath + "\n"+ "real path "+ realVfsPath);
  }
  return vFile;
}
