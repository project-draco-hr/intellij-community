{
  CharSequence content1=getRangeContent(fragment,editors,side1);
  CharSequence content2=getRangeContent(fragment,editors,side2);
switch (policy) {
case DEFAULT:
    return StringUtil.equals(content1,content2);
case TRIM_WHITESPACES:
  return StringUtil.equalsTrimWhitespaces(content1,content2);
case IGNORE_WHITESPACES:
return StringUtil.equalsIgnoreWhitespaces(content1,content2);
default :
throw new IllegalArgumentException(policy.name());
}
}
