{
  runInBackground(new ThrowableConsumer<ProgressIndicator,VcsException>(){
    @Override public void consume(    ProgressIndicator indicator) throws VcsException {
      if (myAllLog != null) {
        Collection<Ref> refs=myLogProvider.readAllRefs(myRoot);
        myDataPack=DataPack.build(myAllLog,refs,indicator);
        UIUtil.invokeAndWaitIfNeeded(new Runnable(){
          @Override public void run(){
            notifyAboutDataRefresh();
            onSuccess.run();
          }
        }
);
      }
    }
  }
);
}
