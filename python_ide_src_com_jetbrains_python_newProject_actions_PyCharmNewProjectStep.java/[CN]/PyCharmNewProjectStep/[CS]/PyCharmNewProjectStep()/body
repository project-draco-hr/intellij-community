{
  super("Select Project Type",true);
  final NullableConsumer<ProjectSettingsStepBase> callback=new GenerateProjectCallback();
  final PythonBaseProjectGenerator baseGenerator=new PythonBaseProjectGenerator();
  final ProjectSpecificAction action=new ProjectSpecificAction(baseGenerator,new ProjectSpecificSettingsStep(baseGenerator,callback));
  addAll(action.getChildren(null));
  final DirectoryProjectGenerator[] generators=Extensions.getExtensions(DirectoryProjectGenerator.EP_NAME);
  if (generators.length == 0) {
    action.setPopup(false);
  }
  Arrays.sort(generators,new Comparator<DirectoryProjectGenerator>(){
    @Override public int compare(    DirectoryProjectGenerator o1,    DirectoryProjectGenerator o2){
      if (o1 instanceof PyFrameworkProjectGenerator && !(o2 instanceof PyFrameworkProjectGenerator))       return -1;
      if (!(o1 instanceof PyFrameworkProjectGenerator) && o2 instanceof PyFrameworkProjectGenerator)       return 1;
      return o1.getName().compareTo(o2.getName());
    }
  }
);
  List<DirectoryProjectGenerator> pluginSpecificGenerators=Lists.newArrayList();
  for (  DirectoryProjectGenerator generator : generators) {
    if (generator instanceof PythonProjectGenerator) {
      ProjectSpecificAction group=new ProjectSpecificAction(generator,new ProjectSpecificSettingsStep(generator,new PythonGenerateProjectCallback()));
      addAll(group.getChildren(null));
    }
 else     pluginSpecificGenerators.add(generator);
  }
  if (!pluginSpecificGenerators.isEmpty()) {
    PluginSpecificProjectsStep step=new PluginSpecificProjectsStep(callback,pluginSpecificGenerators);
    addAll(step.getChildren(null));
  }
}
