{
  List<SpecialRowElement> result=new SmartList<SpecialRowElement>();
  int position=0;
  for (  GraphElement element : getSortedVisibleElementsInRow(visibleRowIndex)) {
    if (element instanceof Node) {
      result.add(new SpecialRowElement(element,position,SpecialRowElement.Type.NODE));
    }
    if (element instanceof Edge) {
      Edge edge=(Edge)element;
      if (visibleRowIndex - edge.getUpNodeVisibleIndex() == getLongEdgeArrow())       result.add(new SpecialRowElement(edge,position,SpecialRowElement.Type.DOWN_ARROW));
      if (edge.getDownNodeVisibleIndex() - visibleRowIndex == getLongEdgeArrow())       result.add(new SpecialRowElement(edge,position,SpecialRowElement.Type.UP_ARROW));
    }
    position++;
  }
  return result;
}
