{
  List<GraphElement> graphElements=cache.get(visibleRowIndex);
  if (graphElements != null) {
    return graphElements;
  }
  List<GraphElement> result=new ArrayList<GraphElement>();
  result.add(myGraph.getNode(visibleRowIndex));
  for (  Edge edge : myEdgesInRow.getEdgesInRow(visibleRowIndex)) {
    if (edgeIsVisibleInRow(edge,visibleRowIndex))     result.add(edge);
  }
  Collections.sort(result,new Comparator<GraphElement>(){
    @Override public int compare(    @NotNull GraphElement o1,    @NotNull GraphElement o2){
      return Double.compare(o1.getLayoutIndex(),o2.getLayoutIndex());
    }
  }
);
  cache.put(visibleRowIndex,result);
  return result;
}
