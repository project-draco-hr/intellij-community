{
  VirtualFile virtualFile=FileDocumentManager.getInstance().getFile(document);
  if (virtualFile == null) {
    return null;
  }
  final RangeHighlighter highlighter=createHighlighter(project,document,lineIndex);
  if (highlighter == null) {
    return null;
  }
  final RunToCursorBreakpoint breakpoint=new RunToCursorBreakpoint(project,highlighter,restoreBreakpoints,xBreakpoint);
  final RangeHighlighter h=breakpoint.getHighlighter();
  if (h != null) {
    h.dispose();
  }
  return (RunToCursorBreakpoint)breakpoint.init();
}
