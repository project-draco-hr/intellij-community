{
  VirtualFile virtualFile=FileDocumentManager.getInstance().getFile(document);
  if (virtualFile == null) {
    return null;
  }
  PsiFile psiFile=PsiManager.getInstance(project).findFile(virtualFile);
  SourcePosition pos=SourcePosition.createFromLine(psiFile,lineIndex);
  return new RunToCursorBreakpoint(project,pos,restoreBreakpoints);
}
