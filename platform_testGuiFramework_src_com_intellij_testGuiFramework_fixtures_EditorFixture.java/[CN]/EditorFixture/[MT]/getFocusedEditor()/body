{
  Editor editor=execute(new GuiQuery<Editor>(){
    @Override @Nullable protected Editor executeInEDT() throws Throwable {
      FileEditorManager manager=FileEditorManager.getInstance(myFrame.getProject());
      return manager.getSelectedTextEditor();
    }
  }
);
  pause(new Condition("Waiting for showing focused textEditor"){
    @Override public boolean test(){
      return editor.getContentComponent().isShowing();
    }
  }
,SHORT_TIMEOUT);
  if (editor != null) {
    JComponent contentComponent=editor.getContentComponent();
    new ComponentDriver(robot).focusAndWaitForFocusGain(contentComponent);
    assertSame(contentComponent,FocusManager.getCurrentManager().getFocusOwner());
    return contentComponent;
  }
 else {
    fail("Expected to find editor to focus, but there is no current editor");
    return null;
  }
}
