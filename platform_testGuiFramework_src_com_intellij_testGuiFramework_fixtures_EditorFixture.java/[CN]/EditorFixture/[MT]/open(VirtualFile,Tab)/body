{
  execute(new GuiTask(){
    @Override protected void executeInEDT() throws Throwable {
      Project project=myFrame.getProject();
      FileEditorManager manager=FileEditorManager.getInstance(project);
      if (tab == Tab.EDITOR) {
        manager.openTextEditor(new OpenFileDescriptor(project,file),true);
      }
 else {
        manager.openFile(file,true);
      }
    }
  }
);
  pause(new Condition("File " + quote(file.getPath()) + " to be opened"){
    @Override public boolean test(){
      return execute(new GuiQuery<Boolean>(){
        @Override protected Boolean executeInEDT() throws Throwable {
          FileEditor[] editors=FileEditorManager.getInstance(myFrame.getProject()).getEditors(file);
          if (editors.length == 0)           return false;
          return editors[0].getComponent().isShowing();
        }
      }
);
    }
  }
,SHORT_TIMEOUT);
  invokeActionViaKeystroke("Synchronize");
  return this;
}
