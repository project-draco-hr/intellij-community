{
  boolean hasChanges=false;
  try {
    for (    String string : element.getAllLookupStrings()) {
      for (int len=1; len < string.length(); len++) {
        String prefix=string.substring(0,len);
        for (        LookupElement shorterElement : myElements.get(prefix)) {
          if (myCondition.shouldLift(shorterElement,element)) {
            hasChanges=true;
            myToLift.putValue(element,shorterElement);
          }
        }
      }
    }
  }
 catch (  ConcurrentModificationException e) {
    throw new RuntimeException("Error while traversing lookup strings of " + element + " of "+ element.getClass(),e);
  }
  if (hasChanges) {
    internListToLift(element);
  }
}
