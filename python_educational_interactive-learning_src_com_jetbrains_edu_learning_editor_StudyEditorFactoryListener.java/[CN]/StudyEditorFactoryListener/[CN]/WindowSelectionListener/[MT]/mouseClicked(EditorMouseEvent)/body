{
  final Editor editor=e.getEditor();
  final Point point=e.getMouseEvent().getPoint();
  final LogicalPosition pos=editor.xyToLogicalPosition(point);
  final AnswerPlaceholder answerPlaceholder=myTaskFile.getAnswerPlaceholder(editor.getDocument(),pos);
  if (answerPlaceholder != null) {
    if (myAnswerPlaceholderWithSelection != null && myAnswerPlaceholderWithSelection == answerPlaceholder) {
      editor.getSelectionModel().removeSelection();
      myAnswerPlaceholderWithSelection=null;
    }
 else {
      int startOffset=answerPlaceholder.getRealStartOffset(editor.getDocument());
      editor.getSelectionModel().setSelection(startOffset,startOffset + answerPlaceholder.getLength());
      myAnswerPlaceholderWithSelection=answerPlaceholder;
    }
  }
}
