{
  try {
    String answerFileName=FileUtil.getNameWithoutExtension(fileName) + ".answer";
    final VirtualFile answerFile=taskDir.findChild(answerFileName);
    if (answerFile == null) {
      LOG.debug("could not find answer file " + answerFileName);
      return;
    }
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        final FileDocumentManager documentManager=FileDocumentManager.getInstance();
        documentManager.saveAllDocuments();
      }
    }
);
    answerFile.copy(project,taskDir,fileName);
    flushWindows(taskFile,answerFile);
    createResourceFiles(answerFile,project);
  }
 catch (  IOException e) {
    LOG.error(e);
  }
}
