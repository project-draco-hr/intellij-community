{
  final PyExpression qualifier=node.getQualifier();
  if (qualifier != null) {
    final PyType type=myTypeEvalContext.getType(qualifier);
    if (type instanceof PyClassType) {
      final PyClass pyClass=((PyClassType)type).getPyClass();
      if (pyClass != null && pyClass.isNewStyleClass()) {
        final List<String> slots=pyClass.getSlots();
        final String attrName=node.getReferencedName();
        if (slots != null && !slots.contains(attrName) && !slots.contains(PyNames.DICT)) {
          for (          PyClassRef ref : pyClass.iterateAncestors()) {
            final PyClass ancestor=ref.getPyClass();
            if (ancestor == null) {
              return;
            }
            if (PyNames.OBJECT.equals(ancestor.getName())) {
              break;
            }
            final List<String> ancestorSlots=ancestor.getSlots();
            if (ancestorSlots == null || ancestorSlots.contains(attrName) || ancestorSlots.contains(PyNames.DICT)) {
              return;
            }
          }
          final ASTNode nameNode=node.getNameElement();
          final PsiElement e=nameNode != null ? nameNode.getPsi() : node;
          registerProblem(e,"'" + pyClass.getName() + "' object has no attribute '"+ attrName+ "'");
        }
      }
    }
  }
}
