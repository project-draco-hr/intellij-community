{
  VirtualFile virtualFile=findScriptFileByPath(path);
  if (virtualFile == null) {
    throw new CantRunException("File not found: " + path);
  }
  File ioFile;
  try {
    ioFile=FileUtil.createTempFile(virtualFile.getName(),"",true);
  }
 catch (  IOException e) {
    throw new CantRunException("Cannot create temporary file " + virtualFile.getName(),e);
  }
  try {
    copyFile(virtualFile,ioFile);
    return ioFile;
  }
 catch (  IOException e) {
    throw new CantRunException("Cannot write temp file " + virtualFile.getPath() + " to "+ ioFile.getAbsolutePath(),e);
  }
}
