{
  TextAttributes attributes=getStripeTextAttributes(type,editor);
  int offset=DocumentUtil.getFirstNonSpaceCharOffset(editor.getDocument(),line);
  RangeHighlighter marker=editor.getMarkupModel().addRangeHighlighter(offset,offset,HighlighterLayer.SELECTION - 1,attributes,HighlighterTargetArea.LINES_IN_RANGE);
  marker.setLineSeparatorPlacement(placement);
  marker.setLineSeparatorRenderer(new LineSeparatorRenderer(){
    @Override public void drawLine(    Graphics g,    int x1,    int x2,    int y){
      Rectangle clip=g.getClipBounds();
      x2=clip.x + clip.width;
      if (doubleLine) {
        drawDoubleShadowedLine((Graphics2D)g,x1,x2,y,type.getColor(editor));
      }
 else {
        drawShadowedLine((Graphics2D)g,x1,x2,y,type.getColor(editor));
      }
    }
  }
);
  return marker;
}
