{
  UserExpressionDescriptorImpl descriptor=(UserExpressionDescriptorImpl)((JavaValue)node.getValueContainer()).getDescriptor();
  EnumerationChildrenRenderer enumerationChildrenRenderer=getParentEnumerationRenderer(descriptor);
  if (enumerationChildrenRenderer != null) {
    enumerationChildrenRenderer.getChildren().remove(descriptor.getEnumerationIndex());
    TreeNode parent=node.getParent();
    int index=parent.getIndex(node);
    int indexToSelect=index + 1 < parent.getChildCount() ? index + 1 : index - 1;
    TreeUtil.selectNode(node.getTree(),indexToSelect >= 0 ? parent.getChildAt(indexToSelect) : parent);
    XDebuggerUtilImpl.rebuildTreeAndViews(node.getTree());
  }
}
