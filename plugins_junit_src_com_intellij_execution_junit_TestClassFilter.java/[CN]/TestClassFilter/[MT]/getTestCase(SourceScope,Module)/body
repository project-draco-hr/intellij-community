{
  if (sourceScope == null)   throw new JUnitUtil.NoJUnitException();
  final JUnitUtil.NoJUnitException[] ex=new JUnitUtil.NoJUnitException[1];
  final PsiClass testCase=ApplicationManager.getApplication().runReadAction(new Computable<PsiClass>(){
    @Override public PsiClass compute(){
      if (JUnitUtil.isJUnit5(module != null ? GlobalSearchScope.moduleRuntimeScope(module,true) : sourceScope.getLibrariesScope(),sourceScope.getProject())) {
        return null;
      }
      try {
        return module == null ? JUnitUtil.getTestCaseClass(sourceScope) : JUnitUtil.getTestCaseClass(module);
      }
 catch (      JUnitUtil.NoJUnitException e) {
        ex[0]=e;
        return null;
      }
    }
  }
);
  if (ex[0] != null)   throw ex[0];
  return testCase;
}
