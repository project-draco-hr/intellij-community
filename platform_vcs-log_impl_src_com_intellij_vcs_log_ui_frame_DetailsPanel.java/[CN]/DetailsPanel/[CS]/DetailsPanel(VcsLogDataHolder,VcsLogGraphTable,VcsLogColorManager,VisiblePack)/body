{
  myLogDataHolder=logDataHolder;
  myGraphTable=graphTable;
  myDataPack=initialDataPack;
  myRefsPanel=new RefsPanel(colorManager);
  myHashAuthorPanel=new DataPanel(logDataHolder.getProject(),false);
  final JScrollPane scrollPane=ScrollPaneFactory.createScrollPane();
  myMessageDataPanel=new DataPanel(logDataHolder.getProject(),true){
    @Override public Dimension getPreferredSize(){
      Dimension size=super.getPreferredSize();
      size.width=scrollPane.getViewport().getWidth() - 5;
      return size;
    }
  }
;
  scrollPane.setViewportView(myMessageDataPanel);
  scrollPane.setBorder(UIUtil.makeChameleonBorder(scrollPane.getBorder(),new Condition<JScrollBar>(){
    @Override public boolean value(    JScrollBar bar){
      return bar != null && bar.isVisible();
    }
  }
,scrollPane.getVerticalScrollBar()));
  myContainingBranchesPanel=new ContainingBranchesPanel();
  myMessagePanel=new MessagePanel();
  myLoadingPanel=new JBLoadingPanel(new BorderLayout(),logDataHolder,ProgressWindow.DEFAULT_PROGRESS_DIALOG_POSTPONE_TIME_MILLIS);
  JPanel header=new NonOpaquePanel(new BorderLayout());
  header.add(myRefsPanel,BorderLayout.NORTH);
  header.add(myHashAuthorPanel,BorderLayout.SOUTH);
  myLoadingPanel.add(header,BorderLayout.NORTH);
  myLoadingPanel.add(scrollPane,BorderLayout.CENTER);
  myLoadingPanel.add(myContainingBranchesPanel,BorderLayout.SOUTH);
  myLoadingPanel.setBackground(UIUtil.getTableBackground());
  setLayout(new CardLayout());
  add(myLoadingPanel,STANDARD_LAYER);
  add(myMessagePanel,MESSAGE_LAYER);
  setBorder(BorderFactory.createEmptyBorder(0,5,0,5));
  setBackground(UIUtil.getTableBackground());
  showMessage("No commits selected");
}
