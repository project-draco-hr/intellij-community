{
  int[] rows=myGraphTable.getSelectedRows();
  if (rows.length < 1) {
    showMessage("No commits selected");
  }
 else   if (rows.length > 1) {
    showMessage("Several commits selected");
  }
 else {
    ((CardLayout)getLayout()).show(this,STANDARD_LAYER);
    int row=rows[0];
    GraphTableModel tableModel=(GraphTableModel)myGraphTable.getModel();
    Hash hash=tableModel.getHashAtRow(row);
    VcsFullCommitDetails commitData=myLogDataHolder.getCommitDetailsGetter().getCommitData(row,tableModel);
    if (commitData == null || hash == null) {
      showMessage("No commits selected");
      return;
    }
    if (commitData instanceof LoadingDetails) {
      myLoadingPanel.startLoading();
      myHashAuthorPanel.setData(null);
      myMessageDataPanel.setData(null);
      myRefsPanel.setRefs(Collections.<VcsRef>emptyList());
    }
 else {
      myLoadingPanel.stopLoading();
      myHashAuthorPanel.setData(commitData);
      myMessageDataPanel.setData(commitData);
      myRefsPanel.setRefs(sortRefs(hash,commitData.getRoot()));
    }
    List<String> branches=null;
    if (!(commitData instanceof LoadingDetails)) {
      branches=myLogDataHolder.getContainingBranchesGetter().requestContainingBranches(commitData.getRoot(),hash);
    }
    myContainingBranchesPanel.setBranches(branches);
  }
}
