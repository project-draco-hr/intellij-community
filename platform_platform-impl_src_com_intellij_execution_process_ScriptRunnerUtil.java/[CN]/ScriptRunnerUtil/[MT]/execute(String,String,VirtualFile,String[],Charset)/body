{
  if (SystemInfo.isMac) {
    File exeFile=new File(exePath);
    if (!exeFile.isAbsolute()) {
      if (!exePath.contains(File.separator)) {
        File originalResolvedExeFile=PathEnvironmentVariableUtil.findInOriginalPath(exePath);
        if (originalResolvedExeFile == null) {
          File resolvedExeFile=PathEnvironmentVariableUtil.findInPath(exePath);
          if (resolvedExeFile != null) {
            exePath=resolvedExeFile.getAbsolutePath();
          }
        }
      }
    }
  }
  return doExecute(exePath,workingDirectory,scriptFile,parameters,charset);
}
