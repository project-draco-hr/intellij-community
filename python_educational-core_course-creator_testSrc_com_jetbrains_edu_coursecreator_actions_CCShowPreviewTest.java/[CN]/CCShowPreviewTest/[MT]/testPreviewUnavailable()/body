{
  VirtualFile file=configureByTaskFile("noplaceholders.txt");
  CCShowPreview action=new CCShowPreview();
  TestActionEvent e=getActionEvent(action,PsiManager.getInstance(getProject()).findFile(file));
  action.beforeActionPerformedUpdate(e);
  assertTrue(e.getPresentation().isEnabled() && e.getPresentation().isVisible());
  try {
    action.actionPerformed(e);
    assertTrue("No message shown",false);
  }
 catch (  RuntimeException ex) {
    assertEquals(CCShowPreview.NO_PREVIEW_MESSAGE,ex.getMessage());
  }
}
