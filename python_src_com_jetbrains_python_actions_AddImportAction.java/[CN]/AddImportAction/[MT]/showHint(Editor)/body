{
  if (!PyCodeInsightSettings.getInstance().SHOW_IMPORT_POPUP) {
    return false;
  }
  if (!myReference.getElement().isValid() || isResolved(myReference)) {
    return false;
  }
  final String referenceName=getRefName();
  final PsiElement element=ResolveImportUtil.resolveInRoots(myReference.getElement(),referenceName);
  if (element == null || element == myReference.getElement().getContainingFile())   return false;
  String hintText=ShowAutoImportPass.getMessage(false,getRefName());
  HintManager.getInstance().showQuestionHint(editor,hintText,myReference.getElement().getTextOffset(),myReference.getElement().getTextRange().getEndOffset(),this);
  return true;
}
