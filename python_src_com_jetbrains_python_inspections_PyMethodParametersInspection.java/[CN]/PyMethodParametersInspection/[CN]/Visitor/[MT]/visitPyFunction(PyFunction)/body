{
  PsiElement cap=PyResolveUtil.getConcealingParent(node);
  if (cap instanceof PyClass) {
    PyParameterList plist=node.getParameterList();
    PyParameter[] params=plist.getParameters();
    if (params.length == 0) {
      ASTNode name_node=node.getNameNode();
      if (name_node != null) {
        registerProblem(name_node.getPsi(),"Method must have a first parameter, usually called 'self'",ProblemHighlightType.ERROR,null);
      }
    }
 else {
      String pname=params[0].getText();
      for (      String typo : new String[]{"elf","sef","sel","slf","sself","seelf","sellf"}) {
        if (typo.equals(pname)) {
          registerProblem(params[0].getNode().getPsi(),"Did not you mean 'self'?");
          return;
        }
      }
      if (!"self".equals(pname)) {
        registerProblem(plist,"Usually first parameter of a method is named 'self'");
      }
    }
  }
}
