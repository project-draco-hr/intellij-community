{
  if (!(psiElement instanceof PsiArrayInitializerExpression))   return;
  PsiArrayInitializerExpression expr=(PsiArrayInitializerExpression)psiElement;
  if (!expr.getText().endsWith("}")) {
    PsiErrorElement err=ContainerUtil.findInstance(expr.getChildren(),PsiErrorElement.class);
    int endOffset=(err != null ? err : expr).getTextRange().getEndOffset();
    editor.getDocument().insertString(endOffset,"}");
  }
}
