{
  if (descriptor != null) {
    descriptor.setExecutionId(environment.getExecutionId());
    RunnerAndConfigurationSettings settings=environment.getRunnerAndConfigurationSettings();
    if (settings != null) {
      descriptor.setActivateToolWindowWhenAdded(settings.isActivateToolWindowBeforeRun());
    }
  }
  if (callback != null) {
    callback.processStarted(descriptor);
  }
  return descriptor;
}
