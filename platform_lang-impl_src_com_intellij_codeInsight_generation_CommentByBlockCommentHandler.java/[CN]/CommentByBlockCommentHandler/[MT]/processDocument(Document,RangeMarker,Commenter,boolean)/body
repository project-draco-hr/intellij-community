{
  if (commenter instanceof EscapingCommenter) {
    TextRange range=TextRange.create(marker.getStartOffset(),marker.getEndOffset());
    if (escape) {
      ((EscapingCommenter)commenter).escape(document,range);
    }
 else {
      ((EscapingCommenter)commenter).unescape(document,range);
    }
  }
  return TextRange.create(marker.getStartOffset(),marker.getEndOffset());
}
