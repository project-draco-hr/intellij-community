{
switch (mode) {
case EXPRESSION:
    return CodeFragmentKind.EXPRESSION;
case CODE_FRAGMENT:
  return CodeFragmentKind.CODE_BLOCK;
}
throw new IllegalStateException("Unknown mode " + mode);
}
