{
switch (kind) {
case EXPRESSION:
    return EvaluationMode.EXPRESSION;
case CODE_BLOCK:
  return EvaluationMode.CODE_FRAGMENT;
}
throw new IllegalStateException("Unknown kind " + kind);
}
