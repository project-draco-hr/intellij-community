{
  if (filePath == null) {
    return;
  }
  HgRepository repo=HgUtil.getRepositoryForFile(myProject,ChangesUtil.findValidParentAccurately(filePath));
  if (repo == null || filePath.isDirectory()) {
    return;
  }
  Set<HgFile> hgFiles=result.get(repo);
  if (hgFiles == null) {
    hgFiles=new HashSet<HgFile>();
    result.put(repo,hgFiles);
  }
  hgFiles.add(new HgFile(repo.getRoot(),filePath));
}
