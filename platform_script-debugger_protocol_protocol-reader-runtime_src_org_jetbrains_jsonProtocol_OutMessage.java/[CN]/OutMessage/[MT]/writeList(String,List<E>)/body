{
  if (value == null || value.isEmpty()) {
    return;
  }
  try {
    beginArguments();
    writer.name(name);
    writer.beginArray();
    boolean isNotFirst=false;
    for (    OutMessage item : value) {
      if (isNotFirst) {
        stringWriter.append(',').append(' ');
      }
 else {
        isNotFirst=true;
      }
      StringBuffer buffer=item.stringWriter.getBuffer();
      if (!item.finalized) {
        item.finalized=true;
        try {
          item.writer.endObject();
        }
 catch (        IllegalStateException e) {
          if ("Nesting problem.".equals(e.getMessage())) {
            throw new RuntimeException(item.stringWriter.getBuffer() + "\nparent:\n" + stringWriter.getBuffer(),e);
          }
 else {
            throw e;
          }
        }
      }
      stringWriter.append(buffer);
    }
    writer.endArray();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
