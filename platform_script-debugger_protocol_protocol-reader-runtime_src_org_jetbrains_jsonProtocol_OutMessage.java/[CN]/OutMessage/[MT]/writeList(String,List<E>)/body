{
  if (value == null || value.isEmpty()) {
    return;
  }
  try {
    beginArguments();
    writer.name(name);
    writer.beginArray();
    boolean isNotFirst=false;
    for (    OutMessage item : value) {
      if (isNotFirst) {
        buffer.writeByte(',').writeByte(' ');
      }
 else {
        isNotFirst=true;
      }
      if (!item.finalized) {
        item.finalized=true;
        try {
          item.writer.endObject();
        }
 catch (        IllegalStateException e) {
          if ("Nesting problem.".equals(e.getMessage())) {
            throw new RuntimeException(item.buffer.toString(CharsetToolkit.UTF8_CHARSET) + "\nparent:\n" + buffer.toString(CharsetToolkit.UTF8_CHARSET),e);
          }
 else {
            throw e;
          }
        }
      }
      buffer.writeBytes(item.buffer);
    }
    writer.endArray();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
