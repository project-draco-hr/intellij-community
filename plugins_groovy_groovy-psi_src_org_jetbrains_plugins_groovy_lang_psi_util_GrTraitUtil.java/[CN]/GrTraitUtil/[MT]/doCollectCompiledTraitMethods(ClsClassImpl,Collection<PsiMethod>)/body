{
  for (  PsiMethod method : trait.getMethods()) {
    if (AnnotationUtil.isAnnotated(method,GROOVY_TRAIT_IMPLEMENTED,false)) {
      result.add(method);
    }
  }
  VirtualFile traitFile=trait.getContainingFile().getVirtualFile();
  if (traitFile != null) {
    VirtualFile helperFile=traitFile.getParent().findChild(trait.getName() + HELPER_SUFFIX);
    if (helperFile != null) {
      int key=FileBasedIndex.getFileId(helperFile);
      FileBasedIndex.getInstance().processValues(INDEX_ID,key,helperFile,new FileBasedIndex.ValueProcessor<PsiJavaFileStub>(){
        @Override public boolean process(        VirtualFile file,        PsiJavaFileStub root){
          ((PsiJavaFileStubImpl)root).setPsi((PsiJavaFile)trait.getContainingFile());
          for (          Object stub : root.getChildrenStubs().get(0).getChildrenStubs()) {
            if (stub instanceof PsiMethodStub) {
              result.add(createTraitMethodFromCompiledHelperMethod(((PsiMethodStub)stub).getPsi(),trait));
            }
          }
          return true;
        }
      }
,trait.getResolveScope());
    }
  }
}
