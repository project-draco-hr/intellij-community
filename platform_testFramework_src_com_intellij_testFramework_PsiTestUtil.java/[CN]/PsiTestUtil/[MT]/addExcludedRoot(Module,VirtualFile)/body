{
  ModuleRootModificationUtil.updateModel(module,new Consumer<ModifiableRootModel>(){
    @Override public void consume(    final ModifiableRootModel model){
      ApplicationManager.getApplication().runReadAction(new Runnable(){
        @Override public void run(){
          findContentEntryWithAssertion(model,dir).addExcludeFolder(dir);
        }
      }
);
    }
  }
);
}
