{
  ModuleRootModificationUtil.updateModel(module,new Consumer<ModifiableRootModel>(){
    @Override public void consume(    ModifiableRootModel model){
      CompilerModuleExtension extension=model.getModuleExtension(CompilerModuleExtension.class);
      extension.inheritCompilerOutputPath(false);
      if (forTests) {
        extension.setCompilerOutputPathForTests(url);
      }
 else {
        extension.setCompilerOutputPath(url);
      }
    }
  }
);
}
