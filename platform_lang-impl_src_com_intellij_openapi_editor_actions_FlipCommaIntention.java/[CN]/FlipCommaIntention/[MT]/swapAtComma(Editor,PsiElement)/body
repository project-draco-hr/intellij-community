{
  PsiElement prev=smartAdvanceAsExpr(comma,false);
  PsiElement next=smartAdvanceAsExpr(comma,true);
  if (prev != null && next != null) {
    boolean caretBeforeComma=editor.getCaretModel().getOffset() <= comma.getTextRange().getStartOffset();
    PsiElement nextAnchor=next.getPrevSibling();
    PsiElement prevAnchor=prev.getNextSibling();
    comma.getParent().addBefore(next,prevAnchor);
    comma.getParent().addAfter(prev,nextAnchor);
    next.delete();
    prev.delete();
    editor.getCaretModel().moveToOffset(caretBeforeComma ? comma.getTextRange().getStartOffset() : comma.getTextRange().getEndOffset());
  }
}
