{
  if (myGetPassword == null)   return;
  final PasswordSafeImpl passwordSafe=(PasswordSafeImpl)PasswordSafe.getInstance();
  final String url=VirtualFileManager.extractPath(myGetPassword.getURL());
  final String key=keyForUrlAndLogin(url,myGetPassword.getUserName());
  try {
    if (myGetPassword.isRememberPassword()) {
      PasswordSafe.getInstance().storePassword(myProject,HgCommandAuthenticator.class,key,myGetPassword.getPassword());
    }
 else     if (passwordSafe.getSettings().getProviderType() != PasswordSafeSettings.ProviderType.DO_NOT_STORE) {
      passwordSafe.getMemoryProvider().storePassword(myProject,HgCommandAuthenticator.class,key,myGetPassword.getPassword());
    }
    final HgVcs vcs=HgVcs.getInstance(myProject);
    if (vcs != null) {
      vcs.getGlobalSettings().addRememberedUrl(url,myGetPassword.getUserName());
    }
  }
 catch (  PasswordSafeException e) {
    LOG.info("Couldn't store the password for key [" + key + "]",e);
  }
}
