{
  final int[] ports=findFreePorts(2);
  runPythonTest(new DjangoEnvTestTask("/djangoDebug","manage.py","runserver --noreload ",ports[1]){
    @Override public void before() throws Exception {
      String file=getFilePath("/templates/test5.html");
      checkModuleForFile(getProject(),VirtualFileUtil.findFile(file));
      toggleBreakpoint(file,5);
    }
    @Override public void testing() throws Exception {
      waitForStart();
      loadPage(ports[1] + "/test5");
      waitForPause();
      stepInto();
      waitForPause();
      stepOver();
      waitForPause();
      eval("res").hasValue("'Result'");
      stepOver();
      waitForPause();
      eval("name").hasValue("'TemplateDebugging5'");
    }
  }
);
}
