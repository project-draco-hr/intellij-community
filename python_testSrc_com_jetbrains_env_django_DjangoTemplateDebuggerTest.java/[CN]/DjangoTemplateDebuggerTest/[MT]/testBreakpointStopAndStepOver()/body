{
  final int[] ports=findFreePorts(2);
  runPythonTest(new DjangoEnvTestTask("/djangoDebug","manage.py","runserver --noreload ",ports[1]){
    @Override public void before() throws Exception {
      String file=getFilePath("/templates/test4.html");
      checkModuleForFile(getProject(),VirtualFileUtil.findFile(file));
      toggleBreakpoint(file,6);
    }
    @Override public void testing() throws Exception {
      waitForStart();
      loadPage(ports[1] + "/test4");
      waitForPause();
      eval("x").hasValue("1");
      stepOver();
      waitForPause();
      stepOver();
      waitForPause();
      eval("y").hasValue("1");
      resume();
    }
  }
);
}
