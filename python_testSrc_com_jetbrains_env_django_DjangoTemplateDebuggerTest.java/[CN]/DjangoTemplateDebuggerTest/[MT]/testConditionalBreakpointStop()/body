{
  final int[] ports=findFreePorts(2);
  runPythonTest(new DjangoEnvTestTask("/djangoDebug","manage.py","runserver --noreload ",ports[1]){
    @Override public void before() throws Exception {
      String file=getFilePath("/templates/test1.html");
      checkModuleForFile(getProject(),VirtualFileUtil.findFile(file));
      toggleBreakpoint(file,6);
      XDebuggerTestUtil.setBreakpointCondition(getProject(),6,"x == 1 or x == 3");
    }
    @Override public void testing() throws Exception {
      waitForStart();
      LoadingPage page=loadPage(myPort + "/test1");
      waitForPause();
      eval("x").hasValue("1");
      resume();
      waitForPause();
      eval("x").hasValue("3");
      resume();
      page.get().contains("TemplateDebugging");
    }
  }
);
}
