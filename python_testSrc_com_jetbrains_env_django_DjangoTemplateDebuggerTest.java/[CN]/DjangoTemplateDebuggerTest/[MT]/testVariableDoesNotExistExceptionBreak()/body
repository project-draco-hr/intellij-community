{
  final int[] ports=findFreePorts(2);
  runPythonTest(new DjangoEnvTestTask("/djangoDebug","manage.py","runserver --noreload ",ports[1]){
    @Override public void before() throws Exception {
      addDjangoExceptionBreakpoint(myFixture);
    }
    @Override public void testing() throws Exception {
      waitForOutput("Development server is running");
      LoadingPage page=loadPage(myPort + "/test2");
      waitForPause();
      eval("x").hasValue("1");
      eval("name").hasValue("'TemplateDebugging'");
      setVal("name","'TemplateDjangoDebugging'");
      resume();
      waitForPause();
      eval("x").hasValue("2");
      eval("name").hasValue("'TemplateDjangoDebugging'");
      resume();
      waitForPause();
      eval("x").hasValue("3");
      eval("name").hasValue("'TemplateDjangoDebugging'");
      resume();
      page.get().contains("templatedjangodebugging");
    }
  }
);
}
