{
  Map<OccurrencesChooser.ReplaceChoice,List<Object>> occurrencesMap=getOccurrenceOptions(target,usages);
  OccurrencesChooser<Object> chooser=new OccurrencesChooser<Object>(editor){
    @Override protected TextRange getOccurrenceRange(    Object occurrence){
      return IntroduceHandler.this.getOccurrenceRange(occurrence);
    }
  }
;
  chooser.showChooser(new Pass<OccurrencesChooser.ReplaceChoice>(){
    @Override public void pass(    final OccurrencesChooser.ReplaceChoice choice){
      AbstractInplaceIntroducer<?,?> introducer=getIntroducer(target,scope,usages,choice,file,editor,project);
      introducer.startInplaceIntroduceTemplate();
    }
  }
,occurrencesMap);
}
