{
  List<HgRevisionNumber> parents=new ArrayList<HgRevisionNumber>(2);
  if (StringUtil.isEmptyOrSpaces(parentsString)) {
    Long revision=Long.valueOf(currentRevisionString);
    HgRevisionNumber parentRevision=HgRevisionNumber.getLocalInstance(String.valueOf(revision - 1));
    parents.add(parentRevision);
    return parents;
  }
 else {
    String[] parentStrings=parentsString.trim().split(" ");
    for (    String parentString : parentStrings) {
      String[] parentParts=parentString.split(":");
      if (Integer.valueOf(parentParts[0]) >= 0) {
        parents.add(HgRevisionNumber.getInstance(parentParts[0],parentParts[1]));
      }
    }
  }
  return parents;
}
