{
  prepareLocalChangesOverwrittenBy(myCommunity);
  final Ref<String> rollbackMsg=Ref.create();
  checkoutOrMerge(operation,"feature",new TestUiHandler(){
    @Override public int showSmartOperationDialog(    @NotNull Project project,    @NotNull List<Change> changes,    @NotNull Collection<String> paths,    @NotNull String operation,    @Nullable String forceButton){
      return GitSmartOperationDialog.CANCEL_EXIT_CODE;
    }
    @Override public boolean notifyErrorWithRollbackProposal(    @NotNull String title,    @NotNull String message,    @NotNull String rollbackProposal){
      rollbackMsg.set(message);
      return false;
    }
  }
);
  assertNotNull("Rollback proposal was not shown",rollbackMsg.get());
}
