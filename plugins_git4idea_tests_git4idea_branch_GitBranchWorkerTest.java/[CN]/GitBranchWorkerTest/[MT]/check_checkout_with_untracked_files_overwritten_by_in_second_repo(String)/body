{
  branchWithCommit(myRepositories,"feature");
  List<String> untracked=Arrays.asList("untracked.txt");
  untrackedFileOverwrittenBy(myCommunity,"feature",untracked);
  final Collection<String> untrackedPaths=ContainerUtil.newArrayList();
  checkoutOrMerge(operation,"feature",new TestUiHandler(){
    @Override public boolean showUntrackedFilesDialogWithRollback(    @NotNull String operationName,    @NotNull String rollbackProposal,    @NotNull VirtualFile root,    @NotNull Collection<String> relativePaths){
      untrackedPaths.addAll(relativePaths);
      return false;
    }
  }
);
  assertTrue("Untracked files dialog was not shown",!untrackedPaths.isEmpty());
  assertEquals("Incorrect set of untracked files was shown in the dialog",untracked,untrackedPaths);
}
