{
  List<String> localChanges=prepareLocalChangesOverwrittenBy(myUltimate);
  TestUiHandler handler=new TestUiHandler();
  checkoutOrMerge(operation,"feature",handler);
  assertNotNull("No success notification was shown",myVcsNotifier.getLastNotification());
  assertEquals("Success message is incorrect",expectedSuccessMessage,myVcsNotifier.getLastNotification().getContent());
  return localChanges;
}
