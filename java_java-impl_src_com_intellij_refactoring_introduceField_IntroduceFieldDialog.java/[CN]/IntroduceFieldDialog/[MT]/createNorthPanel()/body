{
  JPanel panel=new JPanel(new GridBagLayout());
  GridBagConstraints gbConstraints=new GridBagConstraints();
  gbConstraints.insets=new Insets(4,4,4,0);
  gbConstraints.anchor=GridBagConstraints.EAST;
  gbConstraints.fill=GridBagConstraints.BOTH;
  gbConstraints.gridwidth=1;
  gbConstraints.weightx=0;
  gbConstraints.weighty=1;
  gbConstraints.gridx=0;
  gbConstraints.gridy=0;
  final JLabel type=new JLabel(getTypeLabel());
  panel.add(type,gbConstraints);
  gbConstraints.gridx++;
  gbConstraints.insets=new Insets(4,0,4,4);
  gbConstraints.weightx=0;
  myTypeSelector=myTypeSelectorManager.getTypeSelector();
  panel.add(myTypeSelector.getComponent(),gbConstraints);
  gbConstraints.insets=new Insets(4,4,4,0);
  gbConstraints.gridwidth=1;
  gbConstraints.weightx=0;
  gbConstraints.weighty=1;
  gbConstraints.gridx=0;
  gbConstraints.gridy=1;
  final JLabel namePrompt=new JLabel(RefactoringBundle.message("name.prompt"));
  panel.add(namePrompt,gbConstraints);
  gbConstraints.insets=new Insets(4,0,4,4);
  gbConstraints.gridwidth=1;
  gbConstraints.weightx=1;
  gbConstraints.gridx=1;
  gbConstraints.gridy=1;
  myNameField=new NameSuggestionsField(myProject);
  panel.add(myNameField.getComponent(),gbConstraints);
  myNameField.addDataChangedListener(new NameSuggestionsField.DataChanged(){
    public void dataChanged(){
      updateButtons();
    }
  }
);
  namePrompt.setLabelFor(myNameField.getFocusableComponent());
  new UiNotifyConnector.Once(panel,new Activatable.Adapter(){
    @Override public void showNotify(){
      myNameSuggestionsManager=new NameSuggestionsManager(myTypeSelector,myNameField,createGenerator(myWillBeDeclaredStatic,myLocalVariable,myInitializerExpression,myIsInvokedOnDeclaration,myEnteredName,myParentClass,myProject));
      myNameSuggestionsManager.setLabelsFor(type,namePrompt);
      Editor editor=myNameField.getEditor();
      if (editor != null) {
        editor.getSelectionModel().setSelection(0,editor.getDocument().getTextLength());
      }
    }
  }
);
  return panel;
}
