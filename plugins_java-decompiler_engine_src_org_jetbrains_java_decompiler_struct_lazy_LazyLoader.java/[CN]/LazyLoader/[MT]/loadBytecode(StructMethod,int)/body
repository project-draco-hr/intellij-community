{
  try {
    DataInputFullStream in=getClassStream(mt.getClassStruct().qualifiedName);
    if (in == null) {
      return null;
    }
    byte[] res=null;
    in.skip(8);
    ConstantPool pool=mt.getClassStruct().getPool();
    if (pool == null) {
      pool=new ConstantPool(in);
    }
 else {
      ConstantPool.skipPool(in);
    }
    in.skip(2);
    int this_class=in.readUnsignedShort();
    in.skip(2);
    in.skip(in.readUnsignedShort() * 2);
    int size=in.readUnsignedShort();
    for (int i=0; i < size; i++) {
      in.skip(6);
      skipAttributes(in);
    }
    size=in.readUnsignedShort();
    for (int i=0; i < size; i++) {
      in.skip(2);
      int name_index=in.readUnsignedShort();
      int descriptor_index=in.readUnsignedShort();
      String elem_arr[]=pool.getClassElement(ConstantPool.METHOD,this_class,name_index,descriptor_index);
      String name=elem_arr[0];
      if (mt.getName().equals(name)) {
        String descriptor=elem_arr[1];
        if (mt.getDescriptor().equals(descriptor)) {
          int len=in.readUnsignedShort();
          for (int j=0; j < len; j++) {
            int attr_nameindex=in.readUnsignedShort();
            String attrname=pool.getPrimitiveConstant(attr_nameindex).getString();
            if (StructGeneralAttribute.ATTRIBUTE_CODE.equals(attrname)) {
              in.skip(12);
              res=new byte[code_fulllength];
              in.readFull(res);
              return res;
            }
 else {
              in.skip(in.readInt());
            }
          }
          return null;
        }
      }
      skipAttributes(in);
    }
    return null;
  }
 catch (  IOException ex) {
    throw new RuntimeException(ex);
  }
}
