{
  String tmpDir=System.getProperty("java.io.tmpdir");
  System.out.println("java.io.tmpdir: " + tmpDir);
  FileAppender update=new FileAppender();
  update.setFile(tmpDir + "idea_updater.log");
  update.setLayout(new PatternLayout("%d{dd MMM yyyy HH:mm:ss} %-5p %C{1}.%M - %m%n"));
  update.setThreshold(Level.ALL);
  update.setAppend(true);
  update.activateOptions();
  FileAppender update_error=new FileAppender();
  update_error.setFile(tmpDir + "idea_updater_error.log");
  update_error.setLayout(new PatternLayout("%d{dd MMM yyyy HH:mm:ss} %-5p %C{1}.%M - %m%n"));
  update_error.setThreshold(Level.ERROR);
  update_error.setAppend(false);
  update_error.activateOptions();
  logger=Logger.getLogger("com.intellij.updater");
  logger.addAppender(update_error);
  logger.addAppender(update);
  logger.setLevel(Level.ALL);
}
