{
  if (randomAccessContainer != null) {
    randomAccessContainer=randomAccessContainer.ensureContainerCapacity(diff);
    return;
  }
  if (changes == null) {
    changes=new int[Math.max(3,diff)];
  }
 else   if (length + diff > changes.length) {
    int nextArraySize=Math.max(changes.length < 1024 ? changes.length << 1 : changes.length + changes.length / 5,length + diff);
    int[] newChanges=new int[nextArraySize];
    System.arraycopy(changes,0,newChanges,0,length);
    changes=newChanges;
  }
}
