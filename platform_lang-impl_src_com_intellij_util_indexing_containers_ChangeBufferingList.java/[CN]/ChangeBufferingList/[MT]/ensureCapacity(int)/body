{
  RandomAccessIntContainer intContainer=randomAccessContainer;
  if (length == MAX_FILES) {
    intContainer=getRandomAccessContainer();
  }
  if (intContainer != null) {
    randomAccessContainer=intContainer.ensureContainerCapacity(diff);
    return;
  }
  if (changes == null) {
    changes=new int[Math.max(3,diff)];
  }
 else   if (length + diff > changes.length) {
    int nextArraySize=Math.min(Math.max(changes.length < 1024 ? changes.length << 1 : changes.length + changes.length / 5,length + diff),MAX_FILES);
    int[] newChanges=new int[nextArraySize];
    System.arraycopy(changes,0,newChanges,0,length);
    changes=newChanges;
  }
}
