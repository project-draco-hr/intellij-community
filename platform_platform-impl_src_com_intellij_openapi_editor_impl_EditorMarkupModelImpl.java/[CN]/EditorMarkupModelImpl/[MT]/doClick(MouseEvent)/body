{
  RangeHighlighter marker=getNearestRangeHighlighter(e);
  int offset;
  if (marker == null) {
    if (myEditorPreviewIsShown) {
      offset=myEditor.getDocument().getLineStartOffset(getLineByEvent(e));
    }
 else {
      return;
    }
  }
 else {
    offset=marker.getStartOffset();
  }
  final Document doc=myEditor.getDocument();
  if (doc.getLineCount() > 0) {
    int lineEnd=doc.getLineEndOffset(doc.getLineNumber(offset));
    myEditor.getCaretModel().moveToOffset(lineEnd);
  }
  myEditor.getCaretModel().moveToOffset(offset);
  myEditor.getSelectionModel().removeSelection();
  ScrollingModel scrollingModel=myEditor.getScrollingModel();
  scrollingModel.disableAnimation();
  scrollingModel.scrollToCaret(ScrollType.CENTER);
  scrollingModel.enableAnimation();
  fireErrorMarkerClicked(marker,e);
}
