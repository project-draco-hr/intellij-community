{
  if (isMacOverlayScrollbar()) {
    if (!isMirrored()) {
      super.paintThumb(g,c,thumbBounds);
    }
 else {
      Graphics2D g2d=(Graphics2D)g;
      AffineTransform old=g2d.getTransform();
      AffineTransform tx=AffineTransform.getScaleInstance(-1,1);
      tx.translate(-c.getWidth(),0);
      g2d.transform(tx);
      super.paintThumb(g,c,thumbBounds);
      g2d.setTransform(old);
    }
  }
 else   if (Registry.is("ide.scroll.new.layout")) {
    super.paintThumb(g,c,thumbBounds);
  }
 else {
    int shift;
    if (Registry.is("editor.full.width.scrollbar")) {
      shift=isMirrored() ? -myMinMarkHeight + 1 : myMinMarkHeight;
    }
 else {
      int half=getThickness() / 2;
      shift=isMirrored() ? -half + 2 : half - 1;
    }
    g.translate(shift,0);
    super.paintThumb(g,c,thumbBounds);
    g.translate(-shift,0);
  }
}
