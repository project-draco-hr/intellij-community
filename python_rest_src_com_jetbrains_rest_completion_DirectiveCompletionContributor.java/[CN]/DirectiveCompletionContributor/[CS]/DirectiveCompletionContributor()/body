{
  extend(CompletionType.BASIC,DIRECTIVE_PATTERN,new CompletionProvider<CompletionParameters>(){
    @Override protected void addCompletions(    @NotNull CompletionParameters parameters,    ProcessingContext context,    @NotNull CompletionResultSet result){
      for (      String tag : RestUtil.getDirectives()) {
        result.addElement(LookupElementBuilder.create(tag));
      }
      Sdk sdk=ProjectRootManager.getInstance(parameters.getPosition().getProject()).getProjectSdk();
      if (sdk != null) {
        String sphinx=RestUtil.findRunner(sdk.getHomePath(),"sphinx-quickstart" + (SystemInfo.isWindows ? ".exe" : ""));
        if (sphinx != null && !sphinx.isEmpty()) {
          for (          String tag : RestUtil.SPHINX_DIRECTIVES) {
            result.addElement(LookupElementBuilder.create(tag));
          }
        }
      }
    }
  }
);
}
