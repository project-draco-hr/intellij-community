{
  return new GlobalInspectionToolWrapper(toolWrapper.getTool()){
    @Override public void addProblemElement(    RefEntity refEntity,    @NotNull CommonProblemDescriptor... commonProblemDescriptors){
      for (      CommonProblemDescriptor problemDescriptor : commonProblemDescriptors) {
        if (problemDescriptor instanceof ProblemDescriptor) {
          ProblemGroup problemGroup=((ProblemDescriptor)problemDescriptor).getProblemGroup();
          if (problemGroup != null) {
            DescriptorProviderInspection dummyWrapper=wrappersMap.get(problemGroup.getProblemName());
            if (dummyWrapper != null) {
              dummyWrapper.addProblemElement(refEntity,problemDescriptor);
            }
          }
 else {
            toolWrapper.addProblemElement(refEntity,problemDescriptor);
          }
        }
      }
    }
  }
;
}
