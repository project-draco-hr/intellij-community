{
  if (replace == Replace.ID_REPLACE) {
    return;
  }
  if (replace.to() >= size) {
    throw new IllegalArgumentException("Bad replace: " + replace.from() + ", "+ +replace.to()+ ", "+ replace.addedElementCount());
  }
  size=replace.addedElementCount() - replace.removedElementCount() + size;
  generate();
}
