{
  Set<VirtualFile> ignored=ContainerUtil.newHashSet();
  try {
    ignored.addAll(new HgStatusCommand.Builder(false).ignored(true).build(myRepository.getProject()).getFiles(myRepository.getRoot(),null));
  }
 catch (  VcsException e) {
    LOG.error("Can't reload ignored files for: " + myRepository.getPresentableUrl(),e);
    return;
  }
  try {
    SET_LOCK.writeLock().lock();
    myIgnoredSet.clear();
    myIgnoredSet.addAll(ignored);
  }
  finally {
    SET_LOCK.writeLock().unlock();
  }
}
