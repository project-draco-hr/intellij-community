{
  for (  TestFramework framework : Extensions.getExtensions(TestFramework.EXTENSION_NAME)) {
    if (framework.isTestClass(psiClass)) {
      return framework;
    }
  }
  for (  TestFramework framework : Extensions.getExtensions(TestFramework.EXTENSION_NAME)) {
    if (framework.findSetUpMethod(psiClass) != null || framework.findTearDownMethod(psiClass) != null) {
      return framework;
    }
  }
  return null;
}
