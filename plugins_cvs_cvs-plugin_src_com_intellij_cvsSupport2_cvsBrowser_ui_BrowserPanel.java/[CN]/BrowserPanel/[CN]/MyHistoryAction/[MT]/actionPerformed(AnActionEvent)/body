{
  final CvsElement[] currentSelection=myTree.getCurrentSelection();
  if (currentSelection.length != 1)   return;
  final CvsElement cvsElement=currentSelection[0];
  final VirtualFile virtualFile=cvsElement.getVirtualFile();
  if (virtualFile == null || virtualFile.isDirectory())   return;
  final CvsVcs2 vcs=CvsVcs2.getInstance(myProject);
  final VcsHistoryProvider historyProvider=vcs.getVcsHistoryProvider();
  final String moduleName=cvsElement.getElementPath();
  final CvsRepositoryLocation location=new CvsRepositoryLocation(null,myCvsRootConfiguration,moduleName);
  CvsFilePath filePath=new CvsFilePath(virtualFile.getPath(),virtualFile.isDirectory(),location);
  AbstractVcsHelper.getInstance(myProject).showFileHistory(historyProvider,filePath,vcs,null);
}
