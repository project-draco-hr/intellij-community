{
  final IElementType type=node.getElementType();
  final TextRange nodeTextRange=node.getTextRange();
  if (!StringUtil.isEmptyOrSpaces(node.getText()) && nodeTextRange.getLength() >= 2) {
    if (type == YAMLElementTypes.KEY_VALUE_PAIR) {
      final ASTNode[] children=node.getChildren(COMPOUND_VALUE);
      if (children.length > 0 && !StringUtil.isEmpty(children[0].getText().trim())) {
        descriptors.add(new FoldingDescriptor(node,nodeTextRange));
      }
    }
    if (type == YAMLElementTypes.DOCUMENT && node.getTreeParent().getChildren(TokenSet.create(YAMLElementTypes.DOCUMENT)).length > 1) {
      descriptors.add(new FoldingDescriptor(node,nodeTextRange));
    }
    if (type == YAMLElementTypes.SCALAR_TEXT_VALUE || type == YAMLElementTypes.SCALAR_LIST_VALUE) {
      descriptors.add(new FoldingDescriptor(node,nodeTextRange));
    }
  }
  for (  ASTNode child : node.getChildren(null)) {
    collectDescriptors(child,descriptors);
  }
}
