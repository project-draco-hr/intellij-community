{
  if (builder.length() == 0) {
    Files.delete(file);
    return;
  }
  byte[] newContent=builder.toString().getBytes(StandardCharsets.UTF_8);
  if (Files.exists(file)) {
    if (Arrays.equals(Files.readAllBytes(file),newContent)) {
      return;
    }
  }
 else {
    Files.createDirectories(file.getParent());
  }
  Files.write(file,newContent);
}
