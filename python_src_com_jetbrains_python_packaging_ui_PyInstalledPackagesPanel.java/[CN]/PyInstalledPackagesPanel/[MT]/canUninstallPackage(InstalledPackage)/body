{
  if (!myHasPip)   return false;
  if (PythonSdkType.isVirtualEnv(getSelectedSdk()) && pkg instanceof PyPackage) {
    final String location=((PyPackage)pkg).getLocation();
    if (location != null && location.startsWith(PyPackageManagerImpl.getUserSite())) {
      return false;
    }
  }
  final String name=pkg.getName();
  if (PyPackageManagerImpl.PACKAGE_PIP.equals(name) || PyPackageManagerImpl.PACKAGE_SETUPTOOLS.equals(name) || PyPackageManagerImpl.PACKAGE_DISTRIBUTE.equals(name)) {
    return false;
  }
  return true;
}
