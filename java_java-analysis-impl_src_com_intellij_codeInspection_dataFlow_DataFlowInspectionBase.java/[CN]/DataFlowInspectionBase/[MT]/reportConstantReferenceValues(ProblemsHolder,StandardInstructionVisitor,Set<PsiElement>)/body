{
  for (  Pair<PsiReferenceExpression,DfaConstValue> pair : visitor.getConstantReferenceValues()) {
    PsiReferenceExpression ref=pair.first;
    if (!reportedAnchors.add(ref)) {
      continue;
    }
    final Object value=pair.second.getValue();
    holder.registerProblem(ref,"Value <code>#ref</code> #loc is always '" + value + "'",new LocalQuickFix(){
      @NotNull @Override public String getName(){
        return "Replace with '" + value + "'";
      }
      @NotNull @Override public String getFamilyName(){
        return "Replace with constant value";
      }
      @Override public void applyFix(      @NotNull Project project,      @NotNull ProblemDescriptor descriptor){
        descriptor.getPsiElement().replace(JavaPsiFacade.getElementFactory(project).createExpressionFromText(String.valueOf(value),null));
      }
    }
);
  }
}
