{
  String newValue=scheme == null ? getDefaultScheme().getName() : scheme.getName();
  EditorColorsScheme oldValue=mySchemesManager.getCurrentScheme();
  mySchemesManager.setCurrentSchemeName(newValue);
  if (oldValue != null && !Comparing.equal(newValue,oldValue.getName())) {
    LafManager.getInstance().updateUI();
    EditorFactory.getInstance().refreshAllEditors();
  }
  fireChanges(scheme);
}
