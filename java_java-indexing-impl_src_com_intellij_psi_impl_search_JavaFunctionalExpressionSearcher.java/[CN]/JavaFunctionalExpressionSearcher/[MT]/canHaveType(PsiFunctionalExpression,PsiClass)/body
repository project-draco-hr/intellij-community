{
  PsiElement parent=expression.getParent();
  if (parent instanceof PsiExpressionList && parent.getParent() instanceof PsiMethodCallExpression) {
    int argIndex=Arrays.asList(((PsiExpressionList)parent).getExpressions()).indexOf(expression);
    PsiReferenceExpression methodExpression=((PsiMethodCallExpression)parent.getParent()).getMethodExpression();
    PsiExpression qualifier=methodExpression.getQualifierExpression();
    String methodName=methodExpression.getReferenceName();
    if (qualifier != null && methodName != null && argIndex >= 0) {
      Set<PsiClass> approximateTypes=ApproximateResolver.getPossibleTypes(qualifier,10);
      return approximateTypes == null || hasMethodWithSamCompatibleParameter(approximateTypes,methodName,argIndex,samClass);
    }
  }
  return true;
}
