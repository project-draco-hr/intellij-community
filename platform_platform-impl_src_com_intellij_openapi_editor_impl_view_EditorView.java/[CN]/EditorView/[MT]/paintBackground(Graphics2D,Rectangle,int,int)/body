{
  for (int line=startLine; line <= endLine; line++) {
    Graphics2D window=(Graphics2D)g.create(0,myEditor.visibleLineToY(line),clip.x + clip.width,myEditor.getLineHeight());
    try {
      if (line == 0 && myPrefixLayout != null) {
        LineView.paintBackground(window,myEditor,myPrefixLayout,0,myPrefixLayout.getCharacterCount(),myPrefixAttributes);
        window.translate(getPrefixTextWidthInPixels(),0);
      }
      if (line >= myLines.size())       break;
      LineView lineView=getLineRenderer(line);
      lineView.paintBackground(window,myEditor,myDocument.getLineStartOffset(line),myDocument.getLineEndOffset(line),myPlainSpaceWidth);
    }
  finally {
      window.dispose();
    }
  }
}
