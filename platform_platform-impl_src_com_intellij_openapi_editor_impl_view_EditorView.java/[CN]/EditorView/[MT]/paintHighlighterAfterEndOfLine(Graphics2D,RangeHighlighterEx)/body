{
  if (!highlighter.isAfterEndOfLine()) {
    return;
  }
  int offset=highlighter.getStartOffset();
  int line=myDocument.getLineNumber(offset);
  if (line >= myLines.size())   return;
  int x=getLineWidth(line);
  int y=myEditor.visibleLineToY(line);
  TextAttributes attributes=highlighter.getTextAttributes();
  Color backgroundColor=getBackgroundColor(myEditor,attributes);
  if (backgroundColor != null) {
    g.setColor(backgroundColor);
    g.fillRect(x,y,myPlainSpaceWidth,myEditor.getLineHeight());
  }
  if (attributes != null && attributes.getEffectColor() != null) {
    LineView.paintTextEffect(g,myEditor,x,x + myPlainSpaceWidth - 1,myEditor.getAscent(),attributes.getEffectType());
  }
}
