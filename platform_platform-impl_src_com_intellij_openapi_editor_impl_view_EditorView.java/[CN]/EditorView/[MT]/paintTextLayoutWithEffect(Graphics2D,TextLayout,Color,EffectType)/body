{
  textLayout.draw(g,0,myEditor.getAscent());
  if (LineView.hasTextEffect(effectColor,effectType)) {
    TextLayoutHighlightShape shape=new TextLayoutHighlightShape(textLayout,0,textLayout.getCharacterCount(),myEditor.getAscent(),myEditor.getLineHeight());
    Graphics2D window=(Graphics2D)g.create();
    try {
      shape.setAsClip(window);
      Rectangle clipBounds=window.getClipBounds();
      window.setColor(effectColor);
      LineView.paintTextEffect(window,myEditor,(int)clipBounds.getMinX(),(int)clipBounds.getMaxX(),myEditor.getAscent(),effectType);
    }
  finally {
      window.dispose();
    }
  }
}
