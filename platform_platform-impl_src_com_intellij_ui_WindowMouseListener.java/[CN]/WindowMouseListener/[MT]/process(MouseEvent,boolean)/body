{
  if (event.isConsumed())   return;
  if (myLocation != null && myViewBounds != null) {
    Component content=getContent(event);
    Component view=getView(content);
    if (view != null) {
      Rectangle bounds=new Rectangle(myViewBounds);
      int dx=event.getXOnScreen() - myLocation.x;
      int dy=event.getYOnScreen() - myLocation.y;
      if (myType == DEFAULT_CURSOR && view instanceof Frame) {
        int state=((Frame)view).getExtendedState();
        if (isStateSet(Frame.MAXIMIZED_HORIZ,state))         dx=0;
        if (isStateSet(Frame.MAXIMIZED_VERT,state))         dy=0;
      }
      updateBounds(bounds,view,dx,dy);
      if (!bounds.equals(view.getBounds())) {
        view.setBounds(bounds);
        view.invalidate();
        view.validate();
        view.repaint();
      }
    }
    if (stop) {
      setCursor(content,getPredefinedCursor(DEFAULT_CURSOR));
      myLocation=null;
    }
    event.consume();
  }
 else   if (stop && myViewBounds != null) {
    myViewBounds=null;
    event.consume();
  }
}
