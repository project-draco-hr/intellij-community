{
  if (!(configuration instanceof ReplaceConfiguration))   return null;
  ReplaceConfiguration replaceConfiguration=(ReplaceConfiguration)configuration;
  final Replacer replacer=new Replacer(project,replaceConfiguration.getOptions());
  final ReplacementInfo replacementInfo=replacer.buildReplacement(matchResult);
  return new LocalQuickFix(){
    public String getName(){
      return SSRBundle.message("SSRInspection.replace.with",replacementInfo.getReplacement());
    }
    public void applyFix(    Project project,    ProblemDescriptor descriptor){
      replacer.replace(replacementInfo);
    }
    public String getFamilyName(){
      return SSRBundle.message("SSRInspection.family.name");
    }
  }
;
}
