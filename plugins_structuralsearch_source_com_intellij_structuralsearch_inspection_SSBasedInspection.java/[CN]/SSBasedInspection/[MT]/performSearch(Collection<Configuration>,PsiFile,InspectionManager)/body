{
  Configuration configuration=configurations.iterator().next();
  configuration.getMatchOptions().setScope(GlobalSearchScope.fileScope(file));
  CollectingMatchResultSink sink=new CollectingMatchResultSink();
  DoSearchAction.execute(file.getProject(),sink,configuration);
  List<ProblemDescriptor> problems=new ArrayList<ProblemDescriptor>();
  List<MatchResult> matches=sink.getMatches();
  for (  MatchResult matchResult : matches) {
    PsiElement element=matchResult.getMatch();
    String name=configuration.getName();
    ProblemDescriptor problemDescriptor=manager.createProblemDescriptor(element,name,(LocalQuickFix)null,ProblemHighlightType.GENERIC_ERROR_OR_WARNING);
    problems.add(problemDescriptor);
  }
  return problems.toArray(new ProblemDescriptor[problems.size()]);
}
