{
  myWrapper=wrapper;
  myWindowManager=null;
  Application application=ApplicationManager.getApplication();
  if (application != null && application.hasComponent(WindowManager.class)) {
    myWindowManager=(WindowManagerEx)WindowManager.getInstance();
  }
  Window owner=OwnerOptional.fromComponent(parent).get();
  if (!owner.isShowing()) {
    throw new IllegalArgumentException("owner must be showing: " + owner);
  }
  createDialog(owner,canBeParent);
}
