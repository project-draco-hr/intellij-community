{
  final CompilerElementInfo compilerElementInfo=asCompilerElements(element,adapter,true);
  if (compilerElementInfo == null)   return null;
synchronized (myLock) {
    if (myReader == null)     return null;
    TIntHashSet referentFileIds=new TIntHashSet();
    for (    CompilerElement compilerElement : compilerElementInfo.searchElements) {
      final TIntHashSet referents=myReader.findReferentFileIds(compilerElement,adapter,compilerElementInfo.place == ElementPlace.SRC);
      if (referents == null)       return null;
      referentFileIds.addAll(referents.toArray());
    }
    return referentFileIds;
  }
}
