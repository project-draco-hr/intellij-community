{
  if (!isServiceEnabled())   return null;
  final VirtualFile file=aClass.getContainingFile().getVirtualFile();
  if (!myProjectFileIndex.isInSourceContent(file))   return null;
  final CompilerElement compilerElement=compilerSearchAdapter.asCompilerElement(aClass);
  if (compilerElement == null)   return null;
  final GlobalSearchScope dirtyScope=myDirtyModulesHolder.getDirtyScope();
  final Couple<Map<VirtualFile,T[]>> directInheritorsAndCandidates=myReader.getDirectInheritors(compilerElement,aClass,inheritorSearchAdapter,useScope,dirtyScope,myProject,searchFileTypes);
  return new CompilerDirectInheritorInfo<>(selectClassesInScope(directInheritorsAndCandidates.getFirst(),searchScope),selectClassesInScope(directInheritorsAndCandidates.getSecond(),searchScope),dirtyScope);
}
