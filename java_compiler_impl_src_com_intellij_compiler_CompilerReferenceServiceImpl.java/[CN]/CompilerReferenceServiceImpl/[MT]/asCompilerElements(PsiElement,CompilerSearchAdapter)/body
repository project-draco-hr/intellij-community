{
  final PsiFile file=element.getContainingFile();
  if (file == null)   return null;
  final VirtualFile vFile=file.getVirtualFile();
  if (vFile == null)   return null;
  ElementPlace place=ElementPlace.get(vFile,myProjectFileIndex);
  if (place == null) {
    return null;
  }
  if (myDirtyModulesHolder.contains(vFile)) {
    return null;
  }
  if (place == ElementPlace.SRC) {
    final CompilerElement compilerElement=adapter.asCompilerElement(element);
    return compilerElement == null ? null : new CompilerElementInfo(place,compilerElement);
  }
 else {
    final CompilerElement[] elements=adapter.libraryElementAsCompilerElements(element);
    return elements.length == 0 ? null : new CompilerElementInfo(place,elements);
  }
}
