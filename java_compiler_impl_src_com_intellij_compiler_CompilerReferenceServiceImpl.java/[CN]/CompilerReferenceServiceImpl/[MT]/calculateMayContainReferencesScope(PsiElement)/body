{
  TIntHashSet referentFileIds=getReferentFileIds(element);
  if (referentFileIds == null)   return null;
  return new ScopeWithBytecodeReferences(referentFileIds).union(myMayContainInvalidDataScope).union(LibraryScopeCache.getInstance(element.getProject()).getLibrariesOnlyScope()).union(GlobalSearchScope.notScope(GlobalSearchScope.getScopeRestrictedByFileTypes(GlobalSearchScope.allScope(myProject),myFileTypes.toArray(new FileType[myFileTypes.size()]))));
}
