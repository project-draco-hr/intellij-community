{
  createRepository();
  addRemote("http://example.git");
  git("update-ref refs/remotes/origin/a#branch HEAD");
  git("branch --track a#branch origin/a#branch");
  File gitDir=new File(myProjectPath,".git");
  GitConfig config=GitConfig.read(new File(gitDir,"config"));
  VirtualFile dir=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(gitDir);
  GitRepositoryReader reader=new GitRepositoryReader(GitRepositoryFiles.getInstance(dir));
  GitBranchState state=reader.readState(config.parseRemotes());
  Collection<GitBranchTrackInfo> trackInfos=config.parseTrackInfos(state.getLocalBranches().keySet(),state.getRemoteBranches().keySet());
  assertTrue("Couldn't find correct a#branch tracking information among: [" + trackInfos + "]",ContainerUtil.exists(trackInfos,new Condition<GitBranchTrackInfo>(){
    @Override public boolean value(    GitBranchTrackInfo info){
      return info.getLocalBranch().getName().equals("a#branch") && info.getRemoteBranch().getNameForLocalOperations().equals("origin/a#branch");
    }
  }
));
}
