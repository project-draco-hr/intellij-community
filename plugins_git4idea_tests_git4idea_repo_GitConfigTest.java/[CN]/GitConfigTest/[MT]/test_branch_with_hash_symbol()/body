{
  GitTestUtil.createRepository(myProject,myProjectPath,true);
  git("remote add origin http://example.git");
  git("update-ref refs/remotes/origin/a#branch HEAD");
  git("branch --track a#branch origin/a#branch");
  File gitDir=new File(myProjectPath,".git");
  GitConfig config=GitConfig.read(myPlatformFacade,new File(gitDir,"config"));
  GitBranchState state=new GitRepositoryReader(gitDir).readState(config.parseRemotes());
  Collection<GitBranchTrackInfo> trackInfos=config.parseTrackInfos(state.getLocalBranches(),state.getRemoteBranches());
  assertTrue("Couldn't find correct a#branch tracking information among: [" + trackInfos + "]",ContainerUtil.exists(trackInfos,new Condition<GitBranchTrackInfo>(){
    @Override public boolean value(    GitBranchTrackInfo info){
      return info.getLocalBranch().getName().equals("a#branch") && info.getRemoteBranch().getNameForLocalOperations().equals("origin/a#branch");
    }
  }
));
}
