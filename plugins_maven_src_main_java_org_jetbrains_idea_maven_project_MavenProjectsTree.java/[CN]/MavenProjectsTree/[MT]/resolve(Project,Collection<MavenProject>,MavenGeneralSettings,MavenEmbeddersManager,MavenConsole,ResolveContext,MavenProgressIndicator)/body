{
  MultiMap<File,MavenProject> projectMultiMap=groupByBasedir(mavenProjects);
  for (  Map.Entry<File,Collection<MavenProject>> entry : projectMultiMap.entrySet()) {
    String baseDir=entry.getKey().getPath();
    MavenEmbedderWrapper embedder=embeddersManager.getEmbedder(MavenEmbeddersManager.FOR_DEPENDENCIES_RESOLVE,baseDir,baseDir);
    try {
      embedder.customizeForResolve(getWorkspaceMap(),console,process,generalSettings.isAlwaysUpdateSnapshots());
      doResolve(project,entry.getValue(),generalSettings,embedder,context,process);
    }
  finally {
      embeddersManager.release(embedder);
    }
  }
}
