{
  List<String> newFiles;
  MavenExplicitProfiles newProfiles;
synchronized (myStateLock) {
    newFiles=new ArrayList<String>(myManagedFilesPaths);
    newFiles.addAll(MavenUtil.collectPaths(files));
    newProfiles=myExplicitProfiles.clone();
    newProfiles.getEnabledProfiles().addAll(profiles.getEnabledProfiles());
    newProfiles.getDisabledProfiles().addAll(profiles.getDisabledProfiles());
  }
  resetManagedFilesPathsAndProfiles(newFiles,newProfiles);
}
