{
  Collection<Pair<String,MavenProfileKind>> result=new ArrayListSet<>();
  Collection<String> available=new THashSet<>();
  Collection<String> active=new THashSet<>();
  for (  MavenProject each : getProjects()) {
    available.addAll(each.getProfilesIds());
    active.addAll(each.getActivatedProfilesIds().getEnabledProfiles());
  }
  Collection<String> enabledProfiles=getExplicitProfiles().getEnabledProfiles();
  Collection<String> disabledProfiles=getExplicitProfiles().getDisabledProfiles();
  for (  String each : available) {
    MavenProfileKind state;
    if (disabledProfiles.contains(each)) {
      state=MavenProfileKind.NONE;
    }
 else     if (enabledProfiles.contains(each)) {
      state=MavenProfileKind.EXPLICIT;
    }
 else     if (active.contains(each)) {
      state=MavenProfileKind.IMPLICIT;
    }
 else {
      state=MavenProfileKind.NONE;
    }
    result.add(Pair.create(each,state));
  }
  return result;
}
