{
  Collection<Pair<String,MavenProfileKind>> result=new ArrayListSet<Pair<String,MavenProfileKind>>();
  Collection<String> available=new THashSet<String>();
  Collection<String> active=new THashSet<String>();
  for (  MavenProject each : getProjects()) {
    available.addAll(each.getProfilesIds());
    active.addAll(each.getActivatedProfilesIds());
  }
  Collection<String> explicitProfiles=getExplicitProfiles();
  for (  String each : available) {
    MavenProfileKind state=MavenProfileKind.NONE;
    if (explicitProfiles.contains(each)) {
      state=MavenProfileKind.EXPLICIT;
    }
 else     if (active.contains(each))     state=MavenProfileKind.IMPLICIT;
    result.add(Pair.create(each,state));
  }
  return result;
}
