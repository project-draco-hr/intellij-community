{
  Collection<String> removedProfiles=new THashSet<>(explicitProfiles);
  removedProfiles.removeAll(available);
  temporarilyRemovedExplicitProfiles.addAll(removedProfiles);
  Collection<String> restoredProfiles=new THashSet<>(temporarilyRemovedExplicitProfiles);
  restoredProfiles.retainAll(available);
  temporarilyRemovedExplicitProfiles.removeAll(restoredProfiles);
  explicitProfiles.removeAll(removedProfiles);
  explicitProfiles.addAll(restoredProfiles);
}
