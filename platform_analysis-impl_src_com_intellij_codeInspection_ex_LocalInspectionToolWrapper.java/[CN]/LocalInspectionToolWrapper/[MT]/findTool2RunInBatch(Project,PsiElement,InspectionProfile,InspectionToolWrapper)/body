{
  if (toolWrapper instanceof LocalInspectionToolWrapper && ((LocalInspectionToolWrapper)toolWrapper).isUnfair()) {
    LocalInspectionTool inspectionTool=((LocalInspectionToolWrapper)toolWrapper).getTool();
    if (inspectionTool instanceof PairedUnfairLocalInspectionTool) {
      String oppositeShortName=((PairedUnfairLocalInspectionTool)inspectionTool).getInspectionForBatchShortName();
      return element == null ? inspectionProfile.getInspectionTool(oppositeShortName,project) : inspectionProfile.getInspectionTool(oppositeShortName,element);
    }
    return null;
  }
  return toolWrapper;
}
