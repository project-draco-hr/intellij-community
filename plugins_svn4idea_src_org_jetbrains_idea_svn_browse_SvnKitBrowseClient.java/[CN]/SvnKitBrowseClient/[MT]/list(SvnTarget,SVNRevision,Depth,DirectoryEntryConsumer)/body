{
  assertUrl(target);
  SVNLogClient client=getLogClient();
  ISVNDirEntryHandler wrappedHandler=wrapHandler(handler);
  client.setIgnoreExternals(true);
  try {
    if (target.isFile()) {
      client.doList(target.getFile(),target.getPegRevision(),notNullize(revision),true,toDepth(depth),SVNDirEntry.DIRENT_ALL,wrappedHandler);
    }
 else {
      client.doList(target.getURL(),target.getPegRevision(),notNullize(revision),true,toDepth(depth),SVNDirEntry.DIRENT_ALL,wrappedHandler);
    }
  }
 catch (  SVNException e) {
    throw new SvnBindException(e);
  }
}
