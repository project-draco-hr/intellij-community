{
  assertUrl(target);
  SVNLogClient client=myVcs.getSvnKitManager().createLogClient();
  ISVNDirEntryHandler wrappedHandler=wrapHandler(handler);
  try {
    if (target.isFile()) {
      client.doList(target.getFile(),target.getPegRevision(),notNullize(revision),true,depth,SVNDirEntry.DIRENT_ALL,wrappedHandler);
    }
 else {
      client.doList(target.getURL(),target.getPegRevision(),notNullize(revision),true,depth,SVNDirEntry.DIRENT_ALL,wrappedHandler);
    }
  }
 catch (  SVNException e) {
    throw new SvnBindException(e);
  }
}
