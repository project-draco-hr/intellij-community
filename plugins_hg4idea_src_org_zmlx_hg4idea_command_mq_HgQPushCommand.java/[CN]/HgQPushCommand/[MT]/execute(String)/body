{
  final Project project=myRepository.getProject();
  new HgCommandExecutor(project).execute(myRepository.getRoot(),"qpush",Arrays.asList("--move",patchName),new HgCommandResultHandler(){
    @Override public void process(    @Nullable HgCommandResult result){
      if (HgErrorUtil.hasErrorsInCommandExecution(result)) {
        new HgCommandResultNotifier(project).notifyError(result,"QPush command failed","Could not apply selected patch " + patchName);
      }
      myRepository.update();
    }
  }
);
}
