{
  ApplicationManager.getApplication().assertIsDispatchThread();
  PsiElement psiElement=infos.get(0).getElement();
  if (psiElement == null)   return;
  PsiFile psiFile=psiElement.getContainingFile();
  if (psiFile == null)   return;
  PsiLanguageInjectionHost host=InjectedLanguageManager.getInstance(myProject).getInjectionHost(psiFile);
  if (host != null) {
    psiFile=host.getContainingFile();
    if (psiFile == null)     return;
  }
  final Document document=PsiDocumentManager.getInstance(psiFile.getProject()).getDocument(psiFile);
  if (document == null)   return;
  if (myEditor == null || document != myEditor.getDocument()) {
    releaseEditor();
    removeAll();
    myEditor=createEditor(psiFile,document);
    myLineHeight=myEditor.getLineHeight();
    if (myEditor == null)     return;
    myEditor.setBorder(null);
    add(myEditor.getComponent(),BorderLayout.CENTER);
    invalidate();
    validate();
  }
  if (!Comparing.equal(infos,myCachedSelectedUsageInfos)) {
    highlight(infos,myEditor,myProject,true,HighlighterLayer.ADDITIONAL_SYNTAX);
    myCachedSelectedUsageInfos=infos;
  }
}
