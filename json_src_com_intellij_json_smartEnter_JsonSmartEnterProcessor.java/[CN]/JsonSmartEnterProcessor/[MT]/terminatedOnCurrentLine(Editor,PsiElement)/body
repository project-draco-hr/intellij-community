{
  final Document document=editor.getDocument();
  final int caretOffset=editor.getCaretModel().getCurrentCaret().getOffset();
  final int elementEndOffset=element.getTextRange().getEndOffset();
  if (document.getLineNumber(elementEndOffset) != document.getLineNumber(caretOffset)) {
    return false;
  }
  PsiElement nextLeaf=PsiTreeUtil.nextLeaf(element,true);
  return nextLeaf == null || (nextLeaf instanceof PsiWhiteSpace && nextLeaf.getText().contains("\n"));
}
