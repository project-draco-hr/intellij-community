{
  if (TemplateManager.getInstance(context.getProject()).getActiveTemplate(context.getEditor()) != null) {
    return;
  }
  context.commitDocument();
  XmlFile xmlFile=(XmlFile)context.getFile();
  PsiElement element=xmlFile.findElementAt(context.getStartOffset());
  XmlTag tag=PsiTreeUtil.getParentOfType(element,XmlTag.class);
  if (tag == null)   return;
  XmlTag dependencyTag=tag.getParentTag();
  DomElement domElement=DomManager.getDomManager(context.getProject()).getDomElement(dependencyTag);
  if (!(domElement instanceof MavenDomDependency))   return;
  MavenDomDependency dependency=(MavenDomDependency)domElement;
  String artifactId=dependency.getArtifactId().getStringValue();
  if (StringUtil.isEmpty(artifactId))   return;
  MavenDependencyCompletionUtil.addTypeAndClassifierAndVersion(context,dependency,item.getLookupString(),artifactId);
}
