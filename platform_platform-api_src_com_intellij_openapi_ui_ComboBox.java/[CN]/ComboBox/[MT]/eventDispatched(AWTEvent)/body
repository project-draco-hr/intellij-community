{
  if (event.getID() == WindowEvent.WINDOW_OPENED) {
    final WindowEvent we=(WindowEvent)event;
    for (    JBPopup each : JBPopupFactory.getInstance().getChildPopups(this)) {
      if (each.getContent() != null && SwingUtilities.isDescendingFrom(each.getContent(),we.getWindow())) {
        super.setPopupVisible(false);
      }
    }
  }
}
