{
  final EnumSet<GroovyResolveKind> kinds=myIncomplete ? EnumSet.allOf(GroovyResolveKind.class) : computeKinds(ref);
  if (myAllVariants) {
    return new GroovyAllVariantsProcessor(ref,kinds,myUpToArgument);
  }
 else {
    return new GroovyResolverProcessorImpl(ref,kinds);
  }
}
