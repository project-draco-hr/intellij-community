{
  MutableNode node=addCurrentCommitAndFinishRow(commit.getIndex());
  int[] parents=commit.getParentIndices();
  Branch branch=node.getBranch();
  if (parents.length == 1) {
    addParent(node,parents[0],branch);
  }
 else {
    for (    int parentHash : parents) {
      Collection<VcsRef> refs=findRefForHash(node.getCommitIndex());
      addParent(node,parentHash,new Branch(node.getCommitIndex(),parentHash,refs,branch.getRepositoryRoot()));
    }
  }
}
