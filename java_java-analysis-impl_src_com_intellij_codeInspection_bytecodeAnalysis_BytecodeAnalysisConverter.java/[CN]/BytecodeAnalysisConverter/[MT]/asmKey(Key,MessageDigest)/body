{
  byte[] classDigest=md.digest(key.method.internalClassName.getBytes(CharsetToolkit.UTF8_CHARSET));
  md.update(key.method.methodName.getBytes(CharsetToolkit.UTF8_CHARSET));
  md.update(key.method.methodDesc.getBytes(CharsetToolkit.UTF8_CHARSET));
  byte[] sigDigest=md.digest();
  byte[] digest=new byte[HASH_SIZE];
  System.arraycopy(classDigest,0,digest,0,CLASS_HASH_SIZE);
  System.arraycopy(sigDigest,0,digest,CLASS_HASH_SIZE,SIGNATURE_HASH_SIZE);
  return new HKey(digest,mkDirectionKey(key.direction),key.stable,key.negated);
}
