{
  version=PropertiesComponent.getInstance().getOrInitInt(VERSION,0);
  final File keysDir=new File(PathManager.getIndexRoot(),"bytecodekeys");
  final File namesFile=new File(keysDir,"names");
  final File compoundKeysFile=new File(keysDir,"compound");
  try {
    IOUtil.openCleanOrResetBroken(new ThrowableComputable<Void,IOException>(){
      @Override public Void compute() throws IOException {
        myNamesEnumerator=new PersistentStringEnumerator(namesFile,true);
        myCompoundKeyEnumerator=new PersistentEnumeratorDelegate<int[]>(compoundKeysFile,new IntArrayKeyDescriptor(),1024 * 4);
        return null;
      }
    }
,new Runnable(){
      @Override public void run(){
        LOG.info("Error during initialization of enumerators in bytecode analysis. Re-initializing.");
        IOUtil.deleteAllFilesStartingWith(keysDir);
        version++;
      }
    }
);
  }
 catch (  IOException e) {
    LOG.error("Re-initialization of enumerators in bytecode analysis failed.",e);
  }
  PropertiesComponent.getInstance().setValue(VERSION,String.valueOf(version));
}
