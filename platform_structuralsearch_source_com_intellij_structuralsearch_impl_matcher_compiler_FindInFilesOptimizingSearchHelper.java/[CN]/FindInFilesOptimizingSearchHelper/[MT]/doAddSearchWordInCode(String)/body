{
  final MatchOptions options=context.getOptions();
  final FileType fileType=options.getFileType();
  final Language language=fileType instanceof LanguageFileType ? ((LanguageFileType)fileType).getLanguage() : Language.ANY;
  final NamesValidator namesValidator=LanguageNamesValidation.INSTANCE.forLanguage(language);
  if (namesValidator.isKeyword(refname,context.getProject())) {
    CacheManager.SERVICE.getInstance(myProject).processFilesWithWord(new MyFileProcessor(),refname,UsageSearchContext.IN_PLAIN_TEXT,(GlobalSearchScope)options.getScope(),options.isCaseSensitiveMatch());
  }
 else {
    CacheManager.SERVICE.getInstance(myProject).processFilesWithWord(new MyFileProcessor(),refname,UsageSearchContext.IN_CODE,(GlobalSearchScope)options.getScope(),options.isCaseSensitiveMatch());
  }
}
