{
  final PsiElement parent=element.getParent();
  if (parent instanceof GrArgumentLabel)   return false;
  if (PsiTreeUtil.getParentOfType(element,GrCodeReferenceElement.class) != null) {
    if (token == GroovyTokenTypes.kDEF || token == kIN || token == GroovyTokenTypes.kAS) {
      return false;
    }
  }
 else   if (token == kDEF && element.getParent() instanceof GrAnnotationNameValuePair)   return false;
 else   if (parent instanceof GrReferenceExpression && element == ((GrReferenceExpression)parent).getReferenceNameElement()) {
    if (token == kSUPER && ((GrReferenceExpression)parent).getQualifier() == null)     return true;
    if (token == kTHIS && ((GrReferenceExpression)parent).getQualifier() == null)     return true;
    return false;
  }
  return true;
}
