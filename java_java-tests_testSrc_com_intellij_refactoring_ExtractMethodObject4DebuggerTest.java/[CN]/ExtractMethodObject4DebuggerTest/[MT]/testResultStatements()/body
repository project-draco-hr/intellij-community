{
  doTest("int i = 0;\nfoo()","Test test = new Test().invoke();int i = test.getI();int result = test.getResult();","public class Test {\n" + "        private int i;\n" + "        private int result;\n"+ "\n"+ "        public int getI() {\n"+ "            return i;\n"+ "        }\n"+ "\n"+ "        public int getResult() {\n"+ "            return result;\n"+ "        }\n"+ "\n"+ "        public Test invoke() {\n"+ "            i = 0;\n"+ "            result = foo();\n"+ "            return this;\n"+ "        }\n"+ "    }");
}
