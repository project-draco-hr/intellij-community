{
  Module module=appEngineFacet.getModule();
  List<ArtifactType> artifactTypes=AppEngineWebIntegration.getInstance().getAppEngineTargetArtifactTypes();
  final Collection<Artifact> artifacts=ArtifactUtil.getArtifactsContainingModuleOutput(module);
  for (  ArtifactType type : artifactTypes) {
    for (    Artifact artifact : artifacts) {
      if (type.equals(artifact.getArtifactType())) {
        return artifact;
      }
    }
  }
  ArtifactManager artifactManager=ArtifactManager.getInstance(module.getProject());
  PackagingElementFactory elementFactory=PackagingElementFactory.getInstance();
  ArtifactRootElement<?> root=elementFactory.createArtifactRootElement();
  elementFactory.getOrCreateDirectory(root,"WEB-INF/classes").addOrFindChild(elementFactory.createModuleOutput(module));
  return artifactManager.addArtifact(module.getName(),artifactTypes.get(0),root);
}
