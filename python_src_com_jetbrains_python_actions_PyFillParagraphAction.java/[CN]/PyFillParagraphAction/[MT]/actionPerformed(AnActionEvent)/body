{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null)   return;
  PsiElement element=e.getData(LangDataKeys.PSI_ELEMENT);
  Editor editor=e.getData(PlatformDataKeys.EDITOR);
  if (element == null) {
    final PsiElement file=e.getData(LangDataKeys.PSI_FILE);
    if (file != null && editor != null) {
      final int offset=editor.getCaretModel().getOffset();
      element=file.findElementAt(offset);
    }
  }
  performOnElement(element,editor);
}
