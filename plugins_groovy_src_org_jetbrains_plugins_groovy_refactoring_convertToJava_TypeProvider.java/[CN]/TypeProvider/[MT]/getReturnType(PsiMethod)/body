{
  if (method instanceof GrMethod) {
    GrTypeElement typeElement=((GrMethod)method).getReturnTypeElementGroovy();
    if (typeElement != null)     return typeElement.getType();
  }
  final PsiType smartReturnType=PsiUtil.getSmartReturnType(method);
  if (smartReturnType != null && !PsiType.NULL.equals(smartReturnType))   return smartReturnType;
  if (PsiType.NULL.equals(smartReturnType) && PsiUtil.isVoidMethod(method))   return PsiType.VOID;
  return TypesUtil.getJavaLangObject(method);
}
