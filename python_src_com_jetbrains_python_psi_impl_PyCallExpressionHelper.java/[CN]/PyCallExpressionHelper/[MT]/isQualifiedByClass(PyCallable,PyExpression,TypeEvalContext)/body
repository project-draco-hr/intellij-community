{
  PyType qtype=context.getType(qualifier);
  if (qtype instanceof PyClassType) {
    if (((PyClassType)qtype).isDefinition()) {
      PyClass resolvedParent=PsiTreeUtil.getStubOrPsiParentOfType(resolved,PyClass.class);
      if (resolvedParent != null) {
        final PyClass qualifierClass=((PyClassType)qtype).getPyClass();
        if ((qualifierClass.isSubclass(resolvedParent) || resolvedParent.isSubclass(qualifierClass))) {
          return true;
        }
      }
    }
  }
 else   if (qtype instanceof PyClassLikeType) {
    return ((PyClassLikeType)qtype).isDefinition();
  }
  return false;
}
