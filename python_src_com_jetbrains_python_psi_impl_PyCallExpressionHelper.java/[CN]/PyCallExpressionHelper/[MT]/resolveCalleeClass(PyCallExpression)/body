{
  PyExpression callee=us.getCallee();
  PsiElement resolved;
  QualifiedResolveResult resolveResult;
  if (callee instanceof PyReferenceExpression) {
    PyReferenceExpression ref=(PyReferenceExpression)callee;
    resolveResult=ref.followAssignmentsChain(PyResolveContext.noImplicits());
    resolved=resolveResult.getElement();
  }
 else {
    resolved=callee;
  }
  if (resolved instanceof PyClass) {
    return (PyClass)resolved;
  }
 else   if (resolved instanceof PyFunction) {
    final PyFunction pyFunction=(PyFunction)resolved;
    return pyFunction.getContainingClass();
  }
  return null;
}
