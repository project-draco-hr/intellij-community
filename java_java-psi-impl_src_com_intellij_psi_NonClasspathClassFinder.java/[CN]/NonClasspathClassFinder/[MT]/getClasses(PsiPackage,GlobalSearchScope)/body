{
  final List<PsiClass> result=ContainerUtil.newArrayList();
  processDirectories(psiPackage.getQualifiedName(),scope,new Processor<VirtualFile>(){
    @Override public boolean process(    VirtualFile dir){
      for (      final VirtualFile file : dir.getChildren()) {
        if (!file.isDirectory() && ArrayUtil.contains(file.getExtension(),myFileExtensions)) {
          final PsiFile psi=myManager.findFile(file);
          if (psi instanceof PsiClassOwner) {
            ContainerUtil.addAll(result,((PsiClassOwner)psi).getClasses());
          }
        }
      }
      return true;
    }
  }
);
  return result.toArray(new PsiClass[result.size()]);
}
