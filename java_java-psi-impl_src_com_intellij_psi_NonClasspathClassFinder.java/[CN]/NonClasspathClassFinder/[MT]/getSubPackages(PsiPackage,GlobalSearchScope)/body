{
  final String pkgName=psiPackage.getQualifiedName();
  final Set<String> names=getCache(scope).getSubpackageNames(pkgName);
  if (names.isEmpty()) {
    return super.getSubPackages(psiPackage,scope);
  }
  List<PsiPackage> result=new ArrayList<PsiPackage>();
  for (  String name : names) {
    result.add(createPackage(pkgName.isEmpty() ? name : pkgName + "." + name));
  }
  return result.toArray(new PsiPackage[result.size()]);
}
