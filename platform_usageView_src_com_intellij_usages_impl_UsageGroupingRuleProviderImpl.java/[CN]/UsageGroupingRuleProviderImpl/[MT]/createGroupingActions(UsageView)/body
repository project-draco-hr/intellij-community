{
  UsageViewImpl impl=(UsageViewImpl)view;
  JComponent component=impl.getComponent();
  GroupByModuleTypeAction groupByModuleTypeAction=supportsModuleRule() ? new GroupByModuleTypeAction(impl) : null;
  if (groupByModuleTypeAction != null) {
    groupByModuleTypeAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_D,InputEvent.CTRL_DOWN_MASK)),component,impl);
  }
  GroupByFileStructureAction groupByFileStructureAction=createGroupByFileStructureAction(impl);
  GroupByScopeAction groupByScopeAction=supportsScopesRule() ? new GroupByScopeAction(impl) : null;
  GroupByPackageAction groupByPackageAction=new GroupByPackageAction(impl);
  groupByPackageAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_P,InputEvent.CTRL_DOWN_MASK)),component,impl);
  ArrayList<AnAction> result=ContainerUtil.newArrayList();
  if (view.getPresentation().isCodeUsages()) {
    GroupByUsageTypeAction groupByUsageTypeAction=new GroupByUsageTypeAction(impl);
    groupByUsageTypeAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_T,InputEvent.CTRL_DOWN_MASK)),component,impl);
    ContainerUtil.addIfNotNull(result,groupByUsageTypeAction);
    ContainerUtil.addIfNotNull(result,groupByScopeAction);
    ContainerUtil.addIfNotNull(result,groupByModuleTypeAction);
    ContainerUtil.addIfNotNull(result,groupByPackageAction);
    ContainerUtil.addIfNotNull(result,groupByFileStructureAction);
  }
 else {
    ContainerUtil.addIfNotNull(result,groupByScopeAction);
    ContainerUtil.addIfNotNull(result,groupByModuleTypeAction);
    ContainerUtil.addIfNotNull(result,groupByPackageAction);
    ContainerUtil.addIfNotNull(result,groupByFileStructureAction);
  }
  return result.toArray(new AnAction[result.size()]);
}
