{
  processQueue();
  WeakHashMap.Key<K> weakKey=myWeakKeyMap.createKey(key);
  ValueReference<K,V> reference=new ValueReference<K,V>(weakKey,value,myQueue);
  ValueReference<K,V> oldRef=myWeakKeyMap.putKey(weakKey,reference);
  return SoftReference.dereference(oldRef);
}
