{
  final String tempPath=tempFiles.createTempFile("xxx").getAbsolutePath();
  return ApplicationManager.getApplication().runWriteAction(new Computable<Module>(){
    @Override public Module compute(){
      Module result=ModuleManager.getInstance(project).newModule(tempPath,StdModuleTypes.JAVA.getId());
      PlatformTestUtil.saveProject(project);
      return result;
    }
  }
);
}
