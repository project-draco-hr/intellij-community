{
  AntBuildTarget buildTarget=findTargetToExecute(task);
  final TargetChooserDialog dlg=new TargetChooserDialog(myProject,buildTarget);
  if (dlg.showAndGet()) {
    task.setTargetName(null);
    task.setAntFileUrl(null);
    buildTarget=dlg.getSelectedTarget();
    if (buildTarget != null) {
      final VirtualFile vFile=buildTarget.getModel().getBuildFile().getVirtualFile();
      if (vFile != null) {
        task.setAntFileUrl(vFile.getUrl());
        task.setTargetName(buildTarget.getName());
      }
    }
    return true;
  }
  return false;
}
