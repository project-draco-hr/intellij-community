{
  final Ref<Boolean> stopped=new Ref<>(false);
  file.accept(new XmlRecursiveElementVisitor(){
    @Override public void visitXmlElement(    XmlElement element){
      if (stopped.get())       return;
      super.visitXmlElement(element);
    }
    @Override public void visitXmlAttribute(    XmlAttribute attribute){
      if (stopped.get())       return;
      final PsiReference[] references=attribute.getReferences();
      for (      PsiReference reference : references) {
        if ((reference instanceof JavaFxStaticPropertyReference || reference instanceof JavaFxEventHandlerReference) && reference.isReferenceTo(psiMethod)) {
          if (!consumer.process(reference)) {
            stopped.set(true);
            return;
          }
        }
      }
    }
  }
);
  return !stopped.get();
}
