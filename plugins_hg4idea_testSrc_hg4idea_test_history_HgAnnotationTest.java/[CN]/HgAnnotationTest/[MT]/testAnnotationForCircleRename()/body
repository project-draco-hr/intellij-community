{
  cd(myRepository);
  echo(aName,"2");
  hg("mv " + aName + " "+ cName);
  myRepository.refresh(false,true);
  hg("commit -m revision2");
  touch(bName,"b1");
  hg("add " + bName);
  hg("commit -m revision3");
  echo(bName,"2");
  hg("mv " + bName + " "+ dName);
  myRepository.refresh(false,true);
  hg("commit -m revision4");
  echo(cName,"3");
  hg("mv " + cName + " "+ bName);
  myRepository.refresh(false,true);
  echo(dName,"3");
  hg("mv " + dName + " "+ aName);
  myRepository.refresh(false,true);
  hg("commit -m revision5");
  myRepository.refresh(false,true);
  checkAnnotation(aName,"5","b123");
  checkAnnotation(dName,"4","b12");
  checkAnnotation(bName,"3","b1");
  checkAnnotation(bName,"5","a123");
  checkAnnotation(cName,"2","a12");
  checkAnnotation(aName,"1","a1");
}
