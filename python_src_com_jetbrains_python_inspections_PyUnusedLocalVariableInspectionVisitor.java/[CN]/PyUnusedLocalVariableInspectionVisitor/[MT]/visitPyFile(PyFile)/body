{
  node.accept(new PyRecursiveElementVisitor(){
    @Override public void visitElement(    PsiElement element){
      ProgressManager.checkCanceled();
      super.visitElement(element);
    }
    @Override public void visitPyFile(    final PyFile node){
      processScope(node);
      super.visitPyFile(node);
    }
    @Override public void visitPyClass(    final PyClass node){
      processScope(node);
      super.visitPyClass(node);
    }
    @Override public void visitPyFunction(    final PyFunction node){
      processScope(node);
      super.visitPyFunction(node);
    }
  }
);
  registerProblems();
}
