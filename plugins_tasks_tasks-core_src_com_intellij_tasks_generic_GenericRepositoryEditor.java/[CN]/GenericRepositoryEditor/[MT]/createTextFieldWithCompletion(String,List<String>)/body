{
  final StringsCompletionProvider provider=new StringsCompletionProvider(variants,null){
    @Nullable @Override public String getPrefix(    @NotNull CompletionParameters parameters){
      final String text=parameters.getOriginalFile().getText();
      final int i=text.lastIndexOf('{',parameters.getOffset() - 1);
      if (i < 0) {
        return "";
      }
      return text.substring(i,parameters.getOffset());
    }
  }
;
  return new TextFieldWithAutoCompletion<String>(myProject,provider,true,text);
}
