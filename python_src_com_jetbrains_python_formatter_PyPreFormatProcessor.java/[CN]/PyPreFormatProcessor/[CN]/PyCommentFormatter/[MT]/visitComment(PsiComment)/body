{
  if (!myRange.contains(element.getTextRange())) {
    return;
  }
  String text=element.getText();
  int commentStart=text.indexOf('#');
  if (commentStart != -1 && (commentStart + 1) < text.length()) {
    char charAfterDash=text.charAt(commentStart + 1);
    if (charAfterDash == '!' && element.getTextRange().getStartOffset() == 0) {
      return;
    }
    if (charAfterDash == '#' || charAfterDash == ':') {
      return;
    }
    String commentText=StringUtil.trimLeading(text.substring(commentStart + 1));
    String newText="# " + commentText;
    if (!newText.equals(text)) {
      myDelta+=newText.length() - text.length();
      element.replace(PyElementGenerator.getInstance(myProject).createFromText(LanguageLevel.getDefault(),PsiComment.class,newText));
    }
  }
}
