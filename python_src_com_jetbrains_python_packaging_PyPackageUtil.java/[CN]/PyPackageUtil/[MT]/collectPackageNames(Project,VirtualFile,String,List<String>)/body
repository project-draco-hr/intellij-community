{
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  VfsUtilCore.visitChildrenRecursively(root,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull VirtualFile file){
      if (!fileIndex.isIgnored(file) && file.findChild(PyNames.INIT_DOT_PY) != null) {
        final String name=prefix + file.getName();
        results.add(name);
        collectPackageNames(project,file,name + ".",results);
      }
      return true;
    }
  }
);
}
