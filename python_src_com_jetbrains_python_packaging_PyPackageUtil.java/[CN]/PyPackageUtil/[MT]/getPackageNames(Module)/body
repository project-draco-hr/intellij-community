{
  final List<String> packageNames=new ArrayList<String>();
  final Project project=module.getProject();
  VirtualFile[] roots=ModuleRootManager.getInstance(module).getSourceRoots();
  if (roots.length == 0) {
    roots=ModuleRootManager.getInstance(module).getContentRoots();
  }
  for (  VirtualFile root : roots) {
    collectPackageNames(project,root,packageNames);
  }
  return packageNames;
}
