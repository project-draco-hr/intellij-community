{
  super.visitAssignmentExpression(assignment);
  final GrExpression lValue=assignment.getLValue();
  if (lValue instanceof GrIndexProperty)   return;
  if (!PsiUtil.mightBeLValue(lValue))   return;
  final IElementType opToken=assignment.getOperationTokenType();
  if (opToken != GroovyTokenTypes.mASSIGN)   return;
  final GrExpression rValue=assignment.getRValue();
  if (rValue == null)   return;
  if (lValue instanceof GrReferenceExpression && ((GrReferenceExpression)lValue).resolve() instanceof GrReferenceExpression) {
    return;
  }
  if (lValue instanceof GrTupleExpression) {
    processTupleAssignment(((GrTupleExpression)lValue),rValue);
  }
 else {
    PsiType lValueNominalType=lValue.getNominalType();
    final PsiType targetType=PsiImplUtil.isSpreadAssignment(lValue) ? extractIterableTypeParameter(lValueNominalType,false) : lValueNominalType;
    if (targetType != null) {
      processAssignment(targetType,rValue,lValue,"cannot.assign",assignment,ApplicableTo.ASSIGNMENT);
    }
  }
}
