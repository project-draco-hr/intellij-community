{
  super.visitMethod(method);
  final PsiTypeParameter[] parameters=method.getTypeParameters();
  final Map<PsiTypeParameter,PsiType> map=ContainerUtil.newHashMap();
  for (  PsiTypeParameter parameter : parameters) {
    PsiType type=TypeConversionUtil.erasure(JavaPsiFacade.getElementFactory(method.getProject()).createType(parameter));
    map.put(parameter,type);
  }
  final PsiSubstitutor substitutor=PsiSubstitutorImpl.createSubstitutor(map);
  for (  GrParameter parameter : method.getParameterList().getParameters()) {
    final GrExpression initializer=parameter.getInitializerGroovy();
    if (initializer == null)     continue;
    final PsiType targetType=parameter.getType();
    processAssignment(substitutor.substitute(targetType),initializer,parameter.getNameIdentifierGroovy(),"cannot.assign",method,ApplicableTo.ASSIGNMENT);
  }
}
