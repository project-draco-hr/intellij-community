{
  String output=getDiffOutput(project,root,oldRevision,dirtyPaths,reverse);
  Collection<Change> changes=new ArrayList<>();
  final GitRevisionNumber revisionNumber=resolveReference(project,root,oldRevision);
  parseChanges(project,root,reverse ? revisionNumber : null,reverse ? null : revisionNumber,output,changes,Collections.<String>emptySet());
  return changes;
}
