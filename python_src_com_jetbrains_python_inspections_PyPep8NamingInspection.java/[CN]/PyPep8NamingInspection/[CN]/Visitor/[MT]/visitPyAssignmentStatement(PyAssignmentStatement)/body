{
  final PyFunction function=PsiTreeUtil.getParentOfType(node,PyFunction.class,true,PyClass.class);
  if (function == null)   return;
  for (  PyExpression expression : node.getTargets()) {
    final String name=expression.getName();
    if (name == null)     continue;
    if (!LOWERCASE_REGEX.matcher(name).matches() && !name.startsWith("_")) {
      registerProblem(expression,"Variable in function should be lowercase",new PyRenameElementQuickFix());
    }
  }
}
