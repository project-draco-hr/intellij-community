{
  myFinallyCount=0;
  myInstructionNumber=0;
  myScope=scope;
  startNode(null);
  if (scope instanceof GrClosableBlock) {
    buildFlowForClosure((GrClosableBlock)scope);
  }
 else {
    scope.accept(this);
  }
  final InstructionImpl end=startNode(null);
  checkPending(end);
  return assertValidPsi(myInstructions.toArray(new Instruction[myInstructions.size()]));
}
