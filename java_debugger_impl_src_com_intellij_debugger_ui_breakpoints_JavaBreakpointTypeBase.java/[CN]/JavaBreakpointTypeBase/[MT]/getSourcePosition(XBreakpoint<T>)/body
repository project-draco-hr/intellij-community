{
  Breakpoint javaBreakpoint=BreakpointManager.getJavaBreakpoint(breakpoint);
  if (javaBreakpoint != null) {
    final PsiClass aClass=javaBreakpoint.getPsiClass();
    if (aClass != null) {
      return ApplicationManager.getApplication().runReadAction(new Computable<XSourcePosition>(){
        @Override public XSourcePosition compute(){
          PsiFile containingFile=aClass.getContainingFile();
          if (containingFile != null && aClass.getTextOffset() >= 0) {
            return XDebuggerUtil.getInstance().createPositionByOffset(containingFile.getVirtualFile(),aClass.getTextOffset());
          }
          return null;
        }
      }
);
    }
  }
  return null;
}
