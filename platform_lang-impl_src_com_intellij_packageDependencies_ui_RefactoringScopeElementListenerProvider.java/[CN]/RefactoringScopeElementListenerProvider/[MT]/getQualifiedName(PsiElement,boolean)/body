{
  if (element instanceof PsiQualifiedNamedElement && acceptQNames) {
    return ((PsiQualifiedNamedElement)element).getQualifiedName();
  }
 else {
    final Project project=element.getProject();
    final VirtualFile virtualFile=PsiUtilCore.getVirtualFile(element);
    if (virtualFile == null) {
      return null;
    }
    return FilePatternPackageSet.getRelativePath(virtualFile,ProjectRootManager.getInstance(project).getFileIndex(),true,project.getBaseDir());
  }
}
