{
  for (Iterator<JpsSourceFolder> iterator=myJpsSourceFolders.iterator(); iterator.hasNext(); ) {
    JpsSourceFolder eachFolder=iterator.next();
    if (VfsUtilCore.isEqualOrAncestor(url.getUrl(),eachFolder.getUrl()) || VfsUtilCore.isEqualOrAncestor(eachFolder.getUrl(),url.getUrl())) {
      iterator.remove();
      Disposer.dispose(eachFolder);
    }
  }
  final JpsModuleSourceRoot jpsModuleSourceRoot=JpsElementFactory.getInstance().createModuleSourceRoot(url.getUrl(),rootType,properties);
  final JpsContentEntry dummyJpsContentEntry=new JpsContentEntry(myDummyJpsModule,myDummyJpsRootModel,url.getUrl());
  final JpsSourceFolder jpsSourceFolder=new JpsSourceFolder(jpsModuleSourceRoot,dummyJpsContentEntry);
  myJpsSourceFolders.add(jpsSourceFolder);
  Disposer.register(jpsSourceFolder,dummyJpsContentEntry);
  isJpsSourceFoldersChanged=true;
}
