{
  List<ProcessInfo> processList=ContainerUtil.newArrayList();
  BufferedReader br=new BufferedReader(new InputStreamReader(stream));
  try {
    String line;
    while ((line=br.readLine()) != null) {
      int tab=line.indexOf('\t');
      if (tab != -1) {
        String proc=line.substring(0,tab).trim();
        String name=line.substring(tab).trim();
        if (proc.length() > 0 && name.length() > 0) {
          try {
            int pid=Integer.parseInt(proc);
            processList.add(new ProcessInfo(pid,name));
          }
 catch (          NumberFormatException ignored) {
          }
        }
      }
    }
  }
  finally {
    br.close();
  }
  return processList.isEmpty() ? ProcessInfo.EMPTY_ARRAY : processList.toArray(new ProcessInfo[processList.size()]);
}
