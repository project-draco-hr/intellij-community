{
  final String progressTitle;
  final String successTitle;
  progressTitle="Installing packages";
  successTitle="Packages installed successfully";
  run(new MultiExternalRunnable(){
    @Override public List<PyExternalProcessException> run(    @NotNull ProgressIndicator indicator){
      final int size=requirements.size();
      final List<PyExternalProcessException> exceptions=new ArrayList<PyExternalProcessException>();
      final PyPackageManagerImpl manager=(PyPackageManagerImpl)PyPackageManagers.getInstance().forSdk(mySdk);
      for (int i=0; i < size; i++) {
        final PyRequirement requirement=requirements.get(i);
        if (myListener != null) {
          indicator.setText(String.format("Installing package '%s'...",requirement));
          indicator.setFraction((double)i / size);
        }
        try {
          manager.install(list(requirement),extraArgs);
        }
 catch (        PyExternalProcessException e) {
          exceptions.add(e);
        }
      }
      return exceptions;
    }
  }
,progressTitle,successTitle,"Installed packages: " + PyPackageUtil.requirementsToString(requirements),"Install packages failed");
}
