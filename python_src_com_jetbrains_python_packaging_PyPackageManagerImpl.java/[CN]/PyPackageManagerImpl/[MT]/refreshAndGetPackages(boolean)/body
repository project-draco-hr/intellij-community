{
  final List<PyPackage> currentPackages=myPackagesCache;
  if (alwaysRefresh || currentPackages == null) {
    myUpdatingCache=true;
    try {
      final List<PyPackage> packages=collectPackages();
      myPackagesCache=packages;
      return packages;
    }
  finally {
      myUpdatingCache=false;
    }
  }
  return Collections.unmodifiableList(currentPackages);
}
