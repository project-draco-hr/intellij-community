{
  final String output;
  try {
    output=getHelperResult(PACKAGING_TOOL,Collections.singletonList("list"),false,false,null);
  }
 catch (  final ProcessNotCreatedException ex) {
    if (ApplicationManager.getApplication().isUnitTestMode()) {
      LOG.info("Not-env unit test mode, will return mock packages");
      return Lists.newArrayList(new PyPackage(PyPackageUtil.PIP,PIP_VERSION,null,Collections.<PyRequirement>emptyList()),new PyPackage(PyPackageUtil.SETUPTOOLS,SETUPTOOLS_VERSION,null,Collections.<PyRequirement>emptyList()));
    }
 else {
      throw ex;
    }
  }
  return parsePackagingToolOutput(output);
}
