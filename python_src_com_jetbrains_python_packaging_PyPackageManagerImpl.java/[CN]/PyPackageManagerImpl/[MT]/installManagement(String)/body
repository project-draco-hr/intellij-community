{
  final String helperPath=getHelperPath(name);
  ArrayList<String> args=Lists.newArrayList(UNTAR,helperPath);
  ProcessOutput output=getHelperOutput(PACKAGING_TOOL,args,false,null);
  if (output.getExitCode() != 0) {
    throw new PyExternalProcessException(output.getExitCode(),PACKAGING_TOOL,args,output.getStderr());
  }
  String dirName=FileUtil.toSystemDependentName(output.getStdout().trim());
  if (!dirName.endsWith(File.separator)) {
    dirName+=File.separator;
  }
  final String fileName=dirName + name + File.separatorChar+ "setup.py";
  try {
    output=getProcessOutput(fileName,Collections.<String>singletonList(INSTALL),true,dirName + name);
    final int retcode=output.getExitCode();
    if (output.isTimeout()) {
      throw new PyExternalProcessException(ERROR_TIMEOUT,fileName,Lists.newArrayList(INSTALL),"Timed out");
    }
 else     if (retcode != 0) {
      final String stdout=output.getStdout();
      String message=output.getStderr();
      if (message.trim().isEmpty()) {
        message=stdout;
      }
      throw new PyExternalProcessException(retcode,fileName,Lists.newArrayList(INSTALL),message);
    }
  }
  finally {
    clearCaches();
    FileUtil.delete(new File(dirName));
  }
}
