{
  mySdk=sdk;
  final Application app=ApplicationManager.getApplication();
  final MessageBusConnection connection=app.getMessageBus().connect();
  connection.subscribe(VirtualFileManager.VFS_CHANGES,new BulkFileListener.Adapter(){
    @Override public void after(    @NotNull List<? extends VFileEvent> events){
      final VirtualFile[] roots=mySdk.getRootProvider().getFiles(OrderRootType.CLASSES);
      for (      VFileEvent event : events) {
        final VirtualFile file=event.getFile();
        if (file != null) {
          for (          VirtualFile root : roots) {
            if (VfsUtilCore.isAncestor(root,file,false)) {
              clearCaches();
              return;
            }
          }
        }
      }
    }
  }
);
}
