{
  PsiFile psiFile=myFixture.configureByFile("helloworld.py");
  final Document document=myFixture.getDocument(psiFile);
  TaskFile taskFile=new TaskFile();
  List<TaskWindow> taskWindows=new ArrayList<TaskWindow>();
  addTaskWindow(taskWindows,0,32,14);
  taskFile.setTaskWindows(taskWindows);
  StudyDocumentListener listener=new StudyDocumentListener(taskFile);
  document.addDocumentListener(listener);
  CommandProcessor.getInstance().executeCommand(myFixture.getProject(),new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          document.insertString(0,"text");
          FileDocumentManager.getInstance().saveDocument(document);
        }
      }
);
    }
  }
,"x","qwe");
  assertEquals(taskWindows.get(0).getRealStartOffset(document),36);
}
