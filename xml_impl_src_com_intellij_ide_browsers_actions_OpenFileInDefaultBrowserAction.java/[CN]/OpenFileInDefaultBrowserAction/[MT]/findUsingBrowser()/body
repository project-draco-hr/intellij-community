{
  WebBrowserManager browserManager=WebBrowserManager.getInstance();
  DefaultBrowserPolicy defaultBrowserPolicy=browserManager.getDefaultBrowserPolicy();
  if (defaultBrowserPolicy == DefaultBrowserPolicy.FIRST || (defaultBrowserPolicy == DefaultBrowserPolicy.SYSTEM && !BrowserLauncherAppless.canUseSystemDefaultBrowserPolicy())) {
    return browserManager.getFirstActiveBrowser();
  }
 else   if (defaultBrowserPolicy == DefaultBrowserPolicy.ALTERNATIVE) {
    String path=GeneralSettings.getInstance().getBrowserPath();
    if (!StringUtil.isEmpty(path)) {
      WebBrowser browser=browserManager.findBrowserById(path);
      if (browser == null) {
        for (        WebBrowser item : browserManager.getActiveBrowsers()) {
          if (path.equals(item.getPath())) {
            return item;
          }
        }
      }
    }
  }
  return null;
}
