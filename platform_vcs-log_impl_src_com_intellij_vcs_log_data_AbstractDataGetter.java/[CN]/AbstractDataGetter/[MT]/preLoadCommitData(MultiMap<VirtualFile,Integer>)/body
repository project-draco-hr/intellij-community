{
  Set<T> result=ContainerUtil.newHashSet();
  for (  Map.Entry<VirtualFile,Collection<Integer>> entry : commits.entrySet()) {
    List<String> hashStrings=ContainerUtil.map(entry.getValue(),new Function<Integer,String>(){
      @Override public String fun(      Integer commitId){
        return myHashMap.getCommitId(commitId).getHash().asString();
      }
    }
);
    VcsLogProvider logProvider=myLogProviders.get(entry.getKey());
    if (logProvider != null) {
      List<? extends T> details=readDetails(logProvider,entry.getKey(),hashStrings);
      result.addAll(details);
      saveInCache(details);
    }
 else {
      LOG.error("No log provider for root " + entry.getKey().getPath() + ". All known log providers "+ myLogProviders);
    }
  }
  return result;
}
