{
  FileDocumentManager.getInstance().saveAllDocuments();
  ExecutionResult executionResult;
  RunProfile profile=env.getRunProfile();
  if (state instanceof PythonCommandLineState && profile instanceof CommandLinePatcher) {
    executionResult=((PythonCommandLineState)state).execute(env.getExecutor(),(CommandLinePatcher)profile);
  }
 else {
    executionResult=state.execute(env.getExecutor(),this);
  }
  if (executionResult == null)   return null;
  final RunContentBuilder contentBuilder=new RunContentBuilder(project,this,env.getExecutor(),executionResult,env);
  return contentBuilder.showRunContent(contentToReuse);
}
