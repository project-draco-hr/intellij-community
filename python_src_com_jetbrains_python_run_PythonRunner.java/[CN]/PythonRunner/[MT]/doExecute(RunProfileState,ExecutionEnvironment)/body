{
  FileDocumentManager.getInstance().saveAllDocuments();
  ExecutionResult executionResult;
  RunProfile profile=env.getRunProfile();
  if (state instanceof PythonCommandLineState && profile instanceof CommandLinePatcher) {
    executionResult=((PythonCommandLineState)state).execute(env.getExecutor(),(CommandLinePatcher)profile);
  }
 else {
    executionResult=state.execute(env.getExecutor(),this);
  }
  return executionResult == null ? null : new RunContentBuilder(executionResult,env).showRunContent(env.getContentToReuse());
}
