{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (!((TransactionGuardImpl)TransactionGuard.getInstance()).isWriteActionAllowed()) {
    LOG.error("Write access is not allowed in this context, see TransactionGuard documentation for details");
  }
  if (myUncommittedDocuments.isEmpty())   return;
  final Document[] documents=getUncommittedDocuments();
  for (  Document document : documents) {
    commitDocument(document);
  }
  LOG.assertTrue(!hasUncommitedDocuments(),myUncommittedDocuments);
}
