{
  final HighlighterIterator it=myEditor.getHighlighter().createIterator(offset);
  IElementType tokenType=it.getTokenType();
  Language language=tokenType.getLanguage();
  TokenSet comments=myComments.get(language);
  if (comments == null) {
    ParserDefinition definition=LanguageParserDefinitions.INSTANCE.forLanguage(language);
    if (definition != null) {
      comments=definition.getCommentTokens();
    }
    if (comments == null) {
      return false;
    }
 else {
      myComments.put(language,comments);
    }
  }
  return comments.contains(tokenType);
}
