{
  PsiFile file=configureByText(JavaFileType.INSTANCE,"class Foo {\n" + "  void foo() {}\n" + "}");
  PsiMethod method=PsiTreeUtil.findElementOfClassAtOffset(file,file.getText().indexOf("void"),PsiMethod.class,false);
  SmartPointerEx pointer1=(SmartPointerEx)SmartPointerManager.getInstance(myProject).createSmartPsiElementPointer(method.getModifierList());
  SmartPointerEx pointer2=(SmartPointerEx)SmartPointerManager.getInstance(myProject).createSmartPsiElementPointer(method.getTypeParameterList());
  method=null;
  PlatformTestUtil.tryGcSoftlyReachableObjects();
  assertNull(pointer1.getCachedElement());
  assertNull(pointer2.getCachedElement());
  assertInstanceOf(pointer1.getElement(),PsiModifierList.class);
  assertInstanceOf(pointer2.getElement(),PsiTypeParameterList.class);
}
