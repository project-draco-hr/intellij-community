{
  final HgUpdateToDialog dialog=new HgUpdateToDialog(project,repositories,selectedRepo);
  dialog.show();
  if (dialog.isOK()) {
    FileDocumentManager.getInstance().saveAllDocuments();
    final String updateToValue=dialog.getTargetValue();
    boolean clean=dialog.isRemoveLocalChanges();
    String title=HgVcsMessages.message("hg4idea.progress.updatingTo",updateToValue);
    runUpdateToInBackground(project,title,dialog.getRepository().getRoot(),updateToValue,clean);
  }
}
