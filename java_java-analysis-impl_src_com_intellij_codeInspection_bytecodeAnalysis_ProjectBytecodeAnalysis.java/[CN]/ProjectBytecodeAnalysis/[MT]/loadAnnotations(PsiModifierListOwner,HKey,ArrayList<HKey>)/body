{
  Annotations result=new Annotations();
  if (owner instanceof PsiParameter) {
    final Solver solver=new Solver(new ELattice<Value>(Value.NotNull,Value.Top));
    collectEquations(allKeys,solver);
    HashMap<HKey,Value> solutions=solver.solve();
    BytecodeAnalysisConverter.addParameterAnnotations(solutions,result);
  }
 else   if (owner instanceof PsiMethod) {
    final Solver solver=new Solver(new ELattice<Value>(Value.Bot,Value.Top));
    collectEquations(allKeys,solver);
    HashMap<HKey,Value> solutions=solver.solve();
    int arity=((PsiMethod)owner).getParameterList().getParameters().length;
    BytecodeAnalysisConverter.addMethodAnnotations(solutions,result,key,arity);
  }
  return result;
}
