{
  final JavaParameters javaParameters=new JavaParameters();
  final Module module=getConfiguration().getConfigurationModule().getModule();
  final Object[] patchers=Extensions.getExtensions(ExtensionPoints.JUNIT_PATCHER);
  for (  Object patcher : patchers) {
    ((JUnitPatcher)patcher).patchJavaParameters(module,javaParameters);
  }
  for (  RunConfigurationExtension ext : Extensions.getExtensions(RunConfigurationExtension.EP_NAME)) {
    ext.updateJavaParameters(getConfiguration(),javaParameters,getRunnerSettings());
  }
  JavaParametersUtil.configureConfiguration(javaParameters,getConfiguration());
  JavaSdkUtil.addRtJar(javaParameters.getClassPath());
  return javaParameters;
}
