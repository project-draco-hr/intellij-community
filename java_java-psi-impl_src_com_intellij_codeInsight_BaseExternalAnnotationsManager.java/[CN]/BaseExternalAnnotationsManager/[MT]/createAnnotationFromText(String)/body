{
synchronized (charTable) {
    final DummyHolder holder=DummyHolderFactory.createHolder(myPsiManager,new JavaDummyElement(text,ANNOTATION,LanguageLevel.HIGHEST),null,charTable);
    final PsiElement element=SourceTreeToPsiMap.treeElementToPsi(holder.getTreeElement().getFirstChildNode());
    if (!(element instanceof PsiAnnotation)) {
      throw new IncorrectOperationException("Incorrect annotation \"" + text + "\".");
    }
    element.putUserData(EXTERNAL_ANNO_MARKER,Boolean.TRUE);
    return (PsiAnnotation)element;
  }
}
