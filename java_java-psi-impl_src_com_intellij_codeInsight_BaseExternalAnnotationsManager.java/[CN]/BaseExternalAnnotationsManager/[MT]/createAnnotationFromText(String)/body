{
synchronized (charTable) {
    DummyHolder holder=DummyHolderFactory.createHolder(myPsiManager,new JavaDummyElement(text,ANNOTATION,LanguageLevel.HIGHEST),null,charTable);
    PsiElement element=SourceTreeToPsiMap.treeElementToPsi(holder.getTreeElement().getFirstChildNode());
    if (!(element instanceof PsiAnnotation)) {
      throw new IncorrectOperationException("Incorrect annotation \"" + text + "\".");
    }
    return markAsExternalAnnotation((PsiAnnotation)element);
  }
}
