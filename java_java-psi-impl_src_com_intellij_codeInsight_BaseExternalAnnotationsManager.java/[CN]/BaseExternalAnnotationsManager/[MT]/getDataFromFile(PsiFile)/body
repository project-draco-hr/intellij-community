{
  Pair<MostlySingularMultiMap<String,AnnotationData>,Long> cached=myAnnotationFileToDataAndModStamp.get(file);
  long fileModificationStamp=file.getModificationStamp();
  if (cached != null && cached.getSecond() == fileModificationStamp) {
    return cached.getFirst();
  }
  DataParsingSaxHandler handler=new DataParsingSaxHandler(file);
  try {
    SAXParser saxParser=SAXParserFactory.newInstance().newSAXParser();
    saxParser.parse(new InputSource(new CharSequenceReader(escapeAttributes(file.getViewProvider().getContents()))),handler);
  }
 catch (  IOException e) {
    LOG.error(e);
  }
catch (  ParserConfigurationException e) {
    LOG.error(e);
  }
catch (  SAXException e) {
    LOG.error(e);
  }
  MostlySingularMultiMap<String,AnnotationData> result=handler.getResult();
  myAnnotationFileToDataAndModStamp.put(file,pair(result,fileModificationStamp));
  return result;
}
