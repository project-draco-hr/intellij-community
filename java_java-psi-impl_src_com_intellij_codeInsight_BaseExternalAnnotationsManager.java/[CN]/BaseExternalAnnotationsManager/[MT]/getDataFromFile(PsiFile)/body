{
  Pair<MostlySingularMultiMap<String,AnnotationData>,Long> cached=annotationFileToDataAndModStamp.get(file);
  final long fileModificationStamp=file.getModificationStamp();
  if (cached != null && cached.getSecond() == fileModificationStamp) {
    return cached.getFirst();
  }
  DataParsingSaxHandler handler=new DataParsingSaxHandler(file);
  try {
    SAXParser saxParser=SAXParserFactory.newInstance().newSAXParser();
    saxParser.parse(new InputSource(new CharSequenceReader(escapeAttributes(file.getViewProvider().getContents()))),handler);
  }
 catch (  IOException e) {
    LOG.error(e);
  }
catch (  ParserConfigurationException e) {
    LOG.error(e);
  }
catch (  SAXException e) {
    LOG.error(e);
  }
  Pair<MostlySingularMultiMap<String,AnnotationData>,Long> pair=Pair.create(handler.getResult(),file.getModificationStamp());
  annotationFileToDataAndModStamp.put(file,pair);
  return pair.first;
}
