{
  State initial=getState();
  try {
    if (getState() == State.DONT_CARE) {
      setSelected(true);
      putClientProperty("JButton.selectedState","indeterminate");
    }
 else {
      putClientProperty("JButton.selectedState",null);
    }
    super.paintComponent(g);
  }
  finally {
    setState(initial);
  }
}
