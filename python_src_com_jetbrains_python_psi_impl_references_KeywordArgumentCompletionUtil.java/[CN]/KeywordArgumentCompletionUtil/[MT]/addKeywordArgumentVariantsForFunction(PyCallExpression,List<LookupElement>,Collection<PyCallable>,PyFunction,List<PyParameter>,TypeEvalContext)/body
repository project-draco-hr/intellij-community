{
  boolean needSelf=function.getContainingClass() != null && function.getModifier() != PyFunction.Modifier.STATICMETHOD;
  final KwArgParameterCollector collector=new KwArgParameterCollector(needSelf,ret);
  for (  PyParameter parameter : parameters) {
    parameter.accept(collector);
  }
  if (collector.hasKwArgs()) {
    for (    PyKeywordArgumentProvider provider : Extensions.getExtensions(PyKeywordArgumentProvider.EP_NAME)) {
      final List<String> arguments=provider.getKeywordArguments(function,callExpr);
      for (      String argument : arguments) {
        ret.add(PyUtil.createNamedParameterLookup(argument,callExpr.getProject()));
      }
    }
    KwArgFromStatementCallCollector fromStatementCallCollector=new KwArgFromStatementCallCollector(ret,collector.getKwArgs());
    final PyStatementList statementList=function.getStatementList();
    if (statementList != null) {
      statementList.acceptChildren(fromStatementCallCollector);
    }
    if (fromStatementCallCollector.isKwArgsTransit()) {
      final PsiElement superMethod=PySuperMethodsSearch.search(function,context).findFirst();
      if (superMethod instanceof PyFunction) {
        addKeywordArgumentVariants((PyFunction)superMethod,callExpr,ret,visited);
      }
    }
  }
}
