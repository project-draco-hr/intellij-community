{
  final Runnable runnable=new Runnable(){
    public void run(){
      if (!myMethodToReplaceIn.isValid())       return;
      MethodDuplicatesHandler.invokeOnScope(myProject,Collections.<PsiMember>singleton(myMethodToReplaceIn),new AnalysisScope(myMethodToReplaceIn.getContainingFile()),true);
    }
  }
;
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runReadAction(runnable);
    }
  }
,"Search method duplicates...",true,myProject);
}
