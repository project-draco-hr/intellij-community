{
  PsiAnnotation annotation=findPlainNullabilityAnnotation(owner,checkBases);
  if (annotation != null) {
    String qName=annotation.getQualifiedName();
    if (qName == null)     return null;
    List<String> contradictory=nullable ? getNotNulls() : getNullables();
    if (contradictory.contains(qName))     return null;
    return annotation;
  }
  PsiType type=getOwnerType(owner);
  if (type == null || TypeConversionUtil.isPrimitiveAndNotNull(type))   return null;
  if (AnnotationUtil.isAnnotated(owner,nullable ? Arrays.asList(DEFAULT_NOT_NULLS) : Arrays.asList(DEFAULT_NULLABLES),checkBases,false)) {
    return null;
  }
  if (!nullable && hasHardcodedContracts(owner)) {
    return null;
  }
  return findNullabilityDefaultInHierarchy(owner,nullable);
}
