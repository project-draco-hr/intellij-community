{
  PsiAnnotation annotation=findPlainNullabilityAnnotation(owner,checkBases);
  if (annotation != null) {
    String qName=annotation.getQualifiedName();
    if (qName == null)     return null;
    List<String> contradictory=nullable ? getNotNulls() : getNullables();
    if (contradictory.contains(qName))     return null;
    return annotation;
  }
  PsiType type=getOwnerType(owner);
  if (type == null || TypeConversionUtil.isPrimitiveAndNotNull(type))   return null;
  if (AnnotationUtil.isAnnotated(owner,Arrays.asList(nullable ? DEFAULT_NOT_NULLS : DEFAULT_NULLABLES),checkBases,false)) {
    return null;
  }
  if (!nullable && hasHardcodedContracts(owner)) {
    return null;
  }
  if (owner instanceof PsiParameter && !nullable && checkBases) {
    List<PsiParameter> superParameters=AnnotationUtil.getSuperAnnotationOwners((PsiParameter)owner);
    if (!superParameters.isEmpty()) {
      return takeAnnotationFromSuperParameters((PsiParameter)owner,superParameters);
    }
  }
  return findNullabilityDefaultInHierarchy(owner,nullable);
}
