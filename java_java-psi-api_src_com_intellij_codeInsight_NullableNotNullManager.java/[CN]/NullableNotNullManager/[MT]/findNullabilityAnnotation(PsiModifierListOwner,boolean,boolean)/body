{
  Set<String> qNames=ContainerUtil.newHashSet(nullable ? getNullables() : getNotNulls());
  PsiAnnotation annotation=checkBases && (owner instanceof PsiClass || owner instanceof PsiMethod) ? AnnotationUtil.findAnnotationInHierarchy(owner,qNames) : AnnotationUtil.findAnnotation(owner,qNames);
  if (annotation != null) {
    return annotation;
  }
  if (owner instanceof PsiParameter && !TypeConversionUtil.isPrimitiveAndNotNull(((PsiParameter)owner).getType())) {
    if (AnnotationUtil.isAnnotated(owner,nullable ? Arrays.asList(DEFAULT_NOT_NULLS) : Arrays.asList(DEFAULT_NULLABLES),checkBases,false)) {
      return null;
    }
    return findContainerAnnotation(owner,nullable ? "javax.annotation.ParametersAreNullableByDefault" : "javax.annotation.ParametersAreNonnullByDefault");
  }
  return null;
}
