{
  if (rtype instanceof GrClosureType && ltype instanceof PsiClassType && GroovyConfigUtils.getInstance().isVersionAtLeast(context,GroovyConfigUtils.GROOVY2_2)) {
    PsiClassType.ClassResolveResult resolveResult=((PsiClassType)ltype).resolveGenerics();
    final PsiClass resolved=resolveResult.getElement();
    if (resolved != null) {
      final MethodSignature signature=findSingleAbstractMethodClass(resolved,resolveResult.getSubstitutor());
      if (signature != null) {
        final PsiType[] samParameterTypes=signature.getParameterTypes();
        GrSignature closureSignature=((GrClosureType)rtype).getSignature();
        if (GrClosureSignatureUtil.isSignatureApplicable(closureSignature,samParameterTypes,context)) {
          return true;
        }
      }
    }
  }
  return null;
}
