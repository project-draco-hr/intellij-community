{
  File shelfDir=getShelfResourcesDirectory();
  if (!shelfDir.exists()) {
    ChangeListManager.getInstance(myProject).addDirectoryToIgnoreImplicitly(shelfDir.getAbsolutePath());
  }
  String uniqueName=UniqueNameGenerator.generateUniqueName(shortenAndSanitize(defaultName),mySchemeManager.getAllSchemeNames());
  File dir=new File(myFileProcessor.getBaseDir(),uniqueName);
  if (createResourceDirectory && !dir.exists()) {
    dir.mkdirs();
  }
  return dir;
}
