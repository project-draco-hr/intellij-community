{
  if (inputString.length() == 0) {
    return super.canClose(inputString);
  }
  final PsiDirectory psiDirectory=getDirectory();
  final FileType type=FileTypeChooser.getKnownFileTypeOrAssociate(new FakeVirtualFile(psiDirectory.getVirtualFile(),getFileName(inputString)){
    @Override public boolean isDirectory(){
      return false;
    }
  }
,psiDirectory.getProject());
  return type != null && super.canClose(getFileName(inputString));
}
