{
synchronized (myLock) {
    myClassToSubclasses.close();
    myClassToClassDependency.close();
    mySourceFileToClasses.close();
    myClassToSourceFile.close();
    if (!myIsDelta) {
      myShortClassNameIndex.close();
      final DependencyContext context=myContext;
      if (context != null) {
        context.close();
        myContext=null;
      }
    }
 else {
      if (!myDeltaIsTransient) {
        FileUtil.delete(myRootDir);
      }
    }
  }
}
