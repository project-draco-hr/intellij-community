{
  FileAccessorCache.Handle<ZipFile> handle=ourZipFileFileAccessorCache.get(this);
  if (getFile() == getFileToUse()) {
    FileAttributes attributes=FileSystemUtil.getAttributes(getFileToUse());
    if (attributes == null) {
      throw new FileNotFoundException(getCanonicalPathToZip());
    }
    if (attributes.lastModified == getFileStamp() && attributes.length == myFileLength)     return handle;
    handle.release();
    removeZipHandlerFromCache();
    myFileStamp=DEFAULT_TIMESTAMP;
    myFileLength=DEFAULT_LENGTH;
    handle=ourZipFileFileAccessorCache.get(this);
  }
  return handle;
}
