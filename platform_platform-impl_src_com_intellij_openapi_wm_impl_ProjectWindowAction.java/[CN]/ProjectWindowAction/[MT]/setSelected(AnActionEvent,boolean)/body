{
  if (e == null)   return;
  boolean macMainMenu=SystemInfo.isMac && ActionPlaces.isMainMenuOrActionSearch(e.getPlace());
  if (!selected && !macMainMenu) {
    return;
  }
  final Project project=findProject();
  if (project == null) {
    return;
  }
  final JFrame projectFrame=WindowManager.getInstance().getFrame(project);
  final int frameState=projectFrame.getExtendedState();
  if (macMainMenu && !(e.getInputEvent().getSource() instanceof ActionMenuItem) && (projectFrame.getExtendedState() & Frame.ICONIFIED) != 0) {
    return;
  }
  if (BitUtil.isSet(frameState,Frame.ICONIFIED)) {
    projectFrame.setExtendedState(frameState ^ Frame.ICONIFIED);
  }
  projectFrame.toFront();
  projectFrame.requestFocus();
}
