{
  if (myImportBlock.isEmpty()) {
    return;
  }
  boolean hasSplittedImports=false;
  final LanguageLevel langLevel=LanguageLevel.forElement(myFile);
  final PyElementGenerator generator=PyElementGenerator.getInstance(myFile.getProject());
  for (  PyImportStatementBase importStatement : myImportBlock) {
    final ImportPriority priority=AddImportHelper.getImportPriority(importStatement);
    if (importStatement instanceof PyImportStatement && importStatement.getImportElements().length > 1) {
      for (      PyImportElement importElement : importStatement.getImportElements()) {
        hasSplittedImports=true;
        final PyImportStatement splitImport=generator.createImportStatement(langLevel,importElement.getText(),null);
        myGroups.get(priority).add(splitImport);
      }
    }
 else {
      myGroups.get(priority).add(importStatement);
    }
  }
  if (hasSplittedImports || needBlankLinesBetweenGroups() || groupsNotSorted()) {
    applyResults();
  }
}
