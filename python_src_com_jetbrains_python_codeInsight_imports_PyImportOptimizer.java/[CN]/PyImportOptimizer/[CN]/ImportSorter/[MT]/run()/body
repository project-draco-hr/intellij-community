{
  if (myImportBlock.isEmpty()) {
    return;
  }
  LanguageLevel langLevel=LanguageLevel.forElement(myFile);
  for (  PyImportStatementBase importStatement : myImportBlock) {
    if (importStatement instanceof PyFromImportStatement && ((PyFromImportStatement)importStatement).isFromFuture()) {
      continue;
    }
    if (importStatement instanceof PyImportStatement && importStatement.getImportElements().length > 1) {
      for (      PyImportElement importElement : importStatement.getImportElements()) {
        myMissorted=true;
        final PyImportStatement splitImport=myGenerator.createImportStatement(langLevel,importElement.getText(),null);
        prioritize(splitImport,importElement.resolve());
      }
    }
 else {
      final PsiElement toImport;
      if (importStatement instanceof PyFromImportStatement) {
        toImport=((PyFromImportStatement)importStatement).resolveImportSource();
      }
 else {
        final PyImportElement firstImportElement=ArrayUtil.getFirstElement(importStatement.getImportElements());
        toImport=firstImportElement != null ? firstImportElement.resolve() : null;
      }
      prioritize(importStatement,toImport);
    }
  }
  if (myMissorted || needBlankLinesBetweenGroups()) {
    applyResults();
  }
}
