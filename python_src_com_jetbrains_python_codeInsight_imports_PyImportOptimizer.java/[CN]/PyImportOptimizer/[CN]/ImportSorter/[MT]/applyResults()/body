{
  if (SORT_IMPORTS) {
    Collections.sort(myBuiltinImports,AddImportHelper.IMPORT_BY_NAME_COMPARATOR);
    Collections.sort(myThirdPartyImports,AddImportHelper.IMPORT_BY_NAME_COMPARATOR);
    Collections.sort(myProjectImports,AddImportHelper.IMPORT_BY_NAME_COMPARATOR);
  }
  markGroupStarts();
  addImports();
  final PsiElement lastElement=myImportBlock.get(myImportBlock.size() - 1);
  final PyImportStatementBase firstNonFutureImport=findFirstNonFutureImport();
  if (firstNonFutureImport != null) {
    myFile.deleteChildRange(firstNonFutureImport,lastElement);
  }
}
