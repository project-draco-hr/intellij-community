{
  if (myImportBlock.isEmpty()) {
    return;
  }
  for (  PyImportStatementBase importStatement : myImportBlock) {
    final ImportPriority priority=AddImportHelper.getImportPriority(importStatement);
    myGroups.get(priority).add(importStatement);
  }
  boolean hasTransformedImports=false;
  for (  ImportPriority priority : ImportPriority.values()) {
    final List<PyImportStatementBase> original=myGroups.get(priority);
    final List<PyImportStatementBase> transformed=transformImportStatements(original);
    hasTransformedImports|=!original.equals(transformed);
    myGroups.put(priority,transformed);
  }
  if (hasTransformedImports || needBlankLinesBetweenGroups() || groupsNotSorted()) {
    applyResults();
  }
}
