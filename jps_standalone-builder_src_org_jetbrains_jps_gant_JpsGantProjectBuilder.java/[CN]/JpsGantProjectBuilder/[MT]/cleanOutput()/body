{
  if (myDryRun) {
    info("Cleaning skipped as we're running dry");
    return;
  }
  if (myBuildIncrementally) {
    info("Cleaning skipped for incremental build");
    return;
  }
  long cleanOutputStart=System.currentTimeMillis();
  for (  JpsModule module : myModel.getProject().getModules()) {
    for (    boolean test : new boolean[]{false,true}) {
      File output=JpsJavaExtensionService.getInstance().getOutputDirectory(module,test);
      if (output != null) {
        FileUtil.delete(output);
      }
    }
  }
  myBuildInfoPrinter.printStatisticsMessage(this,"Cleaning output time, ms",String.valueOf(System.currentTimeMillis() - cleanOutputStart));
  myCompiledModules.clear();
  myCompiledModuleTests.clear();
}
