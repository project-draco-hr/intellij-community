{
  for (int i=0, argsLength=children.size(); i < argsLength; i++) {
    final Object child=children.get(i);
    final List childTests=getChildren(child);
    final int childResult;
    if (childTests.isEmpty() || !forkTillMethod) {
      childResult=runChild(wrapOutputStream((OutputStream)out),wrapOutputStream((OutputStream)err),parameters,createChildArgs(args,child),workingDir,classpath,dynamicClasspath);
    }
 else {
      childResult=processChildren(args,out,err,parameters,childTests,result,forkTillMethod,workingDir,classpath,dynamicClasspath);
    }
    result=Math.min(childResult,result);
  }
  return result;
}
