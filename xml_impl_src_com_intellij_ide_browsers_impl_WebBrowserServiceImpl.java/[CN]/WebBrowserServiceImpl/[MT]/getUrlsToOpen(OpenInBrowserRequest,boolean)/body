{
  boolean isHtmlOrXml=isHtmlOrXmlFile(request.getFile().getViewProvider().getBaseLanguage());
  if (!preferLocalUrl || !isHtmlOrXml) {
    Collection<Url> urls=getUrls(request);
    if (!isHtmlOrXml || !urls.isEmpty()) {
      return urls;
    }
  }
  VirtualFile file=request.getVirtualFile();
  return file instanceof LightVirtualFile || !request.getFile().getViewProvider().isPhysical() ? Collections.<Url>emptyList() : Collections.singleton(Urls.newFromVirtualFile(file));
}
