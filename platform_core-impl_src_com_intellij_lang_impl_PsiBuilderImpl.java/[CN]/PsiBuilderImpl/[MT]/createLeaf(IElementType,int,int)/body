{
  CharSequence text=myCharTable.intern(myText,start,end);
  if (myWhitespaces.contains(type)) {
    return new PsiWhiteSpaceImpl(text);
  }
  if (type instanceof ICustomParsingType) {
    return (TreeElement)((ICustomParsingType)type).parse(text,myCharTable);
  }
  if (type instanceof ILazyParseableElementType) {
    return ASTFactory.lazy((ILazyParseableElementType)type,text);
  }
  return ASTFactory.leaf(type,text);
}
