{
  ASTNode node=getNode().getFirstChildNode();
  while (node != null) {
    IElementType type=node.getElementType();
    ASTNode next=getNextExpression(node);
    if (next == null)     break;
    if (type == PyTokenTypes.FOR_KEYWORD) {
      ASTNode next2=getNextExpression(next);
      if (next2 == null)       break;
      final PyExpression variable=(PyExpression)next.getPsi();
      final PyExpression iterated=(PyExpression)next2.getPsi();
      visitor.visitForComponent(new ComprhForComponent(){
        public PyExpression getIteratorVariable(){
          return variable;
        }
        public PyExpression getIteratedList(){
          return iterated;
        }
      }
);
    }
 else     if (type == PyTokenTypes.IF_KEYWORD) {
      final PyExpression test=(PyExpression)next.getPsi();
      visitor.visitIfComponent(new ComprhIfComponent(){
        public PyExpression getTest(){
          return test;
        }
      }
);
    }
    node=node.getTreeNext();
  }
}
