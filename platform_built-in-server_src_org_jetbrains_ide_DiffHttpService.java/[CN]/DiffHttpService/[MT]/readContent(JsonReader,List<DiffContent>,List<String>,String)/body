{
  FileTypeRegistry fileTypeRegistry=FileTypeRegistry.getInstance();
  FileType defaultFileType=defaultFileTypeName == null ? null : fileTypeRegistry.findFileTypeByName(defaultFileTypeName);
  reader.beginArray();
  while (reader.hasNext()) {
    String title=null;
    String fileType=null;
    String content=null;
    reader.beginObject();
    while (reader.hasNext()) {
      String name=reader.nextName();
      if (name.equals("title")) {
        title=reader.nextString();
      }
 else       if (name.equals("fileType")) {
        fileType=reader.nextString();
      }
 else       if (name.equals("content")) {
        content=reader.nextString();
      }
 else {
        reader.skipValue();
      }
    }
    reader.endObject();
    if (content == null) {
      return "content is not specified";
    }
    FileType type=fileType == null ? defaultFileType : fileTypeRegistry.findFileTypeByName(fileType);
    contents.add(DiffContentFactory.getInstance().create(content,type));
    titles.add(StringUtil.isEmptyOrSpaces(title) ? "" : title);
  }
  reader.endArray();
  return null;
}
