{
  if (myEditor != null && myCurrentSegmentNumber >= 0) {
    final int offset=myEditor.getCaretModel().getOffset();
    final int segmentStart=mySegments.getSegmentStart(myCurrentSegmentNumber);
    if (offset < segmentStart || offset == segmentStart && ActionsBundle.actionText(IdeActions.ACTION_EDITOR_BACKSPACE).equals(commandName))     return true;
    final int segmentEnd=mySegments.getSegmentEnd(myCurrentSegmentNumber);
    if (offset > segmentEnd || offset == segmentEnd && ActionsBundle.actionText(IdeActions.ACTION_EDITOR_DELETE).equals(commandName))     return true;
  }
  return false;
}
