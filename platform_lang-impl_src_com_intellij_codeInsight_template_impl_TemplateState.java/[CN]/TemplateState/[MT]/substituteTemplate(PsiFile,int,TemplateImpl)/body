{
  for (  TemplateSubstitutor substitutor : Extensions.getExtensions(TemplateSubstitutor.EP_NAME)) {
    final TemplateImpl substituted=substitutor.substituteTemplate(file,caretOffset,template);
    if (substituted != null) {
      template=substituted;
    }
  }
  return template;
}
