{
  final Color bg=UIUtil.isUnderNimbusLookAndFeel() && row % 2 == 1 ? UIUtil.TRANSPARENT_COLOR : table.getBackground();
  final Color fg=table.getForeground();
  final Color selBg=(hasFocus || table.hasFocus()) ? table.getSelectionBackground() : UIUtil.getTreeUnfocusedSelectionBackground();
  final Color selFg=table.getSelectionForeground();
  setForeground(isSelected ? selFg : fg);
  setBackground(isSelected ? selBg : bg);
  if (value == null) {
    setState(State.DONT_CARE);
  }
 else {
    setSelected((Boolean)value);
  }
  return this;
}
