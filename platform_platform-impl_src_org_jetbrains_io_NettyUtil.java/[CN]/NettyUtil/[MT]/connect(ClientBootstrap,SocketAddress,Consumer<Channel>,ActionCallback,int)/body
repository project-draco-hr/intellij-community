{
  final AtomicInteger attemptCounter=new AtomicInteger(1);
  bootstrap.connect(remoteAddress).addListener(new ChannelFutureListener(){
    @Override public void operationComplete(    ChannelFuture future) throws Exception {
      if (future.isSuccess()) {
        consumer.consume(future.getChannel());
      }
 else       if (attemptCounter.incrementAndGet() > attemptCount) {
        asyncResult.reject("cannot connect");
      }
 else       if (!asyncResult.isRejected()) {
        Thread.sleep(300);
        bootstrap.connect(remoteAddress).addListener(this);
      }
    }
  }
);
}
