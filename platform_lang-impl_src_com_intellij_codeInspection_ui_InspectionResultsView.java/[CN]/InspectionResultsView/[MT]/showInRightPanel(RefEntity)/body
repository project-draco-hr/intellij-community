{
  Cursor currentCursor=getCursor();
  try {
    setCursor(new Cursor(Cursor.WAIT_CURSOR));
    final JPanel editorPanel=new JPanel();
    editorPanel.setLayout(new BorderLayout());
    CommonProblemDescriptor[] descriptors=myTree.getSelectedDescriptors();
    editorPanel.add(createBaseRightComponentFor(descriptors,refEntity),BorderLayout.CENTER);
    if (descriptors.length > 0) {
      final InspectionToolWrapper tool=myTree.getSelectedToolWrapper();
      LOG.assertTrue(tool != null);
      editorPanel.add(new QuickFixToolbar(myTree,myProject,myPreviewEditor,myProvider.getQuickFixes(tool,myTree)),BorderLayout.NORTH);
    }
    mySplitter.setSecondComponent(editorPanel);
  }
  finally {
    setCursor(currentCursor);
  }
}
