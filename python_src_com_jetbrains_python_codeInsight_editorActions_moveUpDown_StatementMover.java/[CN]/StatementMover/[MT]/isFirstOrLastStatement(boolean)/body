{
  PyFunction function=PsiTreeUtil.getParentOfType(myStatementToMove,PyFunction.class,true);
  if (function != null) {
    PyStatementList statementList=function.getStatementList();
    if (statementList != null && statementList.getStatements().length > 0) {
      if ((statementList.getStatements()[0] == myStatementToMove && !down) || (statementList.getStatements()[statementList.getStatements().length - 1] == myStatementToMove && down)) {
        return true;
      }
    }
  }
  PyClass cl=PsiTreeUtil.getParentOfType(myStatementToMove,PyClass.class,true);
  if (cl != null) {
    PyStatementList statementList=cl.getStatementList();
    if (statementList.getStatements().length > 0) {
      if ((statementList.getStatements()[0] == myStatementToMove && !down) || (statementList.getStatements()[statementList.getStatements().length - 1] == myStatementToMove && down)) {
        return true;
      }
    }
  }
  return false;
}
