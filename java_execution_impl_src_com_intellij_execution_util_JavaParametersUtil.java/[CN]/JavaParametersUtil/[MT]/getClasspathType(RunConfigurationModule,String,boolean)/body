{
  final Module module=configurationModule.getModule();
  if (module == null)   throw CantRunException.noModuleConfigured(configurationModule.getModuleName());
  Boolean inProduction=isClassInProductionSources(mainClassName,module);
  if (inProduction == null) {
    if (!classMustHaveSource) {
      return JavaParameters.JDK_AND_CLASSES_AND_TESTS;
    }
    throw CantRunException.classNotFound(mainClassName,module);
  }
  return inProduction ? JavaParameters.JDK_AND_CLASSES : JavaParameters.JDK_AND_CLASSES_AND_TESTS;
}
