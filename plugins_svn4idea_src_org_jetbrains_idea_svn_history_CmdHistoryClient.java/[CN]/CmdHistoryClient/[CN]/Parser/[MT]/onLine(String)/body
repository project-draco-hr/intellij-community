{
  if (ENTRY_START.matcher(line).matches()) {
    processEntryStart();
  }
 else   if (waitDetails) {
    processDetails(line);
  }
 else   if (waitMessage) {
    processMessage(line);
  }
 else   if (StringUtil.isEmpty(line.trim())) {
    processChangedPathsFinished();
  }
 else   if (line.startsWith("Changed paths:")) {
    processChangedPathsStarted();
  }
 else   if (waitChangedPath) {
    processChangedPath(line);
  }
 else {
    throw new VcsException("unknown state on line " + line);
  }
}
