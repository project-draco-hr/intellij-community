{
  final Project project=source.getProject();
  final GroovyConsoleStateService projectConsole=GroovyConsoleStateService.getInstance(project);
  for (  FileEditor fileEditor : source.getAllEditors(file)) {
    if (!(fileEditor instanceof TextEditor))     continue;
    final Editor editor=((TextEditor)fileEditor).getEditor();
    final JPanel panel=new EditorHeaderComponent();
    final DefaultActionGroup actionGroup=new DefaultActionGroup(new GrSelectModuleAction(projectConsole,file));
    final ActionToolbar menu=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,actionGroup,true);
    panel.add(menu.getComponent());
    editor.setHeaderComponent(panel);
    executeAction.registerCustomShortcutSet(CommonShortcuts.CTRL_ENTER,editor.getComponent());
  }
}
