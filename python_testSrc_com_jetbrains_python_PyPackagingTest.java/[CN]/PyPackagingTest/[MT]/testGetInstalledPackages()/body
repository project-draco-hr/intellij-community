{
  forAllPythonEnvs(new Processor<Sdk>(){
    @Override public boolean process(    Sdk sdk){
      List<PyPackage> packages=null;
      try {
        packages=PyPackagingUtil.getInstance().getInstalledPackages(sdk);
      }
 catch (      PyExternalProcessException e) {
        final int retcode=e.getRetcode();
        if (retcode != PyPackagingUtil.ERROR_NO_PACKAGING_TOOLS) {
          fail(String.format("Error for interpreter '%s': %s",sdk.getHomePath(),e.getMessage()));
        }
      }
      if (packages != null) {
        assertTrue(packages.size() > 0);
        for (        PyPackage pkg : packages) {
          assertTrue(pkg.getName().length() > 0);
        }
      }
      return true;
    }
  }
);
}
