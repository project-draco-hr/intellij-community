{
  final List<String> roots=PyEnvTestCase.getPythonRoots();
  if (roots.size() == 0) {
    String msg=getTestName(false) + ": environments are not defined. Skipping.";
    LOG.warn(msg);
    System.out.println(msg);
    return;
  }
  for (  String root : roots) {
    List<PyPackage> packages=null;
    try {
      packages=PyPackagingUtil.getInstalledPackages(root);
    }
 catch (    PyExternalProcessException e) {
      final int retcode=e.getRetcode();
      if (retcode != PyPackagingUtil.OK && retcode != PyPackagingUtil.ERROR_NO_PACKAGING_TOOLS) {
        fail(String.format("Error for root '%s': %s",root,e.getMessage()));
      }
    }
    if (packages != null) {
      assertTrue(packages.size() > 0);
      for (      PyPackage pkg : packages) {
        assertTrue(pkg.getName().length() > 0);
      }
    }
  }
}
