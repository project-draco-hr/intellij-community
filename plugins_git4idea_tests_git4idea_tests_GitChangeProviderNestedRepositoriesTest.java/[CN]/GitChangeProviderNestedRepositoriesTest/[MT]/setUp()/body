{
  File repoRoot=new File(myProjectPath);
  myChildRepoDir=new File(repoRoot,"child");
  myChildRepoDir.mkdir();
  myChildRepo=GitTestRepository.init(myChildRepoDir);
  LocalFileSystem.getInstance().refreshAndFindFileByIoFile(myChildRepo.getRootDir());
  myChildRepo.refresh();
  myChildFiles=GitTestUtil.createFileStructure(myProject,myChildRepo.getVFRootDir(),"in1.txt","in2.txt","dirr/inin1.txt","dirr/inin2.txt");
  myChildRepo.addCommit();
  myChildRepo.refresh();
  myVcsManager=ProjectLevelVcsManager.getInstance(myProject);
  myVcsManager.setDirectoryMappings(Arrays.asList(new VcsDirectoryMapping(myProjectPath,GitVcs.getKey().getName()),new VcsDirectoryMapping(myChildRepo.getRootDir().getPath(),GitVcs.getKey().getName())));
  myChangeListManager=ChangeListManager.getInstance(myProject);
  myDirtyScopeManager=VcsDirtyScopeManager.getInstance(myProject);
}
