{
  final AtomicBoolean result=new AtomicBoolean();
  GitPreservingProcess preservingProcess=new GitPreservingProcess(myProject,myFacade,myGit,GitUtil.getRootsFromRepositories(repositories),"checkout",reference,GitVcsSettings.UpdateChangesPolicy.STASH,indicator,new Runnable(){
    @Override public void run(){
      result.set(checkoutOrNotify(repositories,reference,newBranch,false));
    }
  }
);
  preservingProcess.execute();
  return result.get();
}
