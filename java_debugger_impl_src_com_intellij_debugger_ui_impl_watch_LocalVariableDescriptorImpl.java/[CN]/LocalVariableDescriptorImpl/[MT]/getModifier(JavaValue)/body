{
  return new JavaValueModifier(value){
    @Override protected void setValueImpl(    @NotNull String expression,    @NotNull XModificationCallback callback){
      final LocalVariableProxyImpl local=LocalVariableDescriptorImpl.this.getLocalVariable();
      if (local != null) {
        final DebuggerContextImpl debuggerContext=DebuggerManagerEx.getInstanceEx(getProject()).getContext();
        set(expression,callback,debuggerContext,new SetValueRunnable(){
          public void setValue(          EvaluationContextImpl evaluationContext,          Value newValue) throws ClassNotLoadedException, InvalidTypeException, EvaluateException {
            debuggerContext.getFrameProxy().setValue(local,preprocessValue(evaluationContext,newValue,local.getType()));
            update(debuggerContext);
          }
          public ReferenceType loadClass(          EvaluationContextImpl evaluationContext,          String className) throws InvocationException, ClassNotLoadedException, IncompatibleThreadStateException, InvalidTypeException, EvaluateException {
            return evaluationContext.getDebugProcess().loadClass(evaluationContext,className,evaluationContext.getClassLoader());
          }
        }
);
      }
    }
  }
;
}
