{
  if (myContentManager.getContents().length == 0) {
    myToolWindow.getComponent().putClientProperty(ToolWindowContentUi.HIDE_ID_LABEL,"false");
    myStubContent.setComponent(this);
    myContentManager.addContent(myStubContent);
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        if (myContentManager.getIndexOfContent(myStubContent) != -1) {
          ToolWindowManager.getInstance(myProject).getToolWindow(ToolWindowId.PREVIEW).hide(null);
        }
      }
    }
);
  }
 else   if (myContentManager.getContents().length > 1) {
    myToolWindow.getComponent().putClientProperty(ToolWindowContentUi.HIDE_ID_LABEL,"true");
    myContentManager.removeContent(myStubContent,false);
  }
}
