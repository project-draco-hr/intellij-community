{
  myHistory.remove(file);
  if (ArrayUtil.find(myEditorsSplitters.getOpenFiles(),file) != -1) {
    myEditorsSplitters.closeFile(file,false);
  }
  if (file.equals(myAwaitingForOpen)) {
    myAwaitingForOpen=null;
  }
  if (file.equals(myModifiedFile)) {
    myBlocked=true;
    try {
      myManager.openFileWithProviders(myModifiedFile,false,true);
    }
  finally {
      myBlocked=false;
    }
    myModifiedFile=null;
  }
  Content content=getContent(file);
  if (content != null) {
    myContentManager.removeContent(content,false);
    checkStubContent();
  }
}
