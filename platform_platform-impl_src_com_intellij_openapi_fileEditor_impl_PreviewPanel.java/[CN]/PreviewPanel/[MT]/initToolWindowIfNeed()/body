{
  if (myInitialized)   return;
  final ToolWindowImpl window=(ToolWindowImpl)ToolWindowManager.getInstance(myProject).registerToolWindow(ToolWindowId.PREVIEW,this,ToolWindowAnchor.RIGHT,myProject,false);
  window.setIcon(AllIcons.Actions.PreviewDetails);
  myEditorsSplitters=new EditorsSplitters(myManager,myDockManager,false){
    @Override protected void afterFileClosed(    VirtualFile file){
      window.setTitle(": (empty)");
    }
    @Override protected void afterFileOpen(    VirtualFile file){
      window.setTitle(": " + StringUtil.getShortened(EditorTabbedContainer.calcTabTitle(myProject,file),UISettings.getInstance().EDITOR_TAB_TITLE_LIMIT));
    }
    @Override public void setTabsPlacement(    int tabPlacement){
      super.setTabsPlacement(UISettings.TABS_NONE);
    }
    @Override protected boolean showEmptyText(){
      return false;
    }
  }
;
  myEditorsSplitters.createCurrentWindow();
  myWindow=myEditorsSplitters.getCurrentWindow();
  setLayout(new GridLayout(1,1));
  add(myEditorsSplitters);
  window.setTitleActions(new MoveToEditorTabsAction(),new CloseFileAction());
  myInitialized=true;
}
