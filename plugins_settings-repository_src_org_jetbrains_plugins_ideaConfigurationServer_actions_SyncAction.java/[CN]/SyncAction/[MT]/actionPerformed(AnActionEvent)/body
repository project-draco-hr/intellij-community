{
  IcsManager.getInstance().sync(SyncType.MERGE).doWhenDone(new Runnable(){
    @Override public void run(){
      new Notification(IcsManager.PLUGIN_NAME,IcsBundle.message("sync.done.title"),IcsBundle.message("sync.done.message"),NotificationType.INFORMATION).notify(null);
    }
  }
).doWhenRejected(new Consumer<String>(){
    @Override public void consume(    String error){
      new Notification(IcsManager.PLUGIN_NAME,IcsBundle.message("sync.rejected.title"),IcsBundle.message("sync.rejected.message",StringUtil.notNullize(error,"Internal error")),NotificationType.ERROR).notify(null);
    }
  }
);
}
