{
  Project project=foreachStatement.getProject();
  PsiElementFactory elementFactory=JavaPsiFacade.getElementFactory(project);
  if (status == InitializerUsageStatus.DECLARED_JUST_BEFORE) {
    initializer.replace(elementFactory.createExpressionFromText(replacement,foreachStatement));
    removeLoop(foreachStatement);
    return var;
  }
 else {
    if (status == InitializerUsageStatus.AT_WANTED_PLACE_ONLY) {
      initializer.delete();
    }
    return foreachStatement.replace(elementFactory.createStatementFromText(var.getName() + " = " + replacement+ ";",foreachStatement));
  }
}
