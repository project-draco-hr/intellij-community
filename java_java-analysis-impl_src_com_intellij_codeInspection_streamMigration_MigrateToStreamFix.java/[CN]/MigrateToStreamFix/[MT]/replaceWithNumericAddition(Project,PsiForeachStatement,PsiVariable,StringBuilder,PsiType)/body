{
  PsiElementFactory elementFactory=JavaPsiFacade.getElementFactory(project);
  restoreComments(foreachStatement,foreachStatement.getBody());
  InitializerUsageStatus status=StreamApiMigrationInspection.getInitializerUsageStatus(var,foreachStatement);
  if (status != InitializerUsageStatus.UNKNOWN) {
    PsiExpression initializer=var.getInitializer();
    if (ExpressionUtils.isZero(initializer)) {
      PsiType type=var.getType();
      String replacement=(type.equals(expressionType) ? "" : "(" + type.getCanonicalText() + ") ") + builder;
      replaceInitializer(foreachStatement,var,initializer,replacement,status);
      return;
    }
  }
  PsiElement result=foreachStatement.replace(elementFactory.createStatementFromText(var.getName() + "+=" + builder+ ";",foreachStatement));
  simplifyAndFormat(project,result);
}
