{
  if (isHelpButton(c)) {
    return;
  }
  AbstractButton button=(AbstractButton)c;
  ButtonModel model=button.getModel();
  Color fg=button.getForeground();
  if (fg instanceof UIResource && isDefaultButton(button)) {
    final Color selectedFg=UIManager.getColor("Button.darcula.selectedButtonForeground");
    if (selectedFg != null) {
      fg=selectedFg;
    }
  }
  g.setColor(fg);
  FontMetrics metrics=SwingUtilities2.getFontMetrics(c,g);
  int mnemonicIndex=DarculaLaf.isAltPressed() ? button.getDisplayedMnemonicIndex() : -1;
  if (model.isEnabled()) {
    SwingUtilities2.drawStringUnderlineCharAt(c,g,text,mnemonicIndex,textRect.x + getTextShiftOffset(),textRect.y + metrics.getAscent() + getTextShiftOffset());
  }
 else {
    paintDisabledText(g,text,c,textRect,metrics);
  }
}
