{
  int length=docstring.length();
  docstring=StringUtil.replace(docstring,":py:class:","");
  docstring=StringUtil.replace(docstring,":class:","");
  docstring=docstring.replaceAll("`([^`]+)`","$1");
  PyType type=getTypeByName(anchor,docstring);
  Map<TextRange,PyType> res=new HashMap<TextRange,PyType>();
  if (type instanceof PyClassType && type.getName() != null)   res.put(new TextRange(position,position + length),type);
  if (type instanceof PyUnionType) {
    List<PyType> types=((PyUnionType)type).getMembers();
    for (int i=0; i != types.size(); ++i) {
      String name=types.get(i).getName();
      if (name != null) {
        int start=position + docstring.indexOf(name);
        if (start != -1)         res.put(new TextRange(start,start + name.length()),types.get(i));
      }
    }
  }
  return res;
}
