{
  final FileEditorManager fileEditorManager=FileEditorManager.getInstance(project);
  final Set<PsiFileSystemItem> toUpdateInProjectView=new HashSet<PsiFileSystemItem>();
  for (  ResourceBundle resourceBundle : resourceBundles) {
    fileEditorManager.closeFile(new ResourceBundleAsVirtualFile(resourceBundle));
    for (    final PropertiesFile propertiesFile : resourceBundle.getPropertiesFiles()) {
      fileEditorManager.closeFile(propertiesFile.getVirtualFile());
      PsiDirectory containingDirectory=propertiesFile.getContainingFile().getContainingDirectory();
      if (containingDirectory != null) {
        toUpdateInProjectView.add(containingDirectory);
      }
    }
    ResourceBundleManager.getInstance(project).dissociateResourceBundle(resourceBundle);
  }
  AbstractProjectViewPane currentProjectViewPane=ProjectView.getInstance(project).getCurrentProjectViewPane();
  if (currentProjectViewPane == null) {
    return;
  }
  AbstractTreeBuilder treeBuilder=currentProjectViewPane.getTreeBuilder();
  if (treeBuilder != null) {
    for (    PsiFileSystemItem item : toUpdateInProjectView) {
      treeBuilder.queueUpdateFrom(item,false);
    }
  }
}
