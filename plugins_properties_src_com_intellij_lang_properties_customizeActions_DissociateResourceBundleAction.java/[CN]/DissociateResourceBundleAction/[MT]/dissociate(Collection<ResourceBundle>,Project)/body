{
  final FileEditorManager fileEditorManager=FileEditorManager.getInstance(project);
  final Set<PsiFileSystemItem> toUpdateInProjectView=new HashSet<PsiFileSystemItem>();
  for (  ResourceBundle resourceBundle : resourceBundles) {
    fileEditorManager.closeFile(new ResourceBundleAsVirtualFile(resourceBundle));
    for (    final PropertiesFile propertiesFile : resourceBundle.getPropertiesFiles()) {
      fileEditorManager.closeFile(propertiesFile.getVirtualFile());
      PsiDirectory containingDirectory=propertiesFile.getContainingFile().getContainingDirectory();
      if (containingDirectory != null) {
        toUpdateInProjectView.add(containingDirectory);
      }
    }
    ResourceBundleManager.getInstance(project).dissociateResourceBundle(resourceBundle);
  }
  AbstractTreeBuilder treeBuilder=ProjectView.getInstance(project).getCurrentProjectViewPane().getTreeBuilder();
  for (  PsiFileSystemItem item : toUpdateInProjectView) {
    treeBuilder.queueUpdateFrom(item,false);
  }
}
