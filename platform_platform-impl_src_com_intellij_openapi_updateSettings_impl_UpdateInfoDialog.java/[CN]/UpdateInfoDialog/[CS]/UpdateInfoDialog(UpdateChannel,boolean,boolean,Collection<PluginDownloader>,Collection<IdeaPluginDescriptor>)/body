{
  super(enableLink);
  myUpdatedChannel=channel;
  myForceHttps=forceHttps;
  myUpdatedPlugins=updatedPlugins;
  myLatestBuild=channel.getLatestBuild();
  myPatch=myLatestBuild != null ? myLatestBuild.findPatchForCurrentBuild() : null;
  myWriteProtected=myPatch != null && !new File(PathManager.getHomePath()).canWrite();
  getCancelAction().putValue(DEFAULT_ACTION,Boolean.TRUE);
  if (myLatestBuild != null) {
    initLicensingInfo(myUpdatedChannel,myLatestBuild);
  }
  init();
  if (incompatiblePlugins != null && !incompatiblePlugins.isEmpty()) {
    String list=StringUtil.join(incompatiblePlugins,new Function<IdeaPluginDescriptor,String>(){
      @Override public String fun(      IdeaPluginDescriptor downloader){
        return downloader.getName();
      }
    }
,"<br/>");
    setErrorText(IdeBundle.message("updates.incompatible.plugins.found",incompatiblePlugins.size(),list));
  }
}
