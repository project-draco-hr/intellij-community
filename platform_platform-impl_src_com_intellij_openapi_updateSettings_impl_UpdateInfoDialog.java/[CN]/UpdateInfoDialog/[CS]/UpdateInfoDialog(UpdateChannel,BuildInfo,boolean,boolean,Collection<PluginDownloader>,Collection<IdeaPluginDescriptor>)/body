{
  super(enableLink);
  myUpdatedChannel=channel;
  myForceHttps=forceHttps;
  myUpdatedPlugins=updatedPlugins;
  myLatestBuild=latestBuild;
  myPatch=myLatestBuild.findPatchForCurrentBuild();
  myWriteProtected=myPatch != null && !new File(PathManager.getHomePath()).canWrite();
  getCancelAction().putValue(DEFAULT_ACTION,Boolean.TRUE);
  initLicensingInfo(myUpdatedChannel,myLatestBuild);
  init();
  if (incompatiblePlugins != null && !incompatiblePlugins.isEmpty()) {
    String list=StringUtil.join(incompatiblePlugins,new Function<IdeaPluginDescriptor,String>(){
      @Override public String fun(      IdeaPluginDescriptor downloader){
        return downloader.getName();
      }
    }
,"<br/>");
    setErrorText(IdeBundle.message("updates.incompatible.plugins.found",incompatiblePlugins.size(),list));
  }
}
