{
  ApplicationInfo appInfo=ApplicationInfo.getInstance();
  ApplicationNamesInfo appNames=ApplicationNamesInfo.getInstance();
  String message=myLatestBuild.getMessage();
  final String fullProductName=appNames.getFullProductName();
  if (message == null) {
    message=IdeBundle.message("updates.new.version.available",fullProductName);
  }
  final String homePageUrl=myUpdatedChannel.getHomePageUrl();
  if (!StringUtil.isEmptyOrSpaces(homePageUrl)) {
    final int idx=message.indexOf(fullProductName);
    if (idx >= 0) {
      message=message.substring(0,idx) + "<a href=\'" + homePageUrl+ "\'>"+ fullProductName+ "</a>"+ message.substring(idx + fullProductName.length());
    }
  }
  configureMessageArea(myUpdateMessage,message,null,BrowserHyperlinkListener.INSTANCE);
  myCurrentVersion.setText(formatVersion(appInfo.getFullVersion() + (appInfo instanceof ApplicationInfoEx && ((ApplicationInfoEx)appInfo).isEAP() ? " EAP" : ""),appInfo.getBuild().asStringWithoutProductCode()));
  myNewVersion.setText(formatVersion(myLatestBuild.getVersion(),myLatestBuild.getNumber().asStringWithoutProductCode()));
  if (myPatch != null) {
    myPatchInfo.setText(myPatch.getSize() + " MB");
  }
 else {
    myPatchLabel.setVisible(false);
    myPatchInfo.setVisible(false);
  }
  if (myWriteProtected) {
    message=IdeBundle.message("updates.write.protected",appNames.getProductName(),PathManager.getHomePath());
    configureMessageArea(myMessageArea,message,JBColor.RED,null);
  }
 else {
    configureMessageArea(myMessageArea);
  }
  if (myLicenseInfo != null) {
    configureMessageArea(myLicenseArea,myLicenseInfo,myPaidUpgrade ? JBColor.RED : null,null);
  }
}
