{
  ApplicationInfo appInfo=ApplicationInfo.getInstance();
  ApplicationNamesInfo appNames=ApplicationNamesInfo.getInstance();
  String message=myLatestBuild.getMessage();
  if (message == null) {
    message=IdeBundle.message("updates.new.version.available",appNames.getFullProductName());
  }
  configureMessageArea(myUpdateMessage,message,null,new BrowserHyperlinkListener());
  myCurrentVersion.setText(formatVersion(appInfo.getFullVersion(),appInfo.getBuild().asStringWithoutProductCode()));
  myNewVersion.setText(formatVersion(myLatestBuild.getVersion(),myLatestBuild.getNumber().asStringWithoutProductCode()));
  if (myPatch != null) {
    myPatchInfo.setText(myPatch.getSize() + " MB");
  }
 else {
    myPatchLabel.setVisible(false);
    myPatchInfo.setVisible(false);
  }
  if (myWriteProtected) {
    message=IdeBundle.message("updates.write.protected",appNames.getProductName(),PathManager.getHomePath());
    configureMessageArea(myMessageArea,message,JBColor.RED,null);
  }
 else {
    configureMessageArea(myMessageArea);
  }
}
