{
  LicensingFacade facade=LicensingFacade.getInstance();
  if (facade != null) {
    if (channel.getLicensing().equals(UpdateChannel.LICENSING_EAP)) {
      myLicenseInfo=IdeBundle.message("updates.channel.bundled.key");
    }
 else {
      Date buildDate=build.getReleaseDate();
      if (buildDate != null) {
        if (!facade.isApplicableForProduct(buildDate)) {
          myLicenseInfo=IdeBundle.message("updates.paid.upgrade",channel.getEvalDays());
          myLicenseInfoColor=JBColor.RED;
        }
 else         if (facade.isPerpetualForProduct(buildDate)) {
          myLicenseInfo=IdeBundle.message("updates.fallback.build");
        }
 else {
          Date expiration=facade.getLicenseExpirationDate();
          myLicenseInfo=expiration != null ? IdeBundle.message("updates.interim.build",DateFormatUtil.formatAboutDialogDate(expiration)) : IdeBundle.message("updates.interim.build.endless");
        }
      }
    }
  }
}
