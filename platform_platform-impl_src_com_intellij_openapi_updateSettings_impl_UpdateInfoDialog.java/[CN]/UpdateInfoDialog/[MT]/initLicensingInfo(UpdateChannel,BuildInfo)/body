{
  LicensingFacade facade=LicensingFacade.getInstance();
  if (facade != null) {
    if (channel.getLicensing().equals(UpdateChannel.LICENSING_EAP)) {
      myLicenseInfo=IdeBundle.message("updates.channel.bundled.key");
    }
 else {
      Date buildDate=build.getReleaseDate();
      if (buildDate != null) {
        Boolean applicable=facade.isApplicableForProduct(buildDate);
        if (applicable != null) {
          if (applicable == Boolean.FALSE) {
            myLicenseInfo=IdeBundle.message("updates.paid.upgrade",channel.getEvalDays());
            myLicenseInfoColor=JBColor.RED;
          }
 else           if (facade.isPerpetualForProduct(buildDate) == Boolean.TRUE) {
            myLicenseInfo=IdeBundle.message("updates.fallback.build");
          }
 else {
            Date expiration=facade.getLicenseExpirationDate();
            if (expiration != null) {
              myLicenseInfo=IdeBundle.message("updates.interim.build",DateFormatUtil.formatAboutDialogDate(expiration));
            }
          }
        }
      }
    }
  }
}
