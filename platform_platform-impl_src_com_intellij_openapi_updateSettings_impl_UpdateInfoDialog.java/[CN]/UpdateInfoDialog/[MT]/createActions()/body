{
  List<Action> actions=ContainerUtil.newArrayList();
  if (myPatch != null && ApplicationManager.getApplication().isRestartCapable()) {
    actions.add(new AbstractAction(IdeBundle.message("updates.download.and.restart.button")){
{
        setEnabled(!myWriteProtected);
      }
      @Override public void actionPerformed(      ActionEvent e){
        downloadPatchAndRestart();
      }
    }
);
  }
  List<ButtonInfo> buttons=myNewBuild.getButtons();
  if (buttons.isEmpty()) {
    actions.add(new AbstractAction(IdeBundle.message("updates.more.info.button")){
      @Override public void actionPerformed(      ActionEvent e){
        openDownloadPage();
      }
    }
);
  }
 else {
    for (    ButtonInfo info : buttons) {
      if (!info.isDownload() || myPatch == null) {
        actions.add(new ButtonAction(info));
      }
    }
  }
  actions.add(new AbstractAction(IdeBundle.message("updates.ignore.update.button")){
    @Override public void actionPerformed(    ActionEvent e){
      String build=myNewBuild.getNumber().asStringWithoutProductCode();
      UpdateSettings.getInstance().getIgnoredBuildNumbers().add(build);
      doCancelAction();
    }
  }
);
  actions.add(getCancelAction());
  return actions.toArray(new Action[actions.size()]);
}
