{
  final UpdateChecker.DownloadPatchResult result=UpdateChecker.downloadAndInstallPatch(myLatestBuild);
  if (result == UpdateChecker.DownloadPatchResult.SUCCESS) {
    if (myUpdatedPlugins != null && !myUpdatedPlugins.isEmpty()) {
      new PluginUpdateInfoDialog(getContentPanel(),myUpdatedPlugins,true){
        @Override protected boolean toRestart(){
          return true;
        }
        @Override protected String getOkButtonText(){
          return IdeBundle.message(canRestart ? "update.restart.plugins.update.action" : "update.shutdown.plugins.update.action");
        }
      }
.show();
    }
    restart();
  }
 else   if (result == UpdateChecker.DownloadPatchResult.FAILED) {
    openDownloadPage();
  }
}
