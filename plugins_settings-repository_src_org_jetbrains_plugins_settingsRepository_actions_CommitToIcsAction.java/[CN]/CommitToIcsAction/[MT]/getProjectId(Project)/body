{
  ProjectId projectId=ServiceManager.getService(project,ProjectId.class);
  if (projectId.uid == null) {
    if (MessageDialogBuilder.yesNo("Settings Server Project Mapping","Project is not mapped on Settings Server. Would you like to map?").project(project).doNotAsk(new DialogWrapper.PropertyDoNotAskOption(""){
      @Override public void setToBeShown(      boolean value,      int exitCode){
        IcsManager.getInstance().getSettings().setDoNoAskMapProject(!value);
      }
      @Override public boolean isToBeShown(){
        return !IcsManager.getInstance().getSettings().getDoNoAskMapProject();
      }
      @Override public boolean canBeHidden(){
        return true;
      }
    }
).show() == Messages.YES) {
      projectId.uid=UUID.randomUUID().toString();
    }
  }
  return projectId.uid;
}
