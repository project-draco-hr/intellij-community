{
  if (element instanceof XmlTag) {
    final XmlTag psiElement=(XmlTag)element;
    if (!psiElement.isValid())     return false;
    final String ns=psiElement.getNamespace();
    if (isNamespaceAcceptable(ns))     return true;
    final PsiFile psiFile=psiElement.getContainingFile();
    if (psiFile instanceof XmlFile) {
      XmlDocument document=((XmlFile)psiFile).getDocument();
      if (document == null)       return false;
      final XmlProlog prolog=document.getProlog();
      if (prolog != null) {
        final XmlDoctype doctype=prolog.getDoctype();
        if (doctype != null) {
          final String publicId=doctype.getPublicId();
          if (publicId != null) {
            if (isNamespaceAcceptable(publicId))             return true;
          }
        }
      }
    }
  }
 else   if (element instanceof XmlDocument) {
    return isAcceptable(((XmlDocument)element).getRootTag(),context);
  }
  return false;
}
