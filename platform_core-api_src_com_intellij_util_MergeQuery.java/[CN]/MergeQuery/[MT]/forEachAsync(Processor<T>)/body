{
  final AsyncFutureResult<Boolean> result=AsyncFutureFactory.getInstance().createAsyncFutureResult();
  final AsyncFuture<Boolean> fq=processSubQueryAsync(myQuery1,consumer);
  fq.addConsumer(SameThreadExecutor.INSTANCE,new DefaultResultConsumer<Boolean>(result){
    @Override public void onSuccess(    Boolean value){
      if (value.booleanValue()) {
        final AsyncFuture<Boolean> fq2=processSubQueryAsync(myQuery2,consumer);
        fq2.addConsumer(SameThreadExecutor.INSTANCE,new DefaultResultConsumer<Boolean>(result));
      }
 else {
        result.set(false);
      }
    }
  }
);
  return result;
}
