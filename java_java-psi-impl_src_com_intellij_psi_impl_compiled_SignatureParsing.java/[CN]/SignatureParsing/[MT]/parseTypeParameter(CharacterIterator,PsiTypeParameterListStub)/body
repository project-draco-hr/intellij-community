{
  StringBuilder name=new StringBuilder();
  while (iterator.current() != ':' && iterator.current() != CharacterIterator.DONE) {
    name.append(iterator.current());
    iterator.next();
  }
  if (iterator.current() == CharacterIterator.DONE) {
    throw new ClsFormatException();
  }
  PsiTypeParameterStub parameterStub=new PsiTypeParameterStubImpl(parent,StringRef.fromString(name.toString()));
  List<String> bounds=ContainerUtil.newSmartList();
  while (iterator.current() == ':') {
    iterator.next();
    String bound=parseTopLevelClassRefSignature(iterator);
    if (bound != null) {
      bounds.add(bound);
    }
  }
  int size=bounds.size();
  if (size > 0 && CommonClassNames.JAVA_LANG_OBJECT.equals(bounds.get(size - 1))) {
    bounds.remove(size - 1);
  }
  StubBuildingVisitor.newReferenceList(JavaStubElementTypes.EXTENDS_BOUND_LIST,parameterStub,ArrayUtil.toStringArray(bounds));
  return parameterStub;
}
