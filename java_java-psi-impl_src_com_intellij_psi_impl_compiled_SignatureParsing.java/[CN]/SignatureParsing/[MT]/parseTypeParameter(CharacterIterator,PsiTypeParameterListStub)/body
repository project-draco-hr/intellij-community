{
  StringBuilder name=new StringBuilder();
  while (signatureIterator.current() != ':' && signatureIterator.current() != CharacterIterator.DONE) {
    name.append(signatureIterator.current());
    signatureIterator.next();
  }
  if (signatureIterator.current() == CharacterIterator.DONE) {
    throw new ClsFormatException();
  }
  PsiTypeParameterStub parameterStub=new PsiTypeParameterStubImpl(parent,StringRef.fromString(name.toString()));
  List<String> bounds=ContainerUtil.newSmartList();
  while (signatureIterator.current() == ':') {
    signatureIterator.next();
    String bound=parseTopLevelClassRefSignature(signatureIterator);
    if (bound != null) {
      bounds.add(bound);
    }
  }
  int size=bounds.size();
  if (size > 0 && CommonClassNames.JAVA_LANG_OBJECT.equals(bounds.get(size - 1))) {
    bounds.remove(size - 1);
  }
  StubBuildingVisitor.newReferenceList(JavaStubElementTypes.EXTENDS_BOUND_LIST,parameterStub,ArrayUtil.toStringArray(bounds));
  return parameterStub;
}
