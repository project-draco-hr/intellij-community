{
  SqLiteDb db=null;
  int userVersion=0;
  try {
    db=SqLiteDb.open(myDbFile,true);
    userVersion=db.getOptions().getUserVersion();
  }
 catch (  NonWritableChannelException e) {
    LOG.info(e);
  }
catch (  SqlJetException e) {
    LOG.info(e);
    if (db != null) {
      userVersion=db.getUserVersion();
      LOG.debug("Working copy database schema: " + db.getDbSchema());
    }
  }
 finally {
    close(db);
  }
  WorkingCopyFormat format=WorkingCopyFormat.getInstance(userVersion);
  return !WorkingCopyFormat.UNKNOWN.equals(format) ? format : null;
}
