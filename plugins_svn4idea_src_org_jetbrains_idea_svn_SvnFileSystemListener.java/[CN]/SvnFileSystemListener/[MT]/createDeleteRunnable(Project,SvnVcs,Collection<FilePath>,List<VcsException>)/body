{
  return new Runnable(){
    public void run(){
      for (      FilePath file : filesToProcess) {
        VirtualFile vFile=file.getVirtualFile();
        final File ioFile=new File(file.getPath());
        try {
          createDeleteAction(vcs,ioFile,true).execute();
          if (vFile != null && vFile.isValid() && vFile.isDirectory()) {
            vFile.refresh(true,true);
            VcsDirtyScopeManager.getInstance(project).dirDirtyRecursively(vFile);
          }
 else {
            VcsDirtyScopeManager.getInstance(project).fileDirty(file);
          }
        }
 catch (        VcsException e) {
          exceptions.add(e);
        }
      }
    }
  }
;
}
