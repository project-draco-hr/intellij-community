{
  builder.append("public ");
  final PsiType returnType=context.typeProvider.getReturnType(block);
  writeType(builder,returnType,block);
  builder.append(" doCall");
  final GrParameter[] parameters=block.getAllParameters();
  GenerationUtil.writeParameterList(builder,parameters,new GeneratorClassNameProvider(),context);
  Collection<GrStatement> myExitPoints=returnType != PsiType.VOID ? ControlFlowUtils.collectReturns(block) : Collections.<GrStatement>emptySet();
  boolean shouldInsertReturnNull=!(returnType instanceof PsiPrimitiveType) && MissingReturnInspection.methodMissesSomeReturns(block,MissingReturnInspection.ReturnStatus.shouldNotReturnValue);
  new CodeBlockGenerator(builder,context.extend(),myExitPoints).generateCodeBlock(block,shouldInsertReturnNull);
  builder.append('\n');
}
