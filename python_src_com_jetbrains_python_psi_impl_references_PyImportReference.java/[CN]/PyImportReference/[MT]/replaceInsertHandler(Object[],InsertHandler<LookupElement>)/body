{
  for (int i=0; i < variants.length; i+=1) {
    Object item=variants[i];
    if (hasChildPackages(item))     continue;
    if (item instanceof LookupElementBuilder) {
      variants[i]=((LookupElementBuilder)item).withInsertHandler(insertHandler);
    }
 else     if (item instanceof PsiNamedElement) {
      final PsiNamedElement element=(PsiNamedElement)item;
      variants[i]=LookupElementBuilder.create(element.getName()).withIcon(element.getIcon(0)).withInsertHandler(insertHandler);
    }
  }
}
