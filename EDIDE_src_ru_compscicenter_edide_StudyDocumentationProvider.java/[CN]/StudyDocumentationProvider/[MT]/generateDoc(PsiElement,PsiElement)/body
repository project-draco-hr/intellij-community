{
  String file=element.getContainingFile().getName();
  Editor editor=StudyEditor.getRecentOpenedEditor(element.getProject());
  LogicalPosition pos=editor.getCaretModel().getLogicalPosition();
  TaskManager tm=TaskManager.getInstance(element.getProject());
  int taskNum=tm.getTaskNumForFile(file);
  String docsFile=tm.getDocFileForTask(taskNum,pos,file);
  if (docsFile == null) {
    docsFile="empty_study.docs";
  }
  InputStream ip=StudyDocumentationProvider.class.getResourceAsStream(docsFile);
  BufferedReader bf=new BufferedReader(new InputStreamReader(ip));
  StringBuilder text=new StringBuilder();
  try {
    while (bf.ready()) {
      String line=bf.readLine();
      text.append(line).append("\n");
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  return text.toString();
}
