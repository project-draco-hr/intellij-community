{
  String file=element.getContainingFile().getName();
  FileEditor[] fe=FileEditorManager.getInstance(element.getProject()).getAllEditors();
  LogicalPosition pos=((PsiAwareTextEditorImpl)((StudyEditor)fe[0]).getDefaultEditor()).getEditor().getCaretModel().getLogicalPosition();
  TaskManager tm=TaskManager.getInstance();
  int taskNum=tm.getTaskNumForFile(file);
  String docsfile=tm.getDocFileForTask(taskNum,pos,file);
  if (docsfile == null) {
    docsfile="empty_study.docs";
  }
  InputStream ip=StudyDocumentationProvider.class.getResourceAsStream(docsfile);
  BufferedReader bf=new BufferedReader(new InputStreamReader(ip));
  StringBuilder text=new StringBuilder();
  try {
    while (bf.ready()) {
      String line=bf.readLine();
      text.append(line + "\n");
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  return text.toString();
}
