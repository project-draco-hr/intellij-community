{
  if (type instanceof PyTypeReference) {
    final PyType resolved=((PyTypeReference)type).resolve(null,context);
    if (resolved != null) {
      return getTypeName(resolved,context);
    }
    return UNKNOWN;
  }
  final String name=type.getName();
  if (type instanceof PyCollectionType) {
    final PyType elementType=((PyCollectionType)type).getElementType(context);
    if (elementType != null) {
      return String.format("%s of %s",name,elementType.getName());
    }
  }
  return name;
}
