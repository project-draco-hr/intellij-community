{
  PsiWhiteSpace whitespace=null;
  if (function instanceof PyFunction) {
    whitespace=PsiTreeUtil.getPrevSiblingOfType(((PyFunction)function).getStatementList(),PsiWhiteSpace.class);
  }
  String ws="\n";
  if (whitespace != null) {
    String[] spaces=whitespace.getText().split("\n");
    if (spaces.length > 1) {
      ws+=whitespace.getText().split("\n")[1];
    }
  }
  if (replacementText.length() > 0) {
    replacementText.deleteCharAt(replacementText.length() - 1);
  }
  replacementText.append(ws);
  replacementText.append(prefix);
  replacementText.append(keyword);
  replacementText.append(" ");
  replacementText.append(paramName);
  replacementText.append(": ");
  int offset=replacementText.length();
  if (addWS) {
    replacementText.append(ws);
  }
 else {
    replacementText.append("\n");
  }
  return offset;
}
