{
  try {
    final CreateFileAction.MkDirs mkDirs=ApplicationManager.getApplication().runWriteAction(new Computable<CreateFileAction.MkDirs>(){
      @Override public CreateFileAction.MkDirs compute(){
        return new CreateFileAction.MkDirs(fileName,myDirectory);
      }
    }
);
    myCreatedElement=FileTemplateUtil.createFromTemplate(myTemplate,mkDirs.newName,myAttrPanel.getProperties(myDefaultProperties),mkDirs.directory);
  }
 catch (  Exception e) {
    showErrorDialog(e);
  }
}
