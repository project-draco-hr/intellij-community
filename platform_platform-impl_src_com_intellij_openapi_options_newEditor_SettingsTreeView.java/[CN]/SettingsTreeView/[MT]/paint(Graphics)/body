{
  super.paint(g);
  if (mySeparator == null) {
    mySeparator=new JLabel();
    mySeparator.setFont(UIUtil.getLabelFont());
    mySeparator.setFont(getFont().deriveFont(Font.BOLD));
  }
  ConfigurableGroup group=findConfigurableGroupAt(0,5 + mySeparator.getFont().getSize());
  if (group != null && group == findConfigurableGroupAt(0,-5)) {
    int offset=UIUtil.isUnderNativeMacLookAndFeel() ? 1 : 3;
    mySeparator.setBorder(BorderFactory.createEmptyBorder(offset,18,offset,3));
    mySeparator.setText(group.getDisplayName());
    Rectangle bounds=myScroller.getViewport().getBounds();
    int height=mySeparator.getPreferredSize().height;
    if (bounds.height > height) {
      bounds.height=height;
    }
    g.setColor(myTree.getBackground());
    if (g instanceof Graphics2D) {
      int h=bounds.height / 4;
      int y=bounds.y + bounds.height - h;
      g.fillRect(bounds.x,bounds.y,bounds.width,bounds.height - h);
      ((Graphics2D)g).setPaint(UIUtil.getGradientPaint(0,y,g.getColor(),0,y + h,ColorUtil.toAlpha(g.getColor(),0)));
      g.fillRect(bounds.x,y,bounds.width,h + h);
    }
 else {
      g.fillRect(bounds.x,bounds.y,bounds.width,bounds.height);
    }
    mySeparator.setSize(bounds.width - 1,bounds.height);
    mySeparator.paint(g.create(bounds.x + 1,bounds.y,bounds.width - 1,bounds.height));
  }
}
