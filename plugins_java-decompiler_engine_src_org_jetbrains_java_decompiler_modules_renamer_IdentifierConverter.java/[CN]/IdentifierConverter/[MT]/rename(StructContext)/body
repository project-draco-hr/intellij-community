{
  try {
    this.context=context;
    String user_class=(String)DecompilerContext.getProperty(IFernflowerPreferences.USER_RENAMER_CLASS);
    if (user_class != null) {
      try {
        helper=(IIdentifierRenamer)IdentifierConverter.class.getClassLoader().loadClass(user_class).newInstance();
      }
 catch (      Exception ex) {
      }
    }
    if (helper == null) {
      helper=new ConverterHelper();
    }
    interceptor=new PoolInterceptor(helper);
    buildInheritanceTree();
    renameAllClasses();
    renameInterfaces();
    renameClasses();
    DecompilerContext.setPoolInterceptor(interceptor);
    context.reloadContext();
  }
 catch (  IOException ex) {
    throw new RuntimeException("Renaming failed!");
  }
}
