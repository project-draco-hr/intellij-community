{
  Project project=getProject();
  List<String> filePaths=Arrays.asList(args).subList(1,args.length);
  List<VirtualFile> files=findFiles(filePaths,currentDirectory);
  List<VirtualFile> contents=ContainerUtil.list(files.get(0),files.get(2),files.get(1));
  VirtualFile outputFile=files.get(files.size() - 1);
  MergeRequest request=DiffRequestFactory.getInstance().createMergeRequestFromFiles(project,outputFile,contents,null);
  DiffManagerEx.getInstance().showMergeBuiltin(project,request);
  Document document=FileDocumentManager.getInstance().getCachedDocument(outputFile);
  if (document != null)   FileDocumentManager.getInstance().saveDocument(document);
}
