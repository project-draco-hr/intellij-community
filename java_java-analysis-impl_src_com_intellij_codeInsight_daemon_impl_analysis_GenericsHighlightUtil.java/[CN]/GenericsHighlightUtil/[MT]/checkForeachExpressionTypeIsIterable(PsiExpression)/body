{
  if (expression == null || expression.getType() == null)   return null;
  final PsiType itemType=JavaGenericsUtil.getCollectionItemType(expression);
  if (itemType == null) {
    String description=JavaErrorMessages.message("foreach.not.applicable",JavaHighlightUtil.formatType(expression.getType()));
    return HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(expression).descriptionAndTooltip(description).create();
  }
  return null;
}
