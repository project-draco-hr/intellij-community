{
  VirtualFile removedFile=event.getFile();
  String path=removedFile.getPath();
  if (path.contains(CCUtils.GENERATED_FILES_FOLDER)) {
    return;
  }
  Project project=ProjectUtil.guessProjectForFile(removedFile);
  if (project == null) {
    return;
  }
  if (project.getBasePath() != null && !FileUtil.isAncestor(project.getBasePath(),removedFile.getPath(),true)) {
    return;
  }
  Course course=StudyTaskManager.getInstance(project).getCourse();
  if (course == null || path.contains(FileUtil.toSystemIndependentName(course.getCourseDirectory()))) {
    return;
  }
  final TaskFile taskFile=StudyUtils.getTaskFile(project,removedFile);
  if (taskFile != null) {
    deleteTaskFile(removedFile,taskFile);
    return;
  }
  if (removedFile.getName().contains(EduNames.TASK)) {
    deleteTask(course,removedFile);
  }
  if (removedFile.getName().contains(EduNames.LESSON)) {
    deleteLesson(course,removedFile,project);
  }
}
