{
  VirtualFile createdFile=event.getFile();
  if (createdFile.isDirectory()) {
    return;
  }
  if (createdFile.getPath().contains(CCUtils.GENERATED_FILES_FOLDER)) {
    return;
  }
  Project project=ProjectUtil.guessProjectForFile(createdFile);
  if (project == null) {
    return;
  }
  if (project.getBasePath() != null && !FileUtil.isAncestor(project.getBasePath(),createdFile.getPath(),true)) {
    return;
  }
  Course course=StudyTaskManager.getInstance(project).getCourse();
  if (course == null || !CCUtils.isCourseCreator(project)) {
    return;
  }
  TaskFile taskFile=StudyUtils.getTaskFile(project,createdFile);
  if (taskFile != null) {
    return;
  }
  String name=createdFile.getName();
  CCLanguageManager manager=CCUtils.getStudyLanguageManager(course);
  if (manager != null && manager.doNotPackFile(new File(createdFile.getPath()))) {
    return;
  }
  if (CCUtils.isTestsFile(project,createdFile) || StudyUtils.isTaskDescriptionFile(name) || name.contains(EduNames.WINDOW_POSTFIX)|| name.contains(EduNames.WINDOWS_POSTFIX)|| name.contains(EduNames.ANSWERS_POSTFIX)) {
    return;
  }
  VirtualFile taskVF=createdFile.getParent();
  if (taskVF == null) {
    return;
  }
  Task task=StudyUtils.getTask(project,taskVF);
  if (task == null) {
    return;
  }
  CCUtils.createResourceFile(createdFile,course,taskVF);
  task.addTaskFile(name,1);
}
