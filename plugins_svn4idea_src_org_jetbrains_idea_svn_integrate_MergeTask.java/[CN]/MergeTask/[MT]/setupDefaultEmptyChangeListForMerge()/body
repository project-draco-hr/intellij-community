{
  ChangeListManager changeListManager=ChangeListManager.getInstance(myMergeContext.getProject());
  int i=0;
  boolean needRefresh=false;
  while (true) {
    String name=myMergeContext.getTitle() + (i > 0 ? " (" + i + ")" : "");
    LocalChangeList changeList=changeListManager.findChangeList(name);
    if (changeList == null) {
      changeListManager.setDefaultChangeList(changeListManager.addChangeList(name,null));
      needRefresh=true;
      break;
    }
    if (changeList.getChanges().isEmpty()) {
      if (!changeList.isDefault()) {
        changeListManager.setDefaultChangeList(changeList);
        needRefresh=true;
      }
      break;
    }
    i++;
  }
  return needRefresh;
}
