{
  final Object value=node.getValue();
  PsiElement element=null;
  if (value instanceof PsiElement) {
    element=(PsiElement)value;
  }
 else   if (value instanceof SmartPsiElementPointer) {
    element=((SmartPsiElementPointer)value).getElement();
  }
 else   if (value instanceof PackageElement) {
    PackageElement packageElement=(PackageElement)value;
    final String coverageString=myCoverageDataManager.getPackageCoverageInformationString(packageElement.getPackage().getQualifiedName(),packageElement.getModule());
    data.setLocationString(coverageString);
  }
  if (element instanceof PsiClass) {
    final String qName=((PsiClass)element).getQualifiedName();
    if (qName != null) {
      data.setLocationString(myCoverageDataManager.getClassCoverageInformationString(qName));
    }
  }
 else   if (element instanceof PsiDirectory) {
    final String informationString=myCoverageDataManager.getDirCoverageInformationString((PsiDirectory)element);
    if (informationString != null) {
      data.setLocationString(informationString);
    }
  }
}
