{
  ReplaceOptions xmlOptions=options.clone();
  xmlOptions.getMatchOptions().setFileType(StdFileTypes.XML);
  String s1="<a/>";
  String s2="<a/>";
  String s3="<a><b/></a>";
  String expectedResult="    <a><b/></a>";
  String actualResult=replacer.testReplace(s1,s2,s3,xmlOptions);
  assertEquals("First tag replacement",expectedResult,actualResult);
  String s4="<group id=\"EditorTabPopupMenu\">\n" + "      <reference id=\"Compile\"/>\n" + "      <reference id=\"RunContextPopupGroup\"/>\n"+ "      <reference id=\"ValidateXml\"/>\n"+ "      <separator/>\n"+ "      <reference id=\"VersionControlsGroup\"/>\n"+ "      <separator/>\n"+ "      <reference id=\"ExternalToolsGroup\"/>\n"+ "</group>";
  String s5="<reference id=\"'Value\"/>";
  String s6="<reference ref=\"$Value$\"/>";
  actualResult=replacer.testReplace(s4,s5,s6,xmlOptions);
  expectedResult="<group id=\"EditorTabPopupMenu\">\n" + "    <reference ref=\"Compile\"/>\n" + "    <reference ref=\"RunContextPopupGroup\"/>\n"+ "    <reference ref=\"ValidateXml\"/>\n"+ "    <separator/>\n"+ "    <reference ref=\"VersionControlsGroup\"/>\n"+ "    <separator/>\n"+ "    <reference ref=\"ExternalToolsGroup\"/>\n"+ "    </group>";
  assertEquals("Replace tag",expectedResult,actualResult);
  String s7="<h4 class=\"a\">My title</h4>\n" + "<h4>My title 2</h4>";
  String s8="<h4 class=\"a\">'Content</h4>";
  String s9="<h5>'Content</h5>";
  actualResult=replacer.testReplace(s7,s8,s9,xmlOptions);
  expectedResult="<h5>My title</h5>\n" + "<h4>My title 2</h4>";
}
