{
  try {
    DefaultJDOMExternalizer.readExternal(this,state);
  }
 catch (  InvalidDataException ignored) {
  }
  if (!USE_PROJECT_VCS) {
    StartupManager.getInstance(myModule.getProject()).runWhenProjectIsInitialized(new Runnable(){
      @Override public void run(){
        ProjectLevelVcsManagerImpl vcsManager=(ProjectLevelVcsManagerImpl)ProjectLevelVcsManagerEx.getInstanceEx(myModule.getProject());
        for (        VirtualFile file : ModuleRootManager.getInstance(myModule).getContentRoots()) {
          vcsManager.setDirectoryMapping(file.getPath(),ACTIVE_VCS_NAME);
        }
        vcsManager.cleanupMappings();
      }
    }
);
  }
}
