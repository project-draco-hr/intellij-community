{
  if (this instanceof GitLineHandler) {
    ((GitLineHandler)this).addLineListener(new GitLineHandlerAdapter(){
      @Override public void onLineAvailable(      String line,      Key outputType){
        if (line.toLowerCase().contains("authentication failed")) {
          myHttpAuthFailed=true;
        }
      }
      @Override public void processTerminated(      int exitCode){
        if (!authenticator.wasCancelled()) {
          if (myHttpAuthFailed) {
            authenticator.forgetPassword();
          }
 else {
            authenticator.saveAuthData();
          }
        }
 else {
          myHttpAuthFailed=false;
        }
      }
    }
);
  }
}
