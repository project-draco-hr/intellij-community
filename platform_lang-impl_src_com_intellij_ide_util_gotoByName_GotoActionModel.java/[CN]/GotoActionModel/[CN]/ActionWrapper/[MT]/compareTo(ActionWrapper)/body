{
  if (ApplicationManager.getApplication().isDispatchThread()) {
    boolean p1Enable=visible();
    boolean p2enable=o.visible();
    if (p1Enable && !p2enable)     return -1;
    if (!p1Enable && p2enable)     return 1;
  }
  int compared=myMode.compareTo(o.getMode());
  return compared != 0 ? compared : StringUtil.compare(myAction.getTemplatePresentation().getText(),o.getAction().getTemplatePresentation().getText(),true);
}
