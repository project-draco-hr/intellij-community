{
  if (value instanceof OptionDescription && !(o.value instanceof OptionDescription)) {
    return 1;
  }
  if (o.value instanceof OptionDescription && !(value instanceof OptionDescription)) {
    return -1;
  }
  if (value instanceof ActionWrapper && o.value instanceof ActionWrapper && ApplicationManager.getApplication().isDispatchThread()) {
    boolean p1Enable=((ActionWrapper)value).isAvailable();
    boolean p2enable=((ActionWrapper)o.value).isAvailable();
    if (p1Enable && !p2enable)     return -1;
    if (!p1Enable && p2enable)     return 1;
  }
  int diff=o.getMatchingDegree() - getMatchingDegree();
  return diff != 0 ? diff : value.compareTo(o.value);
}
