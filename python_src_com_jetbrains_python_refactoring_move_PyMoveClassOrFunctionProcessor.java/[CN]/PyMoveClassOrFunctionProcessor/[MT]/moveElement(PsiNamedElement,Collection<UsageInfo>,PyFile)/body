{
  final PsiFile file=element.getContainingFile();
  PyClassRefactoringUtil.rememberNamedReferences(element);
  final PsiNamedElement newElement=(PsiNamedElement)(destination.add(element));
  for (  UsageInfo usage : usages) {
    final PsiElement usageElement=usage.getElement();
    if (usageElement != null) {
      updateUsage(usageElement,element,newElement);
    }
  }
  PyClassRefactoringUtil.restoreNamedReferences(newElement,element);
  element.delete();
  if (file != null) {
    optimizeImports(file);
  }
}
