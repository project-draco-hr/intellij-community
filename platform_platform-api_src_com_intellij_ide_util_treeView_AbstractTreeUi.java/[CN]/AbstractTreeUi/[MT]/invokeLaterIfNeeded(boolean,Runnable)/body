{
  Runnable actual=new TreeRunnable("AbstractTreeUi.invokeLaterIfNeeded"){
    @Override public void perform(){
      if (!isReleased()) {
        runnable.run();
      }
    }
  }
;
  if (!forceEdt && (isPassthroughMode() || !isEdt() && !isTreeShowing() && !myWasEverShown)) {
    actual.run();
  }
 else {
    UIUtil.invokeLaterIfNeeded(actual);
  }
}
