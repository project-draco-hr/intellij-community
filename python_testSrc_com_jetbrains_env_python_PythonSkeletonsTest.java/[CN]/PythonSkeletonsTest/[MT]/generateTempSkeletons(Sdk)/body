{
  final Project project=myFixture.getProject();
  ModuleRootModificationUtil.setModuleSdk(getSingleModule(project),sdk);
  final SdkModificator modificator=sdk.getSdkModificator();
  modificator.removeRoots(OrderRootType.CLASSES);
  for (  String path : PythonSdkType.getSysPathsFromScript(sdk.getHomePath())) {
    PythonSdkType.addSdkRoot(modificator,path);
  }
  final File tempDir=FileUtil.createTempDirectory(getTestName(false),null);
  final File skeletonsDir=new File(tempDir,PythonSdkType.SKELETON_DIR_NAME);
  FileUtil.createDirectory(skeletonsDir);
  final String skeletonsPath=skeletonsDir.toString();
  PythonSdkType.addSdkRoot(modificator,skeletonsPath);
  modificator.commitChanges();
  final SkeletonVersionChecker checker=new SkeletonVersionChecker(0);
  final PySkeletonRefresher refresher=new PySkeletonRefresher(project,null,sdk,skeletonsPath,null);
  final List<String> errors=refresher.regenerateSkeletons(checker,null);
  assertEmpty(errors);
}
