{
  List<PatchAction> actions=new ArrayList<PatchAction>();
  int size=in.readInt();
  while (size-- > 0) {
    int key=in.readInt();
    PatchAction a;
switch (key) {
case CREATE_ACTION_KEY:
      a=new CreateAction(this,in);
    break;
case UPDATE_ACTION_KEY:
  a=new UpdateAction(this,in);
break;
case UPDATE_ZIP_ACTION_KEY:
a=new UpdateZipAction(this,in);
break;
case DELETE_ACTION_KEY:
a=new DeleteAction(this,in);
break;
case VALIDATE_ACTION_KEY:
a=new ValidateAction(this,in);
break;
default :
throw new RuntimeException("Unknown action type " + key);
}
actions.add(a);
}
return actions;
}
