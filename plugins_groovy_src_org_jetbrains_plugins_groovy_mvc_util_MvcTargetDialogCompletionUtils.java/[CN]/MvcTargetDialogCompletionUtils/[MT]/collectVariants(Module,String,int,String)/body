{
  if (prefix.startsWith("-D")) {
    return getSystemPropertiesVariants();
  }
  if (text.substring(0,offset).matches("\\s*(grails\\s*)?(?:(:?-D\\S+|dev|prod|test)\\s+)*\\S*")) {
    List<LookupElement> res=new ArrayList<LookupElement>();
    for (    String completionVariant : getAllTargetNames(module)) {
      res.add(TailTypeDecorator.withTail(LookupElementBuilder.create(completionVariant),TailType.SPACE));
    }
    return res;
  }
 else {
    GlobalSearchScope scope=GlobalSearchScope.moduleScope(module);
    return completeClassesAndPackages(prefix,scope);
  }
}
