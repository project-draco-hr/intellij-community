{
  List<FilePath> toAdd=ContainerUtil.newArrayList();
  List<FilePath> toRemove=ContainerUtil.newArrayList();
  List<MovedFileInfo> toForceMove=ContainerUtil.newArrayList();
  for (  MovedFileInfo movedInfo : movedFiles) {
    String oldPath=movedInfo.myOldPath;
    String newPath=movedInfo.myNewPath;
    if (!SystemInfo.isFileSystemCaseSensitive && GitUtil.isCaseOnlyChange(oldPath,newPath)) {
      toForceMove.add(movedInfo);
    }
 else {
      toRemove.add(VcsUtil.getFilePath(oldPath));
      toAdd.add(VcsUtil.getFilePath(newPath));
    }
  }
  performAdding(toAdd);
  performDeletion(toRemove);
  performForceMove(toForceMove);
}
