{
  final PsiClassType.ClassResolveResult resolveResult=PsiUtil.resolveGenericsClassInType(functionalInterfaceType);
  final PsiMethod method=getFunctionalInterfaceMethod(functionalInterfaceType);
  if (method != null) {
    final PsiParameter[] parameters=method.getParameterList().getParameters();
    if (parameterIndex < parameters.length) {
      return getSubstitutor(method,resolveResult).substitute(parameters[parameterIndex].getType());
    }
  }
  return null;
}
