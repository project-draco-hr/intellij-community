{
  int opCode=insn.getOpcode();
switch (opCode) {
case INVOKESTATIC:
case INVOKESPECIAL:
case INVOKEVIRTUAL:
case INVOKEINTERFACE:
    MethodInsnNode mNode=(MethodInsnNode)insn;
  Type retType=Type.getReturnType(mNode.desc);
if (isReference && ((retType.getSort() == Type.OBJECT) || (retType.getSort() == Type.ARRAY))) {
  return new SourceValue(1,insn);
}
if (!isReference && Type.BOOLEAN_TYPE.equals(retType)) {
return new SourceValue(1,insn);
}
return new SourceValue(retType.getSize());
case MULTIANEWARRAY:
return new SourceValue(1,insn);
default :
InvokeDynamicInsnNode dNode=(InvokeDynamicInsnNode)insn;
retType=Type.getReturnType(dNode.desc);
return new SourceValue(retType.getSize());
}
}
