{
  checkSubscription();
  final String homePath=extractLocalPath(extractRootPath(entryFile.getPath()));
  ArchiveHandler handler=myHandlers.get(homePath);
  if (handler == null) {
    handler=isSupported() ? new JrtHandler(homePath) : new JrtHandlerStub(homePath);
    myHandlers.put(homePath,handler);
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        VirtualFile dir=LocalFileSystem.getInstance().refreshAndFindFileByPath(homePath + "/lib/modules");
        if (dir != null)         dir.getChildren();
      }
    }
,ModalityState.defaultModalityState());
  }
  return handler;
}
