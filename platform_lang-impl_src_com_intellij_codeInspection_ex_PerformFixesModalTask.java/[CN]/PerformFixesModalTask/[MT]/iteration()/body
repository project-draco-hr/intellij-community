{
  final CommonProblemDescriptor descriptor=myDescriptors[myCount++];
  ProgressIndicator indicator=myTask.getIndicator();
  if (indicator != null) {
    indicator.setFraction((double)myCount / myDescriptors.length);
    String presentableText="usages";
    if (descriptor instanceof ProblemDescriptor) {
      final PsiElement psiElement=((ProblemDescriptor)descriptor).getPsiElement();
      if (psiElement != null) {
        presentableText=SymbolPresentationUtil.getSymbolPresentableText(psiElement);
      }
    }
    indicator.setText("Processing " + presentableText);
  }
  DumbService.allowStartingDumbModeInside(DumbModePermission.MAY_START_MODAL,new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          myDocumentManager.commitAllDocuments();
          applyFix(myProject,descriptor);
        }
      }
);
    }
  }
);
  return isDone();
}
