{
  if (psiElement instanceof PsiClass) {
    String newCommentText=formatClassComment((PsiClass)psiElement);
    replaceDocComment(newCommentText,(PsiDocCommentOwner)psiElement);
  }
 else   if (psiElement instanceof PsiMethod) {
    String newCommentText=formatMethodComment((PsiMethod)psiElement);
    replaceDocComment(newCommentText,(PsiDocCommentOwner)psiElement);
  }
 else   if (psiElement instanceof PsiField) {
    String newCommentText=formatFieldComment((PsiField)psiElement);
    replaceDocComment(newCommentText,(PsiDocCommentOwner)psiElement);
  }
 else   if (psiElement instanceof PsiDocComment) {
    PsiDocComment comment=(PsiDocComment)psiElement;
    if (JavaDocUtil.isInsidePackageInfo(comment)) {
      String newCommentText=formatPackageComment(comment);
      replaceCommentText(newCommentText,comment);
    }
 else {
      processElementComment(psiElement.getParent());
    }
  }
}
