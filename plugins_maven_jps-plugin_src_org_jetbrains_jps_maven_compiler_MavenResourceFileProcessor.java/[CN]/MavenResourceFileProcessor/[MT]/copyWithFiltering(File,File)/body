{
  final String encoding=myEncodingConfig != null ? myEncodingConfig.getEncoding(file) : null;
  PrintWriter writer;
  try {
    writer=encoding != null ? new PrintWriter(outputFile,encoding) : new PrintWriter(outputFile);
  }
 catch (  FileNotFoundException e) {
    FileUtil.createIfDoesntExist(outputFile);
    writer=encoding != null ? new PrintWriter(outputFile,encoding) : new PrintWriter(outputFile);
  }
  try {
    final byte[] bytes=FileUtil.loadFileBytes(file);
    final String text=encoding != null ? new String(bytes,encoding) : new String(bytes);
    doFilterText(text,getDelimitersPattern(),getProperties(),null,writer);
  }
  finally {
    writer.close();
  }
}
