{
  boolean shouldFilter=rootConfiguration.isFiltered && !myFilteringExcludedExtensions.contains(FileUtilRt.getExtension(file.getName())) && filteringFilter.accept(file);
  if (shouldFilter && file.length() > FILTERING_SIZE_LIMIT) {
    context.processMessage(new CompilerMessage("MavenResources",BuildMessage.Kind.WARNING,"File is too big to be filtered. Most likely it is a binary file and should be excluded from filtering",file.getPath()));
    shouldFilter=false;
  }
  if (shouldFilter) {
    copyWithFiltering(file,targetFile);
  }
 else {
    FileUtil.copyContent(file,targetFile);
  }
}
