{
  GeneralCommandLine commandLine=new GeneralCommandLine(BrowserUtil.getOpenBrowserCommand(browserPath,newWindowIfPossible));
  if (url != null) {
    commandLine.addParameter(url);
  }
  addArgs(commandLine,browserSpecificSettings,additionalParameters);
  try {
    final Process process=commandLine.createProcess();
    if (isOpenCommandUsed(commandLine)) {
      final Future<?> future=ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
        @Override public void run(){
          try {
            if (process.waitFor() == 1) {
              showError(ExecUtil.readFirstLine(process.getErrorStream(),null),browser,project);
            }
          }
 catch (          InterruptedException ignored) {
          }
        }
      }
);
      JobScheduler.getScheduler().schedule(new Runnable(){
        @Override public void run(){
          future.cancel(true);
        }
      }
,30,TimeUnit.MILLISECONDS);
    }
    return true;
  }
 catch (  ExecutionException e) {
    showError(e.getMessage(),browser,project);
    return false;
  }
}
