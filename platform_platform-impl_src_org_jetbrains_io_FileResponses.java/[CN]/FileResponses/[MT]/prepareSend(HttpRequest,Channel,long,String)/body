{
  if (checkCache(request,channel,lastModified)) {
    return null;
  }
  HttpResponse response=new DefaultHttpResponse(HttpVersion.HTTP_1_1,HttpResponseStatus.OK);
  response.headers().add(CONTENT_TYPE,getContentType(path));
  addCommonHeaders(response);
  response.headers().set(HttpHeaders.Names.CACHE_CONTROL,"private, must-revalidate");
  response.headers().set(HttpHeaders.Names.LAST_MODIFIED,DATE_FORMAT.get().format(new Date(lastModified)));
  return response;
}
