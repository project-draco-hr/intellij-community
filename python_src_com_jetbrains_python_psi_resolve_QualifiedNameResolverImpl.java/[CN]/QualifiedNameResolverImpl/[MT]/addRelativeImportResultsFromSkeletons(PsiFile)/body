{
  final boolean inSource=FileIndexFacade.getInstance(foothold.getProject()).isInContent(foothold.getVirtualFile());
  if (inSource)   return;
  PsiDirectory containingDirectory=foothold.getContainingDirectory();
  if (myRelativeLevel > 0) {
    containingDirectory=ResolveImportUtil.stepBackFrom(foothold,myRelativeLevel);
  }
  if (containingDirectory != null) {
    final QualifiedName containingQName=QualifiedNameFinder.findCanonicalImportPath(containingDirectory,null);
    if (containingQName != null && containingQName.getComponentCount() > 0) {
      final QualifiedName absoluteQName=containingQName.append(myQualifiedName.toString());
      final QualifiedNameResolverImpl absoluteVisitor=(QualifiedNameResolverImpl)new QualifiedNameResolverImpl(absoluteQName).fromElement(foothold);
      final Sdk sdk=PythonSdkType.getSdk(foothold);
      if (sdk == null)       return;
      final VirtualFile skeletonsDir=PySdkUtil.findSkeletonsDir(sdk);
      if (skeletonsDir == null)       return;
      final PsiDirectory directory=myContext.getPsiManager().findDirectory(skeletonsDir);
      final PsiElement psiElement=absoluteVisitor.resolveModuleAt(directory);
      if (psiElement != null)       myLibResults.add(psiElement);
    }
  }
}
