{
  final Set<PsiElement> results=isModuleSource ? mySourceResults : myLibResults;
  final boolean allNamespacePackages=allNamespacePackages(results);
  if (allNamespacePackages) {
    if (!isNamespacePackage(resolveResult)) {
      results.clear();
    }
  }
  if (allNamespacePackages || results.isEmpty() || myQualifiedName.getComponentCount() == 0) {
    results.add(resolveResult);
  }
}
