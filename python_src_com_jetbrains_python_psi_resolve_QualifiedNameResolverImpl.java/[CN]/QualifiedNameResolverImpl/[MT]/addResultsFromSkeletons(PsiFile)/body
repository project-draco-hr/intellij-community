{
  final boolean inSource=FileIndexFacade.getInstance(foothold.getProject()).isInContent(foothold.getVirtualFile());
  if (inSource)   return;
  PsiDirectory containingDirectory=foothold.getContainingDirectory();
  if (myRelativeLevel > 0) {
    containingDirectory=ResolveImportUtil.stepBackFrom(foothold,myRelativeLevel);
  }
  if (containingDirectory != null) {
    final QualifiedName containingPath=QualifiedNameFinder.findCanonicalImportPath(containingDirectory,null);
    if (containingPath != null && containingPath.getComponentCount() > 0) {
      final QualifiedName absolutePath=containingPath.append(myQualifiedName.toString());
      final QualifiedNameResolverImpl absoluteVisitor=(QualifiedNameResolverImpl)new QualifiedNameResolverImpl(absolutePath).fromElement(foothold);
      final Sdk sdk=PythonSdkType.getSdk(foothold);
      if (sdk == null)       return;
      final VirtualFile skeletonsDir=PySdkUtil.findSkeletonsDir(sdk);
      if (skeletonsDir == null)       return;
      final PsiDirectory directory=myContext.getPsiManager().findDirectory(skeletonsDir);
      myLibResults.add(absoluteVisitor.resolveModuleAt(directory));
    }
  }
}
