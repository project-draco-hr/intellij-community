{
  RepositoryLibraryProperties libraryProperties=new RepositoryLibraryProperties(libraryDescription.getGroupId(),libraryDescription.getArtifactId(),model.getVersion());
  final LibraryEx library=(LibraryEx)modifiableModel.createLibrary(LibraryEditingUtil.suggestNewLibraryName(modifiableModel,RepositoryLibraryType.getInstance().getDescription(libraryProperties)),RepositoryLibraryType.REPOSITORY_LIBRARY_KIND);
  RepositoryLibraryProperties realLibraryProperties=(RepositoryLibraryProperties)library.getProperties();
  realLibraryProperties.setMavenId(libraryProperties.getMavenId());
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      modifiableModel.commit();
    }
  }
);
  RepositoryUtils.loadDependencies(module.getProject(),library,model.isDownloadSources(),model.isDownloadJavaDocs(),null);
  return library;
}
