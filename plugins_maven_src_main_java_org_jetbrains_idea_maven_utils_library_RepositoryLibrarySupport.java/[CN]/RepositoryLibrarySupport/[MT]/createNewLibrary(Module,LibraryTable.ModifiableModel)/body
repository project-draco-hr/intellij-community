{
  RepositoryLibraryProperties libraryProperties=new RepositoryLibraryProperties(libraryDescription.getGroupId(),libraryDescription.getArtifactId(),model.getVersion());
  final LibraryEx library=(LibraryEx)modifiableModel.createLibrary(LibraryEditingUtil.suggestNewLibraryName(modifiableModel,RepositoryLibraryType.getInstance().getDescription(libraryProperties)),RepositoryLibraryType.REPOSITORY_LIBRARY_KIND);
  RepositoryLibraryProperties realLibraryProperties=(RepositoryLibraryProperties)library.getProperties();
  realLibraryProperties.setMavenId(libraryProperties.getMavenId());
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      modifiableModel.commit();
    }
  }
);
  Task task=new Task.Backgroundable(project,"Maven",false){
    public void run(    @NotNull ProgressIndicator indicator){
      RepositoryUtils.loadDependencies(indicator,module.getProject(),library,model.isDownloadSources(),model.isDownloadJavaDocs());
    }
  }
;
  ProgressManager.getInstance().run(task);
  return library;
}
