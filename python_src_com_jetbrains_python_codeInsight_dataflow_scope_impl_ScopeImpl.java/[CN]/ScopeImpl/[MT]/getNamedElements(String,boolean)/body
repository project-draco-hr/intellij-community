{
  if (myNamedElements == null) {
    collectDeclarations();
  }
  if (myNamedElements.containsKey(name)) {
    return myNamedElements.get(name);
  }
  if (includeNestedGlobals && isGlobal(name)) {
    for (    Scope scope : myNestedScopes) {
      final Collection<PsiNamedElement> globals=scope.getNamedElements(name,true);
      if (!globals.isEmpty()) {
        return globals;
      }
    }
  }
  return Collections.emptyList();
}
