{
  if (Comparing.strEqual(getNewName(),myOldName))   throw new ConfigurationException(null);
  final Function<String,String> inputValidator=RenameInputValidatorRegistry.getInputErrorValidator(myPsiElement);
  if (inputValidator != null) {
    throw new ConfigurationException(inputValidator.fun(getNewName()));
  }
  if (!areButtonsValid()) {
    throw new ConfigurationException("\'" + getNewName() + "\' is not a valid identifier");
  }
}
