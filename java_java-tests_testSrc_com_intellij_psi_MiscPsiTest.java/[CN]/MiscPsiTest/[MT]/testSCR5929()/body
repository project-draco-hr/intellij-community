{
  VirtualFile vFileA=myRoot.createChildData(null,"A.java");
  String text="class A{ /** @see a.B */ }";
  VfsUtil.saveText(vFileA,text);
  VirtualFile dir=myRoot.createChildDirectory(null,"a");
  VirtualFile vFileB=dir.createChildData(null,"B.java");
  text="class B{}";
  VfsUtil.saveText(vFileB,text);
  PsiDocumentManager.getInstance(myProject).commitAllDocuments();
  PsiFile fileA=myPsiManager.findFile(vFileA);
  PsiJavaFile fileACopy=(PsiJavaFile)fileA.copy();
  PsiClass aClass=fileACopy.getClasses()[0];
  aClass.setName("A2");
  fileA.getContainingDirectory().add(fileACopy);
}
