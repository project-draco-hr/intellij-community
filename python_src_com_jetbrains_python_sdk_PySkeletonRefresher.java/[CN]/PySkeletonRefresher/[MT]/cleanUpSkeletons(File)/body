{
  indicateMinor(dir.getPath());
  final File[] files=dir.listFiles();
  if (files == null) {
    return;
  }
  for (  File item : files) {
    if (item.isDirectory()) {
      cleanUpSkeletons(item);
      File[] remaining=item.listFiles();
      if (remaining != null && remaining.length == 0) {
        mySkeletonsGenerator.deleteOrLog(item);
      }
 else       if (remaining != null && remaining.length == 1) {
        File last_file=remaining[0];
        if (PyNames.INIT_DOT_PY.equals(last_file.getName()) && last_file.length() == 0) {
          boolean deleted=mySkeletonsGenerator.deleteOrLog(last_file);
          if (deleted)           mySkeletonsGenerator.deleteOrLog(item);
        }
      }
    }
 else     if (item.isFile()) {
      final String item_name=item.getName();
      if (PyNames.INIT_DOT_PY.equals(item_name) && item.length() == 0)       continue;
      if (BLACKLIST_FILE_NAME.equals(item_name))       continue;
      Matcher header_matcher=getParseHeader(item);
      boolean can_live=header_matcher != null && header_matcher.matches();
      if (can_live) {
        String source_name=header_matcher.group(1);
        can_live=source_name != null && (SkeletonVersionChecker.BUILTIN_NAME.equals(source_name) || new File(source_name).exists());
      }
      if (!can_live) {
        mySkeletonsGenerator.deleteOrLog(item);
      }
    }
  }
}
