{
  PsiClassType[] types=getReferencedTypes();
  if (types.length == 0)   return PsiJavaCodeReferenceElement.EMPTY_ARRAY;
  PsiManagerEx manager=getManager();
  List<PsiJavaCodeReferenceElement> result=ContainerUtil.newArrayList();
  for (  PsiClassType type : types) {
    PsiClassType.ClassResolveResult resolveResult=type.resolveGenerics();
    PsiClass resolved=resolveResult.getElement();
    if (resolved != null) {
      result.add(new LightClassReference(manager,type.getCanonicalText(),resolved,resolveResult.getSubstitutor()));
    }
  }
  return result.toArray(new PsiJavaCodeReferenceElement[result.size()]);
}
