{
  if (p == null) {
    return -1;
  }
  final EditorImpl editor=EditorComponentImpl.this.getEditor();
  return editor.logicalPositionToOffset(editor.xyToLogicalPosition(p));
}
