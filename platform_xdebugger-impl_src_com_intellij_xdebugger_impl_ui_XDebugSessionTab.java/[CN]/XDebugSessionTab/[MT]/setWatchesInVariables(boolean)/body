{
  if (myWatchesInVariables != watchesInVariables) {
    myWatchesInVariables=watchesInVariables;
    Registry.get("debugger.watches.in.variables").setValue(watchesInVariables);
    if (mySession != null) {
      removeContent(DebuggerContentInfo.VARIABLES_CONTENT);
      removeContent(DebuggerContentInfo.WATCHES_CONTENT);
      addVariablesAndWatches(mySession);
      XDebugView variablesView=myViews.get(DebuggerContentInfo.VARIABLES_CONTENT);
      if (variablesView != null) {
        Disposer.register(myRunContentDescriptor,variablesView);
      }
      attachViewToSession(mySession,variablesView);
      if (!myWatchesInVariables) {
        XDebugView watchesView=myViews.get(DebuggerContentInfo.WATCHES_CONTENT);
        if (watchesView != null) {
          Disposer.register(myRunContentDescriptor,watchesView);
        }
        attachViewToSession(mySession,watchesView);
      }
      rebuildViews();
    }
  }
}
