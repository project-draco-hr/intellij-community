{
  createSettingsFile("include 'projectA', 'projectB', 'projectC' ");
  importProject("project(':projectA') {\n" + "  apply plugin: 'java'\n" + "}\n"+ "project(':projectB') {\n"+ "  apply plugin: 'java'\n"+ "  dependencies {\n"+ "    compile project(':projectA')\n"+ "  }\n"+ "}\n"+ "project(':projectC') {\n"+ "  apply plugin: 'war'\n"+ "  dependencies {\n"+ "    providedCompile project(':projectB')\n"+ "  }\n"+ "}");
  assertModules("project","projectA","projectA_main","projectA_test","projectB","projectB_main","projectB_test","projectC","projectC_main","projectC_test");
  assertModuleModuleDepScope("projectB_main","projectA_main",DependencyScope.COMPILE);
  assertModuleModuleDepScope("projectC_main","projectA_main",DependencyScope.PROVIDED);
  assertModuleModuleDepScope("projectC_main","projectB_main",DependencyScope.PROVIDED);
  importProjectUsingSingeModulePerGradleProject();
  assertModules("project","projectA","projectB","projectC");
  assertModuleModuleDepScope("projectB","projectA",DependencyScope.COMPILE);
  if (GradleVersion.version(gradleVersion).compareTo(GradleVersion.version("2.5")) >= 0) {
    assertModuleModuleDepScope("projectC","projectA",DependencyScope.PROVIDED);
  }
  assertModuleModuleDepScope("projectC","projectB",DependencyScope.PROVIDED);
}
