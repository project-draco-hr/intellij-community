{
  if (!compileContext.getSearchHelper().doOptimizing()) {
    return;
  }
  if (ourReservedWords.contains(refname))   return;
  boolean addedSomething=false;
  if (kind == GlobalCompilingVisitor.OccurenceKind.CODE) {
    addedSomething=compileContext.getSearchHelper().addWordToSearchInCode(refname);
  }
 else   if (kind == GlobalCompilingVisitor.OccurenceKind.COMMENT) {
    addedSomething=compileContext.getSearchHelper().addWordToSearchInComments(refname);
  }
 else   if (kind == GlobalCompilingVisitor.OccurenceKind.LITERAL) {
    addedSomething=compileContext.getSearchHelper().addWordToSearchInLiterals(refname);
  }
  if (addedSomething && endTransaction) {
    compileContext.getSearchHelper().endTransaction();
  }
}
