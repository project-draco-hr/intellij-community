{
  if (UsefulTestCase.IS_UNDER_TEAMCITY && IS_ENV_CONFIGURATION) {
    Set<String> tags=Sets.newHashSet();
    List<String> roots=getPythonRoots();
    if (roots.size() == 0) {
      return;
    }
    for (    String root : roots) {
      tags.addAll(loadEnvTags(root));
    }
    List<String> missing=Lists.newArrayList();
    for (    String tag : necessaryTags()) {
      if (!tags.contains(tag)) {
        missing.add(tag);
      }
    }
    assertEmpty("Agent is missing environments: " + StringUtil.join(missing,", "),missing);
  }
}
