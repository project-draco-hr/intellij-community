{
  int visibleRowIndex=action.getRow();
  Point clickPoint=action.getRelativePoint();
  if (clickPoint == null)   return clickToRow(visibleRowIndex);
  Pair<SpecialRowElement,GraphElement> arrowOrGraphElement=getOverArrowOrGraphElement(visibleRowIndex,clickPoint);
  if (arrowOrGraphElement.first != null) {
    int toRow;
    Edge edge=(Edge)arrowOrGraphElement.first.getElement();
    if (arrowOrGraphElement.first.getType() == SpecialRowElement.Type.DOWN_ARROW)     toRow=edge.getDownNodeVisibleIndex();
 else     toRow=edge.getUpNodeVisibleIndex();
    return new JumpToRowAnswer(toRow);
  }
 else {
    int toRow=myGraphData.getMutableGraph().performAction(new ClickInternalGraphAction(arrowOrGraphElement.second));
    myGraphData.getMutableGraph().performAction(new MouseOverGraphElementInternalGraphAction(null));
    myGraphData.getGraphRender().invalidate();
    if (toRow != -1)     return new JumpToRowAnswer(toRow);
    return null;
  }
}
