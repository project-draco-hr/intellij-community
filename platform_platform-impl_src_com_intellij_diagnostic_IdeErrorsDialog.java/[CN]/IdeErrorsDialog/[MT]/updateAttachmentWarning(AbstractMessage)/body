{
  if (message == null)   return;
  final List<Attachment> includedAttachments=ContainerUtil.filter(message.getAttachments(),new Condition<Attachment>(){
    public boolean value(    final Attachment attachment){
      return attachment.isIncluded();
    }
  }
);
  if (!includedAttachments.isEmpty()) {
    myAttachmentWarningPanel.setVisible(true);
    if (includedAttachments.size() == 1) {
      myAttachmentWarningLabel.setHtmlText(DiagnosticBundle.message("diagnostic.error.report.include.attachment.warning",includedAttachments.get(0).getName()));
    }
 else {
      myAttachmentWarningLabel.setHtmlText(DiagnosticBundle.message("diagnostic.error.report.include.attachments.warning",includedAttachments.size()));
    }
  }
 else {
    myAttachmentWarningPanel.setVisible(false);
  }
}
