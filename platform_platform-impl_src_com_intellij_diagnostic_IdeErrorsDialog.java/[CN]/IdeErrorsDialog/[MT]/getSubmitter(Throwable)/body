{
  if (throwable instanceof MessagePool.TooManyErrorsException || throwable instanceof AbstractMethodError) {
    return null;
  }
  final PluginId pluginId=findPluginId(throwable);
  final ErrorReportSubmitter[] reporters;
  try {
    reporters=Extensions.getExtensions(ExtensionPoints.ERROR_HANDLER_EP);
  }
 catch (  Throwable t) {
    return null;
  }
  IdeaPluginDescriptor plugin=PluginManager.getPlugin(pluginId);
  if (plugin == null || PluginManagerMain.isDevelopedByJetBrains(plugin)) {
    return getCorePluginSubmitter(reporters);
  }
  for (  ErrorReportSubmitter reporter : reporters) {
    final PluginDescriptor descriptor=reporter.getPluginDescriptor();
    if (descriptor != null && Comparing.equal(pluginId,descriptor.getPluginId())) {
      return reporter;
    }
  }
  return null;
}
