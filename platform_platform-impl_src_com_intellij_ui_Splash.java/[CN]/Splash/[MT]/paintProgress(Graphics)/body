{
  final Color color=getProgressColor();
  if (color == null)   return;
  if (!mySplashIsVisible) {
    myImage.paintIcon(this,g,0,0);
    mySplashIsVisible=true;
  }
  int totalWidth=myImage.getIconWidth() - getProgressX();
  if (Registry.is("ide.new.about")) {
    totalWidth+=3;
  }
  final int progressWidth=(int)(totalWidth * myProgress);
  final int width=progressWidth - myProgressLastPosition;
  g.setColor(color);
  g.fillRect(getProgressX(),getProgressY(),width,getProgressHeight());
  if (myProgressTail != null) {
    myProgressTail.paintIcon(this,g,(int)(width - (myProgressTail.getIconWidth() / uiScale(1f) / 2f * uiScale(1f))),(int)(getProgressY() - (myProgressTail.getIconHeight() - getProgressHeight()) / uiScale(1f) / 2f * uiScale(1f)));
  }
  myProgressLastPosition=progressWidth;
}
