{
  if ((myFutureFlags.contains(FUTURE.WITH_STATEMENT) || myExpectAsKeyword) && source == PyTokenTypes.IDENTIFIER && CharArrayUtil.regionMatches(text,start,end,TOK_AS)) {
    return PyTokenTypes.AS_KEYWORD;
  }
 else   if ((myFutureImportPhase == Phase.FROM) && source == PyTokenTypes.IDENTIFIER && CharArrayUtil.regionMatches(text,start,end,TOK_FUTURE_IMPORT)) {
    myFutureImportPhase=Phase.FUTURE;
    return source;
  }
 else   if (myFutureFlags.contains(FUTURE.WITH_STATEMENT) && source == PyTokenTypes.IDENTIFIER && CharArrayUtil.regionMatches(text,start,end,TOK_WITH)) {
    return PyTokenTypes.WITH_KEYWORD;
  }
  return source;
}
