{
  if (matcher.groupCount() < groupNumber || matcher.end(groupNumber) > s.length()) {
    throw new IllegalArgumentException("Inconsistent matcher, group number and underlying string");
  }
  return new Substring(s.getSuperString(),s.myStartOffset + matcher.start(groupNumber),s.myStartOffset + matcher.end(groupNumber));
}
