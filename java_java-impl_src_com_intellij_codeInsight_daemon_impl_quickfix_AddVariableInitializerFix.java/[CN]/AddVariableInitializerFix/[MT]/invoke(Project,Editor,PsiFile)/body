{
  if (!FileModificationService.getInstance().prepareFileForWrite(myVariable.getContainingFile()))   return;
  final LookupElement[] suggestedInitializers=suggestInitializer(myVariable);
  LOG.assertTrue(suggestedInitializers.length > 0);
  LOG.assertTrue(suggestedInitializers[0] instanceof ExpressionLookupItem);
  final PsiExpression initializer=(PsiExpression)suggestedInitializers[0].getObject();
  if (myVariable instanceof PsiLocalVariable) {
    ((PsiLocalVariable)myVariable).setInitializer(initializer);
  }
 else   if (myVariable instanceof PsiField) {
    ((PsiField)myVariable).setInitializer(initializer);
  }
 else {
    LOG.error("Unknown variable type: " + myVariable);
  }
  runAssignmentTemplate(Collections.singletonList(myVariable.getInitializer()),suggestedInitializers,editor);
}
