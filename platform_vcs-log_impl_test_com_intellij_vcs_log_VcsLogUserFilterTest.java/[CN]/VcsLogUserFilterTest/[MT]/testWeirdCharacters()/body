{
  List<String> names=ContainerUtil.newArrayList();
  for (  Character c : UserNameRegex.EXTENDED_REGEX_CHARS) {
    String name="user" + Character.toString(c) + "userovich";
    names.add(name);
    names.add(name + "@company.com");
  }
  MultiMap<VcsUser,String> commits=generateHistory(ArrayUtil.toStringArray(names));
  List<VcsCommitMetadata> metadata=generateMetadata(commits);
  StringBuilder builder=new StringBuilder();
  for (  VcsUser user : commits.keySet()) {
    checkFilterForUser(user,commits.keySet(),commits.get(user),metadata,builder);
  }
  assertFilteredCorrectly(builder);
}
