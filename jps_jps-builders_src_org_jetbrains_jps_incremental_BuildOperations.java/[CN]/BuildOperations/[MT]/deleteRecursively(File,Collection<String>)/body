{
  File[] children=file.listFiles();
  if (children != null) {
    for (    File child : children) {
      deleteRecursively(child,deletedPaths);
    }
  }
  boolean deleted=file.delete();
  if (deleted && children == null) {
    deletedPaths.add(FileUtil.toSystemIndependentName(file.getPath()));
  }
  return deleted;
}
