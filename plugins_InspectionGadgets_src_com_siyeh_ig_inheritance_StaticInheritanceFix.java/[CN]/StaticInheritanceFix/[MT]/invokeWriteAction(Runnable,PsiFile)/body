{
  try {
    GuiUtils.runOrInvokeAndWait(new Runnable(){
      @Override public void run(){
        new WriteCommandAction(file.getProject(),file){
          @Override protected void run(          Result result) throws Throwable {
            runnable.run();
          }
        }
.execute();
      }
    }
);
  }
 catch (  InvocationTargetException e) {
    LOG.error(e);
  }
catch (  InterruptedException e) {
    LOG.error(e);
  }
}
