{
  if (!CloneUtils.isClone(method) || !PsiUtil.isLanguageLevel5OrHigher(method)) {
    return;
  }
  final PsiTypeElement typeElement=method.getReturnTypeElement();
  if (typeElement == null) {
    return;
  }
  final PsiType returnType=typeElement.getType();
  if (!(returnType instanceof PsiClassType)) {
    return;
  }
  final PsiClassType classType=(PsiClassType)returnType;
  final PsiClass aClass=classType.resolve();
  final PsiClass containingClass=method.getContainingClass();
  if (containingClass == null) {
    return;
  }
  if (containingClass.equals(aClass)) {
    return;
  }
  if (!CloneUtils.isCloneable(containingClass)) {
    if (JavaPsiFacade.getElementFactory(method.getProject()).createType(containingClass).isConvertibleFrom(returnType)) {
      return;
    }
    registerError(typeElement,containingClass.getName(),Boolean.FALSE);
  }
 else {
    registerError(typeElement,containingClass.getName(),Boolean.TRUE);
  }
}
