{
  FileChooserDescriptor descriptor=new FileChooserDescriptor(false,true,false,true,false,true);
  VirtualFile[] virtualFiles=FileChooser.chooseFiles(descriptor,project,null);
  if (virtualFiles.length == 0) {
    return Collections.emptyList();
  }
  List<VirtualFile> correctRoots=ContainerUtil.newArrayList();
  for (  VirtualFile vf : virtualFiles) {
    if (GitUtil.isGitRoot(new File(vf.getPath()))) {
      correctRoots.add(vf);
    }
  }
  return correctRoots;
}
