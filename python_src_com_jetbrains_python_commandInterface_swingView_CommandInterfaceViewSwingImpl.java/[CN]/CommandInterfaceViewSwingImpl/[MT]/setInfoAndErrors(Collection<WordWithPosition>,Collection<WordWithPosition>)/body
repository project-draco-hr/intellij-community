{
synchronized (myInfoBalloons) {
    myInfoBalloons.clear();
    myInfoBalloons.addAll(infoBalloons);
  }
synchronized (myErrorBalloons) {
    myErrorBalloons.clear();
    myErrorBalloons.addAll(errors);
  }
  for (  final WordWithPosition error : errors) {
    if (isAfterLastCharRange(error)) {
      myMainTextField.underlineText(ERROR_COLOR,myMainTextField.getText().length(),myMainTextField.getText().length() + 1);
    }
 else {
      myMainTextField.underlineText(ERROR_COLOR,error.getFrom(),error.getTo());
    }
  }
}
