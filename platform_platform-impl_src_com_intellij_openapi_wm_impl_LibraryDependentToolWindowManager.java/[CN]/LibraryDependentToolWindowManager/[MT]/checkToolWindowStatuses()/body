{
  if (myProject.isDisposed()) {
    return;
  }
  final PsiManager psiManager=PsiManager.getInstance(myProject);
  if (psiManager.isDisposed()) {
    return;
  }
  DumbService.getInstance(myProject).smartInvokeLater(new Runnable(){
    public void run(){
      if (myProject.isDisposed())       return;
      for (      LibraryDependentToolWindow libraryToolWindow : Extensions.getExtensions(LibraryDependentToolWindow.EXTENSION_POINT_NAME)) {
        if (libraryToolWindow.getLibrarySearchHelper().isLibraryExists(myProject)) {
          ensureToolWindowExists(libraryToolWindow);
        }
 else {
          ToolWindow toolWindow=myToolWindowManager.getToolWindow(libraryToolWindow.id);
          if (toolWindow != null) {
            myToolWindowManager.unregisterToolWindow(libraryToolWindow.id);
          }
        }
      }
    }
  }
);
}
