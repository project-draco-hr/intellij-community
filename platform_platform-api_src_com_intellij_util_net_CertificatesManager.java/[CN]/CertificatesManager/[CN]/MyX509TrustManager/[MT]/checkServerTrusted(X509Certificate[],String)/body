{
  try {
    mySystemManager.checkServerTrusted(certificates,s);
  }
 catch (  RuntimeException e) {
    Throwable cause=e.getCause();
    if (cause != null && cause.getMessage().equals("the trustAnchors parameter must be non-empty")) {
      LOG.error("It seems, that your JRE installation doesn't have system trust store.\n" + "If you're using Mac JRE, try upgrading to the latest version.",e);
    }
  }
catch (  CertificateException e) {
    X509Certificate certificate=certificates[0];
    if (certificates.length == 1) {
synchronized (myCustomManager) {
        try {
          myCustomManager.checkServerTrusted(certificates,s);
        }
 catch (        CertificateException e2) {
          if (myCustomManager.isBroken() || !updateTrustStore(certificate)) {
            throw e;
          }
        }
      }
    }
  }
}
