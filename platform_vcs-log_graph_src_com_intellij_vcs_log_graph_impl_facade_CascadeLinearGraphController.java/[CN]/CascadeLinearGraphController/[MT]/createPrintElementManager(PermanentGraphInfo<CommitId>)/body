{
  Comparator<GraphElement> graphElementComparator=new GraphElementComparatorByLayoutIndex(new NotNullFunction<Integer,Integer>(){
    @NotNull @Override public Integer fun(    Integer nodeIndex){
      int nodeId=getCompiledGraph().getGraphNode(nodeIndex).getNodeId();
      if (nodeId < 0)       return nodeId;
      return permanentGraphInfo.getPermanentGraphLayout().getLayoutIndex(nodeId);
    }
  }
);
  ColorGetterByLayoutIndex<CommitId> colorGetter=new ColorGetterByLayoutIndex<CommitId>(getCompiledGraph(),permanentGraphInfo);
  return new PrintElementManagerImpl(graphElementComparator,colorGetter);
}
