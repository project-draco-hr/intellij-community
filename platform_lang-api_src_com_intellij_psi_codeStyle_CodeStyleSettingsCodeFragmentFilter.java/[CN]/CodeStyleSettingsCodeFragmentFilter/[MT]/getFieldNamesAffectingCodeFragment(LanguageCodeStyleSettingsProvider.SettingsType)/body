{
  CodeStyleSettingsManager codeStyleSettingsManager=CodeStyleSettingsManager.getInstance(myProject);
  CodeStyleSettings clonedSettings=codeStyleSettingsManager.getCurrentSettings().clone();
  myCommonSettings=clonedSettings.getCommonSettings(myProvider.getLanguage());
  try {
    codeStyleSettingsManager.setTemporarySettings(clonedSettings);
    Set<String> fields=myProvider.getSupportedFields(type);
    return filterAffectingFields(fields);
  }
  finally {
    codeStyleSettingsManager.dropTemporarySettings();
  }
}
