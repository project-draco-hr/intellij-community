{
  if (startOffset == endOffset) {
    myLayout=null;
    myTabs=null;
  }
 else {
    Ref<TabSpacer[]> tabs=new Ref<TabSpacer[]>();
    AttributedCharacterIterator iterator=createTextWithAttributes(editor,startOffset,endOffset,fontRenderContext,tabs);
    myLayout=new TextLayout(iterator,fontRenderContext);
    myTabs=tabs.get();
  }
}
