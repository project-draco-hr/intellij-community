{
  super.visitPyWithStatement(node);
  Set<PyWithItem> problemItems=new HashSet<PyWithItem>();
  StringBuilder message=new StringBuilder(myCommonMessage);
  for (int i=0; i != myVersionsToProcess.size(); ++i) {
    LanguageLevel languageLevel=myVersionsToProcess.get(i);
    if (languageLevel == LanguageLevel.PYTHON24) {
      registerProblem(node,"Python version 2.4 doesn't support this syntax.");
    }
 else     if (!languageLevel.supportsSetLiterals()) {
      final PyWithItem[] items=node.getWithItems();
      if (items.length > 1) {
        for (int j=1; j < items.length; j++) {
          if (!problemItems.isEmpty())           message.append(", ");
          message.append(languageLevel.toString());
          problemItems.add(items[j]);
        }
      }
    }
  }
  message.append(" do not support multiple context managers");
  for (  PyWithItem item : problemItems) {
    registerProblem(item,message.toString());
  }
  checkAsyncKeyword(node);
}
