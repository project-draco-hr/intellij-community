{
  int offset=ControlFlowUtil.getMinDefinitelyReachedOffset(controlFlow,minOffset,references);
  if (offset == controlFlow.getSize()) {
    codeBlock.add(finalAssignment);
    return true;
  }
  PsiElement element=null;
  while (offset < controlFlow.getSize()) {
    element=controlFlow.getElement(offset);
    while (element != null) {
      if (element.getParent() == codeBlock)       break;
      element=element.getParent();
    }
    int startOffset=controlFlow.getStartOffset(element);
    if (startOffset != -1 && startOffset >= minOffset && element instanceof PsiStatement)     break;
    offset++;
  }
  if (!(offset < controlFlow.getSize()))   return false;
  if (ControlFlowUtil.isInstructionReachable(controlFlow,offset,offset))   return false;
  codeBlock.addBefore(finalAssignment,element);
  return true;
}
