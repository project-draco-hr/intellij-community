{
  File file=new File(getActionScriptPath());
  if (file.exists()) {
    boolean fileCorrupted=false;
    FileInputStream fis=new FileInputStream(file);
    try {
      return (List<ActionCommand>)new ObjectInputStream(fis).readObject();
    }
 catch (    Throwable e) {
      fileCorrupted=true;
      LOG.error("Internal file was corrupted. Problem is fixed.\nIf some plugins has been installed/uninstalled, please re-install/-uninstall them.",e);
      if (e instanceof IOException)       throw (IOException)e;
      return new ArrayList<ActionCommand>();
    }
 finally {
      try {
        fis.close();
      }
  finally {
        if (fileCorrupted)         FileUtil.delete(file);
      }
    }
  }
 else {
    return new ArrayList<ActionCommand>();
  }
}
