{
  Project project=e.getProject();
  VcsLog log=e.getData(VcsLogDataKeys.VSC_LOG);
  if (project == null || log == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  List<VcsFullCommitDetails> details=log.getSelectedDetails();
  if (containsCommitFromOtherVcs(project,details)) {
    e.getPresentation().setEnabledAndVisible(false);
  }
 else {
    e.getPresentation().setVisible(true);
    e.getPresentation().setEnabled(details.size() == 1);
  }
}
