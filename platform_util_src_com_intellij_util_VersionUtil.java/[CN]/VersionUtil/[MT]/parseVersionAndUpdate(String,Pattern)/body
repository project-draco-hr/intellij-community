{
  String[] versions=null;
  String updateStr=null;
  for (  Pattern pattern : patterns) {
    Matcher matcher=pattern.matcher(version);
    if (matcher.find()) {
      String versionGroup=matcher.group(1);
      if (versionGroup != null) {
        updateStr=matcher.groupCount() > 1 ? matcher.group(2) : null;
        versions=versionGroup.split("\\.");
        break;
      }
    }
  }
  if (versions == null || versions.length < 2) {
    return null;
  }
  Integer update=null;
  if (updateStr != null) {
    try {
      update=Integer.parseInt(updateStr);
    }
 catch (    NumberFormatException e) {
    }
  }
  if (update == null)   update=new Integer(0);
  return Pair.create(new Version(Integer.parseInt(versions[0]),Integer.parseInt(versions[1]),(versions.length > 2) ? Integer.parseInt(versions[2]) : 0),update);
}
