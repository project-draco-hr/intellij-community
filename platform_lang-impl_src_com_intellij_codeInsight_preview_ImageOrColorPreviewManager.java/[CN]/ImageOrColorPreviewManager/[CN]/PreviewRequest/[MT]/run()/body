{
  PsiElement element=getPsiElementAt(point,editor);
  if (element == null || !element.isValid()) {
    return;
  }
  if (PsiDocumentManager.getInstance(element.getProject()).isUncommited(editor.getDocument())) {
    return;
  }
  if (DumbService.getInstance(element.getProject()).isDumb()) {
    return;
  }
  LightweightHint newHint=getHint(element);
  if (newHint == null) {
    hideCurrentHintIfAny();
  }
 else   if ((elementRef == null || elementRef.get() != element) && element.isValid()) {
    hideCurrentHintIfAny();
    hint=newHint;
    elementRef=new WeakReference<PsiElement>(element);
    HintManagerImpl.getInstanceImpl().showEditorHint(newHint,editor,getHintPosition(newHint,editor,editor.xyToLogicalPosition(point),HintManager.RIGHT_UNDER),HINT_HIDE_FLAGS,0,false);
  }
}
