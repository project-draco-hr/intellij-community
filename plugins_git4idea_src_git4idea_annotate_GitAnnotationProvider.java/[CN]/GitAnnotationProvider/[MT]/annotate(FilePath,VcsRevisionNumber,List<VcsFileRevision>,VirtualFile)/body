{
  GitSimpleHandler h=new GitSimpleHandler(myProject,GitUtil.getGitRoot(repositoryFilePath),GitCommand.BLAME);
  h.setStdoutSuppressed(true);
  h.setCharset(file.getCharset());
  h.addParameters("--porcelain","-l","-t","-w");
  if (revision == null) {
    h.addParameters("HEAD");
  }
 else {
    h.addParameters(revision.asString());
  }
  h.endOptions();
  h.addRelativePaths(repositoryFilePath);
  String output=h.run();
  GitFileAnnotation annotation=parseAnnotations(revision,file,output);
  annotation.addLogEntries(revisions);
  return annotation;
}
