{
  super(stub);
  myReferenceElement=new AtomicNotNullLazyValue<ClsJavaCodeReferenceElementImpl>(){
    @NotNull @Override protected ClsJavaCodeReferenceElementImpl compute(){
      String annotationText=getStub().getText();
      int index=annotationText.indexOf('(');
      String refText=index > 0 ? annotationText.substring(1,index) : annotationText.substring(1);
      return new ClsJavaCodeReferenceElementImpl(ClsAnnotationImpl.this,refText);
    }
  }
;
  myParameterList=new AtomicNotNullLazyValue<ClsAnnotationParameterListImpl>(){
    @NotNull @Override protected ClsAnnotationParameterListImpl compute(){
      PsiNameValuePair[] attrs=getStub().getText().indexOf('(') > 0 ? PsiTreeUtil.getRequiredChildOfType(getStub().getPsiElement(),PsiAnnotationParameterList.class).getAttributes() : PsiNameValuePair.EMPTY_ARRAY;
      return new ClsAnnotationParameterListImpl(ClsAnnotationImpl.this,attrs);
    }
  }
;
}
