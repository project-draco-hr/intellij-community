{
  if (isModified) {
    return false;
  }
  final CaretModel caretModel=editor.getCaretModel();
  final PsiElement atCaret=psiElement.getContainingFile().findElementAt(caretModel.getOffset());
  final PsiElement comment=PsiTreeUtil.getParentOfType(atCaret,PsiComment.class,false);
  if (comment != null) {
    SmartEnterUtil.plainEnter(editor);
    editor.getDocument().insertString(caretModel.getOffset(),"#");
    caretModel.moveToOffset(caretModel.getOffset() + 1);
    return true;
  }
  return false;
}
