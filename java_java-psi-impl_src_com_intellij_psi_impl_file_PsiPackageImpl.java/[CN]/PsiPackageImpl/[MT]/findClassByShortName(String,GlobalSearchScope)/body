{
  PsiClass[] allClasses=getCachedClassesByName(name,scope);
  if (allClasses.length == 0)   return allClasses;
  if (allClasses.length == 1) {
    return PsiSearchScopeUtil.isInScope(scope,allClasses[0]) ? allClasses : PsiClass.EMPTY_ARRAY;
  }
  PsiClass[] array=ContainerUtil.findAllAsArray(allClasses,new Condition<PsiClass>(){
    @Override public boolean value(    PsiClass aClass){
      return PsiSearchScopeUtil.isInScope(scope,aClass);
    }
  }
);
  Arrays.sort(array,PsiClassUtil.createScopeComparator(scope));
  return array;
}
