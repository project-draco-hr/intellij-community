{
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      List<String> assemblyRefs=collectAssemblyReferences(descriptor.getPsiElement().getContainingFile());
      final String skeletonPath=PythonSdkType.findSkeletonsPath(mySdk);
      new PySkeletonRefresher(mySdk,skeletonPath,null).generateSkeleton(myQualifiedName,"",assemblyRefs);
      final VirtualFile skeletonDir;
      if (skeletonPath != null) {
        skeletonDir=LocalFileSystem.getInstance().findFileByPath(skeletonPath);
        if (skeletonDir != null) {
          skeletonDir.refresh(true,true);
        }
      }
    }
  }
,"Generating skeletons for binary module",false,project);
}
