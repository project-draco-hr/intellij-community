{
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      List<String> assemblyRefs=collectAssemblyReferences(descriptor.getPsiElement().getContainingFile());
      final String skeletonPath=PythonSdkType.findSkeletonsPath(mySdk);
      PythonSdkType.generateSkeleton(mySdk.getHomePath(),skeletonPath,myQualifiedName,assemblyRefs);
      final VirtualFile skeletonDir=LocalFileSystem.getInstance().findFileByPath(skeletonPath);
      if (skeletonDir != null) {
        skeletonDir.refresh(true,true);
      }
    }
  }
,"Generating stubs for binary module",false,project);
}
