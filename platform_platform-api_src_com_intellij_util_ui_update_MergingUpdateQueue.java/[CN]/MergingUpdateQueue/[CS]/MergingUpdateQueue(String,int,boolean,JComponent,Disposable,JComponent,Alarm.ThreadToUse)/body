{
  myMergingTimeSpan=mergingTimeSpan;
  myModalityStateComponent=modalityStateComponent;
  myName=name;
  Application app=ApplicationManager.getApplication();
  myPassThrough=app == null || app.isUnitTestMode();
  myExecuteInDispatchThread=thread == Alarm.ThreadToUse.SWING_THREAD;
  if (parent != null) {
    Disposer.register(parent,this);
  }
  myWaiterForMerge=createAlarm(thread,myExecuteInDispatchThread ? null : this);
  if (isActive) {
    showNotify();
  }
  if (activationComponent != null) {
    setActivationComponent(activationComponent);
  }
}
