{
  VirtualFile currentFile=directory.createChildData(this,name);
  currentFile.setWritable(true);
  InputStream ip=StudyDirectoryProjectGenerator.class.getResourceAsStream(name);
  BufferedReader bf=new BufferedReader(new InputStreamReader(ip));
  OutputStream os=currentFile.getOutputStream(this);
  PrintWriter printWriter=new PrintWriter(os);
  try {
    while (bf.ready()) {
      String line=bf.readLine();
      if (bf.ready()) {
        printWriter.println(line);
      }
 else {
        printWriter.print(line);
      }
    }
  }
 catch (  Exception e) {
    Log.print(e.getMessage());
    Log.flush();
  }
 finally {
    bf.close();
    printWriter.close();
  }
}
