{
  try {
    String testDataRootPath=getTestDataRootPath();
    String fullProjectPath=FileUtil.toSystemDependentName(testDataRootPath != null ? testDataRootPath + "/" + projectPath : projectPath);
    Map<String,String> allPathVariables=new HashMap<String,String>(pathVariables.size() + 1);
    allPathVariables.putAll(pathVariables);
    allPathVariables.put(PathMacroUtil.APPLICATION_HOME_DIR,PathManager.getHomePath());
    allPathVariables.putAll(getAdditionalPathVariables());
    JpsProjectLoader.loadProject(myProject,allPathVariables,fullProjectPath);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
