{
  Module[] modules=ApplicationManager.getApplication().runReadAction(new Computable<Module[]>(){
    @Override public Module[] compute(){
      return ModuleManager.getInstance(myProject).getModules();
    }
  }
);
  for (  final Module module : modules) {
    for (    VirtualFile contentRoot : getRootsToIterate(module)) {
      boolean finished=VfsUtilCore.iterateChildrenRecursively(contentRoot,myContentFilter,iterator);
      if (!finished)       return false;
    }
  }
  return true;
}
