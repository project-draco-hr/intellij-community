{
  final PsiElement parent=element.getParent();
  if (!(parent instanceof PsiIfStatement)) {
    return;
  }
  final PsiIfStatement ifStatement=(PsiIfStatement)parent;
  final PsiExpression condition=ifStatement.getCondition();
  @NonNls final StringBuilder newStatementText=new StringBuilder("assert ");
  newStatementText.append(BoolUtils.getNegatedExpressionText(condition));
  final PsiStatement thenBranch=ifStatement.getThenBranch();
  final String message=getMessage(thenBranch);
  if (message != null) {
    newStatementText.append(':').append(message);
  }
  newStatementText.append(';');
  PsiReplacementUtil.replaceStatement(ifStatement,newStatementText.toString());
}
