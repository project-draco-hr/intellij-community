{
  final PsiElement element=node.getPsiElement();
  if (element == null || !element.isValid()) {
    return;
  }
  final CoverageDataManager manager=getCoverageDataManager();
  final CoverageSuitesBundle currentSuite=manager.getCurrentSuitesBundle();
  final CoverageAnnotator coverageAnnotator=currentSuite != null ? currentSuite.getAnnotator(element.getProject()) : null;
  if (coverageAnnotator == null) {
    return;
  }
  String informationString=null;
  if (element instanceof PsiDirectory) {
    informationString=coverageAnnotator.getDirCoverageInformationString((PsiDirectory)element,currentSuite,manager);
  }
 else   if (element instanceof PsiFile) {
    informationString=coverageAnnotator.getFileCoverageInformationString((PsiFile)element,currentSuite,manager);
  }
  if (informationString != null) {
    appendCoverageInfo(cellRenderer,informationString);
  }
}
