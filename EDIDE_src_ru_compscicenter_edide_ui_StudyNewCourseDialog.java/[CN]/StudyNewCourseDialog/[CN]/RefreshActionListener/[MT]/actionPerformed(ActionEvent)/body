{
  myGenerator.downloadAndUnzip(true);
  Map<String,File> downloadedCourses=myGenerator.loadCourses();
  if (downloadedCourses.isEmpty()) {
    setError(CONNECTION_ERROR);
    return;
  }
  Map<String,File> oldCourses=myGenerator.getMyDefaultCourseFiles();
  Map<String,File> newCourses=new HashMap<String,File>();
  if (!downloadedCourses.equals(oldCourses)) {
    for (    Map.Entry<String,File> course : oldCourses.entrySet()) {
      File courseFile=course.getValue();
      if (courseFile.exists()) {
        newCourses.put(course.getKey(),courseFile);
      }
    }
    for (    Map.Entry<String,File> course : downloadedCourses.entrySet()) {
      String courseName=course.getKey();
      if (newCourses.get(courseName) == null) {
        newCourses.put(courseName,course.getValue());
        myDefaultCoursesComboBox.addItem(courseName);
      }
    }
    myGenerator.setCourses(newCourses);
  }
}
