{
  if (valclass.equals(refclass)) {
    return true;
  }
  StructClass cl=context.getClass(valclass);
  if (cl == null) {
    return false;
  }
  if (cl.superClass != null && instanceOf(context,cl.superClass.getString(),refclass)) {
    return true;
  }
  int[] interfaces=cl.getInterfaces();
  for (int i=0; i < interfaces.length; i++) {
    String intfc=cl.getPool().getPrimitiveConstant(interfaces[i]).getString();
    if (instanceOf(context,intfc,refclass)) {
      return true;
    }
  }
  return false;
}
