{
  if (builder.getTokenType() == GroovyTokenTypes.mRPAREN && GroovyTokenTypes.mRPAREN.equals(ending)) {
    PsiBuilder.Marker marker=builder.mark();
    marker.done(GroovyElementTypes.PARAMETERS_LIST);
    return;
  }
  PsiBuilder.Marker marker=builder.mark();
  if (!ParameterDeclaration.parseSimpleParameter(builder,parser)) {
    marker.rollbackTo();
    marker=builder.mark();
    marker.done(GroovyElementTypes.PARAMETERS_LIST);
    return;
  }
  while (!builder.eof() && GroovyTokenTypes.mCOMMA.equals(builder.getTokenType())) {
    ParserUtils.getToken(builder,GroovyTokenTypes.mCOMMA);
    ParserUtils.getToken(builder,GroovyTokenTypes.mNLS);
    if (!ParameterDeclaration.parseSimpleParameter(builder,parser)) {
      builder.error(GroovyBundle.message("param.expected"));
    }
  }
  ParserUtils.getToken(builder,GroovyTokenTypes.mNLS);
  if ((ending.equals(GroovyTokenTypes.mCLOSABLE_BLOCK_OP) && GroovyTokenTypes.mCLOSABLE_BLOCK_OP.equals(builder.getTokenType())) || ending.equals(GroovyTokenTypes.mRPAREN)) {
    marker.done(GroovyElementTypes.PARAMETERS_LIST);
  }
 else {
    marker.rollbackTo();
    marker=builder.mark();
    marker.done(GroovyElementTypes.PARAMETERS_LIST);
  }
}
