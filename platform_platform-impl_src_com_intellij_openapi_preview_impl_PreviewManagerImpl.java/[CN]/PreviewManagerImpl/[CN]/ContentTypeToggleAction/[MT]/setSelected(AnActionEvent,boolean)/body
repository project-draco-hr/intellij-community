{
  if (state) {
    myActiveProviderIds.add(myProvider.getId());
  }
 else {
    myActiveProviderIds.remove(myProvider.getId());
    for (Iterator<PreviewInfo> iterator=myHistory.iterator(); iterator.hasNext(); ) {
      PreviewInfo info=iterator.next();
      if (info.getId().equals(myProvider.getId())) {
        Content content=getContent(info);
        if (content != null) {
          myContentManager.removeContent(content,true);
        }
        iterator.remove();
      }
    }
    checkEmptyState();
  }
}
