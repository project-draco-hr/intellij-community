{
  myProject=project;
  myEmptyStatePanel=new EmptyStatePanel();
  PreviewPanelProvider[] providers=PreviewPanelProvider.EP_NAME.getExtensions(project);
  for (  PreviewPanelProvider provider : providers) {
    myProviders.add(provider);
    myActiveProviderIds.add(provider.getId());
    Disposer.register(project,provider);
  }
  project.getMessageBus().connect().subscribe(UISettingsListener.TOPIC,new UISettingsListener(){
    @Override public void uiSettingsChanged(    UISettings source){
      checkGlobalState();
    }
  }
);
  checkGlobalState();
  checkEmptyState();
}
