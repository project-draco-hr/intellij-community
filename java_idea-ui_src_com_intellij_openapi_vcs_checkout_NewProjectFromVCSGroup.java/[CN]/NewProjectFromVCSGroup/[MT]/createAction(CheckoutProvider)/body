{
  return new CheckoutAction(provider){
    @Override protected CheckoutProvider.Listener getListener(    Project project){
      return new CheckoutProvider.Listener(){
        @Override public void directoryCheckedOut(        File directory,        VcsKey vcs){
          final VirtualFile dir=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(directory);
          if (dir != null) {
            PlatformProjectOpenProcessor.getInstance().doOpenProject(dir,null,false);
          }
        }
        @Override public void checkoutCompleted(){
        }
      }
;
    }
  }
;
}
