{
  String title=SystemInfo.isWindows ? "@echo off" : "#!/bin/sh";
  String parametersPassthrough=SystemInfo.isWindows ? " %*" : " \"$@\"";
  String content=title + "\n" + commandLine()+ parametersPassthrough+ "\n";
  try {
    File file=ExecUtil.createTempExecutableScript(myPrefix,SCRIPT_EXT,content);
    if (SystemInfo.isWindows && file.getPath().contains(" ")) {
      file=FileUtil.createTempFile(myPrefix,SCRIPT_EXT);
      FileUtil.writeToFile(file,content);
      FileUtil.setExecutableAttribute(file.getPath(),true);
    }
    return file;
  }
 catch (  ExecutionException e) {
    throw new IOException("The script providing interactive execution of Git commands couldn't be made executable",e);
  }
}
