{
  myLock=new Object();
  myPersistentMap=new SmallMapSerializer<>(file,EnumeratorStringDescriptor.INSTANCE,new BranchDataExternalizer());
  myForSearchMap=new MultiMap<>();
  for (  String s : myPersistentMap.keySet()) {
    final TreeMap<String,BranchCopyData> map=myPersistentMap.get(s);
    if (map != null) {
      myForSearchMap.put(s,new ArrayList<>(map.keySet()));
    }
  }
  for (  String key : myForSearchMap.keySet()) {
    Collections.sort((List<String>)myForSearchMap.get(key));
  }
}
