{
  return ApplicationManager.getApplication().runReadAction(new Computable<Collection<String>>(){
    @Override public Collection<String> compute(){
      SourcePosition position=ContextUtil.getSourcePosition(context);
      if (position != null) {
        PsiMethod method=PsiTreeUtil.getParentOfType(position.getElementAt(),PsiMethod.class);
        if (method != null) {
          PsiParameterList params=method.getParameterList();
          if (slotNumber < params.getParametersCount()) {
            return Collections.singleton(params.getParameters()[slotNumber].getName());
          }
 else {
            PsiCodeBlock body=method.getBody();
            if (body != null) {
              Set<String> res=new HashSet<String>();
              try {
                body.accept(new LocalVariableNameFinder(slotNumber,getFirstLocalsSlot(method),res));
              }
 catch (              Exception e) {
                LOG.info(e);
              }
              return res;
            }
          }
        }
      }
      return Collections.emptyList();
    }
  }
);
}
