{
  final BuilderMessageHandler wrappedHandler=new DelegatingMessageHandler(){
    @Override protected BuilderMessageHandler getDelegateHandler(){
      return future.getMessageHandler();
    }
    @Override public void sessionTerminated(    UUID sessionId){
      try {
        super.sessionTerminated(sessionId);
      }
  finally {
        future.setDone();
      }
    }
  }
;
  final UUID sessionId=future.getRequestID();
  mySessionDescriptors.put(sessionId,new SessionData(sessionId,wrappedHandler,params));
}
