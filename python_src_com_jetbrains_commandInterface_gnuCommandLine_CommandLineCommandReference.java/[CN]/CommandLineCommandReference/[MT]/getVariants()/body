{
  final CommandLineFile file=getCommandLineFile();
  if (file == null) {
    return EMPTY_ARRAY;
  }
  final List<Command> commands=file.getCommands();
  if (commands == null) {
    return EMPTY_ARRAY;
  }
  final Collection<LookupElement> commandNames=new ArrayList<LookupElement>();
  for (  final Command command : commands) {
    LookupElementBuilder lookupElementBuilder=LookupElementBuilder.create(command.getName());
    final String help=command.getHelp(true);
    if (!StringUtil.isEmpty(help)) {
      lookupElementBuilder=lookupElementBuilder.withTailText(" :" + help);
    }
    commandNames.add(lookupElementBuilder);
  }
  return ArrayUtil.toObjectArray(commandNames);
}
