{
  if (ResourceBundleManager.getInstance(getProject()).isDefaultDissociated(myDefaultPropertiesFile.getVirtualFile())) {
    return Collections.singletonList(myDefaultPropertiesFile);
  }
  PsiFile[] children=ApplicationManager.getApplication().runReadAction(new Computable<PsiFile[]>(){
    @Override public PsiFile[] compute(){
      return myDefaultPropertiesFile.getParent().getFiles();
    }
  }
);
  final String baseName=getBaseName();
  List<PropertiesFile> result=new SmartList<PropertiesFile>();
  for (  PsiFile file : children) {
    if (!file.isValid())     continue;
    PropertiesFile propertiesFile=PropertiesImplUtil.getPropertiesFile(file);
    if (propertiesFile == null) {
      continue;
    }
    if (Comparing.strEqual(PropertiesUtil.getDefaultBaseName(file.getVirtualFile()),baseName)) {
      result.add(propertiesFile);
      if (!propertiesFile.equals(myDefaultPropertiesFile) && propertiesFile.getName().compareTo(myDefaultPropertiesFile.getName()) == 0) {
        return Collections.singletonList(myDefaultPropertiesFile);
      }
    }
  }
  return result;
}
