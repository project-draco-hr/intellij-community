{
  final String matchedElementText;
  if (myParameterIsFunctionOrPredicate) {
    if (initialMethodParameters.length == 1) {
      PsiExpression parameter=initialMethodParameters[0];
      final PsiType type=parameter.getType();
      Boolean role;
      if (!(type instanceof PsiMethodReferenceType) && !(type instanceof PsiLambdaExpressionType) && (role=GuavaFunctionAndPredicateConverter.isClassConditionPredicate(parameter)) != null) {
        matchedElementText=GuavaFunctionAndPredicateConverter.convertFunctionOrPredicateParameter(parameter,role);
      }
 else {
        matchedElementText=parameter.getText();
      }
    }
 else {
      matchedElementText="";
    }
  }
 else {
    matchedElementText=initialMethodParameters.length > 0 ? initialMethodParameters[0].getText() : "";
  }
  return String.format(myTemplate,matchedElementText);
}
