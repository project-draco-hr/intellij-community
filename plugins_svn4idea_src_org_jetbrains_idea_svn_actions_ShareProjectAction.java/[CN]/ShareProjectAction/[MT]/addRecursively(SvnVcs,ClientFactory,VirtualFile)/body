{
  final SvnExcludingIgnoredOperation operation=new SvnExcludingIgnoredOperation(activeVcs.getProject(),new SvnExcludingIgnoredOperation.Operation(){
    public void doOperation(    final VirtualFile virtualFile) throws VcsException {
      final File ioFile=new File(virtualFile.getPath());
      final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
      if (indicator != null) {
        indicator.checkCanceled();
        indicator.setText(SvnBundle.message("share.or.import.add.progress.text",virtualFile.getPath()));
      }
      factory.createAddClient().add(ioFile,Depth.EMPTY,false,false,true,null);
    }
  }
,Depth.INFINITY);
  operation.execute(file);
}
