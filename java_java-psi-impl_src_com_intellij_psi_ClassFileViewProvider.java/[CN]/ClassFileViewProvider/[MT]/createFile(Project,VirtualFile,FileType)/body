{
  FileIndexFacade fileIndex=ServiceManager.getService(project,FileIndexFacade.class);
  if (!fileIndex.isInLibraryClasses(file) && fileIndex.isInSource(file)) {
    return new PsiBinaryFileImpl((PsiManagerImpl)getManager(),this);
  }
  if (isInnerClass(file))   return null;
  return new ClsFileImpl(this);
}
