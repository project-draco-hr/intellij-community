{
  Object selectedValue=myList.getSelectedValue();
  if (selectedValue == null) {
    LOG.error("Selected value is unexpectedly null");
    return;
  }
  String branchToCompare=selectedValue.toString();
  try {
    showDiffWithBranch(myProject,myFile,myHead,branchToCompare);
  }
 catch (  VcsException e) {
    if (e.getMessage().contains("exists on disk, but not in")) {
      fileDoesntExistInBranchError(myProject,myFile,branchToCompare);
    }
 else {
      GitUIUtil.notifyError(myProject,"Couldn't compare with branch",String.format("Couldn't compare file [%s] with selected branch [%s]",myFile,selectedValue),false,e);
    }
  }
}
