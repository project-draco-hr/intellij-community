{
  Sdk sdk=PythonSdkType.findPythonSdk(module);
  if (sdk == null) {
    return null;
  }
  final Charset charset=EncodingProjectManager.getInstance(module.getProject()).getDefaultCharset();
  String sdkHome=sdk.getHomePath();
  final String formatter=PythonHelpersLocator.getHelperPath("epydoc_formatter.py");
  final ByteBuffer encoded=charset.encode(text);
  final byte[] data=encoded.compact().array();
  ProcessOutput output=SdkUtil.getProcessOutput(new File(sdkHome).getParent(),new String[]{sdkHome,formatter},null,2000,data);
  if (output.isTimeout() || output.getExitCode() != 0) {
    return null;
  }
  return output.getStdout();
}
