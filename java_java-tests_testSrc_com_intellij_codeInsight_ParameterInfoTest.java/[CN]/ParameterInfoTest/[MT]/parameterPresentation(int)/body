{
  MethodParameterInfoHandler handler=new MethodParameterInfoHandler();
  CreateParameterInfoContext context=new MockCreateParameterInfoContext(getEditor(),getFile());
  PsiExpressionList list=handler.findElementForParameterInfo(context);
  assertNotNull(list);
  Object[] itemsToShow=context.getItemsToShow();
  assertNotNull(itemsToShow);
  assertEquals(1,itemsToShow.length);
  assertTrue(itemsToShow[0] instanceof MethodCandidateInfo);
  PsiMethod method=((MethodCandidateInfo)itemsToShow[0]).getElement();
  ParameterInfoUIContextEx parameterContext=ParameterInfoComponent.createContext(itemsToShow,getEditor(),handler,parameterIndex);
  PsiSubstitutor substitutor=((MethodCandidateInfo)itemsToShow[0]).getSubstitutor();
  return MethodParameterInfoHandler.updateMethodPresentation(method,substitutor,parameterContext);
}
