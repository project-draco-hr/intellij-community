{
  long start=System.currentTimeMillis();
  List<Task> tasks=getIssuesFromRepositories(query,offset,limit,withClosed,forceRequest,indicator);
  if (tasks != null) {
    LOG.debug(String.format("Total %s ms to download %d issues",System.currentTimeMillis() - start,tasks.size()));
  }
 else {
    return getCachedIssues(withClosed);
  }
  myIssueCache.putAll(ContainerUtil.newMapFromValues(tasks.iterator(),KEY_CONVERTOR));
  return ContainerUtil.filter(tasks,new Condition<Task>(){
    @Override public boolean value(    final Task task){
      return withClosed || !task.isClosed();
    }
  }
);
}
