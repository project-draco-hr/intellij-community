{
  List<Task> tasks=getIssuesFromRepositories(query,offset,limit,withClosed,forceRequest,indicator);
  if (tasks == null) {
    return getCachedIssues(withClosed);
  }
  myIssueCache.putAll(ContainerUtil.newMapFromValues(tasks.iterator(),KEY_CONVERTOR));
  return ContainerUtil.filter(tasks,new Condition<Task>(){
    @Override public boolean value(    final Task task){
      return withClosed || !task.isClosed();
    }
  }
);
}
