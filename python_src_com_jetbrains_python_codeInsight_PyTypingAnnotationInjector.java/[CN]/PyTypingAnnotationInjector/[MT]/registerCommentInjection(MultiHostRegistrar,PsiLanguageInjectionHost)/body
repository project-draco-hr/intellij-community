{
  final String text=host.getText();
  final Matcher m=PyTypingTypeProvider.TYPE_COMMENT_PATTERN.matcher(text);
  if (m.matches()) {
    final String annotationText=m.group(1);
    if (annotationText != null) {
      final int start=m.start(1);
      final int end=m.end(1);
      if (start < end && allowInjectionInComment(host)) {
        Language language=null;
        if (isFunctionTypeComment(host)) {
          language=PyFunctionTypeAnnotationDialect.INSTANCE;
        }
 else         if (isTypingAnnotation(annotationText)) {
          language=PyDocstringLanguageDialect.getInstance();
        }
        if (language != null) {
          registrar.startInjecting(language);
          registrar.addPlace("","",host,TextRange.create(start,end));
          registrar.doneInjecting();
          return new PyInjectionUtil.InjectionResult(true,true);
        }
      }
    }
  }
  return PyInjectionUtil.InjectionResult.EMPTY;
}
