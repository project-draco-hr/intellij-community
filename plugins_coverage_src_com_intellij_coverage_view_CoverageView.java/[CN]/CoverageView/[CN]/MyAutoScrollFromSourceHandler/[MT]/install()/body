{
  final MessageBusConnection connection=myProject.getMessageBus().connect(myProject);
  connection.subscribe(FileEditorManagerListener.FILE_EDITOR_MANAGER,new FileEditorManagerAdapter(){
    public void selectionChanged(    final FileEditorManagerEvent event){
      final FileEditor newEditor=event.getNewEditor();
      if (newEditor == null)       return;
      myAutoscrollAlarm.cancelAllRequests();
      myAutoscrollAlarm.addRequest(new Runnable(){
        public void run(){
          if (myProject.isDisposed() || !CoverageView.this.isShowing())           return;
          if (myStateBean.myAutoScrollFromSource) {
            final VirtualFile file=FileEditorManagerEx.getInstanceEx(myProject).getFile(newEditor);
            if (file != null) {
              if (canSelect(file)) {
                select(file);
              }
            }
          }
        }
      }
,300,ModalityState.NON_MODAL);
    }
  }
);
}
