{
  Consumer<LookupElement> noMiddleMatches=new Consumer<LookupElement>(){
    @Override public void consume(    LookupElement element){
      if (element.getLookupString().startsWith(result.getPrefixMatcher().getPrefix())) {
        result.addElement(element);
      }
    }
  }
;
  PsiElement position=parameters.getPosition();
  final Set<LookupElement> lookupSet=new LinkedHashSet<LookupElement>();
  final Set<CompletionVariant> keywordVariants=new HashSet<CompletionVariant>();
  final JavaCompletionData completionData=getCompletionData(PsiUtil.getLanguageLevel(position));
  completionData.addKeywordVariants(keywordVariants,position,parameters.getOriginalFile());
  completionData.completeKeywordsBySet(lookupSet,keywordVariants,position,result.getPrefixMatcher(),parameters.getOriginalFile());
  completionData.fillCompletions(parameters,noMiddleMatches);
  for (  final LookupElement item : lookupSet) {
    noMiddleMatches.consume(item);
  }
}
