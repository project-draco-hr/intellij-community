{
  initText("ab");
  addInlay(1);
  rightWithSelection();
  checkCaretPositionAndSelection(1,1,1,0,1);
  rightWithSelection();
  checkCaretPositionAndSelection(2,2,3,0,2);
  leftWithSelection();
  checkCaretPositionAndSelection(1,1,1,0,1);
  leftWithSelection();
  checkCaretPositionAndSelection(0,0,0,0,0);
  myEditor.getCaretModel().moveToOffset(2);
  leftWithSelection();
  checkCaretPositionAndSelection(1,1,2,1,2);
  leftWithSelection();
  checkCaretPositionAndSelection(0,0,0,0,2);
  rightWithSelection();
  checkCaretPositionAndSelection(1,1,2,1,2);
  rightWithSelection();
  checkCaretPositionAndSelection(2,2,3,2,2);
}
