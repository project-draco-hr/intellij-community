{
  PsiFile file=node.getContainingFile();
  if (file == null)   return;
  boolean default_bytes=false;
  if (file instanceof PyFile) {
    PyFile pyfile=(PyFile)file;
    default_bytes=(!UNICODE_LITERALS.requiredAt(pyfile.getLanguageLevel()) && !pyfile.hasImportFromFuture(UNICODE_LITERALS));
  }
  final String charsetString=PythonFileType.getCharsetFromEncodingDeclaration(file.getText());
  try {
    if (charsetString != null && !Charset.forName(charsetString).equals(Charset.forName("US-ASCII")))     default_bytes=false;
  }
 catch (  UnsupportedCharsetException exception) {
  }
  boolean hasProblem=false;
  char first_char=Character.toLowerCase(node.getText().charAt(0));
  if (first_char == 'b' || (default_bytes && first_char != 'u')) {
    String value=node.getStringValue();
    int length=value.length();
    for (int i=0; i < length; ++i) {
      char c=value.charAt(i);
      if (((int)c) > 255) {
        hasProblem=true;
        break;
      }
    }
  }
  if (hasProblem) {
    if (charsetString != null)     registerProblem(node,"Byte literal contains characters > 255");
 else     registerProblem(node,"Byte literal contains characters > 255",new AddEncodingQuickFix(defaultEncoding));
  }
}
