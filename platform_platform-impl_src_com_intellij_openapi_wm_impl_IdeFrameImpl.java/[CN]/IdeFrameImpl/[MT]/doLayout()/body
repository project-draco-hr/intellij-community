{
  super.doLayout();
  if (!isInFullScreen() && IdeRootPane.isFrameDecorated()) {
    final int leftSide=AllIcons.Windows.Shadow.Left.getIconWidth();
    final int rightSide=AllIcons.Windows.Shadow.Right.getIconWidth();
    final int top=AllIcons.Windows.Shadow.Top.getIconHeight();
    final int bottom=AllIcons.Windows.Shadow.Bottom.getIconHeight();
    getRootPane().setBounds(leftSide,top,getWidth() - leftSide - rightSide,getHeight() - top - bottom);
  }
}
