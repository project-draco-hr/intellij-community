{
  if (!shouldCheckDiscreteCard)   return;
  new Thread(){
    @Override public void run(){
      PowerSupplyKit.startListenPowerSupply(new PowerSupplyKitCallback(){
        @Override public void call(){
          final NotificationType type=NotificationType.INFORMATION;
          final NotificationListener listener=new NotificationListener(){
            @Override public void hyperlinkUpdate(            @NotNull Notification notification,            @NotNull HyperlinkEvent event){
              notification.expire();
            }
          }
;
          final String message="We have noticed that your computer power cord is disconnected and you are using" + " a discrete video card on  you MacBook Pro. You can switch " + " to the integrated video card. This significantly extend your battery life."+ " <a href=\"doNotShow\">Do no show</a> this message anymore";
          final Notification notification=new Notification("POWER_SUPPLY_GROUP_ID","Discrete video card warning",message,type,listener);
          ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
            @Override public void run(){
              ApplicationManager.getApplication().getMessageBus().syncPublisher(Notifications.TOPIC).notify(notification);
            }
          }
);
        }
      }
);
    }
  }
.start();
  shouldCheckDiscreteCard=false;
}
