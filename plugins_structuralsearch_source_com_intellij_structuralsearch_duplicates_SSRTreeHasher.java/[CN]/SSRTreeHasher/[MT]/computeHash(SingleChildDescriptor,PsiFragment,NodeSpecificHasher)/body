{
  final PsiElement element=childDescriptor.getElement();
  if (element == null) {
    return new TreeHashResult(0,0,parentFragment);
  }
  final TreeHashResult result=doComputeHash(childDescriptor,parentFragment,nodeSpecificHasher);
  if (result != null) {
    final ChildRole role=childDescriptor.getRole();
    if (role != null) {
switch (role) {
case VARIABLE_NAME:
        if (!mySettings.DISTINGUISH_VARIABLES) {
          return new TreeHashResult(0,result.getCost(),result.getFragment());
        }
      break;
case FIELD_NAME:
    if (!mySettings.DISTINGUISH_FIELDS) {
      return new TreeHashResult(0,result.getCost(),result.getFragment());
    }
  break;
case FUNCTION_NAME:
if (!mySettings.DISTINGUISH_METHODS) {
  return new TreeHashResult(0,result.getCost(),result.getFragment());
}
break;
}
}
}
return result;
}
