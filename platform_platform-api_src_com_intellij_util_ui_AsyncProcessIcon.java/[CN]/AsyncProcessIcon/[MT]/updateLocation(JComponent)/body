{
  final Rectangle newBounds=calculateBounds(container);
  if (!newBounds.equals(getBounds())) {
    setBounds(newBounds);
    SwingUtilities.invokeLater(new Runnable(){
      @Override public void run(){
        container.repaint();
      }
    }
);
  }
}
