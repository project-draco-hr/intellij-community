{
  final List<Couple<String>> result=new ArrayList<Couple<String>>();
  int classAttrPosition=-1;
  int idAttrPosition=-1;
  final StringBuilder classAttrBuilder=new StringBuilder();
  final StringBuilder idAttrBuilder=new StringBuilder();
  while (true) {
    final List<Couple<String>> attrList=parseSelector();
    if (attrList == null) {
      if (classAttrPosition != -1) {
        result.set(classAttrPosition,Couple.of(getClassAttributeName(),classAttrBuilder.toString()));
      }
      if (idAttrPosition != -1) {
        result.set(idAttrPosition,Couple.of(HtmlUtil.ID_ATTRIBUTE_NAME,idAttrBuilder.toString()));
      }
      return result;
    }
    for (    Couple<String> attr : attrList) {
      if (getClassAttributeName().equals(attr.first)) {
        if (classAttrBuilder.length() > 0) {
          classAttrBuilder.append(' ');
        }
        classAttrBuilder.append(attr.second);
        if (classAttrPosition == -1) {
          classAttrPosition=result.size();
          result.add(attr);
        }
      }
 else       if (HtmlUtil.ID_ATTRIBUTE_NAME.equals(attr.first)) {
        if (idAttrBuilder.length() > 0) {
          idAttrBuilder.append(' ');
        }
        idAttrBuilder.append(attr.second);
        if (idAttrPosition == -1) {
          idAttrPosition=result.size();
          result.add(attr);
        }
      }
 else {
        result.add(attr);
      }
    }
  }
}
