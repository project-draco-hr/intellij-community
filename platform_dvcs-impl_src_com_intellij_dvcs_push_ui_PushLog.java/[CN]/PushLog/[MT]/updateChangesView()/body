{
  TreePath[] nodes=myTree.getSelectionPaths();
  if (nodes != null) {
    ArrayList<Change> changes=new ArrayList<Change>();
    for (    TreePath path : nodes) {
      if (path.getLastPathComponent() instanceof VcsFullCommitDetailsNode) {
        VcsFullCommitDetailsNode commitDetailsNode=(VcsFullCommitDetailsNode)path.getLastPathComponent();
        changes.addAll(commitDetailsNode.getUserObject().getChanges());
      }
 else       if (path.getLastPathComponent() instanceof RepositoryNode) {
        changes.addAll(collectAllChanges((RepositoryNode)path.getLastPathComponent()));
      }
    }
    myChangesBrowser.getViewer().setEmptyText("No differences");
    myChangesBrowser.setChangesToDisplay(CommittedChangesTreeBrowser.zipChanges(changes));
    return;
  }
  setDefaultEmptyText();
  myChangesBrowser.setChangesToDisplay(Collections.<Change>emptyList());
}
