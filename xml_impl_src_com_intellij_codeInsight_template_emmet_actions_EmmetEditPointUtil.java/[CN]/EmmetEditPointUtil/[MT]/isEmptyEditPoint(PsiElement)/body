{
  final IElementType type=element.getNode().getElementType();
  if (type == XmlTokenType.XML_ATTRIBUTE_VALUE_END_DELIMITER) {
    final PsiElement prev=PsiTreeUtil.prevLeaf(element);
    return prev != null && prev.getNode().getElementType() == XmlTokenType.XML_ATTRIBUTE_VALUE_START_DELIMITER;
  }
  if (type == XmlTokenType.XML_END_TAG_START) {
    final PsiElement tag=element.getParent();
    final PsiElement prev=PsiTreeUtil.prevLeaf(element,true);
    return prev != null && prev.getParent() == tag && prev.getNode().getElementType() == XmlTokenType.XML_TAG_END;
  }
  if (XmlTokenType.WHITESPACES.contains(type)) {
    final PsiElement text=element.getParent();
    final PsiElement prev=PsiTreeUtil.prevLeaf(element,true);
    return prev != null && prev.getParent() != text.getParent() && prev.getNode().getElementType() == XmlTokenType.XML_TAG_END;
  }
  return false;
}
