{
  DialogWrapper dialog=new DialogWrapper(parent,true){
    CodeFragmentInputComponent inputComponent=new CodeFragmentInputComponent(baseEditor.getProject(),baseEditor.getEditorsProvider(),mySourcePosition,XExpressionImpl.changeMode(baseEditor.getExpression(),EvaluationMode.CODE_FRAGMENT),null,null);
{
      setTitle("Edit");
      init();
    }
    @Nullable @Override protected String getDimensionServiceKey(){
      return "#xdebugger.code.fragment.editor";
    }
    @Nullable @Override protected JComponent createCenterPanel(){
      return inputComponent.getMainComponent();
    }
    @Override protected void doOKAction(){
      super.doOKAction();
      baseEditor.setExpression(inputComponent.getInputEditor().getExpression());
      IdeFocusManager.findInstance().requestFocus(baseEditor.getEditorComponent(),false);
    }
    @Nullable @Override public JComponent getPreferredFocusedComponent(){
      return inputComponent.getInputEditor().getPreferredFocusedComponent();
    }
  }
;
  dialog.show();
}
