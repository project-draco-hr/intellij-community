{
  File configFile=myRepositoryFiles.getConfigFile();
  GitConfig config=GitConfig.read(configFile);
  Collection<GitRemote> remotes=config.parseRemotes();
  GitBranchState state=myReader.readState(remotes);
  Collection<GitBranchTrackInfo> trackInfos=config.parseTrackInfos(state.getLocalBranches().keySet(),state.getRemoteBranches().keySet());
  return new GitRepoInfo(state.getCurrentBranch(),state.getCurrentRevision(),state.getState(),remotes,state.getLocalBranches(),state.getRemoteBranches(),trackInfos);
}
