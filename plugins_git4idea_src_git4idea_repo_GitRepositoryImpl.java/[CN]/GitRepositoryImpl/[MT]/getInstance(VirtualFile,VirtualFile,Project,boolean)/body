{
  GitRepositoryImpl repository=new GitRepositoryImpl(root,gitDir,project,project,!listenToRepoChanges);
  if (listenToRepoChanges) {
    repository.getUntrackedFilesHolder().setupVfsListener(project);
    repository.setupUpdater();
    notifyListenersAsync(repository);
  }
  return repository;
}
