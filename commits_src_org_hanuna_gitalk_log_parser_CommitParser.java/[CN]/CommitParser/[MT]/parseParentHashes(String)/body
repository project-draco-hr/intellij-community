{
  int separatorIndex=line.indexOf("|-");
  if (separatorIndex == -1) {
    throw new IllegalArgumentException("not found separator \"|-\"");
  }
  String commitHashStr=line.substring(0,separatorIndex);
  Hash commitHash=Hash.build(commitHashStr);
  String parentHashStr=line.substring(separatorIndex + 2,line.length());
  String[] parentsHashes=parentHashStr.split("\\s");
  List<Hash> hashes=new ArrayList<Hash>(parentsHashes.length);
  for (  String aParentsStr : parentsHashes) {
    if (aParentsStr.length() > 0) {
      hashes.add(Hash.build(aParentsStr));
    }
  }
  return new Commit(commitHash,hashes);
}
