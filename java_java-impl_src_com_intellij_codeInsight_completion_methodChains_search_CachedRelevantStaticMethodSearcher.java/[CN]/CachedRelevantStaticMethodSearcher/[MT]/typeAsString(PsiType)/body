{
  if (type instanceof PsiClassType)   return ((PsiClassType)type).getClassName();
 else   if (type instanceof PsiPrimitiveType)   return type.getCanonicalText();
 else   if (type instanceof PsiArrayType) {
    final String componentTypeAsString=typeAsString(((PsiArrayType)type).getComponentType());
    if (componentTypeAsString == null)     return null;
    return String.format("%s[]",componentTypeAsString);
  }
  return null;
}
