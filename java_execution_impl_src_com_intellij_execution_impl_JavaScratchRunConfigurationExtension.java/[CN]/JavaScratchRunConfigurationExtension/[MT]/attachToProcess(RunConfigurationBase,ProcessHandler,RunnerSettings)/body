{
  if (runnerSettings instanceof DebuggingRunnerData && getScratchFileId(configuration) >= 0) {
    final VirtualFile vFile=getScratchVirtualFile(configuration);
    if (vFile != null) {
      DebuggerManager.getInstance(configuration.getProject()).addDebugProcessListener(handler,new DebugProcessAdapter(){
        @Override public void processAttached(        DebugProcess process){
          if (vFile.isValid()) {
            process.appendPositionManager(new JavaScratchPositionManager((DebugProcessImpl)process,vFile));
          }
          process.removeDebugProcessListener(this);
        }
      }
);
    }
  }
}
