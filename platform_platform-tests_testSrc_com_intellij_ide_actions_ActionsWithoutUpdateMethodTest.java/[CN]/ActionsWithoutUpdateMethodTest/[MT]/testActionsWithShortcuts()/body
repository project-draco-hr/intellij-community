{
  Set<String> ids=new HashSet<String>();
  for (  String id : ((ActionManagerImpl)ActionManager.getInstance()).getActionIds()) {
    for (    Keymap keymap : KeymapManagerEx.getInstanceEx().getAllKeymaps()) {
      if (keymap.getShortcuts(id).length > 0 && !PLATFORM_WIDE_ACTIONS.contains(id)) {
        ids.add(id);
      }
    }
  }
  ActionManager mgr=ActionManager.getInstance();
  ArrayList<AnAction> failed=new ArrayList<AnAction>();
  for (  String id : ids) {
    AnAction action=mgr.getAction(id);
    if (action == null) {
      System.out.println("Can't find action: " + id);
      continue;
    }
    Method updateMethod=action.getClass().getMethod("update",AnActionEvent.class);
    if (updateMethod.getDeclaringClass() == AnAction.class) {
      failed.add(action);
    }
  }
  for (  AnAction action : failed) {
    System.out.println(action + " ID: " + mgr.getId(action)+ " Class: "+ action.getClass());
  }
  assertEmpty("The following actions have shortcuts, but don't have update() method redefined",failed);
}
