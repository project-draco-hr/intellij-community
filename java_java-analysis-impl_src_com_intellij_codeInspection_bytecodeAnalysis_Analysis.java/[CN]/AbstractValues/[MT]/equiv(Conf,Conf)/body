{
  if (curr.insnIndex != prev.insnIndex) {
    return false;
  }
  Frame<BasicValue> currFr=curr.frame;
  Frame<BasicValue> prevFr=prev.frame;
  for (int i=0; i < currFr.getLocals(); i++) {
    if (!equiv(currFr.getLocal(i),prevFr.getLocal(i))) {
      return false;
    }
  }
  for (int i=0; i < currFr.getStackSize(); i++) {
    if (!equiv(currFr.getStack(i),prevFr.getStack(i))) {
      return false;
    }
  }
  return true;
}
