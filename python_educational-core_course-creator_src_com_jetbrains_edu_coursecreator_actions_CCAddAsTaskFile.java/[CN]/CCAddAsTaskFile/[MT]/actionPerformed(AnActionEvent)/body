{
  Project project=e.getProject();
  if (project == null) {
    return;
  }
  final VirtualFile file=CommonDataKeys.VIRTUAL_FILE.getData(e.getDataContext());
  if (file == null) {
    return;
  }
  Task task=CCProjectService.getInstance(project).getTask(file);
  if (task == null) {
    return;
  }
  task.addTaskFile(file.getName(),task.getTaskFiles().size());
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      String name=file.getNameWithoutExtension();
      String extension=file.getExtension();
      try {
        file.rename(this,name + ".answer." + extension);
      }
 catch (      IOException e1) {
        LOG.error(e1);
      }
    }
  }
);
}
