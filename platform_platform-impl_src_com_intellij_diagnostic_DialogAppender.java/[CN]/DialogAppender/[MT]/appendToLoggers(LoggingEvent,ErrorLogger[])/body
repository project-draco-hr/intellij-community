{
  if (myDialogRunnable != null) {
    return;
  }
  final IdeaLoggingEvent ideaEvent;
  final Object message=event.getMessage();
  if (message instanceof IdeaLoggingEvent) {
    ideaEvent=(IdeaLoggingEvent)message;
  }
 else {
    ThrowableInformation info=event.getThrowableInformation();
    if (info == null) {
      return;
    }
    Throwable throwable=info.getThrowable();
    Throwable rootCause=ExceptionUtil.getRootCause(throwable);
    if (rootCause instanceof AbstractMethodErrorWrapper) {
      AbstractMethodErrorWrapper wrapper=(AbstractMethodErrorWrapper)rootCause;
      PluginId pluginId=PluginManagerCore.getPluginByClassName(wrapper.getProblematicInstance().getClass().getName());
      if (pluginId != null) {
        rootCause=new PluginException(wrapper.getError(),pluginId);
      }
    }
    ideaEvent=rootCause instanceof LogEventException ? ((LogEventException)rootCause).getLogMessage() : new IdeaLoggingEvent(message == null ? "<null> " : message.toString(),throwable);
  }
  for (int i=errorLoggers.length - 1; i >= 0; i--) {
    final ErrorLogger logger=errorLoggers[i];
    if (!logger.canHandle(ideaEvent)) {
      continue;
    }
    myDialogRunnable=new Runnable(){
      @Override public void run(){
        try {
          logger.handle(ideaEvent);
        }
  finally {
          myDialogRunnable=null;
        }
      }
    }
;
    final Application app=ApplicationManager.getApplication();
    if (app == null) {
      new Thread(myDialogRunnable).start();
    }
 else {
      app.executeOnPooledThread(myDialogRunnable);
    }
    break;
  }
}
