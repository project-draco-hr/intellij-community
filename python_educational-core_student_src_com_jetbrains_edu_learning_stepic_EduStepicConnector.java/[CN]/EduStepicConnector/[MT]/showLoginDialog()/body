{
  final boolean[] logged={false};
  ApplicationManager.getApplication().invokeAndWait(new Runnable(){
    @Override public void run(){
      final LoginDialog dialog=new LoginDialog();
      dialog.show();
      logged[0]=dialog.getExitCode() == DialogWrapper.OK_EXIT_CODE;
    }
  }
,ModalityState.defaultModalityState());
  return logged[0];
}
