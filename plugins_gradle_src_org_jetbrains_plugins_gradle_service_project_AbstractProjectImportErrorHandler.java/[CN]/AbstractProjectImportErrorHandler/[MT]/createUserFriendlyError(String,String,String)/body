{
  String newMsg=msg;
  if (!newMsg.isEmpty() && Character.isLowerCase(newMsg.charAt(0))) {
    newMsg="Cause: " + newMsg;
  }
  if (!StringUtil.isEmpty(location)) {
    Pair<String,Integer> pair=getErrorLocation(location);
    if (pair != null) {
      return new LocationAwareExternalSystemException(newMsg,pair.first,pair.getSecond(),quickFixes);
    }
  }
  return new ExternalSystemException(newMsg,null,quickFixes);
}
