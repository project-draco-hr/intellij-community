{
  if (tag != null) {
    final XmlElementDescriptor descriptor=tag.getDescriptor();
    if (descriptor instanceof JavaFxClassTagDescriptorBase) {
      final PsiElement declaration=descriptor.getDeclaration();
      if (declaration instanceof PsiClass) {
        return (PsiClass)declaration;
      }
    }
 else     if (descriptor instanceof JavaFxBuiltInTagDescriptor) {
      final XmlTag includedRoot=JavaFxBuiltInTagDescriptor.getIncludedRoot(tag);
      if (includedRoot != null && !includedRoot.equals(tag)) {
        return checkClass(includedRoot);
      }
    }
  }
  return null;
}
