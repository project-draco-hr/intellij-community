{
  try {
    mySocket=myServerSocket.accept();
    final ExecutionException[] ex=new ExecutionException[1];
    DumbService.getInstance(getProject()).repeatUntilPassesInSmartMode(new Runnable(){
      @Override public void run(){
        try {
          search();
        }
 catch (        ExecutionException e) {
          ex[0]=e;
        }
      }
    }
);
    if (ex[0] != null) {
      logCantRunException(ex[0]);
    }
  }
 catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  IOException e) {
    LOG.info(e);
  }
catch (  Throwable e) {
    LOG.error(e);
  }
}
