{
  final ProjectSystemId projectSystemId=getSystemId(e);
  final ExternalSystemNode<ExternalConfigPathAware> projectNode=getProjectNode(e);
  if (projectSystemId == null || projectNode == null || projectNode.getData() == null)   return;
  projectNode.setIgnored(state);
  final Project project=getProject(e);
  final String externalProjectPath=projectNode.getData().getLinkedExternalProjectPath();
  final ExternalProjectInfo externalProjectInfo=ExternalSystemUtil.getExternalProjectInfo(project,projectSystemId,externalProjectPath);
  if (externalProjectInfo == null || externalProjectInfo.getExternalProjectStructure() == null) {
    if (LOG.isDebugEnabled()) {
      LOG.debug(String.format("external project data not found, path: %s, data: %s",externalProjectPath,externalProjectInfo));
    }
    return;
  }
  final DataNode<ProjectData> projectDataNode=externalProjectInfo.getExternalProjectStructure();
  ServiceManager.getService(ProjectDataManager.class).importData(projectDataNode,project,true);
}
