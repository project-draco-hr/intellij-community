{
  NodeRendererSettings nodeRendererSettings=NodeRendererSettings.getInstance();
  ToStringRenderer toStringRenderer=nodeRendererSettings.getToStringRenderer();
  if (toStringRenderer.isEnabled() && toStringRenderer.isApplicable(descriptor.getType())) {
    return toStringRenderer.calcLabel(descriptor,evaluationContext,listener);
  }
 else {
    return nodeRendererSettings.getClassRenderer().calcLabel(descriptor,evaluationContext,listener);
  }
}
