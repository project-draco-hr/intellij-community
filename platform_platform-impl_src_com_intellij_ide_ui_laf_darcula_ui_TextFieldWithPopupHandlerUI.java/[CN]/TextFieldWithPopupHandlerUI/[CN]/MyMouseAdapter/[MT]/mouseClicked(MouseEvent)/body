{
  if (isSearchField(myTextField)) {
    final SearchAction action=myUi.getActionUnder(e.getPoint());
    if (action != null) {
switch (action) {
case POPUP:
        myUi.showSearchPopup();
      break;
case CLEAR:
    Object listener=myTextField.getClientProperty("JTextField.Search.CancelAction");
  if (listener instanceof ActionListener) {
    ((ActionListener)listener).actionPerformed(new ActionEvent(this,ActionEvent.ACTION_PERFORMED,"action"));
  }
myTextField.setText("");
break;
case NEWLINE:
{
AbstractAction newLineAction=getNewLineAction(myTextField);
if (newLineAction != null) {
newLineAction.actionPerformed(new ActionEvent(myTextField,ActionEvent.ACTION_PERFORMED,"action"));
}
break;
}
}
e.consume();
}
}
}
