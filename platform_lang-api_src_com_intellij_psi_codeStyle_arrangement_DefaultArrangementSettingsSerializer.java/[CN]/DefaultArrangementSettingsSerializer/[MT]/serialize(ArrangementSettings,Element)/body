{
  if (!(s instanceof StdArrangementSettings)) {
    return;
  }
  StdArrangementSettings settings=(StdArrangementSettings)s;
  List<ArrangementGroupingRule> groupings=settings.getGroupings();
  final boolean isDefaultGroupings=groupings.equals(myDefaultSettings.getGroupings());
  if (!isDefaultGroupings) {
    Element groupingsElement=new Element(GROUPS_ELEMENT_NAME);
    holder.addContent(groupingsElement);
    for (    ArrangementGroupingRule group : groupings) {
      Element groupElement=new Element(GROUP_ELEMENT_NAME);
      groupingsElement.addContent(groupElement);
      groupElement.addContent(new Element(TYPE_ELEMENT_NAME).setText(group.getGroupingType().getId()));
      groupElement.addContent(new Element(ORDER_TYPE_ELEMENT_NAME).setText(group.getOrderType().getId()));
    }
  }
  List<StdArrangementMatchRule> rules=settings.getRules();
  final boolean isDefaultRules=rules.equals(myDefaultSettings.getRules());
  if (!isDefaultRules) {
    Element rulesElement=new Element(RULES_ELEMENT_NAME);
    holder.addContent(rulesElement);
    for (    StdArrangementMatchRule rule : rules) {
      rulesElement.addContent(serialize(rule));
    }
  }
}
