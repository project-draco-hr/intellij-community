{
  if (myExpr.equals(expr.getIndexExpression())) {
    myResult.add(createInfoImpl(PsiType.INT,PsiType.INT));
  }
 else   if (myExpr.equals(expr.getArrayExpression())) {
    if (myForCompletion) {
      myExpr=(PsiExpression)myExpr.getParent();
      expr.getParent().accept(this);
      return;
    }
    PsiElement parent=expr.getParent();
    MyParentVisitor visitor=new MyParentVisitor(expr,myForCompletion,myClassProvider,myVoidable,myUsedAfter);
    myExpr=(PsiExpression)myExpr.getParent();
    parent.accept(visitor);
    ExpectedTypeInfo[] componentTypeInfo=visitor.getResult();
    if (componentTypeInfo.length == 0) {
      myResult.addAll(anyArrayType());
    }
 else {
      for (int i=0; i < componentTypeInfo.length; i++) {
        ExpectedTypeInfo compInfo=componentTypeInfo[i];
        PsiType expectedArrayType=compInfo.getType().createArrayType();
        myResult.add(createInfoImpl(expectedArrayType,expectedArrayType));
      }
    }
  }
}
