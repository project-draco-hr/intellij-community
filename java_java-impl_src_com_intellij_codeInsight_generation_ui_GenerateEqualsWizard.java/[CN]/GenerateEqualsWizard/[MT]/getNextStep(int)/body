{
  if (step + 1 == getNonNullStepCode()) {
    if (templateDependsOnFieldsNullability()) {
      for (      MemberInfo classField : myClassFields) {
        if (classField.isChecked()) {
          PsiField field=(PsiField)classField.getMember();
          if (!(field.getType() instanceof PsiPrimitiveType)) {
            return getNonNullStepCode();
          }
        }
      }
    }
    return step;
  }
  return super.getNextStep(step);
}
