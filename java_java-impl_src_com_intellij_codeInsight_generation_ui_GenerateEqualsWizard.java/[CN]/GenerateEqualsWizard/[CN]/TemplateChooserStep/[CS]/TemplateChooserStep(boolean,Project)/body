{
  final JCheckBox checkbox=new NonFocusableCheckBox(CodeInsightBundle.message("generate.equals.hashcode.accept.sublcasses"));
  checkbox.setSelected(!isFinal && CodeInsightSettings.getInstance().USE_INSTANCEOF_ON_EQUALS_PARAMETER);
  checkbox.setEnabled(!isFinal);
  checkbox.addActionListener(new ActionListener(){
    public void actionPerformed(    @NotNull final ActionEvent M){
      CodeInsightSettings.getInstance().USE_INSTANCEOF_ON_EQUALS_PARAMETER=checkbox.isSelected();
    }
  }
);
  myPanel=new JPanel(new VerticalFlowLayout());
  final JPanel templateChooserPanel=new JPanel(new BorderLayout());
  final JLabel templateChooserLabel=new JLabel("Template:");
  templateChooserPanel.add(templateChooserLabel,BorderLayout.WEST);
  final ComboBox comboBox=new ComboBox();
  final ComponentWithBrowseButton<ComboBox> comboBoxWithBrowseButton=new ComponentWithBrowseButton<ComboBox>(comboBox,new MyEditTemplatesListener(project,myPanel,comboBox));
  final EqualsHashCodeTemplatesManager manager=EqualsHashCodeTemplatesManager.getInstance();
  comboBox.setModel(new DefaultComboBoxModel(manager.getTemplateNames()));
  comboBox.setSelectedItem(manager.getDefaultTemplateBaseName());
  comboBox.addActionListener(new ActionListener(){
    public void actionPerformed(    @NotNull final ActionEvent M){
      manager.setDefaultTemplate((String)comboBox.getSelectedItem());
    }
  }
);
  templateChooserPanel.add(comboBoxWithBrowseButton,BorderLayout.CENTER);
  myPanel.add(templateChooserPanel);
  myPanel.add(checkbox);
  myPanel.add(new JLabel(CodeInsightBundle.message("generate.equals.hashcode.accept.sublcasses.explanation")));
}
