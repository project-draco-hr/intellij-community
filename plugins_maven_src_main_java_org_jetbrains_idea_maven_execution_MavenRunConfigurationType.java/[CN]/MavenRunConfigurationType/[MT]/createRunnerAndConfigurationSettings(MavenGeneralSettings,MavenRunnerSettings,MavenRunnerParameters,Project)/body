{
  MavenRunConfigurationType type=ConfigurationTypeUtil.findConfigurationType(MavenRunConfigurationType.class);
  RunnerAndConfigurationSettings settings=RunManager.getInstance(project).createRunConfiguration(generateName(project,params),type.myFactory);
  MavenRunConfiguration runConfiguration=(MavenRunConfiguration)settings.getConfiguration();
  runConfiguration.setRunnerParameters(params);
  runConfiguration.setGeneralSettings(generalSettings);
  runConfiguration.setRunnerSettings(runnerSettings);
  return settings;
}
