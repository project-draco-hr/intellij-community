{
  if (DOTS.contains(builder.getTokenType()) || ParserUtils.lookAhead(builder,GroovyTokenTypes.mNLS,GroovyTokenTypes.mDOT)) {
    if (ParserUtils.lookAhead(builder,GroovyTokenTypes.mNLS,GroovyTokenTypes.mDOT)) {
      ParserUtils.getToken(builder,GroovyTokenTypes.mNLS);
    }
    ParserUtils.getToken(builder,DOTS);
    ParserUtils.getToken(builder,GroovyTokenTypes.mNLS);
    TypeArguments.parseTypeArguments(builder,true);
    GroovyElementType res=namePartParse(builder,parser);
    if (res != GroovyElementTypes.WRONGWAY) {
      PsiBuilder.Marker newMarker=marker.precede();
      marker.done(res);
      return parseAfterReference(builder,parser,newMarker);
    }
 else {
      builder.error(GroovyBundle.message("path.selector.expected"));
      marker.drop();
      return result;
    }
  }
 else   if (checkForLParenth(builder)) {
    PrimaryExpression.methodCallArgsParse(builder,parser);
    return parseAfterArguments(builder,marker,parser);
  }
 else   if (checkForLCurly(builder)) {
    ParserUtils.getToken(builder,GroovyTokenTypes.mNLS);
    appendedBlockParse(builder,parser);
    return parseAfterArguments(builder,marker,parser);
  }
 else   if (checkForArrayAccess(builder)) {
    indexPropertyArgsParse(builder,parser);
    PsiBuilder.Marker newMarker=marker.precede();
    marker.done(GroovyElementTypes.PATH_INDEX_PROPERTY);
    return parseAfterReference(builder,parser,newMarker);
  }
 else {
    marker.drop();
    return result;
  }
}
