{
  final boolean result=((ApplicationEx)ApplicationManager.getApplication()).runProcessWithProgressSynchronously(new TaskContainer(task){
    @Override public void run(){
      new TaskRunnable(task,ProgressManager.getInstance().getProgressIndicator()).run();
    }
  }
,task.getTitle(),task.isCancellable(),task.getProject(),parentComponent,task.getCancelText());
  if (result) {
    task.onSuccess();
  }
 else {
    task.onCancel();
  }
  return result;
}
