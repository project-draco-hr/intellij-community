{
  Project project=e.getData(CommonDataKeys.PROJECT);
  VirtualFile virtualFile=e.getData(CommonDataKeys.VIRTUAL_FILE);
  if (project == null || virtualFile == null) {
    return null;
  }
  Document document=FileDocumentManager.getInstance().getDocument(virtualFile);
  if (document == null) {
    return null;
  }
  GitRepository repository=GitUtil.getRepositoryManager(project).getRepositoryForFile(virtualFile);
  if (repository == null) {
    return null;
  }
  return new EventData(project,repository,lineNumber);
}
