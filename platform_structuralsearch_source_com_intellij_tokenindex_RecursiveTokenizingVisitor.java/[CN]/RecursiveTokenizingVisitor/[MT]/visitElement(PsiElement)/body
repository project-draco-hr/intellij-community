{
  Language language=element.getLanguage();
  if (language != myLastLanguage) {
    myLastLanguage=language;
    myLastProfile=StructuralSearchUtil.getProfileByPsiElement(element);
  }
  if (myLastProfile != null) {
    language=myLastProfile.getLanguage(element);
  }
  if (myAcceptableLanguages == null || myAcceptableLanguages.contains(language)) {
    Tokenizer tokenizer=StructuralSearchUtil.getTokenizerForLanguage(language);
    if (tokenizer != null) {
      myLanguages.add(language.getID());
      if (!tokenizer.visit(element,this)) {
        return;
      }
    }
  }
  super.visitElement(element);
}
