{
  if (!affectedElement.isValid()) {
    return;
  }
  if (options.isToUseStaticImport()) {
    shortenWithStaticImports(affectedElement,0,affectedElement.getTextLength());
  }
  if (options.isToShortenFQN()) {
    final JavaCodeStyleManager codeStyleManager=JavaCodeStyleManager.getInstance(affectedElement.getProject());
    codeStyleManager.shortenClassReferences(affectedElement,0,affectedElement.getTextLength());
  }
}
