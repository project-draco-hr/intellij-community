{
  final PsiElement element=descriptor.getPsiElement().getParent();
  if (!(element instanceof PsiPrefixExpression)) {
    return;
  }
  final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)element;
  final PsiExpression operand=ParenthesesUtils.stripParentheses(prefixExpression.getOperand());
  if (!(operand instanceof PsiConditionalExpression)) {
    return;
  }
  final PsiConditionalExpression conditionalExpression=(PsiConditionalExpression)operand;
  final StringBuilder newExpression=new StringBuilder();
  final PsiExpression condition=conditionalExpression.getCondition();
  newExpression.append(condition.getText()).append('?');
  final PsiExpression thenExpression=conditionalExpression.getThenExpression();
  if (thenExpression != null) {
    newExpression.append(BoolUtils.getNegatedExpressionText(thenExpression));
  }
  newExpression.append(':');
  final PsiExpression elseExpression=conditionalExpression.getElseExpression();
  if (elseExpression != null) {
    newExpression.append(BoolUtils.getNegatedExpressionText(elseExpression));
  }
  PsiReplacementUtil.replaceExpression(prefixExpression,newExpression.toString());
}
