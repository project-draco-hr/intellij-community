{
  String result;
  if (type == null)   result="";
 else   if (!isDumb || type instanceof PsiPrimitiveType)   result=type.getCanonicalText(false);
 else   if (type instanceof PsiClassReferenceType)   result=((PsiClassReferenceType)type).getReference().getReferenceName();
 else   result="";
  return getShortClassName(notNullize(result));
}
