{
  chooseParent(myParents,new Consumer<DomElement>(){
    @Override public void consume(    final DomElement parent){
      new WriteCommandAction.Simple(parent.getManager().getProject(),DomUtil.getFile(parent)){
        @Override protected void run() throws Throwable {
          doFix(parent,myChildDescription,myNewName);
        }
      }
.execute();
    }
  }
);
}
