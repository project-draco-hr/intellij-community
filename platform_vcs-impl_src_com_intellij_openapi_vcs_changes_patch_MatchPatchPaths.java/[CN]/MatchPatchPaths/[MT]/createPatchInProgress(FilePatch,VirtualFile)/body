{
  if (patch instanceof TextFilePatch)   return new TextFilePatchInProgress((TextFilePatch)patch,null,dir);
  if (patch instanceof ShelvedBinaryFilePatch)   return new ShelvedBinaryFilePatchInProgress((ShelvedBinaryFilePatch)patch,null,dir);
  if (patch instanceof BinaryFilePatch)   return new BinaryFilePatchInProgress((BinaryFilePatch)patch,null,dir);
  return null;
}
