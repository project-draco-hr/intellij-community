{
  GitUpdateProcess.UpdateMethod um=updateMethod == UpdateMethod.MERGE ? GitUpdateProcess.UpdateMethod.MERGE : GitUpdateProcess.UpdateMethod.REBASE;
  GitUpdateResult updateResult=new GitUpdateProcess(myProject,myPlatformFacade,myProgressIndicator,new HashSet<GitRepository>(rootsToUpdate),UpdatedFiles.create(),checkForRebaseOverMergeProblem).update(um);
  for (  GitRepository repository : rootsToUpdate) {
    repository.getRoot().refresh(true,true);
    repository.update();
  }
  return updateResult;
}
