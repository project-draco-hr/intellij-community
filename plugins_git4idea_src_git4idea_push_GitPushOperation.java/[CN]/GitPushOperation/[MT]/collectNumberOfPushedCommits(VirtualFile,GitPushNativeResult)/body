{
  if (result.getType() != GitPushNativeResult.Type.SUCCESS) {
    return -1;
  }
  String range=result.getRange();
  if (range == null) {
    LOG.error("Range of pushed commits not reported in " + result);
    return -1;
  }
  try {
    return GitHistoryUtils.history(myProject,root,range).size();
  }
 catch (  VcsException e) {
    LOG.error("Couldn't collect commits from range " + range);
    return -1;
  }
}
