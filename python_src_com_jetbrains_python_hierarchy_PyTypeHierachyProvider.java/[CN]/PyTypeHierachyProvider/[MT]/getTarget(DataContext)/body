{
  PsiElement element=LangDataKeys.PSI_ELEMENT.getData(dataContext);
  if (element == null) {
    final Editor editor=PlatformDataKeys.EDITOR.getData(dataContext);
    final PsiFile file=LangDataKeys.PSI_FILE.getData(dataContext);
    if (editor != null && file != null) {
      element=file.findElementAt(editor.getCaretModel().getOffset());
    }
  }
  if (!(element instanceof PyClass)) {
    element=PsiTreeUtil.getParentOfType(element,PyClass.class);
  }
  return element;
}
