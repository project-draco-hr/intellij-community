{
  PyExpression callee=getCallee();
  if (callee instanceof PyReferenceExpression) {
    ResolveResult[] targets=((PyReferenceExpression)callee).multiResolve(false);
    if (targets.length > 0) {
      PsiElement target=targets[0].getElement();
      if (target instanceof PyClass) {
        return new PyClassType((PyClass)target,false);
      }
 else       if (target instanceof PyFunction && PyNames.INIT.equals(((PyFunction)target).getName())) {
        return new PyClassType(((PyFunction)target).getContainingClass(),false);
      }
      return PyReferenceExpressionImpl.getReferenceTypeFromProviders(target);
    }
  }
  if (callee == null)   return null;
 else   return callee.getType();
}
