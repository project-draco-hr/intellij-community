{
  @NonNls final String path=getTestName(true);
  configureByFile(path + "/before.py");
  int i=1;
  while (true) {
    @NonNls String resultPath=path + "/after" + i+ ".py";
    if (new File(getTestDataPath() + resultPath).exists()) {
      performAction();
      checkResultByFile("Step " + i,resultPath,false);
      i++;
    }
 else {
      break;
    }
  }
  assertTrue(i > 1);
}
