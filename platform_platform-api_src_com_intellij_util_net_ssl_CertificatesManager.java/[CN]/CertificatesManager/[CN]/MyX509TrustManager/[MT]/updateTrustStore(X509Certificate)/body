{
  Application app=ApplicationManager.getApplication();
  if (app.isUnitTestMode() || app.isHeadlessEnvironment()) {
    myCustomManager.addCertificate(certificate);
    return true;
  }
  boolean accepted=showAcceptDialog(new Callable<DialogWrapper>(){
    @Override public DialogWrapper call() throws Exception {
      return CertificateWarningDialog.createSelfSignedCertificateWarning(certificate);
    }
  }
);
  if (accepted) {
    LOG.debug("Certificate was accepted");
    myCustomManager.addCertificate(certificate);
  }
  return accepted;
}
