{
  if (project != null) {
    Sdk sdk=ProjectRootManager.getInstance(project).getProjectSdk();
    if (sdk != null && myModuleBuilder.isSuitableSdkType(sdk.getSdkType())) {
      myJdkComboBox.insertItemAt(new JdkComboBox.ProjectJdkComboBoxItem(),0);
      return null;
    }
  }
  if (lastUsedSdk != null) {
    Sdk sdk=ProjectJdkTable.getInstance().findJdk(lastUsedSdk);
    if (sdk != null && myModuleBuilder.isSuitableSdkType(sdk.getSdkType())) {
      return sdk;
    }
  }
  Project defaultProject=ProjectManager.getInstance().getDefaultProject();
  Sdk selected=ProjectRootManager.getInstance(defaultProject).getProjectSdk();
  if (selected != null && sdkFilter.value(selected.getSdkType())) {
    return selected;
  }
  return null;
}
