{
  myModuleBuilder=moduleBuilder;
  myWizardContext=context;
  myModel=new ProjectSdksModel();
  Project project=myWizardContext.getProject();
  myModel.reset(project);
  myJdkComboBox=new JdkComboBox(myModel,sdkFilter,sdkFilter,true);
  myJdkPanel=new JPanel(new GridBagLayout());
  final PropertiesComponent component=project == null ? PropertiesComponent.getInstance() : PropertiesComponent.getInstance(project);
  ModuleType moduleType=moduleBuilder.getModuleType();
  final String selectedJdkProperty="jdk.selected." + (moduleType == null ? "" : moduleType.getId());
  myJdkComboBox.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      Sdk jdk=myJdkComboBox.getSelectedJdk();
      if (jdk != null) {
        component.setValue(selectedJdkProperty,jdk.getName());
      }
      onSdkSelected(jdk);
    }
  }
);
  Sdk sdk=getPreselectedSdk(project,component.getValue(selectedJdkProperty),sdkFilter);
  myJdkComboBox.setSelectedJdk(sdk);
  JButton button=new JButton("Ne\u001Bw...");
  myJdkComboBox.setSetupButton(button,project,myModel,project == null ? new JdkComboBox.NoneJdkComboBoxItem() : new JdkComboBox.ProjectJdkComboBoxItem(),null,false);
  myJdkPanel.add(myJdkComboBox,new GridBagConstraints(0,0,1,1,1.0,1.0,CENTER,HORIZONTAL,JBUI.emptyInsets(),0,0));
  myJdkPanel.add(myJdkComboBox.getSetUpButton(),new GridBagConstraints(1,0,1,1,0,0,WEST,NONE,JBUI.insetsLeft(4),0,0));
}
