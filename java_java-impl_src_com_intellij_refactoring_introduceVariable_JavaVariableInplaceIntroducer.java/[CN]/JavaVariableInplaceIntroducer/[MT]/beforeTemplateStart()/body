{
  if (!mySkipTypeExpressionOnStart) {
    final PsiVariable variable=getVariable();
    final PsiTypeElement typeElement=variable != null ? variable.getTypeElement() : null;
    if (typeElement != null) {
      myEditor.getCaretModel().moveToOffset(typeElement.getTextOffset());
    }
  }
  super.beforeTemplateStart();
  final ResolveSnapshotProvider resolveSnapshotProvider=VariableInplaceRenamer.INSTANCE.forLanguage(myScope.getLanguage());
  myConflictResolver=resolveSnapshotProvider != null ? resolveSnapshotProvider.createSnapshot(myScope) : null;
}
