{
  final PsiExpression initializer=psiVariable.getInitializer();
  LOG.assertTrue(initializer != null);
  final PsiType type=psiVariable.getType();
  final PsiType initializerType=initializer.getType();
  if (initializerType != null && !TypeConversionUtil.isAssignable(type,initializerType) && !PsiTypesUtil.hasUnresolvedComponents(type)) {
    final PsiElementFactory elementFactory=JavaPsiFacade.getElementFactory(project);
    final PsiExpression castExpr=elementFactory.createExpressionFromText("(" + type.getCanonicalText() + ")"+ initializer.getText(),psiVariable);
    JavaCodeStyleManager.getInstance(project).shortenClassReferences(initializer.replace(castExpr));
  }
}
