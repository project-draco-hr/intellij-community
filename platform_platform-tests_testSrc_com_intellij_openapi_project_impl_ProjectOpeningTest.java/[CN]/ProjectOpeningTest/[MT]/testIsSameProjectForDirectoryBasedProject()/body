{
  File projectDir=createTempDir("project");
  Project dirBasedProject=ProjectManager.getInstance().createProject("project",projectDir.getAbsolutePath());
  disposeOnTearDown(dirBasedProject);
  assertTrue(ProjectUtil.isSameProject(projectDir.getAbsolutePath(),dirBasedProject));
  assertFalse(ProjectUtil.isSameProject(createTempDir("project2").getAbsolutePath(),dirBasedProject));
  File iprFilePath=new File(projectDir,"project.ipr");
  assertTrue(ProjectUtil.isSameProject(iprFilePath.getAbsolutePath(),dirBasedProject));
  File miscXmlFilePath=new File(projectDir,".idea/misc.xml");
  assertTrue(ProjectUtil.isSameProject(miscXmlFilePath.getAbsolutePath(),dirBasedProject));
}
