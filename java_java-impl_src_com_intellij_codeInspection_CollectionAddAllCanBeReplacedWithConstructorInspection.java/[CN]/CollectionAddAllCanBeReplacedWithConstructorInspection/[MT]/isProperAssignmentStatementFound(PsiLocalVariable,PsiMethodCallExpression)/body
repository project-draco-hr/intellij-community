{
  PsiStatement currentStatement=PsiTreeUtil.getParentOfType(addAllExpression,PsiStatement.class);
  final PsiStatement localVariableDefinitionStatement=PsiTreeUtil.getParentOfType(localVariable,PsiStatement.class);
  while (currentStatement != null) {
    currentStatement=PsiTreeUtil.getPrevSiblingOfType(currentStatement,PsiStatement.class);
    if (currentStatement == localVariableDefinitionStatement) {
      return Pair.create(true,null);
    }
    for (    PsiAssignmentExpression expression : PsiTreeUtil.findChildrenOfType(currentStatement,PsiAssignmentExpression.class)) {
      final PsiExpression lExpression=expression.getLExpression();
      if (lExpression instanceof PsiReferenceExpression && ((PsiReferenceExpression)lExpression).isReferenceTo(localVariable)) {
        final PsiExpression rExpression=expression.getRExpression();
        final boolean isValid=checkLocalVariableAssignmentOrInitializer(rExpression);
        return Pair.create(isValid,isValid ? (PsiNewExpression)rExpression : null);
      }
    }
  }
  return Pair.create(true,null);
}
