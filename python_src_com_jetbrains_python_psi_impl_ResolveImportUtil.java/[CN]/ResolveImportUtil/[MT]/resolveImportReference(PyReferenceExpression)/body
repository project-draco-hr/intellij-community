{
  final String referencedName=importRef.getReferencedName();
  if (referencedName == null)   return null;
  PsiElement importFrom=null;
  if (importRef.getParent() instanceof PyImportElement) {
    PyImportElement parent=(PyImportElement)importRef.getParent();
    if (parent.getParent() instanceof PyFromImportStatement) {
      PyFromImportStatement stmt=(PyFromImportStatement)parent.getParent();
      final PyReferenceExpression source=stmt.getImportSource();
      if (source == null)       return null;
      importFrom=resolveImportReference(source);
    }
  }
  PsiElement result=resolvePythonImport(importRef,importFrom,referencedName);
  if (result != null) {
    return result;
  }
  return resolveForeignImport(importRef,importFrom);
}
