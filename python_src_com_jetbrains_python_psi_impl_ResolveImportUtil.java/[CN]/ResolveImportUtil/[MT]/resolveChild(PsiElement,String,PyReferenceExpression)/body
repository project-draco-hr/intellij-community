{
  if (parent instanceof PyFile) {
    return PyResolveUtil.treeWalkUp(new PyResolveUtil.ResolveProcessor(referencedName),parent,null,importRef);
  }
 else   if (parent instanceof PsiDirectory) {
    final PsiDirectory dir=(PsiDirectory)parent;
    final PsiFile file=dir.findFile(referencedName + ".py");
    if (file != null)     return file;
    final PsiDirectory subdir=dir.findSubdirectory(referencedName);
    if (subdir != null)     return subdir;
    final PsiFile initPy=dir.findFile("__init__.py");
    if (initPy != null) {
      return PyResolveUtil.treeWalkUp(new PyResolveUtil.ResolveProcessor(referencedName),initPy,null,importRef);
    }
  }
  return null;
}
