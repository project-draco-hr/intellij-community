{
  Instruction instruction=instructionState.getInstruction();
  if (instruction instanceof PushInstruction) {
    final DfaValue var=((PushInstruction)instruction).getValue();
    if (var instanceof DfaVariableValue) {
      final PsiModifierListOwner psiVar=((DfaVariableValue)var).getPsiVariable();
      if (psiVar instanceof PsiParameter) {
        myUsedParameters.add((PsiParameter)psiVar);
      }
    }
  }
  if (instruction instanceof AssignInstruction) {
    final DfaValue value=((AssignInstruction)instruction).getAssignedValue();
    if (value instanceof DfaVariableValue) {
      final PsiModifierListOwner psiVariable=((DfaVariableValue)value).getPsiVariable();
      if (psiVariable instanceof PsiParameter) {
        myPossiblyViolatedParameters.remove(psiVariable);
      }
    }
  }
  if (instruction instanceof ReturnInstruction && !((ReturnInstruction)instruction).isViaException()) {
    DfaMemoryState memState=instructionState.getMemoryState();
    for (    PsiParameter parameter : myPossiblyViolatedParameters.toArray(new PsiParameter[myPossiblyViolatedParameters.size()])) {
      final DfaVariableValue dfaVar=getFactory().getVarFactory().createVariableValue(parameter,false);
      if (!memState.isNotNull(dfaVar)) {
        myPossiblyViolatedParameters.remove(parameter);
      }
    }
  }
  return super.acceptInstruction(visitor,instructionState);
}
