{
  FontMetrics metrics=g2.getFontMetrics();
  int x=padding + REF_PADDING / 2 - RECTANGLE_X_PADDING;
  int y=RECTANGLE_Y_PADDING;
  int width=metrics.stringWidth(ref.getName()) + 2 * RECTANGLE_X_PADDING + flagWidth();
  int height=HEIGHT_CELL - 2 * RECTANGLE_Y_PADDING;
  RoundRectangle2D rectangle2D=new RoundRectangle2D.Double(x,y,width,height,ROUND_RADIUS,ROUND_RADIUS);
  g2.setColor(ref.getType().getBackgroundColor());
  g2.fill(rectangle2D);
  g2.setColor(myColorManager.getReferenceBorderColor());
  g2.draw(rectangle2D);
  if (myColorManager.isMultipleRoots() && myDrawMultiRepoIndicator) {
    drawRootIndicator(g2,ref,padding,y,height);
  }
  g2.setColor(Color.black);
  drawText(g2,ref.getName(),padding + flagWidth());
  return x;
}
