{
  float currentPadding=startPadding;
  setupGraphics(g2);
  FontRenderContext renderContext=g2.getFontRenderContext();
  Map<Integer,VcsRef> positions=new HashMap<Integer,VcsRef>();
  for (  VcsRef ref : refs) {
    int x=drawLabel(g2,ref.getName(),(int)currentPadding,ref.getType().getBackgroundColor(),myColorManager.getRootColor(ref.getRoot())).x;
    positions.put(x,ref);
    currentPadding+=paddingStr(ref.getName(),renderContext);
    if (maxWidth > 0 && x >= maxWidth) {
      break;
    }
  }
  return positions;
}
