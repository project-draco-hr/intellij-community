{
  try {
    super.channelInactive(context);
  }
  finally {
    new Thread("Shutdown thread"){
      @Override public void run(){
        try {
          ourEventLoopGroup.shutdownGracefully(0,15,TimeUnit.SECONDS);
        }
  finally {
          System.exit(0);
        }
      }
    }
.start();
  }
}
