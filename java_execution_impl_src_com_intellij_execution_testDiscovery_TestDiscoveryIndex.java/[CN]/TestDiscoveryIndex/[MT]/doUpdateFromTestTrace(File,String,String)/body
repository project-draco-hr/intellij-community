{
synchronized (ourLock) {
    Holder holder=getHolder();
    if (holder.myDisposed)     return;
    try {
      final int testNameId=holder.myTestNameEnumerator.enumerate(testName);
      TIntObjectHashMap<TIntArrayList> classData=loadClassAndMethodsMap(file,holder);
      TIntObjectHashMap<TIntArrayList> previousClassData=holder.myTestNameToUsedClassesAndMethodMap.get(testNameId);
      doUpdateFromDiff(holder,testNameId,classData,previousClassData,moduleName != null ? holder.myModuleNameEnumerator.enumerate(moduleName) : null);
    }
 catch (    Throwable throwable) {
      thingsWentWrongLetsReinitialize(holder,throwable);
    }
  }
}
