{
  String outputDir=args[0];
  String schemaUrl=args[1];
  byte[] bytes;
  if (schemaUrl.startsWith("http")) {
    bytes=loadBytes(new URL(schemaUrl).openStream());
  }
 else {
    bytes=Files.readAllBytes(FileSystems.getDefault().getPath(schemaUrl));
  }
  JsonReaderEx reader=new JsonReaderEx(new String(bytes,StandardCharsets.UTF_8));
  reader.setLenient(true);
  new Generator(outputDir,args[2],args[3]).go(new ProtocolSchemaReaderImpl().parseRoot(reader));
}
