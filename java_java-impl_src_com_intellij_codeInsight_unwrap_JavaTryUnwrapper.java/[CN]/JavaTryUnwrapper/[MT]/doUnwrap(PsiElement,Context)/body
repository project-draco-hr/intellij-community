{
  final PsiTryStatement trySt=(PsiTryStatement)element;
  PsiResourceList resourceList=trySt.getResourceList();
  if (resourceList != null) {
    for (    PsiResourceListElement listElement : resourceList) {
      if (listElement instanceof PsiResourceVariable) {
        context.extractElement(listElement,trySt);
        if (context.myIsEffective) {
          PsiStatement emptyStatement=JavaPsiFacade.getElementFactory(resourceList.getProject()).createStatementFromText(";",trySt);
          trySt.getParent().addBefore(emptyStatement,trySt);
        }
      }
    }
  }
  context.extractFromCodeBlock(trySt.getTryBlock(),trySt);
  context.extractFromCodeBlock(trySt.getFinallyBlock(),trySt);
  context.delete(trySt);
}
