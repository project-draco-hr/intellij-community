{
  DefaultActionGroup actionGroup=new DefaultActionGroup();
  for (  String single : groups.singletonGroups) {
    actionGroup.add(createPredefinedValueAction(Collections.singleton(single)));
  }
  actionGroup.add(createRecentItemsActionGroup());
  for (  Map.Entry<String,TreeSet<String>> group : groups.expandedGroups.entrySet()) {
    actionGroup.addSeparator(group.getKey());
    for (    String action : group.getValue()) {
      actionGroup.add(createPredefinedValueAction(Collections.singleton(action)));
    }
  }
  actionGroup.addSeparator();
  for (  Map.Entry<String,TreeSet<String>> group : groups.collapsedGroups.entrySet()) {
    DefaultActionGroup popupGroup=new DefaultActionGroup(group.getKey(),true);
    for (    String action : group.getValue()) {
      popupGroup.add(createPredefinedValueAction(Collections.singleton(action)));
    }
    actionGroup.add(popupGroup);
  }
  return actionGroup;
}
