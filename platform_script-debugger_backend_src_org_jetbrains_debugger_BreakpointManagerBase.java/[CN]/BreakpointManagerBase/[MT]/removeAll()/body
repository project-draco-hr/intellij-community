{
  BreakpointBase[] list=breakpoints.toArray(new BreakpointBase[breakpoints.size()]);
  breakpoints.clear();
  breakpointDuplicationByTarget.clear();
  List<Promise<?>> promises=new SmartList<Promise<?>>();
  for (  BreakpointBase b : list) {
    if (b.isVmRegistered()) {
      promises.add(doClearBreakpoint((T)b));
    }
  }
  return Promise.all(promises);
}
