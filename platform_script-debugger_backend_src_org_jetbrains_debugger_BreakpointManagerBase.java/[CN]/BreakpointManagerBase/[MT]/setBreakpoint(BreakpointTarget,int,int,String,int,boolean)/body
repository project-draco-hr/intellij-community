{
  final T breakpoint=createBreakpoint(target,line,column,condition,ignoreCount,enabled);
  T existingBreakpoint=breakpointDuplicationByTarget.putIfAbsent(breakpoint,breakpoint);
  if (existingBreakpoint != null) {
    return existingBreakpoint;
  }
  breakpoints.add(breakpoint);
  if (enabled) {
    doSetBreakpoint(target,breakpoint).rejected(new Consumer<Throwable>(){
      @Override public void consume(      @NotNull Throwable error){
        String message=error.getMessage();
        dispatcher.getMulticaster().errorOccurred(breakpoint,message == null ? error.toString() : message);
      }
    }
);
  }
  return breakpoint;
}
