{
  final ResolveResultList ret=new ResolveResultList();
  for (  Instruction instruction : instructions) {
    PsiElement definition=instruction.getElement();
    PyImportedNameDefiner definer=null;
    if (isInnerComprehension(element,definition))     continue;
    if (definition instanceof PyImportedNameDefiner && !(definition instanceof PsiNamedElement)) {
      definer=(PyImportedNameDefiner)definition;
      definition=definer.getElementNamed(name);
    }
    if (definer != null) {
      ret.add(new ImportedResolveResult(definition,getRate(definition,context),definer));
      if (definition != null) {
        ret.poke(definer,RatedResolveResult.RATE_LOW);
      }
    }
 else {
      ret.poke(definition,getRate(definition,context));
    }
  }
  final ResolveResultList results=new ResolveResultList();
  for (  RatedResolveResult r : ret) {
    final PsiElement e=r.getElement();
    if (e == element) {
      continue;
    }
    if (element instanceof PyTargetExpression && e != null && PyPsiUtils.isBefore(element,e)) {
      continue;
    }
 else {
      results.add(r);
    }
  }
  return results;
}
