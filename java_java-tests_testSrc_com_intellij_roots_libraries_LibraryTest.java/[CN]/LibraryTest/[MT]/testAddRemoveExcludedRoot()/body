{
  VirtualFile jar=getJDomJar();
  LibraryEx library=(LibraryEx)createLibrary("junit",jar,null);
  assertEmpty(library.getExcludedRoots());
  LibraryEx.ModifiableModelEx model=library.getModifiableModel();
  model.addExcludedRoot(jar.getUrl());
  commit(model);
  assertOrderedEquals(library.getExcludedRoots(),jar);
  LibraryEx.ModifiableModelEx model2=library.getModifiableModel();
  model2.removeExcludedRoot(jar.getUrl());
  commit(model2);
  assertEmpty(library.getExcludedRoots());
}
