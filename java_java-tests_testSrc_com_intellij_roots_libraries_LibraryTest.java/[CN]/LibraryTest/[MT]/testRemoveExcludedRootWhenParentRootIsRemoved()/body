{
  VirtualFile jar=getJDomJar();
  LibraryEx library=(LibraryEx)createLibrary("junit",jar,null);
  LibraryEx.ModifiableModelEx model=library.getModifiableModel();
  VirtualFile excluded=jar.findChild("org");
  assertNotNull(excluded);
  model.addExcludedRoot(excluded.getUrl());
  commit(model);
  assertOrderedEquals(library.getExcludedRoots(),excluded);
  LibraryEx.ModifiableModelEx model2=library.getModifiableModel();
  model2.removeRoot(jar.getUrl(),OrderRootType.CLASSES);
  commit(model2);
  assertEmpty(library.getExcludedRoots());
}
