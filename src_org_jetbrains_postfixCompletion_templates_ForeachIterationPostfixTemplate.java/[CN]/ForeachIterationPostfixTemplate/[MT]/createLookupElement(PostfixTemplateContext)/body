{
  PrefixExpressionContext expression=context.outerExpression();
  if (!context.executionContext.isForceMode) {
    PsiType expressionType=expression.expressionType;
    if (expressionType == null)     return null;
    if (!(expressionType instanceof PsiArrayType) && !InheritanceUtil.isInheritor(expressionType,CommonClassNames.JAVA_LANG_ITERABLE)) {
      return null;
    }
  }
  return new ForeachLookupElement(expression);
}
