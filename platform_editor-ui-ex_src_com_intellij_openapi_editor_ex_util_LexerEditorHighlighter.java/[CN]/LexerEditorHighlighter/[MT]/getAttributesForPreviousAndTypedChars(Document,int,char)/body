{
  final CharSequence text=document.getImmutableCharSequence();
  final CharSequence newText=new MergingCharSequence(new MergingCharSequence(text.subSequence(0,offset),new SingleCharSequence(c)),text.subSequence(offset,text.length()));
  final List<IElementType> tokenTypes=getTokenType(newText,offset);
  return Arrays.asList(getAttributes(tokenTypes.get(0)).clone(),getAttributes(tokenTypes.get(1)).clone());
}
