{
  final IdeaProject ideaProject=controller.getModel(myIsPreviewMode ? BasicIdeaProject.class : IdeaProject.class);
  if (ideaProject == null || ideaProject.getModules().isEmpty()) {
    return null;
  }
  AllModels allModels=new AllModels(ideaProject);
  for (  IdeaModule module : ideaProject.getModules()) {
    for (    Class aClass : myExtraProjectModelClasses) {
      Object extraProject=controller.findModel(module,aClass);
      if (extraProject == null)       continue;
      allModels.addExtraProject(extraProject,aClass,module);
    }
  }
  return allModels;
}
