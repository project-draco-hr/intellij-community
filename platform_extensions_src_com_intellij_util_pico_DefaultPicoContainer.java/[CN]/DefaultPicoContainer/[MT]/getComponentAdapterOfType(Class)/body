{
  ComponentAdapter adapterByKey=getComponentAdapter(componentType);
  if (adapterByKey != null) {
    return adapterByKey;
  }
  List<ComponentAdapter> found=getComponentAdaptersOfType(componentType);
  if (found.size() == 1) {
    return found.get(0);
  }
  if (found.isEmpty()) {
    return parent == null ? null : parent.getComponentAdapterOfType(componentType);
  }
  Class[] foundClasses=new Class[found.size()];
  for (int i=0; i < foundClasses.length; i++) {
    foundClasses[i]=found.get(i).getComponentImplementation();
  }
  throw new AmbiguousComponentResolutionException(componentType,foundClasses);
}
