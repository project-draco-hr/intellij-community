{
  if (myControlFlowWrapper.getOutputVariables(false).length == 0) {
    PsiElement lastStatement=PsiTreeUtil.getNextSiblingOfType(myEnclosingBlockStatement != null ? myEnclosingBlockStatement : myElements[myElements.length - 1],PsiStatement.class);
    if (lastStatement != null) {
      name=JavaCodeStyleManager.getInstance(myProject).suggestUniqueVariableName(name,lastStatement,true);
    }
  }
  PsiDeclarationStatement statement=myElementFactory.createVariableDeclarationStatement(name,type,myMethodCall);
  statement=(PsiDeclarationStatement)addToMethodCallLocation(statement);
  PsiVariable var=(PsiVariable)statement.getDeclaredElements()[0];
  myMethodCall=(PsiMethodCallExpression)var.getInitializer();
  if (myOutputVariable != null) {
    var.getModifierList().replace(myOutputVariable.getModifierList());
  }
  return name;
}
