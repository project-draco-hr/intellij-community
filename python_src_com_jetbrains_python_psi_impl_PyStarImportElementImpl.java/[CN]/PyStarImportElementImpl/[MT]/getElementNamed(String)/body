{
  if (PyUtil.isClassPrivateName(name)) {
    return null;
  }
  if (getParent() instanceof PyFromImportStatement) {
    PyFromImportStatement fromImportStatement=(PyFromImportStatement)getParent();
    final List<PsiElement> importedFiles=fromImportStatement.resolveImportSourceCandidates();
    for (    PsiElement importedFile : new HashSet<PsiElement>(importedFiles)) {
      final PsiElement source=PyUtil.turnDirIntoInit(importedFile);
      if (source instanceof PyFile) {
        PyFile sourceFile=(PyFile)source;
        final PyModuleType moduleType=new PyModuleType(sourceFile);
        final List<? extends RatedResolveResult> results=moduleType.resolveMember(name,null,AccessDirection.READ,PyResolveContext.defaultContext());
        final PsiElement result=results != null && !results.isEmpty() ? results.get(0).getElement() : null;
        if (result != null) {
          final List<String> all=sourceFile.getDunderAll();
          if (all != null && !all.contains(name)) {
            continue;
          }
          return result;
        }
      }
    }
  }
  return null;
}
