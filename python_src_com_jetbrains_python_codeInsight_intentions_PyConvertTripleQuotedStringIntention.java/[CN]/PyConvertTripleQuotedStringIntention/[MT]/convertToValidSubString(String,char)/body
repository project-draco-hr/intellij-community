{
  final String subString;
  if (s.startsWith("'''") || s.startsWith("\"\"\"")) {
    subString=convertToValidSubString(s.substring(3),firstQuote);
  }
 else   if (s.endsWith("'''") || s.endsWith("\"\"\"")) {
    final String trimmed=s.trim();
    subString=convertToValidSubString(trimmed.substring(0,trimmed.length() - 3),firstQuote);
  }
 else {
    StringBuilder stringBuilder=new StringBuilder();
    stringBuilder=StringUtil.escapeStringCharacters(s.length(),s,String.valueOf(firstQuote),true,stringBuilder);
    subString=stringBuilder.toString();
  }
  return subString;
}
