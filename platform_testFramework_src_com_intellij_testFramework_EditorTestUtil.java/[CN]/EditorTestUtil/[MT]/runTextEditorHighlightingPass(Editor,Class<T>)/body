{
  Project project=editor.getProject();
  assertNotNull(project);
  PsiDocumentManager psiDocumentManager=PsiDocumentManager.getInstance(project);
  PsiFile psiFile=psiDocumentManager.getPsiFile(editor.getDocument());
  assertNotNull(psiFile);
  T factory=project.getComponent(passFactory);
  TextEditorHighlightingPass pass=factory.createHighlightingPass(psiFile,editor);
  assertNotNull(pass);
  pass.collectInformation(new MockProgressIndicator());
  pass.applyInformationToEditor();
}
