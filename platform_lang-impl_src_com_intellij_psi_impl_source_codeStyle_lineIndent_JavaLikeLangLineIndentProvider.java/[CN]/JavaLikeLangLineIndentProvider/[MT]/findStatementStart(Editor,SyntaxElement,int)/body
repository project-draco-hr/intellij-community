{
  SemanticEditorPosition position=getPosition(editor,offset);
  position.beforeOptional(Whitespace);
  if (afterElement != null) {
    position.beforeOptional(afterElement).beforeOptional(Whitespace);
  }
  if (position.isAt(RightParenthesis)) {
    position.beforeParentheses(LeftParenthesis,RightParenthesis);
  }
  while (!position.isAtEnd()) {
    if (position.isAt(Whitespace) && position.isAtMultiline()) {
      return position.after().getStartOffset();
    }
    position.before();
  }
  return -1;
}
