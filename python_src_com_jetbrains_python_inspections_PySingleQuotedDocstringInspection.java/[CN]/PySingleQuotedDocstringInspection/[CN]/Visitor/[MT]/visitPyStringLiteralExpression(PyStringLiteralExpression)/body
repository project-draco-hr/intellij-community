{
  String stringText=string.getText();
  final PyDocStringOwner docStringOwner=PsiTreeUtil.getParentOfType(string,PyDocStringOwner.class);
  if (docStringOwner != null) {
    if (docStringOwner.getDocStringExpression() == string) {
      if (!stringText.startsWith("\"\"\"") && !stringText.endsWith("\"\"\"")) {
        ProblemsHolder holder=getHolder();
        if (holder != null) {
          int quoteCount=1;
          if (stringText.startsWith("'''") && stringText.endsWith("'''")) {
            quoteCount=3;
          }
          TextRange trStart=new TextRange(0,quoteCount);
          TextRange trEnd=new TextRange(stringText.length() - quoteCount,stringText.length());
          holder.registerProblem(string,trStart,PyBundle.message("INSP.message.single.quoted.docstring"),new ConvertDocstringQuickFix());
          holder.registerProblem(string,trEnd,PyBundle.message("INSP.message.single.quoted.docstring"),new ConvertDocstringQuickFix());
        }
      }
    }
  }
}
