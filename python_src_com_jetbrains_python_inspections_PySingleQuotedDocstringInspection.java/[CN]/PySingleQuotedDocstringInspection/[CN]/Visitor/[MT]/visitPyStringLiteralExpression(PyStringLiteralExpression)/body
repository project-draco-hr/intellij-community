{
  if (PydevConsoleRunner.isInPydevConsole(string)) {
    return;
  }
  String stringText=string.getText();
  myLength=PyStringLiteralExpressionImpl.getPrefixLength(stringText);
  myModificator=stringText.substring(0,myLength);
  stringText=stringText.substring(myLength);
  final PyDocStringOwner docStringOwner=PsiTreeUtil.getParentOfType(string,PyDocStringOwner.class);
  if (docStringOwner != null) {
    if (docStringOwner.getDocStringExpression() == string) {
      if (!stringText.startsWith("\"\"\"") && !stringText.endsWith("\"\"\"")) {
        ProblemsHolder holder=getHolder();
        if (holder != null) {
          int quoteCount=1;
          if (stringText.startsWith("'''") && stringText.endsWith("'''")) {
            quoteCount=3;
          }
          TextRange trStart=new TextRange(myLength,myLength + quoteCount);
          TextRange trEnd=new TextRange(stringText.length() + myLength - quoteCount,stringText.length() + myLength);
          if (string.getStringValue().isEmpty())           holder.registerProblem(string,PyBundle.message("INSP.message.single.quoted.docstring"),new ConvertDocstringQuickFix(myModificator));
 else {
            holder.registerProblem(string,trStart,PyBundle.message("INSP.message.single.quoted.docstring"),new ConvertDocstringQuickFix(myModificator));
            holder.registerProblem(string,trEnd,PyBundle.message("INSP.message.single.quoted.docstring"),new ConvertDocstringQuickFix(myModificator));
          }
        }
      }
    }
  }
}
