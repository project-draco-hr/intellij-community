{
  final List<YAMLPsiElement> list;
  if (element instanceof YAMLKeyValue) {
    final PsiElement value=((YAMLKeyValue)element).getValue();
    list=(value instanceof YAMLCompoundValue) ? ((YAMLCompoundValue)value).getYAMLElements() : Collections.<YAMLPsiElement>emptyList();
  }
 else {
    list=element.getYAMLElements();
  }
  for (  YAMLPsiElement child : list) {
    if (child instanceof YAMLKeyValue) {
      final YAMLKeyValue yamlKeyValue=(YAMLKeyValue)child;
      if (name == null || name.equals(yamlKeyValue.getKeyText())) {
        return yamlKeyValue;
      }
    }
  }
  return null;
}
