{
  if (newName.contains(".")) {
    throw new IncorrectOperationException(YAMLBundle.message("rename.wrong.name"));
  }
  if (newName.equals(element.getName())) {
    throw new IncorrectOperationException(YAMLBundle.message("rename.same.name"));
  }
  final YAMLKeyValue topKeyValue=YAMLElementGenerator.getInstance(element.getProject()).createYamlKeyValue(newName,"Foo");
  final PsiElement key=element.getKey();
  if (key == null || topKeyValue.getKey() == null) {
    throw new IllegalStateException();
  }
  key.replace(topKeyValue.getKey());
  return element;
}
