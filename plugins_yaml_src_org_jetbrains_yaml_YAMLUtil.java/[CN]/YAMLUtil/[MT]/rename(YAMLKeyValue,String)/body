{
  if (newName.contains(".")) {
    throw new IncorrectOperationException(YAMLBundle.message("rename.wrong.name"));
  }
  if (newName.equals(element.getName())) {
    throw new IncorrectOperationException(YAMLBundle.message("rename.same.name"));
  }
  final YAMLFile yamlFile=(YAMLFile)PsiFileFactory.getInstance(element.getProject()).createFileFromText("temp." + YAMLFileType.YML.getDefaultExtension(),YAMLFileType.YML,newName + ": Foo",LocalTimeCounter.currentTime(),true);
  final YAMLKeyValue topKeyValue=(YAMLKeyValue)yamlFile.getDocuments().get(0).getYAMLElements().get(0);
  element.getKey().replace(topKeyValue.getKey());
  return element;
}
