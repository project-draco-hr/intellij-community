{
  final MovedFileData movedFile=myMovedFiles.get(file);
  if (movedFile != null) {
    myBeforePaths.add(new FilePathImpl(file.getParent(),file.getName(),file.isDirectory()));
    ApplicationManager.getApplication().runWriteAction(new ThrowableComputable<VirtualFile,IOException>(){
      @Override public VirtualFile compute() throws IOException {
        return movedFile.doMove();
      }
    }
);
  }
}
