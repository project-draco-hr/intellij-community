{
  final boolean availableUnsupported=((BaseInputStreamReader)myReader).availableUnsupported();
  boolean read=false;
  int n;
  while ((n=myReader.read(myInputBuffer)) >= 0) {
    if (n > 0) {
      read=true;
      processLine(myInputBuffer,myLineBuffer,n);
    }
    boolean isReady=availableUnsupported || myReader.ready();
    if (!isReady) {
      TimeoutUtil.sleep(mySleepingPolicy.getTimeToSleep(n > 0));
      isReady=myReader.ready();
    }
    if (!isReady) {
      if (myLineBuffer.length() > 0) {
        sendLine(myLineBuffer);
      }
      onBufferExhaustion();
    }
  }
  if (myLineBuffer.length() > 0) {
    sendLine(myLineBuffer);
  }
  return read;
}
