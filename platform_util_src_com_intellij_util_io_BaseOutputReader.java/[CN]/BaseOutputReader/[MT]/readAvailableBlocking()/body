{
  char[] buffer=new char[8192];
  StringBuilder line=new StringBuilder();
  boolean read=false;
  int n;
  while ((n=myReader.read(buffer)) > 0) {
    read=true;
    processLine(buffer,line,n);
    if (!myReader.ready()) {
      if (line.length() > 0)       sendLine(line);
      onBufferExhaustion();
    }
  }
  if (line.length() > 0) {
    sendLine(line);
  }
  return read;
}
