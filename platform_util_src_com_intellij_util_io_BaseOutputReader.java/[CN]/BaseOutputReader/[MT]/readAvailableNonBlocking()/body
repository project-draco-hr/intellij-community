{
  char[] buffer=myBuffer;
  StringBuilder token=myTextBuffer;
  token.setLength(0);
  boolean read=false;
  while (myReader.ready()) {
    int n=myReader.read(buffer);
    if (n <= 0)     break;
    read=true;
    processLine(buffer,token,n);
  }
  if (token.length() != 0) {
    onTextAvailable(token.toString());
    token.setLength(0);
  }
  return read;
}
