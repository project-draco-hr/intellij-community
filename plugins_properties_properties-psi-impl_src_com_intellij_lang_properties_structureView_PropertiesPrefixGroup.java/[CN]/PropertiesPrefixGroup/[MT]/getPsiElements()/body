{
  final List<PsiElement> elements=ContainerUtil.mapNotNull(getChildren(),new NullableFunction<TreeElement,PsiElement>(){
    @Nullable @Override public PsiElement fun(    final TreeElement treeElement){
      if (treeElement instanceof PropertiesStructureViewElement) {
        PropertiesStructureViewElement propertiesElement=(PropertiesStructureViewElement)treeElement;
        IProperty property=propertiesElement.getValue();
        return property.getPsiElement();
      }
 else       if (treeElement instanceof ResourceBundlePropertyStructureViewElement) {
        return ((ResourceBundlePropertyStructureViewElement)treeElement).getPsiElements()[0];
      }
      return null;
    }
  }
);
  return elements.toArray(new PsiElement[elements.size()]);
}
