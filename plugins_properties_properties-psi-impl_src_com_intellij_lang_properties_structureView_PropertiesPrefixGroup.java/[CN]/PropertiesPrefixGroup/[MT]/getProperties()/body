{
  final List<IProperty> elements=ContainerUtil.mapNotNull(getChildren(),new NullableFunction<TreeElement,IProperty>(){
    @Nullable @Override public IProperty fun(    final TreeElement treeElement){
      if (treeElement instanceof PropertiesStructureViewElement) {
        PropertiesStructureViewElement propertiesElement=(PropertiesStructureViewElement)treeElement;
        return propertiesElement.getValue();
      }
 else       if (treeElement instanceof ResourceBundlePropertyStructureViewElement) {
        return ((ResourceBundlePropertyStructureViewElement)treeElement).getProperties()[0];
      }
      return null;
    }
  }
);
  return elements.toArray(new IProperty[elements.size()]);
}
