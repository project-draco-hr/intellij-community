{
  runPythonTest(new PyDebuggerTask("/debug","test_return_values.py"){
    @Override public void before() throws Exception {
      toggleBreakpoint(getScriptPath(),7);
      toggleBreakpoint(getScriptPath(),11);
      final PyDebuggerSettings debuggerSettings=PyDebuggerSettings.getInstance();
      debuggerSettings.watchReturnValues=true;
    }
    @Override public void doFinally(){
      final PyDebuggerSettings debuggerSettings=PyDebuggerSettings.getInstance();
      debuggerSettings.watchReturnValues=false;
    }
    @Override public void testing() throws Exception {
      waitForPause();
      eval(PyDebugValue.RETURN_VALUES_PREFIX + "bar[0]").hasValue("1");
      resume();
      waitForPause();
      eval(PyDebugValue.RETURN_VALUES_PREFIX + "foo").hasValue("33");
      resume();
    }
  }
);
}
