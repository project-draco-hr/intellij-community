{
  runPythonTest(new PyDebuggerTask("/debug","test_egg.py"){
    @Override public void before() throws Exception {
      String egg=getFilePath("Adder-0.1.egg");
      toggleBreakpointInEgg(egg,"adder/adder.py",2);
      PythonSdkFlavor flavor=PythonSdkFlavor.getFlavor(getRunConfiguration().getSdkHome());
      if (flavor != null) {
        flavor.initPythonPath(Lists.newArrayList(egg),getRunConfiguration().getEnvs());
      }
 else {
        getRunConfiguration().getEnvs().put("PYTHONPATH",egg);
      }
    }
    @Override public void testing() throws Exception {
      waitForPause();
      eval("ret").hasValue("16");
      resume();
    }
    @Override public Set<String> getTags(){
      return ImmutableSet.of("-jython");
    }
  }
);
}
