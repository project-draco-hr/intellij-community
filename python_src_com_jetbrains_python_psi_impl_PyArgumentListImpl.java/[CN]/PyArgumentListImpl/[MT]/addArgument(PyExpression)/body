{
  if (arg instanceof PyKeywordArgument) {
    PyKeywordArgument keywordArgument=(PyKeywordArgument)arg;
    PyKeywordArgument lastKeyArg=null;
    PyExpression firstNonKeyArg=null;
    for (    PsiElement element : getChildren()) {
      if (element instanceof PyKeywordArgument) {
        lastKeyArg=(PyKeywordArgument)element;
      }
 else       if (element instanceof PyExpression && firstNonKeyArg == null) {
        firstNonKeyArg=(PyExpression)element;
      }
    }
    if (lastKeyArg != null) {
      addArgumentNode(keywordArgument,lastKeyArg.getNode().getTreeNext(),true);
    }
 else     if (firstNonKeyArg != null) {
      addArgumentNode(keywordArgument,firstNonKeyArg.getNode(),true);
    }
 else {
      addArgumentLastWithoutComma(arg);
    }
  }
 else {
    final PyExpression[] args=getArguments();
    if (args.length > 0) {
      addArgumentAfter(arg,args[args.length - 1]);
    }
 else {
      addArgumentLastWithoutComma(arg);
    }
  }
}
