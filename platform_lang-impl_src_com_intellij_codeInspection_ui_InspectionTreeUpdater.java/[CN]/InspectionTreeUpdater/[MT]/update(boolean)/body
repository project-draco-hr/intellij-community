{
  if (ApplicationManager.getApplication().isDispatchThread() && !force) {
    return;
  }
  myUpdateQueue.queue(new Update("TreeRepaint"){
    @Override public void run(){
      if (myView.isDisposed())       return;
      final InspectionTree tree=myView.getTree();
      try {
        tree.setQueueUpdate(true);
        ((DefaultTreeModel)tree.getModel()).reload();
        tree.revalidate();
        tree.repaint();
        tree.restoreExpansionAndSelection();
        if (myDoUpdatePreviewPanel.compareAndSet(true,false)) {
          myView.updateRightPanelLoading();
        }
      }
  finally {
        tree.setQueueUpdate(false);
      }
    }
    @Override public boolean canEat(    Update update){
      return true;
    }
  }
);
}
