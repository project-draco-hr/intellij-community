{
  String path;
  boolean noQuery=StringUtil.isEmpty(query);
  if (!noQuery) {
    query=URLEncoder.encode(query,"UTF-8");
    path="/legacy/issues/search/" + user + "/"+ repo+ "/open/"+ query;
  }
 else {
    path="/repos/" + user + "/"+ repo+ "/issues";
  }
  JsonElement result=getRequest(auth,path);
  List<GithubIssueRaw> rawIssues=fromJson(result,new TypeToken<List<GithubIssueRaw>>(){
  }
.getType());
  List<GithubIssue> issues=new ArrayList<GithubIssue>();
  for (  GithubIssueRaw raw : rawIssues) {
    issues.add(GithubIssue.create(raw));
  }
  return issues;
}
