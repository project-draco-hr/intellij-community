{
  String path;
  boolean noQuery=StringUtil.isEmpty(query);
  if (!noQuery) {
    query=URLEncoder.encode(query,"UTF-8");
    path="/legacy/issues/search/" + user + "/"+ repo+ "/open/"+ query;
  }
 else {
    path="/repos/" + user + "/"+ repo+ "/issues";
  }
  JsonElement result=getAllRequest(auth,path);
  GithubIssueRaw[] rawIssues=fromJson(result,GithubIssueRaw[].class);
  List<GithubIssue> issues=new ArrayList<GithubIssue>();
  for (  GithubIssueRaw raw : rawIssues) {
    issues.add(createDataFromRaw(raw,GithubIssue.class));
  }
  return issues;
}
