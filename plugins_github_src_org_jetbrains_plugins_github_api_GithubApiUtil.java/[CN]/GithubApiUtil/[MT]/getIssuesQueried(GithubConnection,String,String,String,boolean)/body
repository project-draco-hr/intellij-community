{
  try {
    String state=withClosed ? "" : " state:open";
    query=URLEncoder.encode("repo:" + user + "/"+ repo+ " "+ query+ state,CharsetToolkit.UTF8);
    String path="/search/issues?q=" + query;
    JsonElement result=connection.getRequest(path,ACCEPT_V3_JSON);
    return createDataFromRaw(fromJson(result,GithubIssuesSearchResultRaw.class),GithubIssuesSearchResult.class).getIssues();
  }
 catch (  GithubConfusingException e) {
    e.setDetails("Can't get queried issues: " + user + "/"+ repo+ " - "+ query);
    throw e;
  }
}
