{
  final PsiType[] boundTypes=typeParameter.getExtendsListTypes();
  PsiType originalBound=!wildcardType.isSuper() ? wildcardType.getBound() : null;
  PsiType glb=originalBound;
  for (  PsiType boundType : boundTypes) {
    final PsiType substitutedBoundType=captureSubstitutor.substitute(boundType);
    if (originalBound instanceof PsiArrayType && substitutedBoundType instanceof PsiArrayType && !originalBound.isAssignableFrom(substitutedBoundType)&& !substitutedBoundType.isAssignableFrom(originalBound)) {
      continue;
    }
    if (glb == null) {
      glb=substitutedBoundType;
    }
 else {
      glb=GenericsUtil.getGreatestLowerBound(glb,substitutedBoundType);
    }
  }
  return glb;
}
