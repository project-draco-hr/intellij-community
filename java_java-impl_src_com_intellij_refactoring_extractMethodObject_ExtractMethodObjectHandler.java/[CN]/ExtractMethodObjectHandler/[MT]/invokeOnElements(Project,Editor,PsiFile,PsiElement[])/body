{
  if (elements.length == 0) {
    String message=RefactoringBundle.getCannotRefactorMessage(RefactoringBundle.message("selected.block.should.represent.a.set.of.statements.or.an.expression"));
    CommonRefactoringUtil.showErrorHint(project,editor,message,ExtractMethodObjectProcessor.REFACTORING_NAME,HelpID.EXTRACT_METHOD_OBJECT);
    return;
  }
  try {
    extractMethodObject(project,editor,new ExtractMethodObjectProcessor(project,editor,elements,""));
  }
 catch (  PrepareFailedException e) {
    CommonRefactoringUtil.showErrorHint(project,editor,e.getMessage(),ExtractMethodObjectProcessor.REFACTORING_NAME,HelpID.EXTRACT_METHOD_OBJECT);
    ExtractMethodHandler.highlightPrepareError(e,file,editor,project);
  }
}
