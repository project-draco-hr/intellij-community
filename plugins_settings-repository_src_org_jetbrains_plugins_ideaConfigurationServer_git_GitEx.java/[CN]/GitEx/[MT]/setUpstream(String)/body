{
  StoredConfig config=getRepository().getConfig();
  if (StringUtil.isEmptyOrSpaces(url)) {
    LOG.debug("Unset remote");
    config.unset(ConfigConstants.CONFIG_REMOTE_SECTION,Constants.DEFAULT_REMOTE_NAME,ConfigConstants.CONFIG_KEY_URL);
    config.unset(ConfigConstants.CONFIG_REMOTE_SECTION,Constants.DEFAULT_REMOTE_NAME,"fetch");
    config.unset(ConfigConstants.CONFIG_BRANCH_SECTION,Constants.MASTER,ConfigConstants.CONFIG_KEY_REMOTE);
    config.unset(ConfigConstants.CONFIG_BRANCH_SECTION,Constants.MASTER,ConfigConstants.CONFIG_KEY_MERGE);
  }
 else {
    LOG.debug("Set remote " + url);
    config.setString(ConfigConstants.CONFIG_REMOTE_SECTION,Constants.DEFAULT_REMOTE_NAME,ConfigConstants.CONFIG_KEY_URL,url);
    config.setString(ConfigConstants.CONFIG_REMOTE_SECTION,Constants.DEFAULT_REMOTE_NAME,"fetch","+refs/heads/*:refs/remotes/origin/*");
    config.setString(ConfigConstants.CONFIG_BRANCH_SECTION,Constants.MASTER,ConfigConstants.CONFIG_KEY_REMOTE,Constants.DEFAULT_REMOTE_NAME);
    config.setString(ConfigConstants.CONFIG_BRANCH_SECTION,Constants.MASTER,ConfigConstants.CONFIG_KEY_MERGE,Constants.R_HEADS + Constants.MASTER);
  }
  config.save();
}
