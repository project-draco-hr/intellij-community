{
  final PsiElement parent=original.getParent();
  if (parent instanceof PyStringLiteralExpression) {
    Map<String,PyStringFormatParser.SubstitutionChunk> substitutions=PyStringFormatParser.getKeywordSubstitutions(PyStringFormatParser.filterSubstitutions(PyStringFormatParser.parseNewStyleFormat(((PyStringLiteralExpression)(parent)).getStringValue())));
    for (    PyStringFormatParser.SubstitutionChunk substitution : substitutions.values()) {
      if (offset >= substitution.getStartIndex() && offset <= substitution.getEndIndex()) {
        return true;
      }
    }
  }
  return false;
}
