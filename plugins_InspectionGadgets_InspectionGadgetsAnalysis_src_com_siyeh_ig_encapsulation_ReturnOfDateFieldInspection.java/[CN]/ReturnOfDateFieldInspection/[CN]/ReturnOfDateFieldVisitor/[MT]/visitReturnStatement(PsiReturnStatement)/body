{
  super.visitReturnStatement(statement);
  final PsiExpression returnValue=statement.getReturnValue();
  if (!(returnValue instanceof PsiReferenceExpression)) {
    return;
  }
  final PsiElement containingElement=PsiTreeUtil.getParentOfType(statement,PsiMethod.class,PsiLambdaExpression.class,PsiClass.class);
  if (containingElement == null || containingElement instanceof PsiClass || (containingElement instanceof PsiMethod && ignorePrivateMethods && ((PsiMethod)containingElement).hasModifierProperty(PsiModifier.PRIVATE))) {
    return;
  }
  final PsiReferenceExpression fieldReference=(PsiReferenceExpression)returnValue;
  final PsiElement element=fieldReference.resolve();
  if (!(element instanceof PsiField)) {
    return;
  }
  final String type=TypeUtils.expressionHasTypeOrSubtype(returnValue,CommonClassNames.JAVA_UTIL_DATE,CommonClassNames.JAVA_UTIL_CALENDAR);
  if (type == null) {
    return;
  }
  registerError(returnValue,type);
}
