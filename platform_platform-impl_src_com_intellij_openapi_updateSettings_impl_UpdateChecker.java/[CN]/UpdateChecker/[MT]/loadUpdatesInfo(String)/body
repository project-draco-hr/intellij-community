{
  if (LOG.isDebugEnabled()) {
    LOG.debug("load update xml (UPDATE_URL='" + updateUrl + "' )");
  }
  if (StringUtil.isEmpty(updateUrl)) {
    LOG.debug("update url is empty: updates will not be checked");
    return null;
  }
  if (!updateUrl.startsWith("file:")) {
    updateUrl=updateUrl + '?' + prepareUpdateCheckArgs();
  }
  return HttpRequests.request(updateUrl).connect(new HttpRequests.RequestProcessor<UpdatesInfo>(){
    @Override public UpdatesInfo process(    @NotNull HttpRequests.Request request) throws IOException {
      try {
        Document document=JDOMUtil.loadDocument(request.getInputStream());
        return new UpdatesInfo(document.detachRootElement());
      }
 catch (      JDOMException e) {
        LOG.info(e);
        return null;
      }
    }
  }
);
}
