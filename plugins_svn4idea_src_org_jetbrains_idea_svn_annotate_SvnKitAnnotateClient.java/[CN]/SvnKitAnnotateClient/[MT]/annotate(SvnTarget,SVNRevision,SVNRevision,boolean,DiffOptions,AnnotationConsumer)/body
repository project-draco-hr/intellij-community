{
  try {
    SVNLogClient client=myVcs.getSvnKitManager().createLogClient();
    client.setDiffOptions(toDiffOptions(diffOptions));
    if (target.isFile()) {
      client.doAnnotate(target.getFile(),target.getPegRevision(),startRevision,endRevision,true,includeMergedRevisions,toAnnotateHandler(handler),null);
    }
 else {
      client.doAnnotate(target.getURL(),target.getPegRevision(),startRevision,endRevision,true,includeMergedRevisions,toAnnotateHandler(handler),null);
    }
  }
 catch (  SVNException e) {
    throw new VcsException(e);
  }
}
