{
  try {
    SVNLogClient client=myVcs.createLogClient();
    client.setDiffOptions(diffOptions);
    if (target.isFile()) {
      client.doAnnotate(target.getFile(),pegRevision,startRevision,endRevision,true,includeMergedRevisions,handler,null);
    }
 else {
      client.doAnnotate(target.getURL(),pegRevision,startRevision,endRevision,true,includeMergedRevisions,handler,null);
    }
  }
 catch (  SVNException e) {
    throw new VcsException(e);
  }
}
