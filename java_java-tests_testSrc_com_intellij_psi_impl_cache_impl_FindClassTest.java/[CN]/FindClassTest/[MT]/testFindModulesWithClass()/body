{
  List<Module> otherModules=configureTwoMoreModules();
  assertSize(2,otherModules);
  PsiClass psiClass=myJavaFacade.findClass("p.A",getModule().getModuleWithDependenciesAndLibrariesScope(true));
  assertNotNull(psiClass);
  PsiClass psiClass2=myJavaFacade.findClass("p.A",otherModules.get(0).getModuleWithDependenciesAndLibrariesScope(true));
  assertNotNull(psiClass2);
  Collection<Module> modules=FindClassUtil.findModulesWithClass(myProject,"p.A");
  assertSameElements(modules,getModule(),otherModules.get(0));
  PsiClass packClass=myJavaFacade.findClass("pack.MyClass",otherModules.get(0).getModuleWithDependenciesAndLibrariesScope(true));
  assertNotNull(packClass);
  Collection<Module> packModules=FindClassUtil.findModulesWithClass(myProject,"pack.MyClass");
  assertSameElements(packModules,otherModules.get(0));
}
