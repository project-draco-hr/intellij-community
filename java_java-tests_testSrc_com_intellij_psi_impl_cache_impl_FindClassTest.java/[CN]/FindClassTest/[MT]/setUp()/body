{
  super.setUp();
  final File root=createTempDirectory();
  WriteCommandAction.runWriteCommandAction(null,new Runnable(){
    @Override public void run(){
      try {
        VirtualFile rootVFile=LocalFileSystem.getInstance().refreshAndFindFileByPath(root.getAbsolutePath().replace(File.separatorChar,'/'));
        myPrjDir1=createChildDirectory(rootVFile,"prj1");
        mySrcDir1=createChildDirectory(myPrjDir1,"src1");
        myPackDir=createChildDirectory(mySrcDir1,"p");
        VirtualFile file1=createChildData(myPackDir,"A.java");
        setFileText(file1,"package p; public class A{ public void foo(); }");
        PsiDocumentManager.getInstance(getProject()).commitAllDocuments();
        PsiTestUtil.addContentRoot(myModule,myPrjDir1);
        PsiTestUtil.addSourceRoot(myModule,mySrcDir1);
      }
 catch (      IOException e) {
        LOG.error(e);
      }
    }
  }
);
}
