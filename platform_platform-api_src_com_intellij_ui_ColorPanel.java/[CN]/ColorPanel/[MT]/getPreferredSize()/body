{
  if (isPreferredSizeSet()) {
    return super.getPreferredSize();
  }
  Font font=getFont();
  if (font != null) {
    int size=font.getSize();
    if (size > 6) {
      return new Dimension(4 + 2 * size,4 + size);
    }
  }
  return getMinimumSize();
}
