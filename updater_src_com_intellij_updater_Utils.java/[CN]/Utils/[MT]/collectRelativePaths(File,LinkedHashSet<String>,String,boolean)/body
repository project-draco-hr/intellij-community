{
  File[] children=dir.listFiles();
  if (children == null)   return;
  for (  File each : children) {
    String relativePath=(parentPath == null ? "" : parentPath + "/") + each.getName();
    if (each.isDirectory()) {
      if (includeDirectories) {
        result.add(relativePath + "/");
      }
      collectRelativePaths(each,result,relativePath,includeDirectories);
    }
 else {
      result.add(relativePath);
    }
  }
}
