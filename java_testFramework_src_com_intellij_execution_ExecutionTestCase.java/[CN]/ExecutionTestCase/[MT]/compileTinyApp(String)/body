{
  final List<String> args=new ArrayList<String>();
  args.add("-g");
  args.add("-d");
  args.add(new File(appPath,CLASSES).getPath());
  final Class<TestCase> testCaseClass=TestCase.class;
  final String junitLibRoot=PathManager.getResourceRoot(testCaseClass,"/" + testCaseClass.getName().replace('.','/') + ".class");
  if (junitLibRoot != null) {
    args.add("-cp");
    args.add(junitLibRoot);
  }
  final File[] files=new File(appPath,SRC).listFiles(new FilenameFilter(){
    @Override public boolean accept(    File dir,    String name){
      return name.endsWith(".java");
    }
  }
);
  if (files == null)   return 0;
  for (  File file : files) {
    args.add(file.getPath());
  }
  return com.sun.tools.javac.Main.compile(ArrayUtil.toStringArray(args));
}
