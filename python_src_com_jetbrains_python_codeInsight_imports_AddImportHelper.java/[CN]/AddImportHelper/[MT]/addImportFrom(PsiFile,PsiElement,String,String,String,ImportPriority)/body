{
  final List<PyFromImportStatement> existingImports=((PyFile)file).getFromImports();
  for (  PyFromImportStatement existingImport : existingImports) {
    if (target != null && existingImport.getTextRange().getStartOffset() > target.getTextRange().getStartOffset()) {
      continue;
    }
    final PyQualifiedName qName=existingImport.getImportSourceQName();
    if (qName != null && qName.toString().equals(path)) {
      for (      PyImportElement el : existingImport.getImportElements()) {
        if (name.equals(el.getVisibleName())) {
          return false;
        }
      }
      PyImportElement importElement=PyElementGenerator.getInstance(file.getProject()).createImportElement(name);
      existingImport.add(importElement);
      return true;
    }
  }
  addImportFromStatement(file,path,name,asName,priority);
  return true;
}
