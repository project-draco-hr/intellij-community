{
  final VirtualFile vFile=toImport.getVirtualFile();
  if (vFile == null) {
    return UNRESOLVED_SYMBOL_PRIORITY;
  }
  final ProjectRootManager projectRootManager=ProjectRootManager.getInstance(toImport.getProject());
  final ProjectFileIndex fileIndex=projectRootManager.getFileIndex();
  if (fileIndex.isInContent(vFile) && !fileIndex.isInLibraryClasses(vFile)) {
    return ImportPriority.PROJECT;
  }
  final Module module=ModuleUtilCore.findModuleForPsiElement(importLocation);
  final Sdk pythonSdk=module != null ? PythonSdkType.findPythonSdk(module) : projectRootManager.getProjectSdk();
  return PythonSdkType.isStdLib(vFile,pythonSdk) ? ImportPriority.BUILTIN : ImportPriority.THIRD_PARTY;
}
