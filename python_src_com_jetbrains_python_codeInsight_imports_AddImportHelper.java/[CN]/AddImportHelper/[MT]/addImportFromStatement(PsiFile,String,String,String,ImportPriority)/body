{
  String asClause=asName == null ? "" : " as " + asName;
  final PyFromImportStatement importNodeToInsert=PyElementGenerator.getInstance(file.getProject()).createFromText(LanguageLevel.forElement(file),PyFromImportStatement.class,"from " + from + " import "+ name+ asClause);
  try {
    if (InjectedLanguageManager.getInstance(file.getProject()).isInjectedFragment(file)) {
      final PsiElement element=file.addBefore(importNodeToInsert,getInsertPosition(file,from,priority));
      PsiElement whitespace=element.getNextSibling();
      if (!(whitespace instanceof PsiWhiteSpace))       whitespace=PsiParserFacade.SERVICE.getInstance(file.getProject()).createWhiteSpaceFromText("  >>> ");
      file.addBefore(whitespace,element);
    }
 else {
      file.addBefore(importNodeToInsert,getInsertPosition(file,from,priority));
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
