{
  element1=unwrap(element1);
  element2=unwrap(element2);
  final InputVariables inputVariables=new InputVariables(Collections.emptyList(),element1.getProject(),new LocalSearchScope(element1),false);
  final DuplicatesFinder finder=new DuplicatesFinder(new PsiElement[]{element1},inputVariables,null,Collections.emptyList());
  final Match match=finder.isDuplicate(element2,true);
  if (match == null) {
    return false;
  }
  final ReturnValue matchReturnValue=match.getReturnValue();
  if (matchReturnValue instanceof ConditionalReturnStatementValue && !matchReturnValue.isEquivalent(buildReturnValue(element1))) {
    return false;
  }
 else   if (matchReturnValue instanceof ExpressionReturnValue) {
    return false;
  }
  return true;
}
