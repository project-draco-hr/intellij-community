{
  super.visitIfStatement(ifStatement);
  final PsiStatement elseBranch=unwrap(ifStatement.getElseBranch());
  final PsiStatement thenBranch=unwrap(ifStatement.getThenBranch());
  if (thenBranch == null) {
    return;
  }
  if (elseBranch instanceof PsiIfStatement) {
    final PsiIfStatement statement=(PsiIfStatement)elseBranch;
    final PsiStatement branch=unwrap(statement.getThenBranch());
    if (branch != null && isDuplicate(thenBranch,branch)) {
      registerStatementError(ifStatement);
    }
  }
 else   if (elseBranch == null) {
    checkIfStatementWithoutElseBranch(ifStatement);
  }
 else   if (isDuplicate(thenBranch,elseBranch)) {
    registerStatementError(ifStatement);
  }
}
