{
  PatchSpec spec=new PatchSpec().setOldFolder(myOlderDir.getAbsolutePath()).setNewFolder(myNewerDir.getAbsolutePath()).setIgnoredFiles(Arrays.asList("Readme.txt","bin/idea.bat"));
  Patch patch=new Patch(spec,TEST_UI);
  assertThat(sortActions(patch.getActions())).containsExactly(new CreateAction(patch,"newDir/"),new CreateAction(patch,"newDir/newFile.txt"),new UpdateZipAction(patch,"lib/annotations.jar",Collections.singletonList("org/jetbrains/annotations/NewClass.class"),Collections.singletonList("org/jetbrains/annotations/Nullable.class"),Collections.singletonList("org/jetbrains/annotations/TestOnly.class"),CHECKSUMS.ANNOTATIONS_JAR),new UpdateZipAction(patch,"lib/bootstrap.jar",Collections.emptyList(),Collections.emptyList(),Collections.singletonList("com/intellij/ide/ClassloaderUtil.class"),CHECKSUMS.BOOTSTRAP_JAR));
}
