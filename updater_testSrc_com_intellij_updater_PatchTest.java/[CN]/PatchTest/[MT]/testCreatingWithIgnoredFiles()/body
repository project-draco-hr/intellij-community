{
  myPatch=new Patch(myOlderDir,myNewerDir,Arrays.asList("Readme.txt","bin/idea.bat"),Collections.<String>emptyList(),Collections.<String>emptyList(),TEST_UI);
  List<PatchAction> expectedActions=Arrays.asList(new CreateAction("newDir/newFile.txt"),new UpdateZipAction("lib/annotations.jar",Arrays.asList("org/jetbrains/annotations/NewClass.class"),Arrays.asList("org/jetbrains/annotations/Nullable.class"),Arrays.asList("org/jetbrains/annotations/TestOnly.class"),CHECKSUMS.ANNOTATIONS_JAR),new UpdateZipAction("lib/bootstrap.jar",Collections.<String>emptyList(),Collections.<String>emptyList(),Arrays.asList("com/intellij/ide/ClassloaderUtil.class"),CHECKSUMS.BOOTSTRAP_JAR));
  List<PatchAction> actualActions=new ArrayList<PatchAction>(myPatch.getActions());
  Collections.sort(expectedActions,COMPARATOR);
  Collections.sort(actualActions,COMPARATOR);
  assertEquals(expectedActions,actualActions);
}
