{
  assertThat(Runner.isCaseSensitiveFs()).isEqualTo(SystemInfo.isFileSystemCaseSensitive);
  Patch patch=createCaseOnlyRenamePatch();
  FileUtil.writeToFile(new File(myOlderDir,"bin/IDEA.bat"),FileUtil.loadFileBytes(new File(myOlderDir,"bin/idea.bat")));
  List<ValidationResult> results=patch.validate(myOlderDir,TEST_UI);
  if (SystemInfo.isFileSystemCaseSensitive) {
    assertThat(results).containsExactly(new ValidationResult(ValidationResult.Kind.CONFLICT,"bin/IDEA.bat",ValidationResult.Action.CREATE,ValidationResult.ALREADY_EXISTS_MESSAGE,ValidationResult.Option.REPLACE,ValidationResult.Option.KEEP));
  }
 else {
    assertThat(results).isEmpty();
  }
}
