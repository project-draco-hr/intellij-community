{
  FileUtil.writeToFile(new File(myOlderDir,"bin/idea.bat"),"changed".getBytes());
  new File(myOlderDir,"extraDir").mkdirs();
  new File(myOlderDir,"extraDir/extraFile.txt").createNewFile();
  new File(myOlderDir,"newDir").mkdirs();
  new File(myOlderDir,"newDir/newFile.txt").createNewFile();
  FileUtil.writeToFile(new File(myOlderDir,"Readme.txt"),"changed".getBytes());
  FileUtil.writeToFile(new File(myOlderDir,"lib/annotations.jar"),"changed".getBytes());
  FileUtil.delete(new File(myOlderDir,"lib/bootstrap.jar"));
  assertEquals(new HashSet<ValidationResult>(Arrays.asList(new ValidationResult(ValidationResult.Kind.CONFLICT,"newDir/newFile.txt",ValidationResult.Action.CREATE,ValidationResult.ALREADY_EXISTS_MESSAGE,ValidationResult.Option.REPLACE,ValidationResult.Option.KEEP),new ValidationResult(ValidationResult.Kind.ERROR,"Readme.txt",ValidationResult.Action.UPDATE,ValidationResult.MODIFIED_MESSAGE,ValidationResult.Option.IGNORE),new ValidationResult(ValidationResult.Kind.ERROR,"lib/annotations.jar",ValidationResult.Action.UPDATE,ValidationResult.MODIFIED_MESSAGE,ValidationResult.Option.IGNORE),new ValidationResult(ValidationResult.Kind.ERROR,"lib/bootstrap.jar",ValidationResult.Action.UPDATE,ValidationResult.ABSENT_MESSAGE,ValidationResult.Option.IGNORE),new ValidationResult(ValidationResult.Kind.CONFLICT,"bin/idea.bat",ValidationResult.Action.DELETE,ValidationResult.MODIFIED_MESSAGE,ValidationResult.Option.DELETE,ValidationResult.Option.KEEP))),new HashSet<ValidationResult>(myPatch.validate(myOlderDir,TEST_UI)));
}
