{
  myLogDataHolder=logDataHolder;
  myGraphTable=new VcsLogGraphTable(vcsLogUI);
  myBranchesPanel=new BranchesPanel(logDataHolder,vcsLogUI);
  myDetailsPanel=new DetailsPanel(logDataHolder,myGraphTable);
  final ChangesBrowser changesBrowser=new ChangesBrowser(project,null,Collections.<Change>emptyList(),null,false,false,null,ChangesBrowser.MyUseCase.COMMITTED_CHANGES,null);
  changesBrowser.getDiffAction().registerCustomShortcutSet(CommonShortcuts.getDiff(),myGraphTable);
  setDefaultEmptyText(changesBrowser);
  myGraphTable.getSelectionModel().addListSelectionListener(new CommitSelectionListener(changesBrowser));
  myGraphTable.getSelectionModel().addListSelectionListener(myDetailsPanel);
  myDetailsSplitter=new Splitter(true,0.7f);
  myDetailsSplitter.setFirstComponent(ScrollPaneFactory.createScrollPane(myGraphTable));
  Splitter splitter=new Splitter(false,0.7f);
  splitter.setFirstComponent(myDetailsSplitter);
  splitter.setSecondComponent(changesBrowser);
  setLayout(new BorderLayout());
  add(myBranchesPanel,BorderLayout.NORTH);
  add(splitter,BorderLayout.CENTER);
}
