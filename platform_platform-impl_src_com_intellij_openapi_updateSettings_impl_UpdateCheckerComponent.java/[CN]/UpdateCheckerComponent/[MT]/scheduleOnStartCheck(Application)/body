{
  if (!mySettings.isCheckNeeded()) {
    return;
  }
  app.getMessageBus().connect(app).subscribe(AppLifecycleListener.TOPIC,new AppLifecycleListener.Adapter(){
    @Override public void appFrameCreated(    String[] commandLineArgs,    @NotNull Ref<Boolean> willOpenProject){
      BuildNumber currentBuild=ApplicationInfo.getInstance().getBuild();
      BuildNumber lastBuildChecked=BuildNumber.fromString(mySettings.getLasBuildChecked());
      long timeToNextCheck=mySettings.getLastTimeChecked() + CHECK_INTERVAL - System.currentTimeMillis();
      if (lastBuildChecked == null || currentBuild.compareTo(lastBuildChecked) > 0 || timeToNextCheck <= 0) {
        myCheckRunnable.run();
      }
 else {
        queueNextCheck(timeToNextCheck);
      }
    }
  }
);
}
