{
  mySettings=settings;
  if (mySettings.isSecureConnection() && !mySettings.canUseSecureConnection()) {
    mySettings.setSecureConnection(false);
    boolean tooOld=!SystemInfo.isJavaVersionAtLeast("1.7");
    final String title=IdeBundle.message("update.notifications.title");
    final String message=IdeBundle.message(tooOld ? "update.sni.not.available.message" : "update.sni.disabled.message");
    app.invokeLater(new Runnable(){
      @Override public void run(){
        UpdateChecker.NOTIFICATIONS.createNotification(title,message,NotificationType.WARNING,new NotificationListener.Adapter(){
          @Override protected void hyperlinkActivated(          @NotNull Notification notification,          @NotNull HyperlinkEvent e){
            notification.expire();
            app.invokeLater(new Runnable(){
              @Override public void run(){
                ShowSettingsUtil.getInstance().showSettingsDialog(null,UpdateSettingsConfigurable.class);
              }
            }
,ModalityState.NON_MODAL);
          }
        }
).notify(null);
      }
    }
,ModalityState.NON_MODAL);
  }
  scheduleOnStartCheck(app);
}
