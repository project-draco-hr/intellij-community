{
  mySettings=settings;
  if (mySettings.SECURE_CONNECTION && !NetUtils.isSniEnabled()) {
    app.invokeLater(new Runnable(){
      @Override public void run(){
        String title=IdeBundle.message("update.notifications.title");
        String message=IdeBundle.message("update.sni.disabled.notification");
        UpdateChecker.NOTIFICATIONS.createNotification(title,message,NotificationType.WARNING,null).notify(null);
      }
    }
,ModalityState.NON_MODAL);
  }
  app.getMessageBus().connect(app).subscribe(AppLifecycleListener.TOPIC,new AppLifecycleListener.Adapter(){
    @Override public void appFrameCreated(    String[] commandLineArgs,    @NotNull Ref<Boolean> willOpenProject){
      scheduleOnStartCheck();
    }
  }
);
}
