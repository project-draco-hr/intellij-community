{
  initProject(vcsRootConfiguration);
  addVcsRoots(vcsRootConfiguration.getRoots());
  Collection<VcsRootError> expected=new ArrayList<VcsRootError>();
  expected.addAll(unregAll(vcsRootConfiguration.getUnregErrors()));
  expected.addAll(extraAll(vcsRootConfiguration.getExtraErrors()));
  myProjectRoot.refresh(false,true);
  Collection<VcsRootError> actual=ContainerUtil.filter(new VcsRootErrorsFinder(myProject).find(),new Condition<VcsRootError>(){
    @Override public boolean value(    VcsRootError error){
      return error.getVcsKey().equals(myVcs.getKeyInstanceMethod());
    }
  }
);
  VcsTestUtil.assertEqualCollections(actual,expected);
}
