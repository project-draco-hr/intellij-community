{
  long start=System.currentTimeMillis();
  MatchingState state=myMatchingState.get();
  state.initializeState(name);
  try {
    return matchWildcards(name,0,0,state);
  }
  finally {
    state.releaseState();
    if (System.currentTimeMillis() - start > 1000 && Runtime.getRuntime().freeMemory() > Runtime.getRuntime().totalMemory() * 3 / 10) {
      LOG.error("Too long matching: name=" + name + "; prefix="+ new String(myPattern));
    }
  }
}
