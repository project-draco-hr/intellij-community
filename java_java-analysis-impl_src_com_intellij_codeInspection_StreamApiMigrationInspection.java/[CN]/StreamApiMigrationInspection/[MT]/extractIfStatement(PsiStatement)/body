{
  PsiIfStatement ifStmt=null;
  if (body instanceof PsiIfStatement) {
    ifStmt=(PsiIfStatement)body;
  }
 else   if (body instanceof PsiBlockStatement) {
    final PsiStatement[] statements=((PsiBlockStatement)body).getCodeBlock().getStatements();
    if (statements.length == 1 && statements[0] instanceof PsiIfStatement) {
      ifStmt=(PsiIfStatement)statements[0];
    }
  }
  if (ifStmt != null && ifStmt.getElseBranch() == null && ifStmt.getCondition() != null) {
    final PsiStatement thenBranch=ifStmt.getThenBranch();
    if (thenBranch != null) {
      final PsiIfStatement deeperThen=extractIfStatement(thenBranch);
      return deeperThen != null ? deeperThen : ifStmt;
    }
  }
  return null;
}
