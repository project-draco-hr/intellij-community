{
  final List<String> filters=new ArrayList<String>();
  while (ifStatement != null && PsiTreeUtil.isAncestor(body,ifStatement,false)) {
    final PsiExpression condition=ifStatement.getCondition();
    if (condition != null) {
      filters.add(".filter(" + parameter.getName() + " -> "+ condition.getText()+ ")");
    }
    ifStatement=PsiTreeUtil.getParentOfType(ifStatement,PsiIfStatement.class);
  }
  Collections.reverse(filters);
  return StringUtil.join(filters,"");
}
