{
  final PsiType initializerType=initializer.getType();
  final PsiClassType rawType=initializerType instanceof PsiClassType ? ((PsiClassType)initializerType).rawType() : null;
  final PsiClassType rawVarType=varType instanceof PsiClassType ? ((PsiClassType)varType).rawType() : null;
  if (rawType != null && rawVarType != null && rawType.equalsToText(CommonClassNames.JAVA_UTIL_ARRAY_LIST) && rawVarType.equalsToText(CommonClassNames.JAVA_UTIL_LIST)) {
    return "toList()";
  }
 else   if (rawType != null && rawVarType != null && rawType.equalsToText(CommonClassNames.JAVA_UTIL_HASH_SET) && rawVarType.equalsToText(CommonClassNames.JAVA_UTIL_SET)) {
    return "toSet()";
  }
 else   if (rawType != null) {
    return "toCollection(" + rawType.getClassName() + "::new)";
  }
 else {
    return "toCollection(() -> " + initializer.getText() + ")";
  }
}
