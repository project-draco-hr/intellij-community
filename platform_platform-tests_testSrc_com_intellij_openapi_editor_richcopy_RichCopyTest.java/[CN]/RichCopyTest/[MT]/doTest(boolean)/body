{
  myFixture.configureByFile(getTestName(false) + ".java");
  if (columnMode) {
    myFixture.performEditorAction("EditorToggleColumnMode");
  }
  myFixture.performEditorAction("EditorCopy");
  Transferable contents=CopyPasteManager.getInstance().getContents();
  assertNotNull(contents);
  assertTrue(contents.isDataFlavorSupported(HtmlCopyPasteProcessor.FLAVOR));
  String expectedHtml=getFileContents(getTestName(false) + ".html");
  String actualHtml=readFully((Reader)contents.getTransferData(HtmlCopyPasteProcessor.FLAVOR));
  assertEquals("HTML contents differs",expectedHtml,actualHtml);
  assertTrue(contents.isDataFlavorSupported(RtfCopyPasteProcessor.FLAVOR));
  String expectedRtf=getFileContents(getTestName(false) + ".rtf");
  String actualRtf=readFully((InputStream)contents.getTransferData(RtfCopyPasteProcessor.FLAVOR));
  assertEquals("RTF contents differs",expectedRtf,actualRtf);
}
