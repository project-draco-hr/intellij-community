{
  VirtualFile virtualFile=getVirtualFile();
  if (virtualFile != null) {
    final VirtualFile parentFile=parent.getVirtualFile();
    if (parentFile != null) {
      return VfsUtilCore.isAncestor(parentFile,virtualFile,strict);
    }
  }
  return FileUtil.isAncestor(parent.getIOFile(),getIOFile(),strict);
}
