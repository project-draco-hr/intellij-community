{
  Binding binding=XmlSerializerImpl.getTypeBinding(accessor.getGenericType(),accessor);
  if (binding instanceof JDOMElementBinding) {
    return binding;
  }
  Attribute attribute=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Attribute.class);
  if (attribute != null) {
    return new AttributeBinding(accessor,attribute);
  }
  Tag tag=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Tag.class);
  if (tag != null && !tag.value().isEmpty()) {
    return new TagBinding(accessor,tag);
  }
  Text text=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Text.class);
  if (text != null) {
    return new TextBinding(accessor);
  }
  boolean surroundWithTag=true;
  Property property=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Property.class);
  if (property != null) {
    surroundWithTag=property.surroundWithTag();
  }
  if (!surroundWithTag) {
    if (!Element.class.isAssignableFrom(binding.getBoundNodeType())) {
      throw new XmlSerializationException("Text-serializable properties can't be serialized without surrounding tags: " + accessor);
    }
    return new AccessorBindingWrapper(accessor,binding);
  }
  OptionTag optionTag=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),OptionTag.class);
  return new OptionTagBinding(accessor,optionTag);
}
