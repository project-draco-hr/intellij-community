{
  LinkedList<DirectNode> stackNode=new LinkedList<DirectNode>();
  LinkedList<Integer> stackIndex=new LinkedList<Integer>();
  HashSet<DirectNode> setVisited=new HashSet<DirectNode>();
  stackNode.add(root);
  stackIndex.add(0);
  while (!stackNode.isEmpty()) {
    DirectNode node=stackNode.getLast();
    int index=stackIndex.removeLast();
    setVisited.add(node);
    for (; index < node.succs.size(); index++) {
      DirectNode succ=node.succs.get(index);
      if (!setVisited.contains(succ)) {
        stackIndex.add(index + 1);
        stackNode.add(succ);
        stackIndex.add(0);
        break;
      }
    }
    if (index == node.succs.size()) {
      lst.add(0,node);
      stackNode.removeLast();
    }
  }
}
