{
  Assert.assertTrue(file.exists());
  final AtomicBoolean done=new AtomicBoolean();
  final AtomicReference<IOException> error=new AtomicReference<>();
  final Semaphore semaphore=new Semaphore();
  semaphore.down();
  new Thread(new Runnable(){
    @Override public void run(){
      final JsonSchemaReader reader=new JsonSchemaReader();
      try {
        reader.read(new FileReader(file));
        done.set(true);
      }
 catch (      IOException e) {
        error.set(e);
      }
 finally {
        semaphore.up();
      }
    }
  }
,"read test json schema " + file.getName()).start();
  semaphore.waitFor(TimeUnit.SECONDS.toMillis(60));
  if (error.get() != null)   throw error.get();
  Assert.assertTrue("Reading test schema hung!",done.get());
}
