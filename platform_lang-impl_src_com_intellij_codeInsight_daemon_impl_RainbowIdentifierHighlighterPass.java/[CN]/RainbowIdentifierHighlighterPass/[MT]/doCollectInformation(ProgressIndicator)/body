{
  final List<HighlightInfo> infos=new ArrayList<>();
  myFile.accept(new PsiRecursiveElementWalkingVisitor(){
    @Override public void visitElement(    PsiElement e){
      final HighlightInfo attrs;
      if (e instanceof PsiReference) {
        attrs=getInfo(e.getText(),e);
      }
 else       if (e instanceof PsiNameIdentifierOwner) {
        PsiNameIdentifierOwner identifierOwner=(PsiNameIdentifierOwner)e;
        attrs=getInfo(identifierOwner.getName(),identifierOwner.getNameIdentifier());
      }
 else {
        attrs=null;
      }
      if (attrs != null) {
        infos.add(attrs);
      }
      super.visitElement(e);
    }
  }
);
  toHighlight=infos;
}
