{
  enableBreakpoints();
  mySuspendContext=suspendContext;
  myCurrentExecutionStack=suspendContext.getActiveExecutionStack();
  myCurrentStackFrame=myCurrentExecutionStack != null ? myCurrentExecutionStack.getTopFrame() : null;
  myCurrentPosition=myCurrentStackFrame != null ? myCurrentStackFrame.getSourcePosition() : null;
  myPaused.set(true);
  if (myCurrentPosition != null) {
    myDebuggerManager.setActiveSession(this,myCurrentPosition,false,getPositionIconRenderer(true));
  }
  adjustMouseTrackingCounter(myCurrentPosition,1);
  if (myShowTabOnSuspend.compareAndSet(true,false)) {
    UIUtil.invokeLaterIfNeeded(new Runnable(){
      @Override public void run(){
        initSessionTab(null);
        showSessionTab();
      }
    }
);
  }
  myDispatcher.getMulticaster().sessionPaused();
}
