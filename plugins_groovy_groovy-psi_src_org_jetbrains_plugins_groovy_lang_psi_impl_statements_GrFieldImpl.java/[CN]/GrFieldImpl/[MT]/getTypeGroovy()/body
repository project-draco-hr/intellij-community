{
  PsiType type=TypeInferenceHelper.getCurrentContext().getExpressionType(this,new Function<GrFieldImpl,PsiType>(){
    @Override public PsiType fun(    GrFieldImpl field){
      if (getDeclaredType() == null && getInitializerGroovy() == null) {
        final PsiType type=GrVariableEnhancer.getEnhancedType(field);
        if (type != null) {
          return type;
        }
      }
      return null;
    }
  }
);
  if (type != null) {
    return type;
  }
  return super.getTypeGroovy();
}
