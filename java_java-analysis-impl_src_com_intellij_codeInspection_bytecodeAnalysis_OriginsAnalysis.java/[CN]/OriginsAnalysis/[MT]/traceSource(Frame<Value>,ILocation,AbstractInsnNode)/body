{
  Location theSameLocation=new Location(result.local,result.slot);
  int insnType=insn.getType();
  if (insnType == AbstractInsnNode.LABEL || insnType == AbstractInsnNode.LINE || insnType == AbstractInsnNode.FRAME) {
    return theSameLocation;
  }
  int opCode=insn.getOpcode();
  if (result.local && !((opCode >= Opcodes.ISTORE && opCode <= Opcodes.ASTORE) || opCode == Opcodes.IINC)) {
    return theSameLocation;
  }
  Frame<SourceValue> preFrame=makePreFrame(postFrame);
  preFrame.execute(insn,myInterpreter);
  if (result.local) {
    SourceValue preVal=preFrame.getLocal(result.slot);
    if (preVal instanceof MyValue) {
      MyValue val=(MyValue)preVal;
      return new Location(val.local,val.slot);
    }
  }
 else {
    SourceValue preVal=preFrame.getStack(result.slot);
    if (preVal instanceof MyValue) {
      MyValue val=(MyValue)preVal;
      return new Location(val.local,val.slot);
    }
  }
  return null;
}
