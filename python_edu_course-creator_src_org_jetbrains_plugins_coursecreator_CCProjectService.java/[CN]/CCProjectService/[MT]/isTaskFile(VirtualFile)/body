{
  if (myCourse == null || file == null) {
    return false;
  }
  VirtualFile taskDir=file.getParent();
  if (taskDir != null) {
    String taskDirName=taskDir.getName();
    if (taskDirName.contains("task")) {
      VirtualFile lessonDir=taskDir.getParent();
      if (lessonDir != null) {
        String lessonDirName=lessonDir.getName();
        int lessonIndex=getIndex(lessonDirName,"lesson");
        List<Lesson> lessons=myCourse.getLessons();
        if (!indexIsValid(lessonIndex,lessons)) {
          return false;
        }
        Lesson lesson=lessons.get(lessonIndex);
        int taskIndex=getIndex(taskDirName,"task");
        List<Task> tasks=lesson.getTasklist();
        if (!indexIsValid(taskIndex,tasks)) {
          return false;
        }
        Task task=tasks.get(taskIndex);
        return task.isTaskFile(file.getName());
      }
    }
  }
  return false;
}
