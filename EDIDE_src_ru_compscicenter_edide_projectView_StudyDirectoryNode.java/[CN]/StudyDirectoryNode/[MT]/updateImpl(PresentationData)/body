{
  data.setIcon(StudyIcons.UncheckedTask);
  String valueName=myValue.getName();
  StudyTaskManager studyTaskManager=StudyTaskManager.getInstance(myProject);
  if (valueName.contains(Task.TASK_DIR)) {
    TaskFile file=null;
    for (    PsiElement child : myValue.getChildren()) {
      VirtualFile virtualFile=child.getContainingFile().getVirtualFile();
      file=studyTaskManager.getTaskFile(virtualFile);
      if (file != null) {
        break;
      }
    }
    if (file != null) {
      StudyStatus taskStatus=file.getTask().getStatus();
      if (taskStatus == StudyStatus.Failed) {
        data.setIcon(StudyIcons.FailedTask);
      }
      if (taskStatus == StudyStatus.Solved) {
        data.setIcon(StudyIcons.CheckedTask);
      }
    }
  }
  Course course=studyTaskManager.getCourse();
  if (course == null) {
    return;
  }
  if (valueName.contains(Lesson.LESSON_DIR)) {
    int lessonIndex=Integer.parseInt(valueName.substring(Lesson.LESSON_DIR.length())) - 1;
    Lesson lesson=course.getLessons().get(lessonIndex);
    if (lesson.getStatus() == StudyStatus.Solved) {
      data.setIcon(StudyIcons.CheckedTask);
    }
  }
  if (valueName.contains(Course.PLAYGROUND_DIR)) {
    if (myValue.getParent() != null) {
      if (!myValue.getParent().getName().contains(Course.PLAYGROUND_DIR)) {
        data.setPresentableText(Course.PLAYGROUND_DIR);
        data.setIcon(StudyIcons.Playground);
        return;
      }
    }
  }
  PsiDirectory parent=myValue.getParent();
  if (parent != null) {
    if (myProject.getName().equals(parent.getName()) && valueName.contains(Course.COURSE_DIR)) {
      data.setPresentableText(course.getName());
      return;
    }
  }
  data.setPresentableText(valueName);
}
