{
  super(project);
  myProject=project;
  init();
  setTitle("Create Virtual Environment");
  updateSdkList(sdk,allSdks);
  myAssociateCheckbox.setBorder(BorderFactory.createEmptyBorder(8,0,0,0));
  if (project.isDefault()) {
    myAssociateCheckbox.setSelected(false);
    myAssociateCheckbox.setVisible(false);
  }
 else   if (isNewProject) {
    myAssociateCheckbox.setText("Associate this virtual environment with the project being created");
  }
  setOKActionEnabled(false);
  myInitialPath="";
  final VirtualFile file=VirtualEnvSdkFlavor.getDefaultLocation();
  if (file != null)   myInitialPath=file.getPath();
 else {
    final String savedPath=PyPackageService.getInstance().getVirtualEnvBasePath();
    if (!StringUtil.isEmptyOrSpaces(savedPath))     myInitialPath=savedPath;
 else {
      final VirtualFile baseDir=myProject.getBaseDir();
      if (baseDir != null)       myInitialPath=baseDir.getPath();
    }
  }
  addUpdater(myName);
  new LocationNameFieldsBinding(project,myDestination,myName,myInitialPath,"Select Location for Virtual Environment");
  registerValidators(new FacetValidatorsManager(){
    public void registerValidator(    FacetEditorValidator validator,    JComponent... componentsToWatch){
    }
    public void validate(){
      checkValid();
    }
  }
);
  myMainPanel.setPreferredSize(new Dimension(300,50));
  checkValid();
}
