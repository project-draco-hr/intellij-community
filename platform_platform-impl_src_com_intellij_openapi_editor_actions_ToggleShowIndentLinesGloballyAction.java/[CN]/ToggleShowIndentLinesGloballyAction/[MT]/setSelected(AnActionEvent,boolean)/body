{
  EditorSettingsExternalizable.getInstance().setIndentGuidesShown(state);
  Editor editor=CommonDataKeys.EDITOR.getData(e.getDataContext());
  if (editor != null && editor.getSettings().isIndentGuidesShown() != state) {
    editor.getSettings().setIndentGuidesShown(state);
  }
  Project project=CommonDataKeys.PROJECT.getData(e.getDataContext());
  if (project != null) {
    DaemonCodeAnalyzer.getInstance(project).restart();
  }
}
