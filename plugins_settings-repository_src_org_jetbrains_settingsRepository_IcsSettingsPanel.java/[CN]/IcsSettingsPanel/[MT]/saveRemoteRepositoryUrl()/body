{
  try {
    String url=StringUtil.nullize(urlTextField.getText());
    if (url != null && !icsManager.getRepositoryService().checkUrl(url,getContentPane())) {
      return false;
    }
    RepositoryManager repositoryManager=icsManager.getRepositoryManager();
    repositoryManager.createRepositoryIfNeed();
    repositoryManager.setUpstream(url,null);
    return true;
  }
 catch (  Throwable e) {
    SettingsRepositoryPackage.getLOG().warn(e);
    Messages.showErrorDialog(getContentPane(),IcsBundle.OBJECT$.message("set.upstream.failed.message",e.getMessage()),IcsBundle.OBJECT$.message("set.upstream.failed.title"));
    return false;
  }
}
