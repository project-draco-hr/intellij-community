{
  List<ChangeListFilteringStrategy> result=ContainerUtil.newArrayList();
  result.add(ChangeListFilteringStrategy.NONE);
  result.add(new StructureFilteringStrategy(myProject));
  boolean addNameFilter=false;
  for (  AbstractVcs vcs : ProjectLevelVcsManager.getInstance(myProject).getAllActiveVcss()) {
    CommittedChangesProvider provider=vcs.getCommittedChangesProvider();
    if (provider != null) {
      addNameFilter=true;
      for (      ChangeListColumn column : provider.getColumns()) {
        if (ChangeListColumn.isCustom(column)) {
          result.add(new ColumnFilteringStrategy(column,provider.getClass()));
        }
      }
    }
  }
  if (addNameFilter) {
    result.add(new ColumnFilteringStrategy(ChangeListColumn.NAME,CommittedChangesProvider.class));
  }
  return result;
}
