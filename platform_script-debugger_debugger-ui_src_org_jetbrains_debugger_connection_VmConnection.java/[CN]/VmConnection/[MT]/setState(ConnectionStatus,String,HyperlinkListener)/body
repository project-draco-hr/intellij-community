{
  ConnectionState newState=new ConnectionState(status,message,messageLinkListener);
  ConnectionState oldState=state.getAndSet(newState);
  if (oldState == null || oldState.getStatus() != status) {
    if (status == ConnectionStatus.CONNECTION_FAILED) {
      opened.reject(newState.getMessage());
    }
    connectionDispatcher.getMulticaster().statusChanged(status);
  }
}
