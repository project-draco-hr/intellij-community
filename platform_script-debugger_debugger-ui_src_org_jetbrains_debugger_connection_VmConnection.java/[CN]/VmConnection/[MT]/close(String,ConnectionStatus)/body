{
  if (!closed.compareAndSet(false,true)) {
    return;
  }
  if (opened.getState() == Promise.State.PENDING) {
    opened.setError(Promise.createError("closed"));
  }
  setState(status,message);
  Disposer.dispose(this,false);
}
