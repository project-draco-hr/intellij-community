{
  Project project=e.getData(CommonDataKeys.PROJECT);
  if (project == null) {
    return;
  }
  DebuggerManagerEx debugManager=DebuggerManagerEx.getInstanceEx(project);
  if (debugManager == null) {
    return;
  }
  final BreakpointManager manager=debugManager.getBreakpointManager();
  final PlaceInDocument place=getPlace(e);
  if (place != null && DocumentUtil.isValidOffset(place.getOffset(),place.getDocument())) {
    Breakpoint breakpoint=manager.findBreakpoint(place.getDocument(),place.getOffset(),MethodBreakpoint.CATEGORY);
    if (breakpoint == null) {
      manager.addMethodBreakpoint(place.getDocument(),place.getDocument().getLineNumber(place.getOffset()));
    }
 else {
      manager.removeBreakpoint(breakpoint);
    }
  }
}
