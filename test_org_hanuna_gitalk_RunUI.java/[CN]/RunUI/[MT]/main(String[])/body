{
  Process p=Runtime.getRuntime().exec("git log --all --date-order --format=%h|-%p|-%an|-%ct|-%s");
  BufferedReader r=new BufferedReader(new InputStreamReader(p.getInputStream()));
  GitLogParser parser=new GitLogParser(r);
  Timer t=new Timer("log parse");
  CommitsModel commitsModel=parser.getFirstPart();
  t.print();
  Timer precalc=new Timer("precalculate");
  CommitRowListBuilder builder=new CommitRowListBuilder(commitsModel);
  ReadOnlyList<CommitRow> commitRows=builder.build();
  precalc.print();
  GitAlkUI ui=new GitAlkUI(commitRows,commitsModel);
  ui.showUi();
  if (!commitsModel.isFullModel()) {
    Timer fullLogParse=new Timer("full log parse");
    CommitsModel fullCommitsModel=parser.getFullModel();
    fullLogParse.print();
    Timer fullprecalc=new Timer("full precalculate");
    CommitRowListBuilder fullBuilder=new CommitRowListBuilder(fullCommitsModel);
    ReadOnlyList<CommitRow> fullCommitRow=fullBuilder.build();
    fullprecalc.print();
    ui.update(fullCommitRow,fullCommitsModel);
  }
}
