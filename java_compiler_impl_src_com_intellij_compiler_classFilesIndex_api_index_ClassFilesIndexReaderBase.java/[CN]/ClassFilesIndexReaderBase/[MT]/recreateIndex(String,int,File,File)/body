{
  if (indexDir.exists()) {
    FileUtil.delete(indexDir);
  }
  try {
    FileUtil.writeToFile(new File(ClassFilesIndexStorageBase.getIndexDir(canonicalIndexName,projectBuildSystemDirectory),VERSION_FILE_NAME),String.valueOf(indexVersion));
  }
 catch (  final IOException e) {
    throw new RuntimeException(e);
  }
  IndexState.NOT_EXIST.save(indexDir);
}
