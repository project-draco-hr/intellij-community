{
  if (rType instanceof PsiIntersectionType && TypeConversionUtil.isAssignable(lType,rType)) {
    final PsiClass psiClass=PsiUtil.resolveClassInType(lType);
    if (psiClass != null && psiClass.hasModifierProperty(PsiModifier.FINAL)) {
      final PsiType[] conjuncts=((PsiIntersectionType)rType).getConjuncts();
      for (      PsiType conjunct : conjuncts) {
        if (!TypeConversionUtil.isAssignable(conjunct,lType)) {
          final String descriptionTemplate="Though assignment is formal correct, it could lead to ClassCastException at runtime. Expected: '" + lType.getPresentableText() + "', actual: '"+ rType.getPresentableText()+ "'";
          myHolder.registerProblem(elementToHighlight,descriptionTemplate);
        }
      }
    }
  }
}
