{
  startOffset=Math.max(0,startOffset);
  IntervalTreeImpl.PeekableIterator<RangeHighlighterEx> exact=myHighlighterTree.overlappingIterator(new TextRangeInterval(startOffset,Math.max(startOffset,endOffset)));
  IntervalTreeImpl.PeekableIterator<RangeHighlighterEx> lines=myHighlighterTreeForLines.overlappingIterator(roundToLineBoundaries(startOffset,endOffset));
  return merge(exact,lines);
}
