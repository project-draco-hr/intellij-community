{
  UpdateSettings settings=UpdateSettings.getInstance();
  boolean wasEnabled=settings.isCheckNeeded();
  settings.setCheckNeeded(myUpdatesSettingsPanel.myCheckForUpdates.isSelected());
  if (wasEnabled != settings.isCheckNeeded()) {
    UpdateCheckerComponent checker=ApplicationManager.getApplication().getComponent(UpdateCheckerComponent.class);
    if (checker != null) {
      if (wasEnabled) {
        checker.cancelChecks();
      }
 else {
        checker.queueNextCheck();
      }
    }
  }
  settings.setUpdateChannelType(myUpdatesSettingsPanel.getSelectedChannelType().getCode());
  settings.setSecureConnection(myUpdatesSettingsPanel.myUseSecureConnection.isSelected());
}
