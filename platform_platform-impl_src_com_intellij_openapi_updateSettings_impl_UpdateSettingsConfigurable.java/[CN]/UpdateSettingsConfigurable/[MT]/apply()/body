{
  if (myPanel.myUseSecureConnection.isSelected() && !NetUtils.isSniEnabled()) {
    throw new ConfigurationException(IdeBundle.message("update.sni.disabled.error"));
  }
  boolean wasEnabled=mySettings.isCheckNeeded();
  mySettings.setCheckNeeded(myPanel.myCheckForUpdates.isSelected());
  if (wasEnabled != mySettings.isCheckNeeded()) {
    UpdateCheckerComponent checker=ApplicationManager.getApplication().getComponent(UpdateCheckerComponent.class);
    if (checker != null) {
      if (wasEnabled) {
        checker.cancelChecks();
      }
 else {
        checker.queueNextCheck();
      }
    }
  }
  mySettings.setSelectedChannelStatus(myPanel.getSelectedChannelType());
  mySettings.setSecureConnection(myPanel.myUseSecureConnection.isSelected());
}
