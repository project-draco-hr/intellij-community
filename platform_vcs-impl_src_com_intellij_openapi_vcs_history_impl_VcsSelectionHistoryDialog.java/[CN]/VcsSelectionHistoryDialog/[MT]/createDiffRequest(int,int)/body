{
  int count=myRevisions.size();
  if (revIndex1 == count && revIndex2 == count)   return NoDiffRequest.INSTANCE;
  BlockData blockData=myBlockLoader.getLoadedData();
  DiffContent content1=createDiffContent(revIndex1,blockData);
  DiffContent content2=createDiffContent(revIndex2,blockData);
  String title1=createDiffContentTitle(revIndex1);
  String title2=createDiffContentTitle(revIndex2);
  if (content1 != null && content2 != null) {
    return new SimpleDiffRequest(null,content1,content2,title1,title2);
  }
  if (blockData.isLoading()) {
    return new LoadingDiffRequest();
  }
 else {
    return new MessageDiffRequest(canNoLoadMessage(blockData.getException()));
  }
}
