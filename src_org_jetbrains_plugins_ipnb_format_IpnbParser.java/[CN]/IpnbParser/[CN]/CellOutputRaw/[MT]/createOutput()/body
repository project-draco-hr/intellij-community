{
  final CellOutput cellOutput;
  if (png != null) {
    cellOutput=new PngCellOutput(png,text);
  }
 else   if (jpeg != null) {
    cellOutput=new JpegCellOutput(jpeg,text);
  }
 else   if (latex != null) {
    cellOutput=new LatexCellOutput(latex,prompt_number,text);
  }
 else   if (stream != null) {
    cellOutput=new StreamCellOutput(stream,text);
  }
 else   if (html != null) {
    cellOutput=new HtmlCellOutput(html,text);
  }
 else   if ("pyerr".equals(output_type)) {
    cellOutput=new ErrorCellOutput(evalue,ename,traceback);
  }
 else   if ("pyout".equals(output_type)) {
    cellOutput=new OutCellOutput(text,prompt_number);
  }
 else {
    cellOutput=new CellOutput(text);
  }
  return cellOutput;
}
