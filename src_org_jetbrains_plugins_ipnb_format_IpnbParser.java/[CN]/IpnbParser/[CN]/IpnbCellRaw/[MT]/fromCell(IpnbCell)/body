{
  final IpnbCellRaw raw=new IpnbCellRaw();
  if (cell instanceof MarkdownCell) {
    raw.cell_type="markdown";
    raw.source=((MarkdownCell)cell).getSource();
  }
 else   if (cell instanceof CodeCell) {
    raw.cell_type="code";
    final ArrayList<CellOutputRaw> outputRaws=new ArrayList<CellOutputRaw>();
    for (    CellOutput cellOutput : ((CodeCell)cell).getCellOutputs()) {
      outputRaws.add(CellOutputRaw.fromOutput(cellOutput));
    }
    raw.outputs=outputRaws.toArray(new CellOutputRaw[outputRaws.size()]);
    raw.language=((CodeCell)cell).getLanguage();
    raw.input=((CodeCell)cell).getSource();
    raw.prompt_number=((CodeCell)cell).getPromptNumber();
  }
 else   if (cell instanceof RawCell) {
    raw.cell_type="raw";
  }
 else   if (cell instanceof HeadingCell) {
    raw.cell_type="heading";
    raw.source=((HeadingCell)cell).getSource();
    raw.level=((HeadingCell)cell).getLevel();
  }
  return raw;
}
