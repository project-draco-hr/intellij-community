{
  IpnbFileRaw rawFile=gson.fromJson(fileText,IpnbFileRaw.class);
  List<IpnbCell> cells=new ArrayList<IpnbCell>();
  final IpnbWorksheet[] worksheets=rawFile.worksheets;
  for (  IpnbWorksheet worksheet : worksheets) {
    final IpnbCellRaw[] rawCells=worksheet.cells;
    for (    IpnbCellRaw rawCell : rawCells) {
      if (rawCell.cell_type.equals("markdown")) {
        final IpnbCell cell=new MarkdownCell();
        cells.add(cell);
      }
 else       if (rawCell.cell_type.equals("code")) {
        final IpnbCell cell=new CodeCell();
        cells.add(cell);
      }
 else       if (rawCell.cell_type.equals("raw")) {
        final IpnbCell cell=new RawCell();
        cells.add(cell);
      }
 else       if (rawCell.cell_type.equals("heading")) {
        final IpnbCell cell=new HeadingCell();
        cells.add(cell);
      }
    }
  }
  return new IpnbFile(cells);
}
