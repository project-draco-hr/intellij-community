{
  boolean[] isTagRequired=new boolean[TAGS_TO_CHECK.length];
  boolean[] isTagPresent=new boolean[TAGS_TO_CHECK.length];
  boolean someTagsAreRequired=false;
  for (int i=0; i < TAGS_TO_CHECK.length; i++) {
    someTagsAreRequired|=(isTagRequired[i]=tagRequired.test(TAGS_TO_CHECK[i]));
  }
  if (!someTagsAreRequired)   return;
  for (  PsiDocTag tag : tags) {
    int p=ArrayUtil.find(TAGS_TO_CHECK,tag.getName());
    if (p >= 0)     isTagPresent[p]=true;
  }
  for (int i=0; i < TAGS_TO_CHECK.length; i++) {
    if (isTagRequired[i] && !isTagPresent[i]) {
      String tagName=TAGS_TO_CHECK[i];
      String message=InspectionsBundle.message("inspection.javadoc.problem.missing.tag","<code>@" + tagName + "</code>");
      holder.problem(toHighlight,message,holder.addMissingTagFix(tagName,""));
    }
  }
}
