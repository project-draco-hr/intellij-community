{
  setDownloadStatus(true);
  final Application application=ApplicationManager.getApplication();
  application.executeOnPooledThread(new Runnable(){
    @Override public void run(){
      try {
        final Collection<String> packageNames=PyPIPackageUtil.INSTANCE.getPackageNames();
        application.invokeLater(new Runnable(){
          @Override public void run(){
            for (            String name : packageNames) {
              myPackagesModel.add(PyPIPackageUtil.PYPI_URL,name);
            }
            myPackagesModel.add(Lists.newArrayList(PyPIPackageUtil.INSTANCE.getAdditionalPackageNames()));
            setDownloadStatus(false);
          }
        }
,ModalityState.stateForComponent(myPackages));
      }
 catch (      final IOException e) {
        application.invokeLater(new Runnable(){
          @Override public void run(){
            Messages.showErrorDialog("IO Error occurred. Could not reach url " + e.getMessage() + ". Please, check your internet connection.","Packages");
            setDownloadStatus(false);
          }
        }
,ModalityState.stateForComponent(myPackages));
      }
    }
  }
);
}
