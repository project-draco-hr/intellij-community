{
  myOptionsCheckBox.setEnabled(myPackages.getSelectedIndex() >= 0);
  myVersionCheckBox.setEnabled(myPackages.getSelectedIndex() >= 0);
  myOptionsCheckBox.setSelected(false);
  myVersionCheckBox.setSelected(false);
  myVersionComboBox.setEnabled(false);
  myOptionsField.setEnabled(false);
  myDescriptionTextArea.setText("");
  setDownloadStatus(true);
  final Object pyPackage=myPackages.getSelectedValue();
  if (pyPackage instanceof ComparablePair) {
    final String packageName=((ComparablePair)pyPackage).getFirst();
    myVersionComboBox.removeAllItems();
    if (myVersionCheckBox.isEnabled()) {
      PyPIPackageUtil.INSTANCE.usePackageReleases(packageName,new AsyncCallback(){
        @Override public void handleResult(        Object result,        URL url,        String method){
          final List<String> releases=(List<String>)result;
          PyPIPackageUtil.INSTANCE.addPackageReleases(packageName,releases);
          ApplicationManager.getApplication().invokeLater(new Runnable(){
            @Override public void run(){
              myVersionComboBox.removeAllItems();
              for (              String release : releases) {
                myVersionComboBox.addItem(release);
              }
            }
          }
,ModalityState.any());
        }
        @Override public void handleError(        Exception exception,        URL url,        String method){
        }
      }
);
    }
    myInstallButton.setEnabled(true);
    PyPIPackageUtil.INSTANCE.fillPackageDetails(packageName,new AsyncCallback(){
      @Override public void handleResult(      Object result,      URL url,      String method){
        final Hashtable details=(Hashtable)result;
        PyPIPackageUtil.INSTANCE.addPackageDetails(packageName,details);
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          @Override public void run(){
            addDetails(details);
          }
        }
,ModalityState.any());
      }
      @Override public void handleError(      Exception exception,      URL url,      String method){
      }
    }
);
  }
 else {
    myInstallButton.setEnabled(false);
  }
  setDownloadStatus(false);
}
