{
  if (vcs.getProject().isDefault())   return null;
  final RootUrlInfo rootForUrl=vcs.getSvnFileUrlMapping().getWcRootForUrl(fullPath);
  FilePath result=null;
  if (rootForUrl != null) {
    String relativePath=SvnUtil.getRelativeUrl(rootForUrl.getUrl(),fullPath);
    File file=new File(rootForUrl.getPath(),relativePath);
    VirtualFile virtualFile=LocalFileSystem.getInstance().findFileByIoFile(file);
    result=virtualFile != null ? VcsUtil.getFilePath(virtualFile) : VcsUtil.getFilePath(file,detector.fun(file).booleanValue());
  }
  return result;
}
