{
  if (obj == this)   return true;
  if (!(obj instanceof DfaMemoryStateImpl))   return false;
  DfaMemoryStateImpl that=(DfaMemoryStateImpl)obj;
  if (myCachedHash != null && that.myCachedHash != null && !myCachedHash.equals(that.myCachedHash))   return false;
  return equalsSuperficially(that) && equalsByUnknownVariables(that) && equalsByRelations(that)&& equalsByVariableStates(that);
}
