{
  if (isUnknownState(dfaLeft) || isUnknownState(dfaRight)) {
    return true;
  }
  Integer c1Index=getOrCreateEqClassIndex(dfaLeft);
  Integer c2Index=getOrCreateEqClassIndex(dfaRight);
  if (c1Index == null || c2Index == null) {
    return true;
  }
  if (!isNegated) {
    if (c1Index.equals(c2Index))     return true;
    if (!uniteClasses(c1Index,c2Index))     return false;
    for (    long encodedPair : myDistinctClasses.toArray()) {
      SortedIntSet c1=myEqClasses.get(low(encodedPair));
      SortedIntSet c2=myEqClasses.get(high(encodedPair));
      if (ContainerUtil.findInstance(getEqClassValues(c1),DfaConstValue.class) != null && ContainerUtil.findInstance(getEqClassValues(c2),DfaConstValue.class) != null) {
        myDistinctClasses.remove(encodedPair);
      }
    }
  }
 else {
    if (c1Index.equals(c2Index))     return false;
    makeClassesDistinct(c1Index,c2Index);
  }
  return true;
}
