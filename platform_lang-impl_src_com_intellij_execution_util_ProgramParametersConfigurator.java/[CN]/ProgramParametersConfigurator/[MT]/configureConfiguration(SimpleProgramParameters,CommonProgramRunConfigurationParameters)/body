{
  Project project=configuration.getProject();
  Module module=getModule(configuration);
  parameters.getProgramParametersList().addParametersString(expandPath(configuration.getProgramParameters(),module,project));
  parameters.setWorkingDirectory(getWorkingDir(configuration,project,module));
  Map<String,String> envs=new HashMap<String,String>(configuration.getEnvs());
  EnvironmentUtil.inlineParentOccurrences(envs);
  for (  Map.Entry<String,String> each : envs.entrySet()) {
    each.setValue(expandPath(each.getValue(),module,project));
  }
  parameters.setEnv(envs);
  parameters.setPassParentEnvs(configuration.isPassParentEnvs());
}
