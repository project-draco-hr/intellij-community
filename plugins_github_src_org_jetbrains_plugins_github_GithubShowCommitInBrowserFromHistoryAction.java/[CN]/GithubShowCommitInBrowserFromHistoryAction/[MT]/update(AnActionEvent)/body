{
  Project project=e.getData(CommonDataKeys.PROJECT);
  FilePath filePath=e.getData(VcsDataKeys.FILE_PATH);
  VcsFileRevision fileRevision=e.getData(VcsDataKeys.VCS_FILE_REVISION);
  if (project == null || filePath == null || fileRevision == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  GitRepository repository=GitUtil.getRepositoryManager(project).getRepositoryForFile(filePath);
  boolean isOnGithub=repository != null && GithubUtil.isRepositoryOnGitHub(repository);
  e.getPresentation().setEnabledAndVisible(isOnGithub && fileRevision instanceof GitFileRevision);
}
