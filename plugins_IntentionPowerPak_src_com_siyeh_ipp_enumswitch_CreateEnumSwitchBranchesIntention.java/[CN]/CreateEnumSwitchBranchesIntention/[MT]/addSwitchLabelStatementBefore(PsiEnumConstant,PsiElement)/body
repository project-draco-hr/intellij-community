{
  if (anchor instanceof PsiSwitchLabelStatement) {
    PsiElement sibling=PsiTreeUtil.skipSiblingsBackward(anchor,PsiWhiteSpace.class);
    while (sibling instanceof PsiSwitchLabelStatement) {
      anchor=sibling;
      sibling=PsiTreeUtil.skipSiblingsBackward(anchor,PsiWhiteSpace.class);
    }
  }
  final PsiElement parent=anchor.getParent();
  final PsiElementFactory factory=JavaPsiFacade.getElementFactory(anchor.getProject());
  final PsiStatement caseStatement=factory.createStatementFromText("case " + missingEnumElement.getName() + ":",anchor);
  parent.addBefore(caseStatement,anchor);
  final PsiStatement breakStatement=factory.createStatementFromText("break;",anchor);
  parent.addBefore(breakStatement,anchor);
}
