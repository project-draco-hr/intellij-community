{
  final VirtualFile file=fileContent.getVirtualFile();
  if (myFilesToUpdate.contains(file)) {
    try {
      if (!file.isValid() || isTooLarge(file)) {
        removeDataFromIndicesForFile(file);
      }
 else {
        doIndexFileContent(project,fileContent);
      }
    }
  finally {
      IndexingStamp.flushCache(file);
    }
    myFilesToUpdate.remove(file);
    return true;
  }
  return false;
}
