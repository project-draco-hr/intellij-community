{
  if (!myIndexableSetToProjectMap.containsKey(set))   return;
  myIndexableSets.remove(set);
  myIndexableSetToProjectMap.remove(set);
  for (  VirtualFile file : myChangedFilesCollector.getAllFilesToUpdate()) {
    if (!file.isValid()) {
      removeDataFromIndicesForFile(file);
      myChangedFilesCollector.myFilesToUpdate.remove(file);
    }
 else     if (getIndexableSetForFile(file) == null) {
      myChangedFilesCollector.myFilesToUpdate.remove(file);
    }
  }
  IndexingStamp.flushCaches();
}
