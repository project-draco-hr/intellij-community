{
  PsiFile psiFile;
  AccessToken token=ReadAction.start();
  try {
    psiFile=PsiManager.getInstance(project).findFile(file);
  }
  finally {
    token.finish();
  }
  return psiFile != null && !(psiFile instanceof PsiBinaryFile) ? WebBrowserServiceImpl.getUrlForContext(psiFile) : null;
}
