{
  final Key key=myRegisteredKeys.get(attribute);
  if (key != null) {
    return key;
  }
  final String completeAttribute=attribute;
  if (attribute.startsWith("\u001B[")) {
    attribute=attribute.substring(2);
  }
 else {
    attribute=StringUtil.trimStart(attribute,"[");
  }
  attribute=StringUtil.trimEnd(attribute,"m");
  if (attribute.equals("0")) {
    return ProcessOutputTypes.STDOUT;
  }
  TextAttributes attrs=new AnsiTextAttributes(attribute);
  Key newKey=new Key(completeAttribute);
  ConsoleViewContentType contentType=new ConsoleViewContentType(completeAttribute,attrs);
  ConsoleViewContentType.registerNewConsoleViewType(newKey,contentType);
  myRegisteredKeys.put(completeAttribute,newKey);
  return newKey;
}
