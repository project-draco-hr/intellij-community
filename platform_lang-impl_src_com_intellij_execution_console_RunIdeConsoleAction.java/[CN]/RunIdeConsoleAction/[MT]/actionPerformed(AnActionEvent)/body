{
  List<String> languages=IdeScriptEngineManager.getInstance().getLanguages();
  if (languages.size() == 1) {
    runConsole(e,languages.iterator().next());
    return;
  }
  DefaultActionGroup actions=new DefaultActionGroup(ContainerUtil.map(languages,new NotNullFunction<String,AnAction>(){
    @NotNull @Override public AnAction fun(    final String language){
      return new DumbAwareAction(language){
        @Override public void actionPerformed(        @NotNull AnActionEvent e){
          runConsole(e,language);
        }
      }
;
    }
  }
));
  JBPopupFactory.getInstance().createActionGroupPopup("Script Engine",actions,e.getDataContext(),JBPopupFactory.ActionSelectionAid.NUMBERING,false).showInBestPositionFor(e.getDataContext());
}
