{
  super(descriptor,presentation);
  myElement=element;
  myDescriptor=descriptor;
  myToolWrapper=toolWrapper;
  final InspectionProfileImpl profile=presentation.getContext().getCurrentProfile();
  myLevel=descriptor instanceof ProblemDescriptor ? profile.getErrorLevel(HighlightDisplayKey.find(toolWrapper.getShortName()),((ProblemDescriptor)descriptor).getStartElement()) : profile.getTools(toolWrapper.getShortName(),presentation.getContext().getProject()).getLevel();
  if (doInit) {
    init(presentation.getContext().getProject());
  }
  myLineNumber=myDescriptor instanceof ProblemDescriptor ? ((ProblemDescriptor)myDescriptor).getLineNumber() : (lineNumberCounter == null ? -1 : lineNumberCounter.getAsInt());
}
