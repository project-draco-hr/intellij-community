{
  PyImportElement src=item.getImportElement();
  final Project project=myTarget.getProject();
  final PyElementGenerator gen=PyElementGenerator.getInstance(project);
  if (src != null) {
    PsiElement parent=src.getParent();
    if (parent instanceof PyFromImportStatement) {
      PsiElement new_elt=gen.createImportElement(myName);
      PyUtil.addListNode(parent,new_elt,null,false,true);
    }
 else {
      myTarget.replace(gen.createExpressionFromText(src.getVisibleName() + "." + myName));
    }
  }
 else {
    AddImportHelper.ImportPriority priority=AddImportHelper.getImportPriority(myTarget,item.getFile());
    if (isRoot(project,item.getFile())) {
      AddImportHelper.addImportStatement(myTarget.getContainingFile(),myName,null,priority);
    }
 else     if (myUseQualifiedImport) {
      AddImportHelper.addImportStatement(myTarget.getContainingFile(),item.getPath(),null,priority);
      String qual_name;
      if (item.getAsName() != null)       qual_name=item.getAsName();
 else       qual_name=item.getPath();
      myTarget.replace(gen.createExpressionFromText(qual_name + "." + myName));
    }
 else {
      AddImportHelper.addImportFrom(myTarget.getContainingFile(),item.getPath(),myName,priority);
    }
  }
}
