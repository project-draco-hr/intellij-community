{
  if (myReference instanceof PsiJavaCodeReferenceElementImpl) {
    PsiAnnotation[] annotations=getAnnotations();
    if (!annotated || annotations.length == 0)     annotations=null;
    return ((PsiJavaCodeReferenceElementImpl)myReference).getCanonicalText(annotated,annotations);
  }
 else {
    return myReference.getCanonicalText();
  }
}
