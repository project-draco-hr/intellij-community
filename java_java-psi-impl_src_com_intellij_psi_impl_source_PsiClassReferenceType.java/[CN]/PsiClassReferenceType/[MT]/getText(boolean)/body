{
  if (myReference instanceof PsiJavaCodeReferenceElementImpl) {
    PsiAnnotation[] annotations=getAnnotations();
    if (!annotated || annotations.length == 0)     annotations=null;
    PsiJavaCodeReferenceElementImpl impl=(PsiJavaCodeReferenceElementImpl)myReference;
    return impl.getCanonicalText(annotated,annotations,impl.getContainingFile());
  }
  return myReference.getCanonicalText();
}
