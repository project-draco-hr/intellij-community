{
  if (unwrapSingleTopLevelFolder) {
    File[] topLevelFiles=unzipToDir.listFiles();
    File dirToMove;
    if (topLevelFiles != null && topLevelFiles.length == 1 && topLevelFiles[0].isDirectory()) {
      dirToMove=topLevelFiles[0];
    }
 else {
      dirToMove=unzipToDir;
    }
    if (!FileUtil.moveDirWithContent(dirToMove,targetDir)) {
      FileUtil.copyDirContent(dirToMove,targetDir);
    }
    FileUtil.delete(unzipToDir);
  }
}
