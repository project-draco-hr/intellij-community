{
  myCompilerManager.addCompilableFileType(GroovyFileType.GROOVY_FILE_TYPE);
  myProject.getMessageBus().connect().subscribe(FileEditorManagerListener.FILE_EDITOR_MANAGER,new FileEditorManagerAdapter(){
    @Override public void fileOpened(    @NotNull FileEditorManager source,    @NotNull final VirtualFile file){
      if (file.getName().endsWith(".java") && file.getPath().contains(GROOVY_STUBS)) {
        final PsiClass psiClass=findClassByStub(myProject,file);
        if (psiClass != null) {
          final FileEditor[] editors=myFileEditorManager.getEditors(file);
          if (editors.length != 0) {
            decorateStubFile(file,myFileEditorManager,editors[0]);
          }
        }
      }
    }
  }
);
}
