{
  myProject=context.getProject();
  myContext=context;
  myPropertyRequest=propertyRequest;
  myContentViewer=wrappingViewer;
  myPropertyRequest.onAssigned(true);
  mySettings=initSettings(context);
  mySplitter=new MySplitter("Property Changes");
  mySplitter.setProportion(mySettings.getSplitterProportion());
  mySplitter.setFirstComponent(myContentViewer.getComponent());
  myNotificationPanel=new ModifiablePanel();
  MyPropertyContext propertyContext=initPropertyContext(context);
  myPropertiesViewer=createPropertiesViewer(propertyRequest,propertyContext);
  myPanel=new JPanel(new BorderLayout());
  myPanel.add(mySplitter,BorderLayout.CENTER);
  myPanel.add(myNotificationPanel,BorderLayout.SOUTH);
  DataManager.registerDataProvider(myPanel,new DataProvider(){
    @Override public Object getData(    @NonNls String dataId){
      DataProvider propertiesDataProvider=DataManagerImpl.getDataProviderEx(myPropertiesViewer.getComponent());
      DataProvider contentDataProvider=DataManagerImpl.getDataProviderEx(myContentViewer.getComponent());
      DataProvider defaultDP=myPropertiesViewerFocused ? propertiesDataProvider : contentDataProvider;
      DataProvider fallbackDP=myPropertiesViewerFocused ? contentDataProvider : propertiesDataProvider;
      return DiffUtil.getData(defaultDP,fallbackDP,dataId);
    }
  }
);
  updatePropertiesPanel();
}
