{
  myProject=context.getProject();
  myContext=context;
  myPropertyRequest=propertyRequest;
  myContentViewer=wrappingViewer;
  myPropertyRequest.onAssigned(true);
  mySettings=initSettings(context);
  mySplitter=new MySplitter("Property Changes");
  mySplitter.setProportion(mySettings.getSplitterProportion());
  mySplitter.setFirstComponent(myContentViewer.getComponent());
  myNotificationPanel=new ModifiablePanel();
  MyPropertyContext propertyContext=initPropertyContext(context);
  myPropertiesViewer=createPropertiesViewer(propertyRequest,propertyContext);
  myPanel=new JPanel(new BorderLayout());
  myPanel.add(mySplitter,BorderLayout.CENTER);
  myPanel.add(myNotificationPanel,BorderLayout.SOUTH);
  DataManager.registerDataProvider(myPanel,new DataProvider(){
    @Override public Object getData(    @NonNls String dataId){
      DataProvider propertiesDataProvider=DiffUtil.getDataProvider(myPropertiesViewer.getComponent());
      DataProvider contentDataProvider=DiffUtil.getDataProvider(myContentViewer.getComponent());
      if (myPropertiesViewerFocused) {
        return DiffUtil.getData(propertiesDataProvider,contentDataProvider,dataId);
      }
 else {
        return DiffUtil.getData(contentDataProvider,propertiesDataProvider,dataId);
      }
    }
  }
);
  updatePropertiesPanel();
}
