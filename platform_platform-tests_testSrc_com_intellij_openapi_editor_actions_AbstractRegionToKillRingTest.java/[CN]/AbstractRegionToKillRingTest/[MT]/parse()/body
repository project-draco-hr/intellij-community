{
  SelectionModel selectionModel=myEditor.getSelectionModel();
  if (!selectionModel.hasSelection()) {
    return new Pair<>(null,myEditor.getDocument().getText());
  }
  CharSequence text=myEditor.getDocument().getCharsSequence();
  String selectedText=text.subSequence(selectionModel.getSelectionStart(),selectionModel.getSelectionEnd()).toString();
  StringBuilder nonSelectedText=new StringBuilder();
  nonSelectedText.append(text.subSequence(0,selectionModel.getSelectionStart())).append(text.subSequence(selectionModel.getSelectionEnd(),text.length()));
  return new Pair<>(selectedText,nonSelectedText.toString());
}
