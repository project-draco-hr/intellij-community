{
  ToolWindow toolWindow=ToolWindowManager.getInstance(project).getToolWindow(PythonConsoleToolWindowFactory.ID);
  PydevConsoleRunner runner=PydevConsoleRunner.runPythonConsole(project,context,toolWindow != null ? PythonConsoleToolWindow.toolWindowConsole(toolWindow) : PydevConsoleRunner.factory());
  runner.addConsoleListener(new PydevConsoleRunner.ConsoleListener(){
    @Override public void handleConsoleInitialized(    LanguageConsoleView consoleView){
      if (consoleView instanceof PyCodeExecutor) {
        consumer.consume((PyCodeExecutor)consoleView);
      }
    }
  }
);
}
