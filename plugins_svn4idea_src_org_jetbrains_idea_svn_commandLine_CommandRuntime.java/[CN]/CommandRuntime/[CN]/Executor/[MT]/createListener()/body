{
  return new LineCommandAdapter(){
    @Override public void onLineAvailable(    String line,    Key outputType){
      myListener.onLineAvailable(line,outputType);
      if (myListener.isCanceled()) {
        LOG.info("Cancelling command: " + myCommand.getCommandText());
        myCommand.destroyProcess();
      }
    }
    @Override public void processTerminated(    int exitCode){
      myListener.processTerminated(exitCode);
    }
    @Override public void startFailed(    Throwable exception){
      myListener.startFailed(exception);
    }
  }
;
}
