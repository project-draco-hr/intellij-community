{
  final CommandExecutor executor;
  if (!Registry.is("svn.use.terminal")) {
    command.putIfNotPresent("--non-interactive");
    executor=new CommandExecutor(exePath,command);
  }
 else {
    command.put("--force-interactive");
    executor=new TerminalExecutor(exePath,command);
    ((TerminalExecutor)executor).addInteractiveListener(new TerminalSshModule(this,executor));
  }
  return executor;
}
