{
  Editor editor=context.getEditor();
  if (context.getCompletionChar() == ' ')   return;
  Project project=editor.getProject();
  if (project != null) {
    if (!isCharAtSpace(editor)) {
      EditorModificationUtil.insertStringAtCaret(editor," ");
      PsiDocumentManager.getInstance(project).commitDocument(editor.getDocument());
    }
 else {
      editor.getCaretModel().moveToOffset(editor.getCaretModel().getOffset() + 1);
    }
  }
}
