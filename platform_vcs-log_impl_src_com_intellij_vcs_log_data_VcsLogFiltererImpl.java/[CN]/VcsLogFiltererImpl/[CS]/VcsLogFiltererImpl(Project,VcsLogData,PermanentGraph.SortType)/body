{
  myLogData=logData;
  myVisiblePackBuilder=myLogData.createVisiblePackBuilder();
  myFilters=new VcsLogFilterCollectionImpl(null,null,null,null,null,null,null);
  mySortType=initialSortType;
  myTaskController=new SingleTaskController<Request,VisiblePack>(new Consumer<VisiblePack>(){
    @Override public void consume(    @NotNull VisiblePack visiblePack){
      myVisiblePack=visiblePack;
      for (      VisiblePackChangeListener listener : myVisiblePackChangeListeners) {
        listener.onVisiblePackChange(visiblePack);
      }
    }
  }
){
    @Override protected void startNewBackgroundTask(){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          MyTask task=new MyTask(project,"Applying filters...");
          ProgressManager.getInstance().runProcessWithProgressAsynchronously(task,myLogData.getProgress().createProgressIndicator(task));
        }
      }
);
    }
  }
;
}
