{
  myDataManager=dataManager;
  myVisiblePackBuilder=myDataManager.createVisiblePackBuilder();
  myFilters=new VcsLogFilterCollectionImpl(null,null,null,null,null,null,null);
  mySortType=initialSortType;
  myTaskController=new SingleTaskController<Request,VisiblePack>(new Consumer<VisiblePack>(){
    @Override public void consume(    VisiblePack visiblePack){
      for (      Consumer<VisiblePack> consumer : myConsumers) {
        consumer.consume(visiblePack);
      }
    }
  }
){
    @Override protected void startNewBackgroundTask(){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          ((ProgressManagerImpl)ProgressManager.getInstance()).runProcessWithProgressAsynchronously(new MyTask(project,"Applying filters..."));
        }
      }
);
    }
  }
;
}
