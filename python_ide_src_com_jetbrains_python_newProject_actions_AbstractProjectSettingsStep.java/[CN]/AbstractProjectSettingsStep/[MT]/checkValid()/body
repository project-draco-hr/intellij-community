{
  if (myLocationField == null)   return true;
  final String projectName=myLocationField.getText();
  setErrorText(null);
  myInstallFramework=false;
  if (projectName.trim().isEmpty()) {
    setErrorText("Project name can't be empty");
    return false;
  }
  if (myLocationField.getText().indexOf('$') >= 0) {
    setErrorText("Project directory name must not contain the $ character");
    return false;
  }
  if (myProjectGenerator != null) {
    final String baseDirPath=myLocationField.getTextField().getText();
    ValidationResult validationResult=myProjectGenerator.validate(baseDirPath);
    if (!validationResult.isOk()) {
      setErrorText(validationResult.getErrorMessage());
      return false;
    }
    if (myProjectGenerator instanceof PythonProjectGenerator) {
      final ValidationResult warningResult=((PythonProjectGenerator)myProjectGenerator).warningValidation(getSdk());
      if (!warningResult.isOk()) {
        setWarningText(warningResult.getErrorMessage());
      }
    }
    if (myProjectGenerator instanceof WebProjectTemplate) {
      final WebProjectGenerator.GeneratorPeer peer=((WebProjectTemplate)myProjectGenerator).getPeer();
      final ValidationInfo validationInfo=peer.validate();
      if (validationInfo != null && !peer.isBackgroundJobRunning()) {
        setErrorText(validationInfo.message);
        return false;
      }
    }
  }
  final Sdk sdk=getSdk();
  final boolean isPy3k=sdk != null && PythonSdkType.getLanguageLevelForSdk(sdk).isPy3K();
  if (sdk != null && PythonSdkType.isRemote(sdk) && !acceptsRemoteSdk(myProjectGenerator)) {
    setErrorText("Please choose a local interpreter");
    return false;
  }
 else   if (myProjectGenerator instanceof PyFrameworkProjectGenerator) {
    PyFrameworkProjectGenerator frameworkProjectGenerator=(PyFrameworkProjectGenerator)myProjectGenerator;
    String frameworkName=frameworkProjectGenerator.getFrameworkTitle();
    if (sdk != null && !isFrameworkInstalled(sdk)) {
      final PyPackageManager packageManager=PyPackageManager.getInstance(sdk);
      final boolean onlyWithCache=PythonSdkFlavor.getFlavor(sdk) instanceof JythonSdkFlavor || PythonSdkFlavor.getFlavor(sdk) instanceof PyPySdkFlavor;
      String warningText=frameworkName + " will be installed on selected interpreter";
      try {
        if (onlyWithCache && packageManager.cacheIsNotNull() || !onlyWithCache) {
          final PyPackage pip=packageManager.findInstalledPackage("pip",false);
          myInstallFramework=true;
          if (pip == null) {
            warningText="pip and " + warningText;
          }
          setWarningText(warningText);
        }
      }
 catch (      PyExternalProcessException ignored) {
        myInstallFramework=true;
        warningText="pip and " + warningText;
        setWarningText(warningText);
      }
      if (!myInstallFramework) {
        setErrorText("No " + frameworkName + " support installed in selected interpreter");
        return false;
      }
    }
    if (isPy3k && !((PyFrameworkProjectGenerator)myProjectGenerator).supportsPython3()) {
      setErrorText(frameworkName + " is not supported for the selected interpreter");
      return false;
    }
  }
  if (sdk == null) {
    setErrorText("No Python interpreter selected");
    return false;
  }
  return true;
}
