{
  if (expression.getOperator() == PyTokenTypes.AND_KEYWORD) {
    PyExpression leftExpression=expression.getLeftExpression();
    PyExpression rightExpression=expression.getRightExpression();
    if (leftExpression instanceof PyBinaryExpression && rightExpression instanceof PyBinaryExpression) {
      if (((PyBinaryExpression)leftExpression).getOperator() == ((PyBinaryExpression)rightExpression).getOperator()) {
        PyExpression leftRight=((PyBinaryExpression)leftExpression).getRightExpression();
        if (leftRight != null) {
          if (leftRight.getText().equals(getSmallLeftExpression((PyBinaryExpression)rightExpression).getText())) {
            PyElementGenerator elementGenerator=PyElementGenerator.getInstance(project);
            PyBinaryExpression binaryExpression=elementGenerator.createBinaryExpression(((PyBinaryExpression)leftExpression).getPsiOperator().getText(),leftExpression,getLargeRightExpression((PyBinaryExpression)rightExpression,project));
            expression.replace(binaryExpression);
          }
        }
      }
    }
  }
}
