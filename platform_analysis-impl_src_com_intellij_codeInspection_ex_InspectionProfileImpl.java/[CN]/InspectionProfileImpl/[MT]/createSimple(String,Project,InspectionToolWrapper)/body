{
  InspectionToolRegistrar registrar=new InspectionToolRegistrar(){
    @NotNull @Override public List<InspectionToolWrapper> createTools(){
      return Arrays.asList(toolWrappers);
    }
  }
;
  final InspectionProfileImpl profile=new InspectionProfileImpl(name,registrar,InspectionProfileManager.getInstance());
  initAndDo(new Computable(){
    @Override public Object compute(){
      profile.initInspectionTools(project);
      return null;
    }
  }
);
  for (  InspectionToolWrapper toolWrapper : toolWrappers) {
    profile.enableTool(toolWrapper.getShortName(),project);
  }
  return profile;
}
