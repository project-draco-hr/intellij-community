{
  if (other instanceof FileElementInfo) {
    return Comparing.equal(myVirtualFile,((FileElementInfo)other).myVirtualFile);
  }
  if (other instanceof SelfElementInfo && ((SelfElementInfo)other).getSyncStartOffset() != 0) {
    return false;
  }
  return Comparing.equal(restoreElement(),other.restoreElement());
}
