{
  String gradleHomePath=FileUtil.toCanonicalPath(myGradleHomePathField.getText());
  if (StringUtil.isEmpty(gradleHomePath)) {
    settings.setGradleHome(null);
    getInitialSettings().setGradleHome(null);
  }
 else {
    settings.setGradleHome(gradleHomePath);
    getInitialSettings().setGradleHome(gradleHomePath);
    GradleUtil.storeLastUsedGradleHome(gradleHomePath);
  }
  if (myUseLocalDistributionButton.isSelected()) {
    settings.setDistributionType(DistributionType.LOCAL);
    getInitialSettings().setDistributionType(DistributionType.LOCAL);
  }
 else   if (myUseWrapperButton.isSelected()) {
    settings.setDistributionType(DistributionType.DEFAULT_WRAPPED);
    getInitialSettings().setDistributionType(DistributionType.DEFAULT_WRAPPED);
  }
 else   if (myUseWrapperWithVerificationButton.isSelected()) {
    settings.setDistributionType(DistributionType.WRAPPED);
    getInitialSettings().setDistributionType(DistributionType.WRAPPED);
  }
 else   if (myUseBundledDistributionButton.isSelected()) {
    settings.setDistributionType(DistributionType.WRAPPED);
    getInitialSettings().setDistributionType(DistributionType.WRAPPED);
  }
}
