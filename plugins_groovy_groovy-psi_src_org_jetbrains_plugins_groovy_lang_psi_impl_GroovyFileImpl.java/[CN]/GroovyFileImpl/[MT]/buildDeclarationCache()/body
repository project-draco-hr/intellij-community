{
  MostlySingularMultiMap<String,ResultWithContext> results=new MostlySingularMultiMap<>();
  processDeclarationsNoGuess(new BaseScopeProcessor(){
    @Override public boolean execute(    @NotNull PsiElement element,    @NotNull ResolveState state){
      if (element instanceof PsiNamedElement) {
        PsiElement context=state.get(ClassHint.RESOLVE_CONTEXT);
        String name=getDeclarationName((PsiNamedElement)element,context);
        if (name != null) {
          results.add(name,new ResultWithContext((PsiNamedElement)element,context));
        }
      }
      return true;
    }
    private String getDeclarationName(    @NotNull PsiNamedElement element,    @Nullable PsiElement context){
      String name=context instanceof GrImportStatement ? ((GrImportStatement)context).getImportedName() : null;
      return name != null ? name : element.getName();
    }
  }
,ResolveState.initial(),null,this);
  return results;
}
