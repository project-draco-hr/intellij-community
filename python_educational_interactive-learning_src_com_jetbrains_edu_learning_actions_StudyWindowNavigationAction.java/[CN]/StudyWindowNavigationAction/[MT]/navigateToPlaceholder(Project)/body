{
  final Editor selectedEditor=StudyEditor.getSelectedEditor(project);
  if (selectedEditor != null) {
    final FileDocumentManager fileDocumentManager=FileDocumentManager.getInstance();
    final VirtualFile openedFile=fileDocumentManager.getFile(selectedEditor.getDocument());
    if (openedFile != null) {
      final StudyTaskManager taskManager=StudyTaskManager.getInstance(project);
      final TaskFile selectedTaskFile=taskManager.getTaskFile(openedFile);
      if (selectedTaskFile != null) {
        final AnswerPlaceholder selectedAnswerPlaceholder=selectedTaskFile.getSelectedAnswerPlaceholder();
        if (selectedAnswerPlaceholder == null) {
          return;
        }
        final AnswerPlaceholder nextAnswerPlaceholder=getNextAnswerPlaceholder(selectedAnswerPlaceholder);
        if (nextAnswerPlaceholder == null) {
          return;
        }
        StudyNavigator.navigateToTaskWindow(selectedEditor,nextAnswerPlaceholder,selectedTaskFile);
        selectedTaskFile.setSelectedAnswerPlaceholder(nextAnswerPlaceholder);
      }
    }
  }
}
