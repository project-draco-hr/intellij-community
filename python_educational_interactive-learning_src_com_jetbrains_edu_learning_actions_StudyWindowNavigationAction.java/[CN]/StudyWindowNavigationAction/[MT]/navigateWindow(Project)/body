{
  Editor selectedEditor=StudyEditor.getSelectedEditor(project);
  if (selectedEditor != null) {
    FileDocumentManager fileDocumentManager=FileDocumentManager.getInstance();
    VirtualFile openedFile=fileDocumentManager.getFile(selectedEditor.getDocument());
    if (openedFile != null) {
      StudyTaskManager taskManager=StudyTaskManager.getInstance(project);
      TaskFile selectedTaskFile=taskManager.getTaskFile(openedFile);
      if (selectedTaskFile != null) {
        TaskWindow selectedTaskWindow=selectedTaskFile.getSelectedTaskWindow();
        if (selectedTaskWindow == null) {
          return;
        }
        TaskWindow nextTaskWindow=getNextTaskWindow(selectedTaskWindow);
        if (nextTaskWindow == null) {
          return;
        }
        selectedTaskFile.navigateToTaskWindow(selectedEditor,nextTaskWindow);
        selectedTaskFile.setSelectedTaskWindow(nextTaskWindow);
      }
    }
  }
}
