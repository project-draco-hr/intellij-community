{
  if (!(element instanceof PsiJavaToken)) {
    return false;
  }
  final IElementType tokenType=((PsiJavaToken)element).getTokenType();
  if (!JavaTokenType.TRY_KEYWORD.equals(tokenType) && !JavaTokenType.CATCH_KEYWORD.equals(tokenType)) {
    return false;
  }
  PsiElement parent=element.getParent();
  if (parent instanceof PsiCatchSection) {
    parent=parent.getParent();
  }
  if (!(parent instanceof PsiTryStatement)) {
    return false;
  }
  final PsiTryStatement tryStatement=(PsiTryStatement)parent;
  final PsiCodeBlock tryBlock=tryStatement.getTryBlock();
  final Set<PsiType> exceptionsThrown=ExceptionUtils.calculateExceptionsThrown(tryBlock);
  ExceptionUtils.calculateExceptionsThrown(tryStatement.getResourceList(),exceptionsThrown);
  final Set<PsiType> exceptionsCaught=ExceptionUtils.getExceptionTypesHandled(tryStatement);
  for (  PsiType typeThrown : exceptionsThrown) {
    if (exceptionsCaught.contains(typeThrown)) {
      continue;
    }
    for (    PsiType typeCaught : exceptionsCaught) {
      if (typeCaught.isAssignableFrom(typeThrown)) {
        return true;
      }
    }
  }
  return false;
}
