{
  this.filePath=filePath;
  final Document document=EditorFactory.getInstance().createDocument(fileText);
  caretState=new WriteCommandAction<EditorTestUtil.CaretsState>(project){
    @Override protected void run(    @NotNull Result<EditorTestUtil.CaretsState> result) throws Exception {
      result.setResult(EditorTestUtil.extractCaretAndSelectionMarkers(document));
    }
  }
.execute().getResultObject();
  newFileText=document.getText();
}
