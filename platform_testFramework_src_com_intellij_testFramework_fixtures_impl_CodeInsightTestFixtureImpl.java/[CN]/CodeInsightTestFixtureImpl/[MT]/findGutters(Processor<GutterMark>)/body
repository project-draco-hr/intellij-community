{
  int offset=myEditor.getCaretModel().getOffset();
  final Collection<HighlightInfo> infos=doHighlighting();
  for (  HighlightInfo info : infos) {
    if (info.endOffset >= offset && info.startOffset <= offset) {
      final GutterMark renderer=info.getGutterIconRenderer();
      if (renderer != null && !processor.process(renderer)) {
        return;
      }
    }
  }
  RangeHighlighter[] highlighters=DocumentMarkupModel.forDocument(myEditor.getDocument(),getProject(),true).getAllHighlighters();
  for (  RangeHighlighter highlighter : highlighters) {
    if (highlighter.getEndOffset() >= offset && highlighter.getStartOffset() <= offset) {
      GutterMark renderer=highlighter.getGutterIconRenderer();
      if (renderer != null && !processor.process(renderer)) {
        return;
      }
    }
  }
}
