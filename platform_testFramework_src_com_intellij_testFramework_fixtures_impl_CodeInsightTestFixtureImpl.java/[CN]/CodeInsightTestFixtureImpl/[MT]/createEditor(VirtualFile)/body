{
  final Project project=getProject();
  final FileEditorManager instance=FileEditorManager.getInstance(project);
  PsiDocumentManager.getInstance(getProject()).commitAllDocuments();
  Editor editor=instance.openTextEditor(new OpenFileDescriptor(project,file),false);
  if (editor != null) {
    editor.getCaretModel().moveToOffset(0);
    DaemonCodeAnalyzer.getInstance(getProject()).restart();
  }
  return editor;
}
