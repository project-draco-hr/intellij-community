{
  String expectedContent;
  try {
    expectedContent=FileUtil.loadFile(new File(verificationFileName));
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  Assert.assertNotNull(expectedContent);
  expectedContent=StringUtil.replace(expectedContent,"\r","");
  final String cleanContent=expectedContent.replaceAll(START_FOLD,"").replaceAll(END_FOLD,"");
  if (destinationFileName == null) {
    configureByText(FileTypeManager.getInstance().getFileTypeByFileName(verificationFileName),cleanContent);
  }
 else {
    try {
      FileUtil.writeToFile(new File(destinationFileName),cleanContent);
      configureFromExistingVirtualFile(LocalFileSystem.getInstance().refreshAndFindFileByPath(destinationFileName));
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
  final String actual=getFoldingDescription(doCheckCollapseStatus);
  Assert.assertEquals(expectedContent,actual);
}
