{
  String testDataPath=getTestDataPath();
  File sourceFile=FileUtil.findFirstThatExist(testDataPath + '/' + sourcePath,sourcePath);
  VirtualFile targetFile=myTempDirFixture.getFile(targetPath);
  if (sourceFile == null && targetFile != null && targetPath.equals(sourcePath)) {
    return targetFile;
  }
  Assert.assertNotNull("Cannot find source file: " + sourcePath + "; test data path: "+ testDataPath,sourceFile);
  Assert.assertTrue("Not a file: " + sourceFile,sourceFile.isFile());
  if (targetFile == null) {
    targetFile=myTempDirFixture.createFile(targetPath);
    VfsTestUtil.assertFilePathEndsWithCaseSensitivePath(targetFile,sourcePath);
    targetFile.putUserData(VfsTestUtil.TEST_DATA_FILE_PATH,sourceFile.getAbsolutePath());
  }
  final File _source=sourceFile;
  final VirtualFile _target=targetFile;
  new WriteAction(){
    @Override protected void run(    @NotNull Result result) throws IOException {
      _target.setBinaryContent(FileUtil.loadFileBytes(_source));
    }
  }
.execute();
  return targetFile;
}
