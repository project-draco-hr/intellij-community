{
  SearchScope selectedScope=combo.getSelectedScope();
  if (selectedScope == null)   return;
  setValuesToConfig(model.getConfig());
  try {
    Matcher.validate(searchContext.getProject(),model.getConfig().getMatchOptions());
  }
 catch (  UnsupportedPatternException ex) {
    Messages.showMessageDialog(searchContext.getProject(),SSRBundle.message("this.pattern.is.malformed.or.unsupported.message"),SSRBundle.message("information.message.title"),Messages.getInformationIcon());
    return;
  }
catch (  MalformedPatternException ex) {
    Messages.showMessageDialog(searchContext.getProject(),SSRBundle.message("this.pattern.is.malformed.or.unsupported.message"),SSRBundle.message("information.message.title"),Messages.getInformationIcon());
    return;
  }
  super.doOKAction();
  if (!isReplaceDialog()) {
    FindSettings.getInstance().setDefaultScopeName(combo.getSelectedScopeName());
  }
  ourOpenInNewTab=openInNewTab.isSelected();
  try {
    if (model.getShadowConfig() != null) {
      if (model.getShadowConfig() instanceof PredefinedConfiguration) {
        model.getConfig().setName(model.getShadowConfig().getName());
      }
    }
    existingTemplatesComponent.addConfigurationToHistory(model.getConfig());
    runAction(model.getConfig(),searchContext);
  }
 catch (  MalformedPatternException ex) {
    Messages.showMessageDialog(searchContext.getProject(),SSRBundle.message("incorrect.pattern.message"),SSRBundle.message("information.message.title"),Messages.getInformationIcon());
  }
}
