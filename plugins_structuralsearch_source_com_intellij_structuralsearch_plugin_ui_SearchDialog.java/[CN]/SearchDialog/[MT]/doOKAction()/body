{
  SearchScope selectedScope=getSelectedScope();
  if (selectedScope == null)   return;
  myDoingOkAction=true;
  boolean result=doValidate();
  myDoingOkAction=false;
  if (!result)   return;
  myAlarm.cancelAllRequests();
  super.doOKAction();
  if (!myRunFindActionOnClose)   return;
  FindSettings.getInstance().setDefaultScopeName(selectedScope.getDisplayName());
  ourOpenInNewTab=openInNewTab.isSelected();
  try {
    if (model.getShadowConfig() != null) {
      if (model.getShadowConfig() instanceof PredefinedConfiguration) {
        model.getConfig().setName(model.getShadowConfig().getName());
      }
    }
    existingTemplatesComponent.addConfigurationToHistory(model.getConfig());
    runAction(model.getConfig(),searchContext);
  }
 catch (  MalformedPatternException ex) {
    reportMessage("this.pattern.is.malformed.message",searchCriteriaEdit,ex.getMessage());
  }
}
