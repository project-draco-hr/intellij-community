{
  SearchScope selectedScope=getSelectedScope();
  if (selectedScope == null)   return;
  boolean result=doValidate();
  if (!result)   return;
  super.doOKAction();
  if (!myRunFindActionOnClose)   return;
  if (!isReplaceDialog()) {
    FindSettings.getInstance().setDefaultScopeName(selectedScope.getDisplayName());
  }
  ourOpenInNewTab=openInNewTab.isSelected();
  try {
    if (model.getShadowConfig() != null) {
      if (model.getShadowConfig() instanceof PredefinedConfiguration) {
        model.getConfig().setName(model.getShadowConfig().getName());
      }
    }
    existingTemplatesComponent.addConfigurationToHistory(model.getConfig());
    runAction(model.getConfig(),searchContext);
  }
 catch (  MalformedPatternException ex) {
    showError("this.pattern.is.malformed.message",ex.getMessage());
  }
}
