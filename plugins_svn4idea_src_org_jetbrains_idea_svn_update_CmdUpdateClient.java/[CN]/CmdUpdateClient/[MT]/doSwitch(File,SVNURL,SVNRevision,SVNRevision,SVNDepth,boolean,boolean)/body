{
  checkWorkingCopy(path);
  List<String> parameters=new ArrayList<String>();
  CommandUtil.put(parameters,SvnTarget.fromURL(url,pegRevision));
  CommandUtil.put(parameters,path,false);
  fillParameters(parameters,revision,depth,depthIsSticky,allowUnversionedObstructions);
  parameters.add("--ignore-ancestry");
  long[] revisions=run(new File[]{path},parameters,SvnCommandName.switchCopy);
  return revisions != null && revisions.length > 0 ? revisions[0] : -1;
}
