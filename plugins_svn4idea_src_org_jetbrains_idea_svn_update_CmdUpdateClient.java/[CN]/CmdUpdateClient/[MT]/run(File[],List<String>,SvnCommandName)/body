{
  File base=paths[0];
  base=base.isDirectory() ? base : base.getParentFile();
  final AtomicReference<long[]> updatedToRevision=new AtomicReference<long[]>();
  updatedToRevision.set(new long[0]);
  final BaseUpdateCommandListener listener=createCommandListener(paths,updatedToRevision,base);
  try {
    CommandUtil.execute(myVcs,SvnTarget.fromFile(base),command,parameters,listener);
  }
 catch (  VcsException e) {
    throw new SVNException(SVNErrorMessage.create(SVNErrorCode.IO_ERROR,e));
  }
  listener.throwIfException();
  return updatedToRevision.get();
}
