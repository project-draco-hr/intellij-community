{
  File base=path.isDirectory() ? path : path.getParentFile();
  final AtomicReference<long[]> updatedToRevision=new AtomicReference<long[]>();
  updatedToRevision.set(new long[0]);
  final BaseUpdateCommandListener listener=createCommandListener(new File[]{path},updatedToRevision,base);
  try {
    execute(myVcs,SvnTarget.fromFile(base),command,parameters,listener);
  }
 catch (  VcsException e) {
    throw new SVNException(SVNErrorMessage.create(SVNErrorCode.IO_ERROR,e));
  }
  listener.throwIfException();
  return updatedToRevision.get();
}
