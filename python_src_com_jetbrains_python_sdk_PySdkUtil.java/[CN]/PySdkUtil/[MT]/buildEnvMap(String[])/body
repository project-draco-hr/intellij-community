{
  Map<String,String> envMap=new HashMap<String,String>(System.getenv());
  Map<String,String> addMap=new HashMap<String,String>();
  for (  String envItem : addEnv) {
    int pos=envItem.indexOf('=');
    if (pos > 0) {
      String key=envItem.substring(0,pos);
      String value=envItem.substring(pos + 1,envItem.length());
      addMap.put(key,value);
    }
 else {
      LOG.warn(String.format("Invalid env value: '%s'",envItem));
    }
  }
  for (  Map.Entry<String,String> entry : addMap.entrySet()) {
    final String key=entry.getKey();
    final String value=entry.getValue();
    final String oldValue=envMap.get(key);
    if (oldValue != null) {
      envMap.put(key,value + oldValue);
    }
 else {
      envMap.put(key,value);
    }
  }
  return envMap;
}
