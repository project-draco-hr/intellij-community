{
  final List<String> expected=new ArrayList<String>();
  expected.add(myLogin1 + ":master");
  expected.add(myLogin2 + ":master");
  expected.add(myLogin2 + ":file2");
  myDialogManager.registerDialogHandler(GithubCreatePullRequestDialog.class,new TestDialogHandler<GithubCreatePullRequestDialog>(){
    @Override public int handleDialog(    GithubCreatePullRequestDialog dialog){
      try {
        Thread.sleep(3000);
      }
 catch (      InterruptedException ignore) {
      }
      List<Object> loaded=dialog.getBranches();
      assertContainsElements(loaded,expected);
      return DialogWrapper.CANCEL_EXIT_CODE;
    }
  }
);
  GithubCreatePullRequestAction.createPullRequest(myProject,myProjectRoot);
}
