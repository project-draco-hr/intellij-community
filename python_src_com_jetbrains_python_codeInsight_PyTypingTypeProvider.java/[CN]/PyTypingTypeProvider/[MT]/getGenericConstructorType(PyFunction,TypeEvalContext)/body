{
  if (PyUtil.isInit(function)) {
    final PyClass cls=function.getContainingClass();
    if (cls != null) {
      final List<PyGenericType> genericTypes=collectGenericTypes(cls,context);
      final PyType elementType;
      if (genericTypes.size() == 1) {
        elementType=genericTypes.get(0);
      }
 else       if (genericTypes.size() > 1) {
        elementType=PyTupleType.create(cls,genericTypes.toArray(new PyType[genericTypes.size()]));
      }
 else {
        elementType=null;
      }
      if (elementType != null) {
        return new PyCollectionTypeImpl(cls,false,elementType);
      }
    }
  }
  return null;
}
