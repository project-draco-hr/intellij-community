{
  final String qualifiedName=getQualifiedName(resolved);
  if ("typing.Union".equals(qualifiedName)) {
    return PyUnionType.union(elementTypes);
  }
  if ("typing.Optional".equals(qualifiedName) && elementTypes.size() == 1) {
    return PyUnionType.union(elementTypes.get(0),PyNoneType.INSTANCE);
  }
  if ("typing.Callable".equals(qualifiedName) && elementTypes.size() == 2) {
    final List<PyCallableParameter> paramTypes=new ArrayList<>();
    final PyTupleType firstType=as(elementTypes.get(0),PyTupleType.class);
    if (firstType != null) {
      for (int i=0; i < firstType.getElementCount(); i++) {
        paramTypes.add(new PyCallableParameterImpl(null,firstType.getElementType(i)));
      }
      return new PyCallableTypeImpl(paramTypes,elementTypes.get(1));
    }
  }
  if ("typing.Tuple".equals(qualifiedName)) {
    return PyTupleType.create(resolved,elementTypes.toArray(new PyType[elementTypes.size()]));
  }
  final PyType builtinCollection=getBuiltinCollection(resolved);
  if (builtinCollection instanceof PyClassType) {
    final PyClassType classType=(PyClassType)builtinCollection;
    return new PyCollectionTypeImpl(classType.getPyClass(),false,elementTypes);
  }
  return null;
}
