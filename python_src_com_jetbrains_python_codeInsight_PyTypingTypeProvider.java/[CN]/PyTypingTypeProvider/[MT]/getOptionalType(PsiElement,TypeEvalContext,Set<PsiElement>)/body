{
  if (element instanceof PySubscriptionExpression) {
    final PySubscriptionExpression subscriptionExpr=(PySubscriptionExpression)element;
    final PyExpression operand=subscriptionExpr.getOperand();
    final Collection<String> operandNames=resolveToQualifiedNames(operand,context);
    if (operandNames.contains("typing.Optional")) {
      final PyExpression indexExpr=subscriptionExpr.getIndexExpression();
      if (indexExpr != null) {
        final PyType type=getType(indexExpr,context,cache);
        if (type != null) {
          return Ref.create(PyUnionType.union(type,PyNoneType.INSTANCE));
        }
      }
      return Ref.create();
    }
  }
  return null;
}
