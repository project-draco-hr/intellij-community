{
  if (element instanceof PySubscriptionExpression) {
    final PySubscriptionExpression subscriptionExpr=(PySubscriptionExpression)element;
    final PyExpression operand=subscriptionExpr.getOperand();
    final PyExpression indexExpr=subscriptionExpr.getIndexExpression();
    final PyType operandType=getType(operand,context,cache);
    if (operandType instanceof PyClassType) {
      final PyClass cls=((PyClassType)operandType).getPyClass();
      final List<PyType> indexTypes=getIndexTypes(subscriptionExpr,context,cache);
      if (PyNames.TUPLE.equals(cls.getQualifiedName())) {
        return PyTupleType.create(element,indexTypes.toArray(new PyType[indexTypes.size()]));
      }
 else       if (indexExpr != null) {
        return new PyCollectionTypeImpl(cls,false,indexTypes);
      }
    }
  }
  return null;
}
