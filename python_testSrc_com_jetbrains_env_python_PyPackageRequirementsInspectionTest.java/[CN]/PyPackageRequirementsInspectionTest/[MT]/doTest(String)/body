{
  final String dir=String.format("inspections/PyPackageRequirementsInspection/%s",getTestName(false));
  myFixture.enableInspections(PyPackageRequirementsInspection.class);
  PyPackagingTest.forAllPythonEnvs(getTestName(false),new Processor<Sdk>(){
    @Override public boolean process(    Sdk sdk){
      final String perSdkDir=Integer.toHexString(System.identityHashCode(sdk));
      final VirtualFile root=myFixture.copyDirectoryToProject(dir,perSdkDir);
      assertNotNull(root);
      setupModuleSdk(getSingleModule(myFixture.getProject()),sdk,root);
      myFixture.testHighlighting(true,true,true,perSdkDir + File.separator + filename);
      return true;
    }
  }
);
}
