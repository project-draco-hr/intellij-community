{
  final String dir=String.format("inspections/PyPackageRequirementsInspection/%s",getTestName(false));
  myFixture.enableInspections(PyPackageRequirementsInspection.class);
  PyEnvTestCase.runTest(new PyTestTask(){
    @Override public void runTestOn(    String sdkHome) throws Exception {
      final Sdk sdk=createTempSdk(sdkHome);
      final String perSdkDir=Integer.toHexString(System.identityHashCode(sdk));
      final VirtualFile root=myFixture.copyDirectoryToProject(dir,perSdkDir);
      assertNotNull(root);
      setupModuleSdk(getSingleModule(myFixture.getProject()),sdk,root);
      myFixture.testHighlighting(true,true,true,perSdkDir + File.separator + filename);
    }
  }
,getTestName(false));
}
