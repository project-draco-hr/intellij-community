{
  Set<String> alreadyCollected=new HashSet<String>(usedVars.first);
  for (  TextWithImports text : usedVars.second) {
    alreadyCollected.add(text.getText());
  }
  Set<TextWithImports> extra=new HashSet<TextWithImports>();
  for (  FrameExtraVariablesProvider provider : FrameExtraVariablesProvider.EP_NAME.getExtensions()) {
    if (provider.isAvailable(sourcePosition,evalContext)) {
      extra.addAll(provider.collectVariables(sourcePosition,evalContext,alreadyCollected));
    }
  }
  return extra;
}
