{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  if (context == null) {
    context=myDebugProcess.getDebuggerContext();
  }
  if (context.getFrameProxy() != getStackFrameProxy()) {
    SuspendContextImpl threadSuspendContext=SuspendManagerUtil.findContextByThread(myDebugProcess.getSuspendManager(),getStackFrameProxy().threadProxy());
    context=DebuggerContextImpl.createDebuggerContext(myDebugProcess.mySession,threadSuspendContext,getStackFrameProxy().threadProxy(),getStackFrameProxy());
    context.setPositionCache(myDescriptor.getSourcePosition());
    context.initCaches();
  }
  return context;
}
