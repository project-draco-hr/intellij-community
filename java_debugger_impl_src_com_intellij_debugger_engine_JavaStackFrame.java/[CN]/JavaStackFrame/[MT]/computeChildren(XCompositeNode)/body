{
  XStackFrame xFrame=getDescriptor().getXStackFrame();
  if (xFrame != null) {
    xFrame.computeChildren(node);
    return;
  }
  DebuggerContextImpl currentContext=DebuggerManagerEx.getInstanceEx(myDebugProcess.getProject()).getContext();
  myDebugProcess.getManagerThread().schedule(new DebuggerContextCommandImpl(currentContext){
    @Override public void threadAction(){
      DebuggerContextImpl debuggerContext=DebuggerContextImpl.createDebuggerContext(myDebugProcess.mySession,getDebuggerContext().getSuspendContext(),getStackFrameProxy().threadProxy(),getStackFrameProxy());
      debuggerContext.setPositionCache(mySourcePosition);
      debuggerContext.initCaches();
      XValueChildrenList children=new XValueChildrenList();
      buildVariablesThreadAction(debuggerContext,children,node);
      node.addChildren(children,true);
    }
  }
);
}
