{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  DebuggerContextImpl context=DebuggerManagerEx.getInstanceEx(myDebugProcess.getProject()).getContext();
  if (context.getFrameProxy() != getStackFrameProxy()) {
    context=DebuggerContextImpl.createDebuggerContext(myDebugProcess.mySession,context.getSuspendContext(),getStackFrameProxy().threadProxy(),getStackFrameProxy());
    context.setPositionCache(mySourcePosition);
    context.initCaches();
  }
  return context;
}
