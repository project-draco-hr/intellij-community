{
  final CompoundPositionManager positionManager=myDebugProcess.getPositionManager();
  if (positionManager == null) {
    return null;
  }
  Location location=null;
  try {
    location=stackFrameProxy.location();
  }
 catch (  Throwable e) {
    LOG.info(e);
  }
  final Location loc=location;
  return ApplicationManager.getApplication().runReadAction(new Computable<Pair<SourcePosition,XSourcePosition>>(){
    @Override public Pair<SourcePosition,XSourcePosition> compute(){
      SourcePosition position=positionManager.getSourcePosition(loc);
      XSourcePosition xSourcePosition=position != null ? DebuggerUtilsEx.toXSourcePosition(position) : null;
      return new Pair<SourcePosition,XSourcePosition>(position,xSourcePosition);
    }
  }
);
}
