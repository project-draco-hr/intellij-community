{
  myDescriptor=descriptor;
  if (update) {
    myDescriptor.setContext(null);
    myDescriptor.updateRepresentation(null,DescriptorLabelListener.DUMMY_LISTENER);
  }
  myDebugProcess=((DebugProcessImpl)descriptor.getDebugProcess());
  myNodeManager=myDebugProcess.getXdebugProcess().getNodeManager();
  myXSourcePosition=ApplicationManager.getApplication().runReadAction(new Computable<XSourcePosition>(){
    @Override public XSourcePosition compute(){
      return myDescriptor.getSourcePosition() != null ? DebuggerUtilsEx.toXSourcePosition(myDescriptor.getSourcePosition()) : null;
    }
  }
);
}
