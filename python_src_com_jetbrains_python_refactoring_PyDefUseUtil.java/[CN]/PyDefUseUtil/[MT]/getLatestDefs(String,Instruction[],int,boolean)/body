{
  final Collection<ReadWriteInstruction> result=new LinkedHashSet<ReadWriteInstruction>();
  ControlFlowUtil.iteratePrev(instr,instructions,new Function<Instruction,ControlFlowUtil.Operation>(){
    @Override public ControlFlowUtil.Operation fun(    Instruction instruction){
      if (instruction instanceof ReadWriteInstruction) {
        final ReadWriteInstruction rwInstruction=(ReadWriteInstruction)instruction;
        final PsiElement element=instruction.getElement();
        final ReadWriteInstruction.ACCESS access=rwInstruction.getAccess();
        if (access.isWriteAccess() || acceptTypeAssertions && access.isAssertTypeAccess()) {
          final String name=elementName(element);
          if (Comparing.strEqual(name,varName)) {
            result.add(rwInstruction);
            return ControlFlowUtil.Operation.CONTINUE;
          }
        }
 else         if (access == ReadWriteInstruction.ACCESS.IMPORT_STAR) {
          final PyStarImportElement starImport=PyUtil.as(element,PyStarImportElement.class);
          if (starImport != null && starImport.getElementNamed(varName) != null) {
            result.add(rwInstruction);
            return ControlFlowUtil.Operation.CONTINUE;
          }
        }
      }
      return ControlFlowUtil.Operation.NEXT;
    }
  }
);
  return result;
}
