{
  Map<Resource.Attribute,String> map=null;
  ZipEntry entry=zipFile.getEntry(JarFile.MANIFEST_NAME);
  if (entry != null) {
    InputStream stream=zipFile.getInputStream(entry);
    try {
      Attributes attributes=new Manifest(stream).getMainAttributes();
      for (      Pair<Resource.Attribute,Attributes.Name> p : PACKAGE_FIELDS) {
        String value=attributes.getValue(p.second);
        if (value != null) {
          if (map == null)           map=new EnumMap<Resource.Attribute,String>(Resource.Attribute.class);
          map.put(p.first,value);
        }
      }
    }
  finally {
      stream.close();
    }
  }
  return map;
}
