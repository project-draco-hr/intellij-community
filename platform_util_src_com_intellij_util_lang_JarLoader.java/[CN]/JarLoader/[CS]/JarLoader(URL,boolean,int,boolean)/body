{
  super(new URL("jar","",-1,url + "!/"),index);
  myCanonicalFile=new File(FileUtil.unquote(url.getFile())).getCanonicalFile();
  myCanLockJar=canLockJar;
  ZipFile zipFile=getZipFile();
  try {
    myManifest=getManifestIfNotEmpty(zipFile);
    if (preloadJarContents) {
      JarMemoryLoader loader=JarMemoryLoader.load(zipFile,getBaseURL(),myManifest);
      if (loader != null) {
        myMemoryLoader=new SoftReference<JarMemoryLoader>(loader);
      }
    }
  }
  finally {
    releaseZipFile(zipFile);
  }
}
