{
  CredentialsProvider provider=new BasicCredentialsProvider();
  if (isUseHttpAuthentication()) {
    provider.setCredentials(BASIC_AUTH_SCOPE,new UsernamePasswordCredentials(getUsername(),getPassword()));
  }
  if (isUseProxy())   HttpConfigurable.getInstance().setProxyCredentialsIfEnabled(provider,getUrl());
  return provider;
}
