{
  HttpClientBuilder builder=HttpClients.custom().setDefaultRequestConfig(createRequestConfig()).setSslcontext(CertificateManager.getInstance().getSslContext()).setHostnameVerifier((X509HostnameVerifier)CertificateManager.HOSTNAME_VERIFIER).setDefaultCredentialsProvider(createCredentialsProvider()).addInterceptorFirst(PREEMPTIVE_BASIC_AUTH).addInterceptorLast(createRequestInterceptor());
  return builder.build();
}
