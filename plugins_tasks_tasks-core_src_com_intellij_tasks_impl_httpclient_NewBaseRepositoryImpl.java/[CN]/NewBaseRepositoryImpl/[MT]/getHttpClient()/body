{
  HttpClientBuilder builder=HttpClients.custom().setDefaultRequestConfig(createRequestConfig()).setSslcontext(CertificatesManager.getInstance().getSslContext()).setHostnameVerifier((X509HostnameVerifier)CertificatesManager.HOSTNAME_VERIFIER).setDefaultCredentialsProvider(createCredentialsProvider());
  HttpRequestInterceptor interceptor=createRequestInterceptor();
  if (interceptor != null) {
    builder=builder.addInterceptorLast(interceptor);
  }
  return builder.build();
}
