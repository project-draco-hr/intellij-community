{
  if (matcher instanceof ExtensionFileNameMatcher) {
    myExtensionMappings.put(((ExtensionFileNameMatcher)matcher).getExtension(),type);
  }
 else   if (matcher instanceof ExactFileNameMatcher) {
    final ExactFileNameMatcher exactFileNameMatcher=(ExactFileNameMatcher)matcher;
    Map<CharSequence,T> mapToUse=exactFileNameMatcher.isIgnoreCase() ? myExactFileNameAnyCaseMappings : myExactFileNameMappings;
    mapToUse.put(exactFileNameMatcher.getFileName(),type);
  }
 else {
    myMatchingMappings.add(Pair.create(matcher,type));
  }
}
