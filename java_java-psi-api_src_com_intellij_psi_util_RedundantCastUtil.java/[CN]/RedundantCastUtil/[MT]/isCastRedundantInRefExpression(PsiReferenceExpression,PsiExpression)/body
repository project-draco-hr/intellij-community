{
  if (refExpression.getParent() instanceof PsiMethodCallExpression)   return false;
  final PsiElement resolved=refExpression.resolve();
  try {
    final PsiElementFactory elementFactory=JavaPsiFacade.getInstance(refExpression.getProject()).getElementFactory();
    final PsiExpression copyExpression=elementFactory.createExpressionFromText(refExpression.getText(),refExpression);
    if (copyExpression instanceof PsiReferenceExpression) {
      final PsiReferenceExpression copy=(PsiReferenceExpression)copyExpression;
      final PsiExpression qualifier=copy.getQualifierExpression();
      if (qualifier != null) {
        qualifier.replace(castOperand);
        return copy.resolve() == resolved;
      }
    }
  }
 catch (  IncorrectOperationException ignore) {
  }
  return false;
}
