{
  PsiReferenceExpression methodExpr=methodCall.getMethodExpression();
  PsiExpression qualifier=methodExpr.getQualifierExpression();
  if (!(qualifier instanceof PsiParenthesizedExpression))   return;
  PsiExpression operand=((PsiParenthesizedExpression)qualifier).getExpression();
  if (!(operand instanceof PsiTypeCastExpression))   return;
  PsiTypeCastExpression typeCast=(PsiTypeCastExpression)operand;
  PsiExpression castOperand=typeCast.getOperand();
  if (castOperand == null)   return;
  PsiType type=castOperand.getType();
  if (type == null)   return;
  if (type instanceof PsiPrimitiveType)   return;
  final JavaResolveResult resolveResult=methodExpr.advancedResolve(false);
  PsiMethod targetMethod=(PsiMethod)resolveResult.getElement();
  if (targetMethod == null)   return;
  if (targetMethod.hasModifierProperty(PsiModifier.STATIC))   return;
  try {
    PsiManager manager=methodExpr.getManager();
    PsiElementFactory factory=JavaPsiFacade.getInstance(manager.getProject()).getElementFactory();
    final PsiExpression expressionFromText=factory.createExpressionFromText(methodCall.getText(),methodCall);
    if (!(expressionFromText instanceof PsiMethodCallExpression))     return;
    PsiMethodCallExpression newCall=(PsiMethodCallExpression)expressionFromText;
    PsiExpression newQualifier=newCall.getMethodExpression().getQualifierExpression();
    PsiExpression newOperand=((PsiTypeCastExpression)((PsiParenthesizedExpression)newQualifier).getExpression()).getOperand();
    newQualifier.replace(newOperand);
    final JavaResolveResult newResult=newCall.getMethodExpression().advancedResolve(false);
    if (!newResult.isValidResult())     return;
    final PsiMethod newTargetMethod=(PsiMethod)newResult.getElement();
    PsiType newReturnType=newCall.getType(), oldReturnType=methodCall.getType();
    if (newReturnType instanceof PsiCapturedWildcardType && oldReturnType instanceof PsiCapturedWildcardType) {
      newReturnType=((PsiCapturedWildcardType)newReturnType).getUpperBound();
      oldReturnType=((PsiCapturedWildcardType)oldReturnType).getUpperBound();
    }
    if (Comparing.equal(newReturnType,oldReturnType)) {
      if (Comparing.equal(newTargetMethod,targetMethod) || (newTargetMethod.getSignature(newResult.getSubstitutor()).equals(targetMethod.getSignature(resolveResult.getSubstitutor())) && !(newTargetMethod.isDeprecated() && !targetMethod.isDeprecated()) && areThrownExceptionsCompatible(targetMethod,newTargetMethod))) {
        addToResults(typeCast);
      }
    }
  }
 catch (  IncorrectOperationException ignore) {
  }
}
