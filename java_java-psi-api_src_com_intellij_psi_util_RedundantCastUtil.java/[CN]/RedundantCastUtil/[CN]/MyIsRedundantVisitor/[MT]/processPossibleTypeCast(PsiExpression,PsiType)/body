{
  rExpr=deparenthesizeExpression(rExpr);
  if (rExpr instanceof PsiTypeCastExpression) {
    PsiExpression castOperand=((PsiTypeCastExpression)rExpr).getOperand();
    if (castOperand != null) {
      PsiType operandType;
      if (castOperand instanceof PsiTypeCastExpression) {
        final PsiExpression nestedCastOperand=((PsiTypeCastExpression)castOperand).getOperand();
        operandType=nestedCastOperand != null ? nestedCastOperand.getType() : null;
      }
 else       if (castOperand instanceof PsiFunctionalExpression && lType != null) {
        final PsiTypeElement typeElement=((PsiTypeCastExpression)rExpr).getCastType();
        final PsiType castType=typeElement != null ? typeElement.getType() : null;
        operandType=lType.equals(castType) ? castOperand.getType() : null;
      }
 else {
        operandType=castOperand.getType();
      }
      if (operandType != null) {
        if (lType != null && TypeConversionUtil.isAssignable(lType,operandType,false)) {
          addToResults((PsiTypeCastExpression)rExpr);
        }
      }
    }
  }
}
