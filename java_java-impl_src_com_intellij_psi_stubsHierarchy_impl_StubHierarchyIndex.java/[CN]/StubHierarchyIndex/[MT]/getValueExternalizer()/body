{
  return new DataExternalizer<SerializedUnit>(){
    @Override public void save(    @NotNull DataOutput out,    SerializedUnit value) throws IOException {
      byte[] bytes=value.getSerializedBytes();
      DataInputOutputUtil.writeINT(out,bytes.length);
      out.write(bytes);
    }
    @Override public SerializedUnit read(    @NotNull DataInput in) throws IOException {
      byte[] bytes=new byte[DataInputOutputUtil.readINT(in)];
      in.readFully(bytes);
      return new SerializedUnit(bytes);
    }
  }
;
}
