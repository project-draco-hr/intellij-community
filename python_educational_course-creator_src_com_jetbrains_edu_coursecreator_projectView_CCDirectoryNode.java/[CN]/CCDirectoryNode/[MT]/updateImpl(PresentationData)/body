{
  String valueName=myValue.getName();
  final CCProjectService service=CCProjectService.getInstance(myProject);
  final Course course=service.getCourse();
  if (course == null)   return;
  if (myProject.getBaseDir().equals(myValue.getVirtualFile())) {
    data.clearText();
    data.addText(valueName,SimpleTextAttributes.REGULAR_ATTRIBUTES);
    data.addText(" (" + course.getName() + ")",SimpleTextAttributes.GRAYED_ATTRIBUTES);
    return;
  }
  final Lesson lesson=course.getLesson(valueName);
  if (lesson != null) {
    data.clearText();
    data.addText(valueName,SimpleTextAttributes.REGULAR_ATTRIBUTES);
    data.addText(" (" + lesson.getName() + ")",SimpleTextAttributes.GRAYED_ATTRIBUTES);
    return;
  }
 else {
    final PsiDirectory parentDir=myValue.getParentDirectory();
    if (parentDir != null) {
      final Lesson parentLesson=course.getLesson(parentDir.getName());
      if (parentLesson != null) {
        final Task task=parentLesson.getTask(valueName);
        if (task != null) {
          data.clearText();
          data.addText(valueName,SimpleTextAttributes.REGULAR_ATTRIBUTES);
          data.addText(" (" + task.getName() + ")",SimpleTextAttributes.GRAYED_ATTRIBUTES);
          return;
        }
      }
    }
  }
  data.setPresentableText(valueName);
}
