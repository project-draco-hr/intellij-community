{
  List<Future<Boolean>> futures=new ArrayList<Future<Boolean>>();
  for (  PersistentHashMap<String,Record> myMap : myMaps) {
    Future<Boolean> submit=submit(myMap);
    futures.add(submit);
  }
  myThreadPool.submit(new Runnable(){
    @Override public void run(){
      try {
        while (ContainerUtil.find(futures,CONDITION) != null) {
          Thread.sleep(100);
          for (          PersistentHashMap<String,Record> map : myMaps) {
            map.dropMemoryCaches();
          }
        }
      }
 catch (      InterruptedException ignore) {
      }
    }
  }
);
  while (ContainerUtil.find(futures,CONDITION) != null) {
    Thread.sleep(100);
  }
}
