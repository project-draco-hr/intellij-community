{
  if (notEnvConfiguration()) {
    Assert.fail("Running under teamcity but not by Env configuration. Skipping.");
    return;
  }
  if (UsefulTestCase.IS_UNDER_TEAMCITY && IS_ENV_CONFIGURATION) {
    checkStaging();
  }
  List<String> roots=getPythonRoots();
  Assume.assumeFalse(testName + ": environments are not defined. Skipping. \nSpecify either " + PYCHARM_PYTHON_ENVS+ " or "+ PYCHARM_PYTHON_VIRTUAL_ENVS+ " environment variable.",roots.isEmpty());
  doRunTests(testTask,testName,roots);
}
