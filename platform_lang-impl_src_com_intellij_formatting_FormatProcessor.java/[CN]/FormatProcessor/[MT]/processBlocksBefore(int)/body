{
  AdjustWhiteSpacesState state=new AdjustWhiteSpacesState();
  myCurrentBlock=myFirstTokenBlock;
  LeafBlockWrapper last=null;
  while (!state.isDone() && myCurrentBlock.getStartOffset() < offset) {
    last=myCurrentBlock;
    state.doIteration();
  }
  if (myCurrentBlock == null) {
    myCurrentBlock=last;
  }
}
