{
  SearchScope selectedScope=getSelectedScope();
  if (selectedScope == null)   return;
  myDoingOkAction=true;
  boolean result=isValid();
  myDoingOkAction=false;
  if (!result)   return;
  myAlarm.cancelAllRequests();
  super.doOKAction();
  if (!myRunFindActionOnClose)   return;
  final FindSettings findSettings=FindSettings.getInstance();
  findSettings.setDefaultScopeName(selectedScope.getDisplayName());
  findSettings.setShowResultsInSeparateView(openInNewTab.isSelected());
  try {
    final Configuration configuration=model.getConfig();
    if (model.getShadowConfig() != null) {
      if (model.getShadowConfig().isPredefined()) {
        configuration.setName(model.getShadowConfig().getName());
      }
    }
    filterOutUnusedVariableConstraints(configuration);
    existingTemplatesComponent.addConfigurationToHistory(configuration);
    startSearching();
  }
 catch (  MalformedPatternException ex) {
    reportMessage("this.pattern.is.malformed.message",searchCriteriaEdit,ex.getMessage());
  }
}
