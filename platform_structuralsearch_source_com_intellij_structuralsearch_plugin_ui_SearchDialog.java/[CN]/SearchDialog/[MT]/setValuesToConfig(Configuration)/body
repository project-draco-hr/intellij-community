{
  MatchOptions options=config.getMatchOptions();
  boolean searchWithinHierarchy=IdeBundle.message("scope.class.hierarchy").equals(myScopeChooserCombo.getSelectedScopeName());
  options.setScope(searchWithinHierarchy && !myDoingOkAction ? GlobalSearchScope.projectScope(getProject()) : myScopeChooserCombo.getSelectedScope());
  options.setLooseMatching(true);
  options.setRecursiveSearch(isRecursiveSearchEnabled() && recursiveMatching.isSelected());
  ourFtSearchVariant=(FileType)fileTypes.getSelectedItem();
  ourDialect=(Language)dialects.getSelectedItem();
  ourContext=(String)contexts.getSelectedItem();
  FileType fileType=ourFtSearchVariant;
  options.setFileType(fileType);
  options.setDialect(ourDialect);
  options.setPatternContext(ourContext);
  options.setSearchPattern(searchCriteriaEdit.getDocument().getText());
  options.setCaseSensitiveMatch(caseSensitiveMatch.isSelected());
}
