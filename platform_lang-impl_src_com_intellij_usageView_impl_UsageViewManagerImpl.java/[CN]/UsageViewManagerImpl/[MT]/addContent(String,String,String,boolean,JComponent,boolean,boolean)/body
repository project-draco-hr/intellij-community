{
  Key<Boolean> contentKey=reusable ? REUSABLE_CONTENT_KEY : NOT_REUSABLE_CONTENT_KEY;
  Content contentToDelete=null;
  if (!toOpenInNewTab && reusable) {
    Content[] contents=myFindContentManager.getContents();
    for (    Content content : contents) {
      if (!content.isPinned() && content.getUserData(contentKey) != null) {
        UsageView usageView=content.getUserData(NEW_USAGE_VIEW_KEY);
        if (usageView == null || !usageView.isSearchInProgress()) {
          contentToDelete=content;
        }
      }
    }
  }
  Content content=ContentFactory.SERVICE.getInstance().createContent(component,contentName,isLockable);
  content.setTabName(tabName);
  content.setToolwindowTitle(toolwindowTitle);
  content.putUserData(contentKey,Boolean.TRUE);
  content.putUserData(ToolWindow.SHOW_CONTENT_ICON,Boolean.TRUE);
  myFindContentManager.addContent(content);
  if (contentToDelete != null) {
    myFindContentManager.removeContent(contentToDelete,true);
  }
  myFindContentManager.setSelectedContent(content);
  return content;
}
