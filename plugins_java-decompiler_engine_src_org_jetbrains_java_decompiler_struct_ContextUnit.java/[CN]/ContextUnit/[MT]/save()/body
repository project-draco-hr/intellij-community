{
switch (type) {
case TYPE_FOLDER:
    decompilatSaver.saveFolder(filename);
  for (  String[] arr : otherentries) {
    decompilatSaver.copyFile(arr[0],filename,arr[0]);
  }
for (int i=0; i < classes.size(); i++) {
  StructClass cl=classes.get(i);
  String entryname=classentries.get(i);
  entryname=decompiledData.getClassEntryName(cl,entryname);
  if (entryname != null) {
    String content=decompiledData.getClassContent(cl);
    if (content != null) {
      decompilatSaver.saveClassFile(filename,cl.qualifiedName,entryname,content);
    }
  }
}
break;
case TYPE_JAR:
case TYPE_ZIP:
decompilatSaver.saveFolder(archivepath);
decompilatSaver.createArchive(archivepath,filename,manifest);
for (String direntry : direntries) {
decompilatSaver.saveEntry(archivepath,filename,direntry,null);
}
for (String[] arr : otherentries) {
if (type != TYPE_JAR || !MANIFEST_ENTRY.equalsIgnoreCase(arr[1])) {
decompilatSaver.copyEntry(arr[0],archivepath,filename,arr[1]);
}
}
for (int i=0; i < classes.size(); i++) {
StructClass cl=classes.get(i);
String entryname=classentries.get(i);
entryname=decompiledData.getClassEntryName(cl,entryname);
if (entryname != null) {
String content=decompiledData.getClassContent(cl);
decompilatSaver.saveClassEntry(archivepath,filename,cl.qualifiedName,entryname,content);
}
}
decompilatSaver.closeArchive(archivepath,filename);
}
}
