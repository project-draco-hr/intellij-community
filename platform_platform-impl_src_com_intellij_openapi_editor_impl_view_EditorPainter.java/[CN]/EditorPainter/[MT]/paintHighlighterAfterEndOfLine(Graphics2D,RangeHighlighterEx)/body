{
  if (!highlighter.isAfterEndOfLine()) {
    return;
  }
  int offset=highlighter.getStartOffset();
  int line=myDocument.getLineNumber(offset);
  float x=myView.getLineLayout(line).getMaxX();
  int y=myView.visualLineToY(line);
  TextAttributes attributes=highlighter.getTextAttributes();
  paintBackground(g,attributes,x,y,myView.getPlainSpaceWidth());
  if (attributes != null && hasTextEffect(attributes.getEffectColor(),attributes.getEffectType())) {
    paintTextEffect(g,x,x + myView.getPlainSpaceWidth() - 1,y + myView.getAscent(),attributes.getEffectColor(),attributes.getEffectType());
  }
}
