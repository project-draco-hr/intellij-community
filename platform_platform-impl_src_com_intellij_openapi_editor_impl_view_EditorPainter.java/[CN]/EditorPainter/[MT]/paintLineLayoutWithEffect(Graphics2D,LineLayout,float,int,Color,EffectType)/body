{
  float initialX=x;
  for (  LineLayout.Fragment fragment : layout.getFragmentsInVisualOrder()) {
    fragment.draw(g,x,y,0,fragment.getLength());
    x=fragment.advance(x);
  }
  if (hasTextEffect(effectColor,effectType)) {
    paintTextEffect(g,initialX,x,y,effectColor,effectType);
  }
  return x;
}
