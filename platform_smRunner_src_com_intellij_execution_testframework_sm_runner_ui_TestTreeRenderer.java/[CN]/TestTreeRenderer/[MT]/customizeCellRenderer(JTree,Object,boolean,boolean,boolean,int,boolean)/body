{
  myRow=row;
  final DefaultMutableTreeNode node=(DefaultMutableTreeNode)value;
  final Object userObj=node.getUserObject();
  if (userObj instanceof SMTRunnerNodeDescriptor) {
    final SMTRunnerNodeDescriptor desc=(SMTRunnerNodeDescriptor)userObj;
    final SMTestProxy testProxy=desc.getElement();
    if (testProxy instanceof SMTestProxy.SMRootTestProxy) {
      SMTestProxy.SMRootTestProxy rootTestProxy=(SMTestProxy.SMRootTestProxy)testProxy;
      if (node.isLeaf()) {
        TestsPresentationUtil.formatRootNodeWithoutChildren(rootTestProxy,this);
      }
 else {
        TestsPresentationUtil.formatRootNodeWithChildren(rootTestProxy,this);
      }
      if (myAdditionalRootFormatter != null) {
        myAdditionalRootFormatter.format(rootTestProxy,this);
      }
    }
 else {
      TestsPresentationUtil.formatTestProxy(testProxy,this);
    }
    String durationString=testProxy.getDurationString();
    if (durationString != null) {
      durationString="  [" + durationString + "]";
      myDurationWidth=tree.getFontMetrics(tree.getFont()).stringWidth(durationString);
      myProperty=tree.getClientProperty(ExpandableItemsHandler.EXPANDED_RENDERER);
      if (myProperty != null) {
        append(durationString);
      }
    }
    return;
  }
  final String text=node.toString();
  append(text != null ? text : SPACE_STRING,SimpleTextAttributes.GRAYED_ATTRIBUTES);
}
