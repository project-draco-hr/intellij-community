{
  if (isEnabled() && isSuitable(source.getProject(),file)) {
    final FileEditor[] fileEditors=source.getAllEditors(file);
    for (    final FileEditor fileEditor : fileEditors) {
      if (fileEditor instanceof TextEditor) {
        Editor editor=((TextEditor)fileEditor).getEditor();
        if (BreadcrumbsXmlWrapper.getBreadcrumbsComponent(editor) != null) {
          continue;
        }
        final BreadcrumbsXmlWrapper wrapper=new BreadcrumbsXmlWrapper(editor);
        final JComponent c=wrapper.getComponent();
        source.addTopComponent(fileEditor,c);
        Disposer.register(fileEditor,wrapper);
        Disposer.register(fileEditor,new Disposable(){
          @Override public void dispose(){
            source.removeTopComponent(fileEditor,c);
          }
        }
);
      }
    }
  }
}
