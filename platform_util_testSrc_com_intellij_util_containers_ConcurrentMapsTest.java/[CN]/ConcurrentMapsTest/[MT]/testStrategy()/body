{
  SoftHashMap<String,String> map=new SoftHashMap<String,String>(new TObjectHashingStrategy<String>(){
    @Override public int computeHashCode(    String object){
      return Character.toLowerCase(object.charAt(object.length() - 1));
    }
    @Override public boolean equals(    String o1,    String o2){
      return StringUtil.equalsIgnoreCase(o1,o2);
    }
  }
);
  map.put("ab","ab");
  assertTrue(map.containsKey("AB"));
  String removed=map.remove("aB");
  assertEquals("ab",removed);
  assertTrue(map.isEmpty());
}
