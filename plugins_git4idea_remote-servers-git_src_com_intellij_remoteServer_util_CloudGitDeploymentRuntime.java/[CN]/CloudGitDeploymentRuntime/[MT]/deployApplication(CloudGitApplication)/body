{
  boolean firstDeploy=findRepository() == null;
  GitRepository repository=findOrCreateRepository();
  addOrResetGitRemote(application,repository);
  final LocalChangeList activeChangeList=myChangeListManager.getDefaultChangeList();
  if (activeChangeList != null && !firstDeploy) {
    commitWithChangesDialog(activeChangeList);
  }
 else {
    add();
    commit();
  }
  repository.update();
  pushApplication(application);
}
