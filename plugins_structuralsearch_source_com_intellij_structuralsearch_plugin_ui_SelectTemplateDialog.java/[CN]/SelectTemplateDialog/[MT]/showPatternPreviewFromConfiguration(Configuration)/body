{
  if (configuration == null) {
    myCardLayout.show(myPreviewPanel,SELECT_TEMPLATE_CARD);
    return;
  }
 else {
    myCardLayout.show(myPreviewPanel,PREVIEW_CARD);
  }
  final MatchOptions matchOptions=configuration.getMatchOptions();
  UIUtil.setContent(searchPatternEditor,matchOptions.getSearchPattern(),0,searchPatternEditor.getDocument().getTextLength(),project);
  searchPatternEditor.putUserData(SubstitutionShortInfoHandler.CURRENT_CONFIGURATION_KEY,configuration);
  if (replace) {
    String replacement;
    if (configuration instanceof ReplaceConfiguration) {
      replacement=((ReplaceConfiguration)configuration).getOptions().getReplacement();
    }
 else {
      replacement=configuration.getMatchOptions().getSearchPattern();
    }
    UIUtil.setContent(replacePatternEditor,replacement,0,replacePatternEditor.getDocument().getTextLength(),project);
    replacePatternEditor.putUserData(SubstitutionShortInfoHandler.CURRENT_CONFIGURATION_KEY,configuration);
  }
}
