{
  StructMethod mt=(StructMethod)DecompilerContext.getProperty(DecompilerContext.CURRENT_METHOD);
  SSAConstructorSparseEx ssa=new SSAConstructorSparseEx();
  ssa.splitVariables(root,mt);
  FlattenStatementsHelper flattenHelper=new FlattenStatementsHelper();
  DirectGraph graph=flattenHelper.buildDirectGraph(root);
  mergePhiVersions(ssa,graph);
  typeProcessor=new VarTypeProcessor();
  typeProcessor.calculateVarTypes(root,graph);
  simpleMerge(typeProcessor,graph,mt);
  eliminateNonJavaTypes(typeProcessor);
  setNewVarIndices(typeProcessor,graph);
}
