{
  FrameworkSupportOptionsComponent component=myInitializedOptionsComponents.get(node);
  if (component == null) {
    final FrameworkSupportNodeBase parentNode=node.getParentNode();
    if (parentNode instanceof FrameworkSupportNode) {
      initializeOptionsPanel((FrameworkSupportNode)parentNode,addToOptions);
    }
 else     if (parentNode instanceof FrameworkGroupNode) {
      initializeGroupPanel(((FrameworkGroupNode)parentNode).getUserObject(),addToOptions);
    }
    component=new FrameworkSupportOptionsComponent(myModel,myLibrariesContainer,this,node.getUserObject(),node.getConfigurable());
    if (addToOptions) {
      myOptionsPanel.add(node.getId(),wrapInScrollPane(component.getMainPanel()));
    }
    myInitializedOptionsComponents.put(node,component);
  }
  return component;
}
