{
  FrameworkSupportOptionsComponent component=myInitializedOptionsComponents.get(node);
  if (component == null) {
    final FrameworkSupportNodeBase parentNode=node.getParentNode();
    if (parentNode instanceof FrameworkSupportNode) {
      initializeOptionsPanel((FrameworkSupportNode)parentNode,addToOptions);
    }
 else     if (parentNode instanceof FrameworkGroupNode) {
      initializeGroupPanel(((FrameworkGroupNode)parentNode).getUserObject(),addToOptions);
    }
    component=new FrameworkSupportOptionsComponent(myModel,myLibrariesContainer,this,node.getUserObject(),node.getConfigurable());
    if (addToOptions) {
      JPanel panel=component.getMainPanel();
      JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(panel,ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
      myOptionsPanel.add(node.getId(),scrollPane);
    }
    myInitializedOptionsComponents.put(node,component);
  }
  return component;
}
