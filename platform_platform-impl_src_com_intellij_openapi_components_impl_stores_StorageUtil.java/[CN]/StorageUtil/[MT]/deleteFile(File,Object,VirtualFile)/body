{
  if (virtualFile == null) {
    LOG.warn("Cannot find virtual file " + file.getAbsolutePath());
  }
  if (virtualFile == null) {
    if (file.exists()) {
      FileUtil.delete(file);
    }
  }
 else   if (virtualFile.exists()) {
    try {
      deleteFile(requestor,virtualFile);
    }
 catch (    FileNotFoundException e) {
      throw new ReadOnlyModificationException(virtualFile,e,new StateStorage.SaveSession(){
        @Override public void save() throws IOException {
          deleteFile(requestor,virtualFile);
        }
      }
);
    }
  }
}
