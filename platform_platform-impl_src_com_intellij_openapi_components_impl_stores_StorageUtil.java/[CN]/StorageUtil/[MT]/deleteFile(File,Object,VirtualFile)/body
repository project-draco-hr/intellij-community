{
  if (virtualFile == null) {
    LOG.warn("Cannot find virtual file " + file.getAbsolutePath());
  }
  if (virtualFile == null) {
    if (file.exists()) {
      FileUtil.delete(file);
    }
  }
 else   if (virtualFile.exists()) {
    AccessToken token=ApplicationManager.getApplication().acquireWriteActionLock(DocumentRunnable.IgnoreDocumentRunnable.class);
    try {
      virtualFile.delete(requestor);
    }
  finally {
      token.finish();
    }
  }
}
