{
  AccessToken token=ApplicationManager.getApplication().acquireWriteActionLock(DocumentRunnable.IgnoreDocumentRunnable.class);
  try {
    virtualFile.delete(requestor);
  }
 catch (  FileNotFoundException e) {
    throw new ReadOnlyModificationException(virtualFile,e);
  }
 finally {
    token.finish();
  }
}
