{
  if (oldRequest.getOnOkRunnable() != null)   return null;
  com.intellij.openapi.diff.DiffContent[] contents=oldRequest.getContents();
  String[] titles=oldRequest.getContentTitles();
  if (contents.length != 2)   return null;
  DiffContent content1=convertContent(oldRequest.getProject(),contents[0]);
  DiffContent content2=convertContent(oldRequest.getProject(),contents[1]);
  if (content1 == null || content2 == null)   return null;
  SimpleDiffRequest newRequest=createSimpleRequest(content1,content2,oldRequest.getWindowTitle(),titles[0],titles[1]);
  newRequest.addAction(new MyShowDiffAction(oldRequest));
  DiffNavigationContext navigationContext=(DiffNavigationContext)oldRequest.getGenericData().get(DiffTool.SCROLL_TO_LINE.getName());
  if (navigationContext != null) {
    newRequest.putUserData(DiffUserDataKeys.NAVIGATION_CONTEXT,navigationContext);
  }
  return newRequest;
}
