{
  Class rootClass=root.getClass();
  for (  Field field : getAllFields(rootClass)) {
    String fieldName=field.getName();
    if (root instanceof Reference && "referent".equals(fieldName))     continue;
    Object value;
    try {
      value=field.get(root);
    }
 catch (    IllegalArgumentException e) {
      throw new RuntimeException(e);
    }
catch (    IllegalAccessException e) {
      throw new RuntimeException(e);
    }
    if (value == null)     continue;
    if (!processor.process(value,field))     return false;
  }
  if (rootClass.isArray()) {
    try {
      for (      Object o : (Object[])root) {
        if (o == null)         continue;
        if (isTrivial(o.getClass()))         continue;
        if (!processor.process(o,null))         return false;
      }
    }
 catch (    ClassCastException ignored) {
    }
  }
  if (root instanceof Class && isLoadedAlready((Class)root)) {
    try {
      for (      Field field : getAllFields((Class)root)) {
        if ((field.getModifiers() & Modifier.STATIC) == 0)         continue;
        Object value=field.get(null);
        if (value == null)         continue;
        if (!processor.process(value,field))         return false;
      }
    }
 catch (    IllegalAccessException ignored) {
    }
  }
  return true;
}
