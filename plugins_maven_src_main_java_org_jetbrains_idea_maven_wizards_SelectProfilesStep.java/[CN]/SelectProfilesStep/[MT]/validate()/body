{
  Collection<String> activatedProfiles=myMarkStateDescriptor.getActivatedProfiles();
  MavenExplicitProfiles newSelectedProfiles=MavenExplicitProfiles.NONE.clone();
  for (  Map.Entry<String,MavenProfileKind> entry : profileChooser.getElementMarkStates().entrySet()) {
    String profile=entry.getKey();
    MavenProfileKind profileKind=entry.getValue();
switch (profileKind) {
case NONE:
      if (activatedProfiles.contains(profile)) {
        newSelectedProfiles.getDisabledProfiles().add(profile);
      }
    break;
case EXPLICIT:
  newSelectedProfiles.getEnabledProfiles().add(profile);
break;
case IMPLICIT:
break;
}
}
return getBuilder().setSelectedProfiles(newSelectedProfiles);
}
