{
  if (cell instanceof CodeCell) {
    c.gridwidth=2;
    c.gridx=0;
    CodeCell codeCell=(CodeCell)cell;
    addPromptPanel(this,codeCell.getPromptNumber(),"In",new CodeSourcePanel(myProject,codeCell.getSourceAsString()),c);
    c.gridx=1;
    c.gridwidth=1;
    for (    CellOutput cellOutput : codeCell.getCellOutputs()) {
      c.gridy++;
      if (cellOutput.getSourceAsString() != null) {
        addPromptPanel(this,codeCell.getPromptNumber(),"Out",new CodeOutputPanel(cellOutput.getSourceAsString()),c);
      }
    }
  }
 else   if (cell instanceof MarkdownCell) {
    add(new MarkdownPanel(myProject,(MarkdownCell)cell),c);
  }
 else   if (cell instanceof HeadingCell) {
    add(new HeadingPanel(myProject,(HeadingCell)cell),c);
  }
 else {
    throw new UnsupportedOperationException(cell.getClass().toString());
  }
  return c.gridy + 1;
}
