{
  myProject=project;
  myBuildSession=compilerSession;
  myCompileScope=compileScope;
  myMake=isMake;
  myIsRebuild=isRebuild;
  myStartCompilationStamp=System.currentTimeMillis();
  myProjectFileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
  myProjectCompileScope=new ProjectCompileScope(myProject);
  myIsAnnotationProcessorsEnabled=CompilerConfiguration.getInstance(project).isAnnotationProcessorsEnabled();
  final Object sessionId=ExecutionManagerImpl.EXECUTION_SESSION_ID_KEY.get(compileScope);
  if (sessionId != null) {
    compilerSession.setSessionId(sessionId);
  }
  final CompilerWorkspaceConfiguration workspaceConfig=CompilerWorkspaceConfiguration.getInstance(myProject);
  myShouldUpdateProblemsView=workspaceConfig.MAKE_PROJECT_ON_SAVE;
}
