{
  PyExpression expr=parseExpr("class C(object):\n" + "    pass\n" + "\n"+ "x = C()\n"+ "expr = type(x)\n");
  TypeEvalContext context=TypeEvalContext.userInitiated().withTracing();
  PyType type=context.getType(expr);
  assertInstanceOf(type,PyClassType.class);
  assertTrue("Got instance type instead of class type",((PyClassType)type).isDefinition());
}
