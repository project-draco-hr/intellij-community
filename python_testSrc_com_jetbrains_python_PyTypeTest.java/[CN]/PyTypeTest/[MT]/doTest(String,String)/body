{
  PyExpression expr=parseExpr(text);
  TypeEvalContext context=TypeEvalContext.slow().withTracing();
  PyType actual=context.getType(expr);
  PyType expected=PyTypeParser.getTypeByName(expr,expectedType);
  if (expected != null) {
    assertNotNull(context.printTrace(),actual);
    assertTrue(msg(expected,actual,context),PyTypeChecker.match(expected,actual,context));
  }
}
