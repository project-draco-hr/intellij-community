{
  final PyExpression expr=parseExpr("expr = (str(x) for x in range(10))\n");
  final TypeEvalContext context=TypeEvalContext.slow().withTracing();
  final PyType type=context.getType(expr);
  assertNotNull(type);
  assertInstanceOf(type,PyCollectionType.class);
  assertEquals(type.getName(),"__generator");
  final PyCollectionType collectionType=(PyCollectionType)type;
  final PyType elementType=collectionType.getElementType(context);
  assertNotNull(elementType);
  assertEquals(elementType.getName(),"str");
}
