{
  final PsiType type=caller.getType();
  if (type instanceof PsiIntersectionType) {
    final PsiType[] conjuncts=((PsiIntersectionType)type).getConjuncts();
    for (    PsiType conjunct : conjuncts) {
      final GenerationUtil.CheckProcessElement processor=new GenerationUtil.CheckProcessElement(method);
      ResolveUtil.processAllDeclarationsSeparately(conjunct,processor,new BaseScopeProcessor(){
        @Override public boolean execute(        @NotNull PsiElement element,        @NotNull ResolveState state){
          return false;
        }
      }
,ResolveState.initial(),context);
      if (processor.isFound())       return conjunct;
    }
  }
  return type;
}
