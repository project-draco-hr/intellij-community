{
  mySettings=GithubSettings.getInstance();
  mySignupTextField.addHyperlinkListener(new HyperlinkAdapter(){
    @Override protected void hyperlinkActivated(    final HyperlinkEvent e){
      BrowserUtil.browse(e.getURL());
    }
  }
);
  mySignupTextField.setText("<html>Do not have an account at github.com? <a href=\"https://github.com\">" + "Sign up" + "</a></html>");
  mySignupTextField.setBackground(myPane.getBackground());
  mySignupTextField.setCursor(new Cursor(Cursor.HAND_CURSOR));
  myAuthTypeLabel.setBorder(BorderFactory.createEmptyBorder(0,10,0,0));
  myAuthTypeComboBox.addItem(AUTH_PASSWORD);
  myAuthTypeComboBox.addItem(AUTH_TOKEN);
  myTestButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      try {
        final Project project=ProjectManager.getInstance().getDefaultProject();
        final GithubAuthData auth=getAuthData();
        GithubUser user=GithubUtil.computeValueInModal(project,"Access to GitHub",new ThrowableConvertor<ProgressIndicator,GithubUser,IOException>(){
          @Override public GithubUser convert(          ProgressIndicator indicator) throws IOException {
            return GithubUtil.checkAuthData(auth);
          }
        }
);
        if (GithubAuthData.AuthType.TOKEN.equals(getAuthType())) {
          GithubNotifications.showInfoDialog(myPane,"Success","Connection successful for user " + user.getLogin());
        }
 else {
          GithubNotifications.showInfoDialog(myPane,"Success","Connection successful");
        }
      }
 catch (      GithubAuthenticationException ex) {
        GithubNotifications.showErrorDialog(myPane,"Login Failure","Can't login using given credentials: " + ex.getMessage());
      }
catch (      IOException ex) {
        LOG.info(ex);
        GithubNotifications.showErrorDialog(myPane,"Login Failure","Can't login: " + GithubUtil.getErrorTextFromException(ex));
      }
    }
  }
);
  myPasswordField.getDocument().addDocumentListener(new DocumentAdapter(){
    @Override protected void textChanged(    DocumentEvent e){
      myCredentialsModified=true;
    }
  }
);
  DocumentListener passwordEraser=new DocumentAdapter(){
    @Override protected void textChanged(    DocumentEvent e){
      if (!myCredentialsModified) {
        erasePassword();
      }
    }
  }
;
  myHostTextField.getDocument().addDocumentListener(passwordEraser);
  myLoginTextField.getDocument().addDocumentListener(passwordEraser);
  myPasswordField.addFocusListener(new FocusListener(){
    @Override public void focusGained(    FocusEvent e){
      if (!myCredentialsModified && !getPassword().isEmpty()) {
        erasePassword();
      }
    }
    @Override public void focusLost(    FocusEvent e){
    }
  }
);
  myAuthTypeComboBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      if (e.getStateChange() == ItemEvent.SELECTED) {
        String item=e.getItem().toString();
        if (AUTH_PASSWORD.equals(item)) {
          ((CardLayout)myCardPanel.getLayout()).show(myCardPanel,AUTH_PASSWORD);
        }
 else         if (AUTH_TOKEN.equals(item)) {
          ((CardLayout)myCardPanel.getLayout()).show(myCardPanel,AUTH_TOKEN);
        }
        erasePassword();
      }
    }
  }
);
  reset();
}
