{
  VirtualFile nonProjectFile1=createProjectFile();
  VirtualFile nonProjectFile2=createProjectFile();
  typeAndCheck(nonProjectFile1,true);
  typeAndCheck(nonProjectFile2,true);
  List<VirtualFile> denied=new ArrayList<VirtualFile>();
  registerAccessCheckExtension(Collections.emptyList(),denied);
  typeAndCheck(nonProjectFile1,true);
  typeAndCheck(nonProjectFile2,true);
  denied.add(nonProjectFile1);
  typeAndCheck(nonProjectFile1,false);
  typeAndCheck(nonProjectFile2,true);
  denied.clear();
  denied.add(nonProjectFile2);
  typeAndCheck(nonProjectFile1,true);
  typeAndCheck(nonProjectFile2,false);
  denied.clear();
  typeAndCheck(nonProjectFile1,true);
  typeAndCheck(nonProjectFile2,true);
}
