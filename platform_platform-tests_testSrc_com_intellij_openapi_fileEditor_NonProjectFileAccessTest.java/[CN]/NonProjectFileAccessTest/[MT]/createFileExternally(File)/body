{
  VirtualFile result=new WriteAction<VirtualFile>(){
    @Override protected void run(    @NotNull Result<VirtualFile> result) throws Throwable {
      File file=new File(dir,FileUtil.createSequentFileName(dir,"file","txt"));
      file.createNewFile();
      result.setResult(LocalFileSystem.getInstance().refreshAndFindFileByIoFile(file));
    }
  }
.execute().getResultObject();
  myCreatedFiles.add(result);
  return result;
}
