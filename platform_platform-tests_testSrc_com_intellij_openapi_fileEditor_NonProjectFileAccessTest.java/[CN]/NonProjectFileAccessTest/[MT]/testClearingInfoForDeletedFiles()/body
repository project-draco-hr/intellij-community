{
  final VirtualFile nonProjectFile1=createNonProjectFile();
  final VirtualFile nonProjectFile2=createNonProjectFile();
  typeAndCheck(nonProjectFile1,false);
  typeAndCheck(nonProjectFile2,false);
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile1));
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile2));
  new WriteAction<Object>(){
    @Override protected void run(    @NotNull Result<Object> result) throws Throwable {
      nonProjectFile1.delete(this);
    }
  }
.execute();
  assertNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile1));
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile2));
}
