{
  VirtualFile nonProjectFile1=createNonProjectFile();
  VirtualFile nonProjectFile2=createNonProjectFile();
  typeAndCheck(nonProjectFile1,false);
  typeAndCheck(nonProjectFile2,false);
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile1));
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile2));
  ContentEntry contextRoot=PsiTestUtil.addContentRoot(myModule,nonProjectFile2.getParent());
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile1));
  assertNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile2));
  PsiTestUtil.removeContentEntry(myModule,contextRoot.getFile());
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile1));
  assertNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile2));
  typeAndCheck(nonProjectFile1,false);
  typeAndCheck(nonProjectFile2,false);
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile1));
  assertNotNull(NonProjectFileWritingAccessProvider.getAccessStatus(getProject(),nonProjectFile2));
}
