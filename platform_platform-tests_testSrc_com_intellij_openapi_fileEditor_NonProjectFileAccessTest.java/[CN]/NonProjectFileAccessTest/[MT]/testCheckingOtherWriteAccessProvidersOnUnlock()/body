{
  final VirtualFile nonProjectFile1=createNonProjectFile();
  final VirtualFile nonProjectFile2=createNonProjectFile();
  final List<VirtualFile> requested=registerWriteAccessProvider(nonProjectFile1);
  NonProjectFileNotificationPanel panel1=typeAndCheck(nonProjectFile1,false);
  panel1.getUnlockAction().doClick();
  assertSameElements(requested,nonProjectFile1);
  typeAndCheck(nonProjectFile1,false);
  requested.clear();
  NonProjectFileNotificationPanel panel2=typeAndCheck(nonProjectFile2,false);
  panel2.getUnlockAction().doClick();
  assertSameElements(requested,nonProjectFile2);
  typeAndCheck(nonProjectFile2,true);
}
