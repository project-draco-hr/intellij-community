{
  Editor editor=getEditor(file);
  String before=editor.getDocument().getText();
  typeInChar(editor,'a');
  NonProjectFileNotificationPanel panel=getNotificationPanel(file);
  if (changed) {
    assertEquals("Text should be changed",'a' + before,editor.getDocument().getText());
  }
 else {
    assertEquals("Text should not be changed",before,editor.getDocument().getText());
  }
  assertEquals(hasWarningPanel,panel != null);
  return panel;
}
