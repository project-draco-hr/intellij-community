{
  if (!myTaskFile.isTrackChanges()) {
    return;
  }
  if (myAnswerPlaceholders.isEmpty())   return;
  if (e instanceof DocumentEventImpl) {
    DocumentEventImpl event=(DocumentEventImpl)e;
    Document document=e.getDocument();
    int offset=e.getOffset();
    int change=event.getNewLength() - event.getOldLength();
    for (    AnswerPlaceholderWrapper answerPlaceholderWrapper : myAnswerPlaceholders) {
      int twStart=answerPlaceholderWrapper.getTwStart();
      if (twStart > offset) {
        twStart+=change;
      }
      int twEnd=answerPlaceholderWrapper.getTwEnd();
      if (twEnd >= offset) {
        twEnd+=change;
      }
      AnswerPlaceholder answerPlaceholder=answerPlaceholderWrapper.getAnswerPlaceholder();
      int length=twEnd - twStart;
      answerPlaceholder.setOffset(twStart);
      answerPlaceholder.setLength(length);
      if (!answerPlaceholder.getUseLength()) {
        answerPlaceholder.setPossibleAnswer(document.getText(TextRange.create(twStart,twStart + length)));
      }
 else       if (myTrackLength) {
        answerPlaceholder.setLength(length);
      }
    }
  }
}
