{
  final int position=EditorTestUtil.getCaretPosition(text);
  Assert.assertTrue(position > 0);
  final String completionText=text.replace("<caret>","IntelliJIDEARulezzz");
  final PsiFile file=createFile(myModule,"tslint.json",completionText);
  final PsiElement element=file.findElementAt(position);
  Assert.assertNotNull(element);
  final JsonSchemaObject schemaObject=new JsonSchemaReader().read(new StringReader(schema));
  Assert.assertNotNull(schemaObject);
  final List<LookupElement> foundVariants=JsonBySchemaObjectCompletionContributor.getCompletionVariants(schemaObject,element);
  Collections.sort(foundVariants,new Comparator<LookupElement>(){
    @Override public int compare(    LookupElement o1,    LookupElement o2){
      return o1.getLookupString().compareTo(o2.getLookupString());
    }
  }
);
  myItems=foundVariants.toArray(new LookupElement[foundVariants.size()]);
  assertStringItems(variants);
}
