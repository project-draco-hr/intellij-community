{
  try {
    IdeaServerSettings settings=IdeaServerManagerImpl.getInstance().getIdeaServerSettings();
    myProxySettingsPanel.apply();
    settings.update(myLogin.getText(),new String(myPassword.getPassword()));
    IdeaServerManagerImpl.getInstance().login();
    closeDialog(true);
  }
 catch (  ConnectException e) {
    showErrorMessage(prepareMessage(exceptionMessage(e)),onTimer);
    if (onTimer) {
      closeDialog(true);
    }
 else {
      myTimerLabel.stopCounter();
    }
  }
catch (  Exception e) {
    showErrorMessage(prepareMessage(exceptionMessage(e)),onTimer);
    if (onTimer) {
      closeDialog(true);
    }
 else {
      myTimerLabel.stopCounter();
    }
  }
}
