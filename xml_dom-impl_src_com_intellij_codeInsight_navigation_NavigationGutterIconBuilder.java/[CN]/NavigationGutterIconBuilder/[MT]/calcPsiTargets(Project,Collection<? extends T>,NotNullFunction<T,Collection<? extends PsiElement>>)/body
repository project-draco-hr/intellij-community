{
  SmartPointerManager manager=SmartPointerManager.getInstance(project);
  Set<PsiElement> elements=new THashSet<PsiElement>();
  final List<SmartPsiElementPointer> list=new ArrayList<SmartPsiElementPointer>(targets.size());
  for (  final T target : targets) {
    for (    final PsiElement psiElement : converter.fun(target)) {
      if (elements.add(psiElement) && psiElement.isValid()) {
        list.add(manager.createSmartPsiElementPointer(psiElement));
      }
    }
  }
  return list;
}
