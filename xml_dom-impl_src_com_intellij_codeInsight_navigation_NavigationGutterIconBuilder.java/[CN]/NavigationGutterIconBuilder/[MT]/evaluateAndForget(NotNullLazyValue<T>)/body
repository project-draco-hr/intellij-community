{
  final Ref<NotNullLazyValue<T>> ref=Ref.create(lazyValue);
  return new Factory<T>(){
    volatile T result;
    @Override public T create(){
      if (result == null) {
        result=ref.get().getValue();
        ref.set(null);
      }
      return result;
    }
  }
;
}
