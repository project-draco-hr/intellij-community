{
  boolean jdkProcessed=false;
  for (  OrderEntry e : myRootModel.getOrderEntries()) {
    if (e instanceof ModuleSourceOrderEntry || e instanceof JdkOrderEntry) {
      jdkProcessed=true;
      continue;
    }
    if (e instanceof LibraryOrderEntry) {
      if (!isMavenLibrary(((LibraryOrderEntry)e).getLibrary()))       continue;
    }
    if (e instanceof ModuleOrderEntry) {
      Module m=((ModuleOrderEntry)e).getModule();
      if (m != null && !MavenProjectsManager.getInstance(myRootModel.getProject()).isMavenizedModule(m))       continue;
    }
    if (!jdkProcessed) {
      if (e instanceof ModuleOrderEntry) {
        myOrderEntriesBeforeJdk.add(((ModuleOrderEntry)e).getModuleName());
      }
 else       if (e instanceof LibraryOrderEntry) {
        myOrderEntriesBeforeJdk.add(((LibraryOrderEntry)e).getLibraryName());
      }
    }
    myRootModel.removeOrderEntry(e);
  }
}
