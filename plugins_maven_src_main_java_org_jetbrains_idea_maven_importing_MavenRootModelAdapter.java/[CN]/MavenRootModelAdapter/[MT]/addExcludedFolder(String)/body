{
  unregisterAll(path,true,false);
  Url url=toUrl(path);
  ContentEntry e=getContentRootFor(url);
  if (e == null)   return;
  if (e.getUrl().equals(url.getUrl()))   return;
  e.addExcludeFolder(url.getUrl());
  if (!Registry.is("ide.hide.excluded.files")) {
    Project project=myRootModel.getProject();
    ChangeListManager.getInstance(project).addFilesToIgnore(IgnoredBeanFactory.ignoreUnderDirectory(toPath(path).getPath(),project));
  }
}
