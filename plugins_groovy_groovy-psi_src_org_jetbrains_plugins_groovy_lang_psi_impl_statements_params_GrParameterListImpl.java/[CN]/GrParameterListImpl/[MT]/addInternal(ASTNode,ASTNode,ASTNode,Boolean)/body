{
  GrParameter[] params=getParameters();
  ASTNode result=super.addInternal(first,last,anchor,before);
  if (first == last && first.getPsi() instanceof GrParameter && params.length > 0) {
    if (before.booleanValue() && anchor != null) {
      getNode().addLeaf(GroovyTokenTypes.mCOMMA,",",anchor);
    }
 else     if (before.booleanValue() && anchor == null) {
      getNode().addLeaf(GroovyTokenTypes.mCOMMA,",",result);
    }
 else     if (!before.booleanValue() && anchor != null) {
      getNode().addLeaf(GroovyTokenTypes.mCOMMA,",",result);
    }
 else     if (!before.booleanValue() && anchor == null) {
      getNode().addLeaf(GroovyTokenTypes.mCOMMA,",",result.getTreeNext());
    }
  }
  return result;
}
