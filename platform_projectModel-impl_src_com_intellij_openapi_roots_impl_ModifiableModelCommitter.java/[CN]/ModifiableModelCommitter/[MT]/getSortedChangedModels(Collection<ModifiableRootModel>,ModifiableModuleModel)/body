{
  List<RootModelImpl> result=ContainerUtil.newArrayListWithCapacity(rootModels.size());
  for (  ModifiableRootModel model : rootModels) {
    RootModelImpl rootModel=(RootModelImpl)model;
    if (rootModel.isChanged()) {
      result.add(rootModel);
    }
  }
  DFSTBuilder<RootModelImpl> builder=createDFSTBuilder(result,moduleModel);
  Collections.sort(result,builder.comparator());
  return result;
}
