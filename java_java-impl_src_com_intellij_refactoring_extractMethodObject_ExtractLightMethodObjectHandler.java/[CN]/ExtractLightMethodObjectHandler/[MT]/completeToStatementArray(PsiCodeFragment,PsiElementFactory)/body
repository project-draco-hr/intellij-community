{
  PsiExpression expression=CodeInsightUtil.findExpressionInRange(fragment,0,fragment.getTextLength());
  if (expression != null) {
    String completeExpressionText=null;
    if (expression instanceof PsiArrayInitializerExpression) {
      final PsiExpression[] initializers=((PsiArrayInitializerExpression)expression).getInitializers();
      if (initializers.length > 0) {
        final PsiType type=initializers[0].getType();
        if (type != null) {
          completeExpressionText="new " + type.getCanonicalText() + "[]"+ expression.getText();
        }
      }
    }
 else {
      completeExpressionText=expression.getText();
    }
    if (completeExpressionText != null) {
      return new PsiElement[]{elementFactory.createStatementFromText(completeExpressionText + ";",expression)};
    }
  }
  return null;
}
