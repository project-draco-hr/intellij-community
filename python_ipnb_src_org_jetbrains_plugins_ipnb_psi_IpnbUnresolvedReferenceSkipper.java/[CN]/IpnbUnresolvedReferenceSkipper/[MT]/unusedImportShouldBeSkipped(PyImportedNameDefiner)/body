{
  final PsiFile file=importNameDefiner.getContainingFile();
  if (file instanceof IpnbPyFragment) {
    final IpnbFilePanel panel=((IpnbPyFragment)file).getFilePanel();
    final List<IpnbEditablePanel> panels=panel.getIpnbPanels();
    for (    IpnbEditablePanel editablePanel : panels) {
      if (!(editablePanel instanceof IpnbCodePanel))       continue;
      final Editor editor=((IpnbCodePanel)editablePanel).getEditor();
      final IpnbPyFragment psiFile=(IpnbPyFragment)PsiDocumentManager.getInstance(importNameDefiner.getProject()).getPsiFile(editor.getDocument());
      if (psiFile == null)       continue;
      final MyVisitor visitor=new MyVisitor(importNameDefiner);
      psiFile.accept(visitor);
      if (visitor.used)       return true;
    }
  }
  return false;
}
