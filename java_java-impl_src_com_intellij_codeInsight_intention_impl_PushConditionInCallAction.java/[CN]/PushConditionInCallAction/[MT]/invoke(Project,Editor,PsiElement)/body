{
  if (!FileModificationService.getInstance().preparePsiElementForWrite(element))   return;
  final PsiConditionalExpression conditionalExpression=PsiTreeUtil.getParentOfType(element,PsiConditionalExpression.class);
  if (conditionalExpression == null)   return;
  PsiExpression thenExpression=conditionalExpression.getThenExpression();
  if (thenExpression == null)   return;
  thenExpression=(PsiExpression)thenExpression.copy();
  replaceRecursively(project,conditionalExpression,thenExpression,conditionalExpression.getElseExpression());
  CodeStyleManager.getInstance(project).reformat(conditionalExpression.replace(thenExpression));
}
