{
  List<PsiExpression> expressions=IntroduceVariableBase.collectExpressions(context.getContainingFile(),editor,editor.getCaretModel().getOffset());
  if (expressions.isEmpty()) {
    CommonUtils.showErrorHint(context.getProject(),editor);
  }
 else   if (expressions.size() == 1) {
    doIt(editor,expressions.get(0));
  }
 else {
    IntroduceTargetChooser.showChooser(editor,expressions,new Pass<PsiExpression>(){
      public void pass(      @NotNull PsiExpression e){
        doIt(editor,e);
      }
    }
,new PsiExpressionTrimRenderer.RenderFunction(),"Expressions",0,ScopeHighlighter.NATURAL_RANGER);
  }
}
