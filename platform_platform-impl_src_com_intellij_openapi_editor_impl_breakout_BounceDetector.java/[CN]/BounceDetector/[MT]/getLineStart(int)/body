{
  if (line < 0) {
    return Integer.MAX_VALUE;
  }
  int lineStartOffset=editor.logicalPositionToOffset(editor.visualToLogicalPosition(new com.intellij.openapi.editor.VisualPosition(line,0)));
  CharSequence charSequence=editor.getDocument().getCharsSequence();
  int nonWsOffset=CharArrayUtil.shiftForward(charSequence,lineStartOffset," \t");
  if (nonWsOffset >= charSequence.length() || charSequence.charAt(nonWsOffset) == '\n') {
    return Integer.MAX_VALUE;
  }
 else {
    return editor.logicalPositionToXY(editor.offsetToLogicalPosition(nonWsOffset)).x - getWidthEstimate();
  }
}
