{
  Point p=new Point(sprite.position);
  if (p.x < 0 && p.y < 0) {
    return new VisualPosition(-1,-1);
  }
 else   if (p.x < 0) {
    p.x=0;
    com.intellij.openapi.editor.VisualPosition pos=getCharacterVisualPosition(editor,p);
    return new VisualPosition(pos.line,-1);
  }
 else   if (p.y < 0) {
    p.y=0;
    com.intellij.openapi.editor.VisualPosition pos=getCharacterVisualPosition(editor,p);
    return new VisualPosition(-1,pos.column);
  }
 else {
    com.intellij.openapi.editor.VisualPosition pos=getCharacterVisualPosition(editor,p);
    return new VisualPosition(pos.line,pos.column);
  }
}
