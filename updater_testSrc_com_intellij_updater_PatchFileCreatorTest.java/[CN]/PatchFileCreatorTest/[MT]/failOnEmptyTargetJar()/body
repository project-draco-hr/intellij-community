{
  final File sourceJar=new File(myOlderDir,"lib/empty.jar");
  FileUtil.copy(new File(myOlderDir,"lib/annotations.jar"),sourceJar);
  try {
    final File targetJar=new File(myNewerDir,"lib/empty.jar");
    if (targetJar.exists())     targetJar.delete();
    assertTrue(targetJar.createNewFile());
    try {
      createPatch();
      fail("Should have failed to create a patch against empty .jar");
    }
 catch (    IOException e) {
      final String reason=e.getMessage();
      assertEquals("Corrupted target file: " + targetJar,reason);
    }
 finally {
      targetJar.delete();
    }
  }
  finally {
    sourceJar.delete();
  }
}
