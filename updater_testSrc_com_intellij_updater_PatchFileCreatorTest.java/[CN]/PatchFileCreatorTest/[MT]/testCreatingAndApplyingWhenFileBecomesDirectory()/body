{
  File file=new File(myOlderDir,"bin");
  assertTrue(FileUtil.delete(file));
  file.createNewFile();
  FileUtil.copy(new File(myOlderDir,"lib/boot_with_directory_becomes_file.jar"),new File(myOlderDir,"lib/boot.jar"));
  PatchFileCreator.create(myOlderDir,myNewerDir,myFile,Collections.<String>emptyList(),Collections.<String>emptyList(),Collections.<String>emptyList(),TEST_UI);
  assertAppliedAndRevertedCorrectly(PatchFileCreator.prepareAndValidate(myFile,myOlderDir,TEST_UI));
}
