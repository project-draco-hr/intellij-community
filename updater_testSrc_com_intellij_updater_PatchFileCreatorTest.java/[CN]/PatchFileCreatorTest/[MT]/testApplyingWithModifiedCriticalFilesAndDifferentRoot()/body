{
  myPatchSpec.setStrict(true);
  myPatchSpec.setRoot("lib/");
  myPatchSpec.setCriticalFiles(Arrays.asList("lib/annotations.jar"));
  Patch patch=PatchFileCreator.create(myPatchSpec,myFile,TEST_UI);
  RandomAccessFile raf=new RandomAccessFile(new File(myOlderDir,"lib/annotations.jar"),"rw");
  raf.seek(20);
  raf.write(42);
  raf.close();
  File toDir=new File(myOlderDir,"lib/");
  assertAppliedAndRevertedCorrectly(patch,PatchFileCreator.prepareAndValidate(myFile,toDir,TEST_UI));
}
