{
  if (variables.isEmpty()) {
    return Collections.emptyList();
  }
  MemberFilter memberFilter=context.createMemberFilter();
  List<Variable> additionalVariables=memberFilter.getAdditionalVariables();
  List<Variable> result=new ArrayList<Variable>(variables.size() + additionalVariables.size());
  for (  Variable variable : variables) {
    if (memberFilter.isMemberVisible(variable,filterFunctions)) {
      result.add(variable);
    }
  }
  sort(result);
  for (  Variable variable : additionalVariables) {
    result.add(variable);
  }
  return result;
}
