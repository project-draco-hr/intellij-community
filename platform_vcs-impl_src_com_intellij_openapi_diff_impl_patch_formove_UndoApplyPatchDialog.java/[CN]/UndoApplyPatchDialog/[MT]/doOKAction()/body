{
  super.doOKAction();
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    @Override public void run(){
      final VirtualFile baseDir=myProject.getBaseDir();
      try {
        myBeforeLabel.revert(myProject,baseDir);
      }
 catch (      LocalHistoryException e) {
        VcsNotifier.getInstance(myProject).notifyImportantWarning("Rollback Failed",String.format("Try to use local history dialog for %s and perform revert manually.",baseDir.getName()));
      }
    }
  }
,"Rollback Applied Changes...",true,myProject);
}
