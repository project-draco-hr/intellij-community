{
  StudyStatus taskStatus=task.getStatus();
  if (taskStatus != StudyStatus.Uninitialized)   return taskStatus;
  for (  TaskFile taskFile : task.getTaskFiles().values()) {
    StudyStatus taskFileStatus=getStatus(taskFile);
    if (taskFileStatus == StudyStatus.Unchecked) {
      task.setStatus(StudyStatus.Unchecked);
      removeObsoleteTaskStatus(task);
      return StudyStatus.Unchecked;
    }
    if (taskFileStatus == StudyStatus.Failed) {
      task.setStatus(StudyStatus.Failed);
      removeObsoleteTaskStatus(task);
      return StudyStatus.Failed;
    }
  }
  task.setStatus(StudyStatus.Solved);
  removeObsoleteTaskStatus(task);
  return StudyStatus.Solved;
}
