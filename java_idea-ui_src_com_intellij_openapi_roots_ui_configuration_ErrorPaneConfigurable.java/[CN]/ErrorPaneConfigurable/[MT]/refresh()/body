{
  myAlarm.cancelAllRequests();
  myAlarm.addRequest(new Runnable(){
    @Override public void run(){
      final String header="<html>" + "<header><style type='text/css'>" + "body {"+ "  color: #" + ColorUtil.toHex(new JBColor(Gray.x33,UIUtil.getLabelForeground())) + ";"+ "  font-family: '"+ UIUtil.getLabelFont().getName()+ ",serif';"+ "  font-size: "+ UIUtil.getLabelFont().getSize()+ ";"+ "}"+ "li {"+ "  margin-bottom: 5;"+ "}"+ "ol {"+ "}"+ "a {"+ " text-decoration: none;"+ "}"+ "</style>"+ "</header>"+ "<body>";
      final StringBuilder html=new StringBuilder(header);
      int i=0;
      html.append("<ol>");
      ConfigurationError[] errors;
      int currentStamp;
synchronized (myLock) {
        errors=myErrors.toArray(new ConfigurationError[0]);
        currentStamp=myComputedErrorsStamp;
      }
      for (      ConfigurationError error : errors) {
        i++;
        if (i > 100)         break;
        html.append("<li>");
        String description=error.getDescription();
        if (description.startsWith("<html>") && description.endsWith("</html>")) {
          description=description.substring(6,description.length() - 7);
        }
        if (description.startsWith("Module '")) {
          final int start=8;
          final int end=description.indexOf("'",9);
          final String moduleName=description.substring(start,end);
          description="Module <a href='http://module/" + StringUtil.escapeXml(moduleName) + "'>"+ StringUtil.escapeXml(moduleName)+ "</a> "+ description.substring(end + 1);
        }
        if (error.canBeFixed()) {
          description+=" <a href='http://fix/" + i + "'>[Fix]</a>";
        }
        html.append(description).append("</li>");
      }
      html.append("</ol></body></html>");
      myContentUpdateQueue.queue(new ShowErrorsUpdate(currentStamp,html.toString()));
      if (myOnErrorsChanged != null) {
        myOnErrorsChanged.run();
      }
    }
  }
,100);
}
