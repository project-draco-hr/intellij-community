{
  final List<PyImportElement> imports=pyFile.getImportTargets();
  for (  PyImportElement anImport : imports) {
    result.add(anImport);
    final PsiElement resolveResult=ResolveImportUtil.resolveImportElement(anImport);
    if (resolveResult instanceof PyFileImpl) {
      PyFileImpl file=(PyFileImpl)resolveResult;
      if (!visitedFiles.contains(file)) {
        visitedFiles.add(file);
        calculateImportTargetsRecursive((PyFileImpl)resolveResult,visitedFiles,result);
      }
    }
  }
}
