{
  for (  PyClass c : getTopLevelClasses()) {
    if (c == lastParent)     continue;
    if (!processor.execute(c,substitutor))     return false;
  }
  for (  PyFunction f : getTopLevelFunctions()) {
    if (f == lastParent)     continue;
    if (!processor.execute(f,substitutor))     return false;
  }
  for (  PyTargetExpression e : getTopLevelAttributes()) {
    if (e == lastParent)     continue;
    if (!processor.execute(e,substitutor))     return false;
  }
  for (  PyImportElement e : getImportTargets()) {
    if (e == lastParent)     continue;
    if (!processor.execute(e,substitutor))     return false;
  }
  for (  PyFromImportStatement e : getFromImports()) {
    if (e == lastParent)     continue;
    if (!e.processDeclarations(processor,substitutor,null,this))     return false;
  }
  if (lastParent != null && !substitutor.get(KEY_EXCLUDE_BUILTINS)) {
    final String fileName=getName();
    if (!fileName.equals("__builtin__.py")) {
      final PyFile builtins=PyBuiltinCache.getInstance(this).getBuiltinsFile();
      if (builtins != null && !builtins.processDeclarations(processor,substitutor,null,place))       return false;
    }
  }
  return true;
}
