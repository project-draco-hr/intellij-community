{
  final PsiElement[] children=getChildren();
  for (  PsiElement child : children) {
    if (child == lastParent)     continue;
    if (!child.processDeclarations(processor,substitutor,null,place)) {
      return false;
    }
  }
  final String fileName=getName();
  if (!fileName.equals("__builtin__.py")) {
    final Project project=getProject();
    final PsiFile[] builtinFiles=FilenameIndex.getFilesByName(project,"__builtin__.py",GlobalSearchScope.allScope(project));
    if (builtinFiles.length > 0 && builtinFiles[0] instanceof PyFile) {
      if (!builtinFiles[0].processDeclarations(processor,substitutor,null,place))       return false;
    }
  }
  return true;
}
