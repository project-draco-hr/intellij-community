{
  if (PyUtil.isClassPrivateName(name)) {
    return null;
  }
  PsiElement starImportSource=statement.resolveImportSource();
  if (starImportSource != null) {
    starImportSource=PyUtil.turnDirIntoInit(starImportSource);
    if (starImportSource instanceof PyFile) {
      final PyFile file=(PyFile)starImportSource;
      final PsiElement result=file.getElementNamed(name);
      if (result != null) {
        final List<String> dunderAll=file.getDunderAll();
        if ((dunderAll == null && !name.startsWith("_")) || (dunderAll != null && dunderAll.contains(name))) {
          return result;
        }
      }
    }
  }
  if (PyNames.INIT_DOT_PY.equals(getName())) {
    final QualifiedName qName=statement.getImportSourceQName();
    if (qName != null && qName.endsWith(name)) {
      final PsiElement element=PyUtil.turnInitIntoDir(statement.resolveImportSource());
      if (element != null && element.getParent() == getContainingDirectory()) {
        return element;
      }
    }
  }
  return null;
}
