{
  final List<String> stack=myGetElementNamedStack.get();
  if (stack.contains(name)) {
    return null;
  }
  stack.add(name);
  try {
    PsiElement exportedName=findExportedName(name);
    if (exportedName == null && withBuiltins) {
      final PyFile builtins=PyBuiltinCache.getInstance(this).getBuiltinsFile();
      if (builtins != null && builtins != this) {
        exportedName=builtins.findExportedName(name);
      }
    }
    if (exportedName instanceof PyImportElement) {
      return ((PyImportElement)exportedName).getElementNamed(name);
    }
    return exportedName;
  }
  finally {
    stack.remove(name);
  }
}
