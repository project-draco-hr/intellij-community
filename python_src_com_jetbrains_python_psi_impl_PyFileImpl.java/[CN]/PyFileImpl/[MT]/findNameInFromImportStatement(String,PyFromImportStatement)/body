{
  if (statement.isStarImport()) {
    if (PyUtil.isClassPrivateName(name)) {
      return null;
    }
    PsiElement starImportSource=statement.resolveImportSource();
    if (starImportSource != null) {
      starImportSource=PyUtil.turnDirIntoInit(starImportSource);
      if (starImportSource instanceof PyFile) {
        final PsiElement result=((PyFile)starImportSource).getElementNamed(name);
        if (result != null) {
          return result;
        }
      }
    }
  }
 else {
    for (    PyImportElement importElement : statement.getImportElements()) {
      if (name.equals(importElement.getVisibleName())) {
        final PsiElement resolved=importElement.getElementNamed(name);
        if (resolved != null) {
          return resolved;
        }
      }
    }
  }
  if (PyNames.INIT_DOT_PY.equals(getName())) {
    final PyQualifiedName qName=statement.getImportSourceQName();
    if (qName != null && qName.endsWith(name)) {
      final PsiElement element=PyUtil.turnInitIntoDir(statement.resolveImportSource());
      if (element != null && element.getParent() == getContainingDirectory()) {
        return element;
      }
    }
  }
  return null;
}
