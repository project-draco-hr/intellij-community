{
  myModificationStamp=modificationStamp;
  final List<PsiElement> children=PyPsiUtils.collectAllStubChildren(PyFileImpl.this,getStub());
  final List<PyExceptPart> exceptParts=new ArrayList<PyExceptPart>();
  for (  PsiElement child : children) {
    if (child instanceof PyExceptPart) {
      exceptParts.add((PyExceptPart)child);
    }
 else {
      addDeclaration(child,myLocalDeclarations,myLocalAmbiguousDeclarations,myNameDefiners);
    }
  }
  if (!exceptParts.isEmpty()) {
    for (    PyExceptPart part : exceptParts) {
      final List<PsiElement> exceptChildren=PyPsiUtils.collectAllStubChildren(part,part.getStub());
      for (      PsiElement child : exceptChildren) {
        addDeclaration(child,myExceptPartDeclarations,myExceptPartAmbiguousDeclarations,myNameDefiners);
      }
    }
  }
}
