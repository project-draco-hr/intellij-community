{
  int sequence=myDebugger.getNextSequence();
  if (isResponseExpected()) {
    myDebugger.placeResponse(sequence,null);
  }
  ProtocolFrame frame=new ProtocolFrame(myCommandCode,sequence,getPayload());
  myDebugger.sendFrame(frame);
  if (!isResponseExpected())   return;
  frame=myDebugger.waitForResponse(sequence);
  if (frame == null) {
    throw new PyDebuggerException("Timeout waiting for response on " + myCommandCode);
  }
  processResponse(frame);
}
