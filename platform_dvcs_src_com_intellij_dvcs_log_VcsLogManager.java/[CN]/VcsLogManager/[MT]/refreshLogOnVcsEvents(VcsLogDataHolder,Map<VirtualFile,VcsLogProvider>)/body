{
  MultiMap<VcsLogProvider,VirtualFile> providers2roots=MultiMap.create();
  for (  Map.Entry<VirtualFile,VcsLogProvider> entry : logProviders.entrySet()) {
    providers2roots.putValue(entry.getValue(),entry.getKey());
  }
  for (  Map.Entry<VcsLogProvider,Collection<VirtualFile>> entry : providers2roots.entrySet()) {
    entry.getKey().subscribeToRootRefreshEvents(entry.getValue(),new VcsLogRefresher(){
      @Override public void refresh(      @NotNull VirtualFile root){
        vcsLogDataHolder.refresh(root);
      }
      @Override public void refreshRefs(      @NotNull VirtualFile root){
        vcsLogDataHolder.refreshRefs(root);
      }
    }
);
  }
}
