{
  final Module module=ModuleUtilCore.findModuleForPsiElement(aClass);
  if (module != null) {
    final GlobalSearchScope moduleScope=GlobalSearchScope.moduleWithDependentsScope(module);
    PsiShortNamesCache cache=PsiShortNamesCache.getInstance(aClass.getProject());
    String klassName=aClass.getName();
    Pattern pattern=Pattern.compile(".*" + klassName + ".*"+ "Test(Case)?");
    HashSet<String> names=new HashSet<>();
    cache.getAllClassNames(names);
    for (    String eachName : names) {
      if (pattern.matcher(eachName).matches()) {
        for (        PsiClass eachClass : cache.getClassesByName(eachName,moduleScope)) {
          if (TestFrameworks.getInstance().isTestClass(eachClass)) {
            myElements.add(eachClass);
          }
        }
      }
    }
    suggestAllNames(aClass.getName(),newClassName);
  }
}
