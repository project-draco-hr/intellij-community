{
  PsiType constrainingType=null;
  final PsiElement parent=element.getParent();
  if (parent instanceof PsiReturnStatement) {
    final PsiElement el=PsiTreeUtil.getParentOfType(parent,PsiMethod.class,PsiLambdaExpression.class);
    constrainingType=el instanceof PsiMethod ? ((PsiMethod)el).getReturnType() : el instanceof PsiLambdaExpression ? LambdaUtil.getFunctionalInterfaceReturnType((PsiLambdaExpression)el) : null;
  }
 else   if (parent instanceof PsiAssignmentExpression) {
    constrainingType=((PsiAssignmentExpression)parent).getLExpression().getType();
  }
 else   if (parent instanceof PsiLocalVariable) {
    constrainingType=((PsiLocalVariable)parent).getType();
  }
  checkConstrainingType(element,constrainingType);
}
