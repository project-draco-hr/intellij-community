{
  String text=getRecordText(record,side);
  editor.getDocument().setText(text);
  for (  LineFragment fragment : record.getFragments()) {
    List<DiffFragment> innerFragments=fragment.getInnerFragments();
    int start=side.getStartOffset(fragment);
    int end=side.getEndOffset(fragment);
    TextDiffType type=DiffUtil.getLineDiffType(fragment);
    DiffDrawUtil.createHighlighter(editor,start,end,type,innerFragments != null);
    if (innerFragments != null) {
      for (      DiffFragment innerFragment : innerFragments) {
        int innerStart=side.getStartOffset(innerFragment);
        int innerEnd=side.getEndOffset(innerFragment);
        TextDiffType innerType=DiffUtil.getDiffType(innerFragment);
        innerStart+=start;
        innerEnd+=start;
        DiffDrawUtil.createInlineHighlighter(editor,innerStart,innerEnd,innerType);
      }
    }
  }
}
