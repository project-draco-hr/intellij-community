{
  g.setColor(UIUtil.getSeparatorBackground());
  g.fillRect(0,0,myPanel.getWidth(),myPanel.getHeight());
  GraphicsUtil.setupAAPainting(g);
  int lineHeight=myValueRenderer.getEditorLineHeight();
  int topOffset=myValueRenderer.getTopOffset();
  for (  LineFragment fragment : myRecord.getFragments()) {
    TextDiffType type=DiffUtil.getLineDiffType(fragment);
    Color color=type.getColor(myValueRenderer.myEditor);
    int start1=fragment.getStartLine1() * lineHeight + topOffset;
    int end1=fragment.getEndLine1() * lineHeight + topOffset;
    int start2=fragment.getStartLine2() * lineHeight + topOffset;
    int end2=fragment.getEndLine2() * lineHeight + topOffset;
    DiffDrawUtil.drawCurveTrapezium((Graphics2D)g,0,myPanel.getWidth(),start1,end1,start2,end2,color,null);
  }
}
