{
  List<? extends ExternalSystemNode> newChildrenCandidates=doBuildChildren();
  if (newChildrenCandidates.isEmpty())   return NO_CHILDREN;
  addAll(newChildrenCandidates,true);
  sort(myChildrenList);
  List<ExternalSystemNode> visibleNodes=new ArrayList<ExternalSystemNode>();
  for (  ExternalSystemNode each : myChildrenList) {
    if (each.isVisible())     visibleNodes.add(each);
  }
  return visibleNodes.toArray(new ExternalSystemNode[visibleNodes.size()]);
}
