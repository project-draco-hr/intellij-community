{
  super(project);
  this.project=project;
  setTitle(PyPullUpHandler.REFACTORING_NAME);
  myPresenter=presenter;
  parentsModel=new DefaultComboBoxModel();
  ComboBox parentsCombo=new ComboBox(parentsModel);
  parentsCombo.setRenderer(new PyClassCellRenderer());
  JLabel mainLabel=new JLabel();
  mainLabel.setText(RefactoringBundle.message("pull.up.members.to",PyClassCellRenderer.getClassText(clazz)));
  mainLabel.setLabelFor(parentsCombo);
  topPanel=new JPanel();
  topPanel.setLayout(new GridBagLayout());
  GridBagConstraints gbConstraints=new GridBagConstraints();
  gbConstraints.insets=new Insets(4,8,4,8);
  gbConstraints.weighty=1;
  gbConstraints.weightx=1;
  gbConstraints.gridy=0;
  gbConstraints.gridwidth=GridBagConstraints.REMAINDER;
  gbConstraints.fill=GridBagConstraints.BOTH;
  gbConstraints.anchor=GridBagConstraints.WEST;
  topPanel.add(mainLabel,gbConstraints);
  topPanel.add(mainLabel,gbConstraints);
  gbConstraints.gridy++;
  topPanel.add(parentsCombo,gbConstraints);
  centerPanel=new JPanel(new BorderLayout());
  PyMemberSelectionPanel membersPanel=new PyMemberSelectionPanel(RefactoringBundle.message("members.to.be.pulled.up"));
  membersPanelTable=membersPanel.getTable();
  gbConstraints.gridy++;
  centerPanel.add(membersPanel,BorderLayout.CENTER);
  parentsCombo.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      if (e.getStateChange() == ItemEvent.SELECTED) {
        membersPanelTable.fireExternalDataChange();
      }
    }
  }
);
}
