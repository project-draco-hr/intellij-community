{
  RepositoryLibraryProperties libraryProperties=new RepositoryLibraryProperties(coord);
  final List<OrderRoot> roots=MavenDependenciesRemoteManager.getInstance(project).downloadDependenciesModal(libraryProperties,attachSources,attachJavaDoc,copyTo);
  if (roots == null || roots.size() == 0) {
    return null;
  }
  notifyArtifactsDownloaded(project,roots);
  RepositoryLibraryDescription libraryDescription=RepositoryLibraryDescription.findDescription(libraryProperties);
  return new NewLibraryConfiguration(libraryDescription.getDisplayName(libraryProperties.getVersion()),RepositoryLibraryType.getInstance(),new RepositoryLibraryProperties(coord)){
    @Override public void addRoots(    @NotNull LibraryEditor editor){
      editor.addRoots(roots);
    }
  }
;
}
