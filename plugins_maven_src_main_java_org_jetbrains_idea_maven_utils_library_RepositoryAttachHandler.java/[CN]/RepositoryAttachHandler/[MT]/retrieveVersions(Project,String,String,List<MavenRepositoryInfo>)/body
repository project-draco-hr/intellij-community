{
  MavenEmbeddersManager manager=MavenProjectsManager.getInstance(project).getEmbeddersManager();
  MavenEmbedderWrapper embedder=manager.getEmbedder(MavenEmbeddersManager.FOR_GET_VERSIONS);
  embedder.customizeForGetVersions();
  try {
    List<MavenRemoteRepository> remoteRepositories=convertRepositories(repositories);
    List<String> versions=embedder.retrieveVersions(groupId,artifactId,remoteRepositories);
    Collections.sort(versions,new Comparator<String>(){
      @Override public int compare(      String o1,      String o2){
        return StringUtil.compareVersionNumbers(o2,o1);
      }
    }
);
    return versions;
  }
 catch (  MavenProcessCanceledException e) {
    return Collections.emptyList();
  }
 finally {
    manager.release(embedder);
  }
}
