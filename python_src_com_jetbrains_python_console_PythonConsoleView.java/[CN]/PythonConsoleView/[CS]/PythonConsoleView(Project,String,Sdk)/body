{
  super(project,title,PythonLanguage.getInstance());
  getVirtualFile().putUserData(LanguageLevel.KEY,PythonSdkType.getLanguageLevelForSdk(sdk));
  getConsoleEditor().putUserData(PythonConsoleAutopopupBlockingHandler.REPL_KEY,new Object());
  getHistoryViewer().putUserData(ConsoleViewUtil.EDITOR_IS_CONSOLE_HISTORY_VIEW,true);
  super.setPrompt(null);
  setUpdateFoldingsEnabled(false);
  myPyHighlighter=new PyHighlighter(sdk != null && sdk.getVersionString() != null ? LanguageLevel.fromPythonVersion(sdk.getVersionString()) : LanguageLevel.getDefault());
  myScheme=getConsoleEditor().getColorsScheme();
  PythonConsoleData data=PyConsoleUtil.getOrCreateIPythonData(getVirtualFile());
  myPromptView=new ConsolePromptDecorator(this.getConsoleEditor(),data);
}
