{
  if (children == null) {
    node.addChildren(XValueChildrenList.EMPTY,true);
    return;
  }
  final Map<String,XValue> specialValues=new HashMap<String,XValue>();
  XValueChildrenList filteredChildren=new XValueChildrenList();
  for (int i=0; i < children.size(); i++) {
    String name=children.getName(i);
    XValue value=children.getValue(i);
    if (name.startsWith(DOUBLE_UNDERSCORE) && name.endsWith(DOUBLE_UNDERSCORE)) {
      specialValues.put(name,value);
      continue;
    }
    filteredChildren.add(name,value);
  }
  node.addChildren(filteredChildren,specialValues.isEmpty());
  if (specialValues.isEmpty()) {
    return;
  }
  addSpecialVars(node,specialValues);
}
