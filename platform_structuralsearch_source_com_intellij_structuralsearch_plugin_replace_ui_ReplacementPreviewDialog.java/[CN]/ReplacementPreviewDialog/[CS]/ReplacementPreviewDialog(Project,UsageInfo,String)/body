{
  super(project,true);
  setTitle(SSRBundle.message("structural.replace.preview.dialog.title"));
  setOKButtonText(SSRBundle.message("replace.preview.oktext"));
  this.project=project;
  final PsiElement element=info.getElement();
  final VirtualFile virtualFile=PsiUtilCore.getVirtualFile(element);
  myFileType=virtualFile != null ? virtualFile.getFileType() : FileTypes.PLAIN_TEXT;
  init();
  Segment range=info.getSegment();
  hilight(virtualFile,range.getStartOffset(),range.getEndOffset());
  UIUtil.setContent(replacement,replacementString,0,-1,project);
  final StructuralSearchProfile profile=StructuralSearchUtil.getProfileByPsiElement(element);
  if (profile != null) {
    UIUtil.updateHighlighter(replacement,profile);
  }
}
