{
  myFile=file;
  myProject=project;
  try {
    final Document document=JDOMUtil.loadDocument(VfsUtilCore.virtualToIoFile(myFile));
    final Element config=document.getRootElement().getChild("config");
    if (config != null) {
      mySettings=new RunnerAndConfigurationSettingsImpl(RunManagerImpl.getInstanceImpl(project));
      try {
        mySettings.readExternal(config);
        final Executor executor=ExecutorRegistry.getInstance().getExecutorById(DefaultRunExecutor.EXECUTOR_ID);
        if (executor != null) {
          final RunConfiguration configuration=mySettings.getConfiguration();
          if (configuration instanceof SMRunnerConsolePropertiesProvider) {
            myProperties=((SMRunnerConsolePropertiesProvider)configuration).createTestConsoleProperties(executor);
          }
        }
      }
 catch (      InvalidDataException e) {
        LOG.info(e);
        mySettings=null;
      }
    }
  }
 catch (  Exception ignore) {
  }
}
