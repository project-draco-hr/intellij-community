{
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    if (productionModule.equals(TestModuleProperties.getInstance(module).getProductionModule())) {
      return module;
    }
  }
  if (computeSuitableTestRootUrls(productionModule).isEmpty()) {
    final HashSet<Module> modules=new HashSet<>();
    ModuleUtilCore.collectModulesDependsOn(productionModule,modules);
    modules.remove(productionModule);
    for (    Module module : modules) {
      if (!computeSuitableTestRootUrls(module).isEmpty())       return module;
    }
  }
  return productionModule;
}
