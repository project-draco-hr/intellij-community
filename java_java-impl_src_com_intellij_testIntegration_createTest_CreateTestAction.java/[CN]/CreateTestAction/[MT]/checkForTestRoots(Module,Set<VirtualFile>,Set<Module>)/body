{
  final boolean isFirst=processed.isEmpty();
  if (!processed.add(srcModule))   return;
  testFolders.addAll(ModuleRootManager.getInstance(srcModule).getSourceRoots(JavaSourceRootType.TEST_SOURCE));
  if (isFirst && !testFolders.isEmpty())   return;
  final HashSet<Module> modules=new HashSet<Module>();
  ModuleUtilCore.collectModulesDependsOn(srcModule,modules);
  for (  Module module : modules) {
    checkForTestRoots(module,testFolders,processed);
  }
}
