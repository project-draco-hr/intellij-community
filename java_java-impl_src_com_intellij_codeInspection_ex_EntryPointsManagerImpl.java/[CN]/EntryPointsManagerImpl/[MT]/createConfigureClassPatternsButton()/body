{
  final JButton configureClassPatterns=new JButton("Configure class patterns...");
  configureClassPatterns.setHorizontalAlignment(SwingConstants.LEFT);
  configureClassPatterns.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      final EntryPointsManagerBase entryPointsManagerBase=getInstance(ProjectUtil.guessCurrentProject(configureClassPatterns));
      final ArrayList<ClassPattern> list=new ArrayList<>();
      for (      ClassPattern pattern : entryPointsManagerBase.getPatterns()) {
        list.add(new ClassPattern(pattern));
      }
      new DialogWrapper(entryPointsManagerBase.myProject){
{
          init();
          setTitle("Configure Class Patterns");
        }
        @Nullable @Override protected JComponent createCenterPanel(){
          return new ClassPatternsPanel(list);
        }
        @Override protected void doOKAction(){
          final LinkedHashSet<ClassPattern> patterns=entryPointsManagerBase.getPatterns();
          patterns.clear();
          patterns.addAll(list);
          DaemonCodeAnalyzer.getInstance(entryPointsManagerBase.myProject).restart();
          super.doOKAction();
        }
      }
.show();
    }
  }
);
  return configureClassPatterns;
}
