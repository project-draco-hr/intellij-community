{
  final TIntArrayList completeRows=new TIntArrayList(myRowAnimationStates.size());
  myRowAnimationStates.forEachEntry(new TIntObjectProcedure<RowAnimationState>(){
    @Override public boolean execute(    int row,    RowAnimationState animationState){
      if (animationState.doAnimationStep(updateTime)) {
        completeRows.add(row);
      }
      return true;
    }
  }
);
  completeRows.forEach(new TIntProcedure(){
    @Override public boolean execute(    int row){
      myRowAnimationStates.remove(row);
      return true;
    }
  }
);
  if (myRowAnimationStates.isEmpty()) {
    stopAnimation();
  }
}
