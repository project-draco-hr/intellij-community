{
  final Set<CustomTaskState> result=new LinkedHashSet<CustomTaskState>();
  for (  JiraTransition transition : transitions) {
    final int transitionId=transition.id;
    final String transitionName=transition.target.name;
    String fieldName=null;
    if (transition.fields != null) {
      for (      Map.Entry<String,JsonElement> field : transition.fields.entrySet()) {
        fieldName=field.getKey();
        final JsonObject fieldInfo=field.getValue().getAsJsonObject();
        if (fieldName.equals("resolution") && fieldInfo.get("required").getAsBoolean()) {
          for (          JsonElement allowedValue : fieldInfo.getAsJsonArray("allowedValues")) {
            final String resolutionName=allowedValue.getAsJsonObject().get("name").getAsString();
            final int resolutionId=allowedValue.getAsJsonObject().get("id").getAsInt();
            result.add(new JiraCustomTaskState(transitionId,transitionName + " (" + resolutionName+ ")",resolutionId));
          }
          break;
        }
      }
    }
    if (fieldName == null) {
      result.add(new JiraCustomTaskState(transitionId,transitionName,0));
    }
  }
  return result;
}
