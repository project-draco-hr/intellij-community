{
  WindowManagerListener listener=new WindowManagerListener(){
    @Override public void frameCreated(    IdeFrame frame){
      Project project=frame.getProject();
      StatusBar statusBar=frame.getStatusBar();
      if (project == null || statusBar == null || statusBar.getWidget(ScratchWidget.WIDGET_ID) != null)       return;
      ScratchWidget widget=new ScratchWidget(project);
      statusBar.addWidget(widget,"before Encoding",project);
      statusBar.updateWidget(ScratchWidget.WIDGET_ID);
    }
    @Override public void beforeFrameReleased(    IdeFrame frame){
    }
  }
;
  for (  IdeFrame frame : windowManager.getAllProjectFrames()) {
    listener.frameCreated(frame);
  }
  windowManager.addListener(listener);
}
