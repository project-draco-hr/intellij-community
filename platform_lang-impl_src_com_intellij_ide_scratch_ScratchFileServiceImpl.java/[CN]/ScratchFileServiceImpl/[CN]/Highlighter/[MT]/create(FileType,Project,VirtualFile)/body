{
  if (project == null || file == null)   return null;
  RootType rootType=ScratchFileService.getInstance().getRootType(file);
  if (rootType == null)   return null;
  Language language=rootType.substituteLanguage(project,file);
  return language == null ? null : SyntaxHighlighterFactory.getSyntaxHighlighter(language,project,file);
}
