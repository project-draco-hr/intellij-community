{
  String revisionHash=commit.getHash().asString();
  Project project=repository.getProject();
  VirtualFile rootFile=repository.getRoot();
  HgUpdateCommand updateCommand=new HgUpdateCommand(project,rootFile);
  updateCommand.setRevision(revisionHash);
  HgCommandResult result=updateCommand.execute();
  new HgConflictResolver(project).resolve(rootFile);
  if (HgErrorUtil.hasErrorsInCommandExecution(result)) {
    new HgCommandResultNotifier(project).notifyError(result,"","Update failed");
  }
  project.getMessageBus().syncPublisher(HgVcs.BRANCH_TOPIC).update(project,null);
}
