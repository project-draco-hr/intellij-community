{
  final Hash revisionHash=commit.getId();
  final Project project=repository.getProject();
  final VirtualFile root=repository.getRoot();
  FileDocumentManager.getInstance().saveAllDocuments();
  new Task.Backgroundable(project,HgVcsMessages.message("hg4idea.progress.updatingTo",revisionHash.toShortString())){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      HgUpdateToAction.updateTo(project,root,revisionHash.asString(),false);
    }
  }
.queue();
}
