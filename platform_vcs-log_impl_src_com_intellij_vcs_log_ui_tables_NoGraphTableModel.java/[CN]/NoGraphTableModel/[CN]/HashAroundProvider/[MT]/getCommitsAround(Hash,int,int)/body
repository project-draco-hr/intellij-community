{
  int rowIndex=findRowIndex(selectedHash);
  if (rowIndex < 0) {
    LOG.error("Couldn't find the hash " + selectedHash + " among supplied commits",new Attachment("filtered_commits.txt",myCommits.toString()));
    return MultiMap.emptyInstance();
  }
  MultiMap<VirtualFile,Hash> commits=MultiMap.create();
  for (int i=Math.max(0,rowIndex - above); i < rowIndex + below && i < myCommits.size(); i++) {
    VcsFullCommitDetails details=myCommits.get(i);
    commits.putValue(details.getRoot(),details.getHash());
  }
  return commits;
}
