{
  super.visitMethodCallExpression(call);
  final PsiExpressionList argumentList=call.getArgumentList();
  final PsiExpression[] arguments=argumentList.getExpressions();
  if (arguments.length == 0) {
    return;
  }
  final PsiExpression lastArgument=arguments[arguments.length - 1];
  final PsiType argumentType=lastArgument.getType();
  if (!isPrimitiveArrayType(argumentType)) {
    return;
  }
  final JavaResolveResult result=call.resolveMethodGenerics();
  final PsiMethod method=(PsiMethod)result.getElement();
  if (method == null || AnnotationUtil.isAnnotated(method,Arrays.asList("java.lang.invoke.MethodHandle.PolymorphicSignature"))) {
    return;
  }
  final PsiParameterList parameterList=method.getParameterList();
  if (parameterList.getParametersCount() != arguments.length) {
    return;
  }
  final PsiParameter[] parameters=parameterList.getParameters();
  final PsiParameter lastParameter=parameters[parameters.length - 1];
  if (!lastParameter.isVarArgs()) {
    return;
  }
  final PsiEllipsisType parameterType=(PsiEllipsisType)lastParameter.getType();
  if (isDeepPrimitiveArrayType(parameterType,result.getSubstitutor())) {
    return;
  }
  registerError(lastArgument,lastArgument,parameterType.getComponentType());
}
