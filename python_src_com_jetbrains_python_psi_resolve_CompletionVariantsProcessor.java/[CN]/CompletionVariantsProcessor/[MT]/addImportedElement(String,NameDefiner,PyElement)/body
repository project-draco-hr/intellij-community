{
  Icon icon=expr.getIcon(0);
  if (icon == null)   icon=PlatformIcons.VARIABLE_ICON;
  LookupElementBuilder lookupItem=setupItem(LookupElementBuilder.create(expr,referencedName).withIcon(icon));
  if (definer instanceof PyImportElement) {
    PsiElement maybeFromImport=definer.getParent();
    if (maybeFromImport instanceof PyFromImportStatement) {
      final PyFromImportStatement fromImport=(PyFromImportStatement)maybeFromImport;
      PyReferenceExpression src=fromImport.getImportSource();
      if (src != null) {
        lookupItem=setItemNotice(lookupItem,src.getName());
      }
    }
  }
  if (definer instanceof PyAssignmentStatement && expr instanceof PyExpression) {
    PyType type=((PyExpression)expr).getType(TypeEvalContext.fast());
    if (type != null) {
      lookupItem=lookupItem.withTypeText(type.getName());
    }
  }
  myVariants.put(referencedName,lookupItem);
}
