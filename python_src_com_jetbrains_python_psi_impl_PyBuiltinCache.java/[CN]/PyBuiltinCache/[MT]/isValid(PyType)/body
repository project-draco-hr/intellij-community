{
  if (type instanceof PyCollectionType) {
    final PyType elementType=((PyCollectionType)type).getElementType(TypeEvalContext.codeInsightFallback());
    if (!isValid(elementType)) {
      return false;
    }
  }
  if (type instanceof PyClassType) {
    return ((PyClassType)type).isValid();
  }
 else   if (type instanceof PyUnionType) {
    for (    PyType member : ((PyUnionType)type).getMembers()) {
      if (!isValid(member)) {
        return false;
      }
    }
    return true;
  }
 else   if (type instanceof PyFunctionType) {
    return ((PyFunctionType)type).getCallable().isValid();
  }
  return true;
}
