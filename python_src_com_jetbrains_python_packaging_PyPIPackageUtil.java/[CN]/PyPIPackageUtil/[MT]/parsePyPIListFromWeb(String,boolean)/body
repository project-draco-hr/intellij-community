{
  return HttpRequests.request(url).connect(new HttpRequests.RequestProcessor<List<String>>(){
    @Override public List<String> process(    @NotNull HttpRequests.Request request) throws IOException {
      final List<String> packages=new ArrayList<String>();
      Reader reader=request.getReader();
      new ParserDelegator().parse(reader,new HTMLEditorKit.ParserCallback(){
        boolean inTable=false;
        HTML.Tag myTag;
        @Override public void handleStartTag(        HTML.Tag tag,        MutableAttributeSet set,        int i){
          myTag=tag;
          if (!isSimpleIndex) {
            if ("table".equals(tag.toString())) {
              inTable=!inTable;
            }
            if (inTable && "a".equals(tag.toString())) {
              packages.add(String.valueOf(set.getAttribute(HTML.Attribute.HREF)));
            }
          }
        }
        @Override public void handleText(        char[] data,        int pos){
          if (isSimpleIndex) {
            if (myTag != null && "a".equals(myTag.toString())) {
              packages.add(String.valueOf(data));
            }
          }
        }
        @Override public void handleEndTag(        HTML.Tag tag,        int i){
          if (!isSimpleIndex) {
            if ("table".equals(tag.toString())) {
              inTable=!inTable;
            }
          }
        }
      }
,true);
      return packages;
    }
  }
,Collections.<String>emptyList(),LOG);
}
