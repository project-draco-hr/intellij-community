{
  if (LOCAL.equals(selectedValue)) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        SdkConfigurationUtil.createSdk(myProject,myExistingSdks,myCallback,PythonSdkType.getInstance());
      }
    }
,ModalityState.any());
  }
 else   if (REMOTE.equals(selectedValue)) {
    PythonRemoteInterpreterManager remoteInterpreterManager=PythonRemoteInterpreterManager.getInstance();
    if (remoteInterpreterManager != null) {
      Sdk sdk=remoteInterpreterManager.addRemoteSdk(myProject,Lists.newArrayList(myExistingSdks));
      if (sdk != null) {
        myCallback.consume(sdk);
      }
    }
 else {
      Messages.showErrorDialog("WebDeployment is missing. Please enable WebDeployment plugin.","Add Remote Interpreter");
    }
  }
 else {
    String filePath=selectedValue;
    if (StringUtil.startsWithChar(filePath,'~')) {
      String home=SystemProperties.getUserHome();
      filePath=home + filePath.substring(1);
    }
    Sdk sdk=SdkConfigurationUtil.setupSdk(myExistingSdks,LocalFileSystem.getInstance().findFileByPath(filePath),PythonSdkType.getInstance(),false,null,null);
    myCallback.consume(sdk);
  }
}
