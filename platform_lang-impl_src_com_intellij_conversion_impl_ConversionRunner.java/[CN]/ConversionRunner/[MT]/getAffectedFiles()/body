{
  Set<File> affectedFiles=new HashSet<>();
  if (myProcessProjectFile) {
    affectedFiles.add(myContext.getProjectFile());
  }
  if (myProcessWorkspaceFile) {
    affectedFiles.add(myContext.getWorkspaceFile());
  }
  affectedFiles.addAll(myModulesFilesToProcess);
  try {
    if (myProcessRunConfigurations) {
      affectedFiles.addAll(myContext.getRunManagerSettings().getAffectedFiles());
    }
    if (myProcessProjectLibraries) {
      affectedFiles.addAll(myContext.getProjectLibrariesSettings().getAffectedFiles());
    }
    if (myArtifacts) {
      affectedFiles.addAll(myContext.getArtifactsSettings().getAffectedFiles());
    }
  }
 catch (  CannotConvertException ignored) {
  }
  if (!myProvider.canDetermineIfConversionAlreadyPerformedByProjectFiles()) {
    final ComponentManagerSettings settings=myContext.getProjectFileVersionSettings();
    if (settings != null) {
      affectedFiles.add(settings.getFile());
    }
  }
  affectedFiles.addAll(myConverter.getAdditionalAffectedFiles());
  return affectedFiles;
}
