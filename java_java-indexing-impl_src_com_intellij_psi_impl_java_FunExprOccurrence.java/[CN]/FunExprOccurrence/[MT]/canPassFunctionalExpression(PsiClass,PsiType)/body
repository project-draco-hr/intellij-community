{
  if (paramType instanceof PsiEllipsisType) {
    paramType=((PsiEllipsisType)paramType).getComponentType();
  }
  PsiClass functionalCandidate=PsiUtil.resolveClassInClassTypeOnly(paramType);
  if (functionalCandidate instanceof PsiTypeParameter) {
    return InheritanceUtil.isInheritorOrSelf(sam,PsiUtil.resolveClassInClassTypeOnly(TypeConversionUtil.erasure(paramType)),true);
  }
  return InheritanceUtil.isInheritorOrSelf(functionalCandidate,sam,true);
}
