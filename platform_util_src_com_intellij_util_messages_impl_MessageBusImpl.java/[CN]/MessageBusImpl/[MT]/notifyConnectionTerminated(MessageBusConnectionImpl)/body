{
  for (  List<MessageBusConnectionImpl> topicSubscribers : mySubscribers.values()) {
    topicSubscribers.remove(connection);
  }
  getRootBus().clearSubscriberCache();
  if (myDisposed)   return;
  final Iterator<DeliveryJob> i=myMessageQueue.get().iterator();
  while (i.hasNext()) {
    final DeliveryJob job=i.next();
    if (job.connection == connection) {
      i.remove();
      notifyPendingJobChange(-1);
    }
  }
}
