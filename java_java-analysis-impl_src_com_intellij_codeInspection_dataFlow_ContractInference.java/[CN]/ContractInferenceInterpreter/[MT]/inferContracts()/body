{
  final boolean notNull=NullableNotNullManager.isNotNull(myMethod);
  PsiTypeElement typeElement=myMethod.getReturnTypeElement();
  final PsiType returnType=typeElement == null ? null : typeElement.getType();
  return ContainerUtil.filter(doInferContracts(),new Condition<MethodContract>(){
    @Override public boolean value(    MethodContract contract){
      if (notNull && contract.returnValue == NOT_NULL_VALUE) {
        return false;
      }
      return ContractInspection.isReturnTypeCompatible(returnType,contract.returnValue);
    }
  }
);
}
