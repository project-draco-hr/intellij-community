{
  if (!InferenceFromSourceUtil.shouldInferFromSource(method)) {
    return Collections.emptyList();
  }
  return CachedValuesManager.getCachedValue(method,new CachedValueProvider<List<MethodContract>>(){
    @Nullable @Override public Result<List<MethodContract>> compute(){
      List<MethodContract> result=RecursionManager.doPreventingRecursion(method,true,new Computable<List<MethodContract>>(){
        @Override public List<MethodContract> compute(){
          return new ContractInferenceInterpreter(method).inferContracts();
        }
      }
);
      if (result == null)       result=Collections.emptyList();
      return Result.create(result,method,PsiModificationTracker.JAVA_STRUCTURE_MODIFICATION_COUNT);
    }
  }
);
}
