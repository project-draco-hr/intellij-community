{
  return runCommand(new Computable<GitLineHandler>(){
    @Override public GitLineHandler compute(){
      final GitLineHandler h=new GitLineHandler(repository.getProject(),repository.getRoot(),GitCommand.PUSH);
      h.setUrl(url);
      h.setSilent(false);
      h.setStdoutSuppressed(false);
      addListeners(h,listeners);
      h.addProgressParameter();
      h.addParameters(remote);
      h.addParameters(spec);
      if (updateTracking) {
        h.addParameters("--set-upstream");
      }
      return h;
    }
  }
);
}
