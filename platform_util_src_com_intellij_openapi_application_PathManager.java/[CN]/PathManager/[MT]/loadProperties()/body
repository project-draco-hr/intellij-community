{
  String[] propFiles={System.getProperty(PROPERTIES_FILE),getUserPropertiesPath() + "/idea.properties",getHomePath() + "/bin/idea.properties",getHomePath() + "/community/bin/idea.properties"};
  for (  String path : propFiles) {
    if (path != null) {
      File propFile=new File(path);
      if (propFile.exists()) {
        try {
          Reader fis=new BufferedReader(new FileReader(propFile));
          try {
            Map<String,String> properties=FileUtil.loadProperties(fis);
            Properties sysProperties=System.getProperties();
            for (            String key : properties.keySet()) {
              if (sysProperties.getProperty(key,null) == null) {
                String value=substituteVars(properties.get(key));
                sysProperties.setProperty(key,value);
              }
            }
          }
  finally {
            fis.close();
          }
        }
 catch (        IOException e) {
          System.err.println("Problem reading from property file: " + propFile.getPath());
        }
      }
    }
  }
}
