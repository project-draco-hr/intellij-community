{
  if (macPart != null && SystemInfo.isMac) {
    return getUserHome() + File.separator + macPart+ File.separator+ selector;
  }
  if (winVar != null && SystemInfo.isWindows) {
    String dir=System.getenv(winVar);
    if (dir != null) {
      return dir + File.separator + selector;
    }
  }
  if (xdgVar != null && xdgDir != null && SystemInfo.hasXdgOpen()) {
    String dir=System.getenv(xdgVar);
    if (dir == null)     dir=getUserHome() + File.separator + xdgDir;
    return dir + File.separator + selector;
  }
  return getUserHome() + File.separator + "."+ selector+ (!fallback.isEmpty() ? File.separator + fallback : "");
}
