{
  if (beforeRestart.length == 0)   return;
  File restartDir=new File(System.getProperty("user.home") + "/." + System.getProperty("idea.paths.selector")+ "/restart");
  if (!FileUtilRt.createDirectory(restartDir))   throw new IOException("Cannot create dir: " + restartDir);
  File restarter=new File(restartDir.getPath() + "/restarter.sh");
  BufferedWriter output=new BufferedWriter(new FileWriter(restarter));
  output.write("#!/bin/sh \n");
  for (  String command : beforeRestart) {
    output.write(command + " ");
  }
  output.close();
  if (!restarter.setExecutable(true,true))   throw new IOException("Cannot make file executable: " + restarter);
}
