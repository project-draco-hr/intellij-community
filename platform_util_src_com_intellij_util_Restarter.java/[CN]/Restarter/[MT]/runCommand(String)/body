{
  if (beforeRestart.length == 0)   return;
  try {
    Process process=Runtime.getRuntime().exec(beforeRestart);
    Thread outThread=new Thread(new StreamRedirector(process.getInputStream(),System.out),"restarter redirector out");
    Thread errThread=new Thread(new StreamRedirector(process.getErrorStream(),System.err),"restarter redirector err");
    outThread.start();
    errThread.start();
    try {
      process.waitFor();
    }
  finally {
      outThread.join();
      errThread.join();
    }
  }
 catch (  InterruptedException ignore) {
  }
}
