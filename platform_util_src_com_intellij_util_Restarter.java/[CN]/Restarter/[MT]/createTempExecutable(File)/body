{
  File executableDir=new File(getRestarterDir());
  if (!FileUtilRt.createDirectory(executableDir))   throw new IOException("Cannot create dir: " + executableDir);
  File copy=new File(executableDir.getPath() + "/" + executable.getName());
  if (!FileUtilRt.ensureCanCreateFile(copy) || (copy.exists() && !copy.delete())) {
    String ext=FileUtilRt.getExtension(executable.getName());
    copy=FileUtilRt.createTempFile(executableDir,FileUtilRt.getNameWithoutExtension(copy.getName()),StringUtil.isEmptyOrSpaces(ext) ? ".tmp" : ("." + ext),true,false);
  }
  FileUtilRt.copy(executable,copy);
  if (!copy.setExecutable(executable.canExecute()))   throw new IOException("Cannot make file executable: " + copy);
  return copy;
}
