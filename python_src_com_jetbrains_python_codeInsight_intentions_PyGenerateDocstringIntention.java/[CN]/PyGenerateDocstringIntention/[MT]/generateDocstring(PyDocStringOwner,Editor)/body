{
  if (!DocStringUtil.ensureNotPlainDocstringFormat(docStringOwner)) {
    return;
  }
  final PyDocstringGenerator docstringGenerator=new PyDocstringGenerator(docStringOwner);
  if (docStringOwner instanceof PyFunction) {
    docstringGenerator.useTypesFromDebuggerSignature(true).addReturn().withDefaultParameters().addFirstEmptyLine();
    if (docStringOwner.getDocStringValue() == null) {
      docstringGenerator.addReturn();
    }
  }
  final PyStringLiteralExpression updated=docstringGenerator.buildAndInsert().getDocStringExpression();
  if (updated != null && editor != null) {
    final int offset=updated.getTextOffset();
    editor.getCaretModel().moveToOffset(offset);
    editor.getCaretModel().moveCaretRelatively(0,1,false,false,false);
  }
}
