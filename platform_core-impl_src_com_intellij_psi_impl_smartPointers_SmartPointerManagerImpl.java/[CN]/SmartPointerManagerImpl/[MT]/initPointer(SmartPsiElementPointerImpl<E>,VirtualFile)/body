{
synchronized (lock) {
    pointer.incrementAndGetReferenceCount(1);
    FilePointersList pointers=getPointers(containingFile);
    if (pointers == null) {
      pointers=new FilePointersList();
      containingFile.putUserData(POINTERS_KEY,pointers);
    }
    pointers.add(new PointerReference(pointer,containingFile,ourQueue,POINTERS_KEY));
    if (pointer.getElementInfo() instanceof SelfElementInfo && ((SelfElementInfo)pointer.getElementInfo()).hasRange()) {
      pointers.markerCache.rangeChanged();
    }
  }
}
