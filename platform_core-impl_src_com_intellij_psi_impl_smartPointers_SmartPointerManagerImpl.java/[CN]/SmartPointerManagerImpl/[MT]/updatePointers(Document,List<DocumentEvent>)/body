{
  VirtualFile file=FileDocumentManager.getInstance().getFile(document);
  if (file == null)   return;
  THashSet<ManualRangeMarker> processedMarkers=ContainerUtil.newIdentityTroveSet();
  for (  SmartPsiElementPointerImpl pointer : getAlivePointers(file)) {
    SmartPointerElementInfo info=pointer.getElementInfo();
    if (info instanceof SelfElementInfo) {
      ((SelfElementInfo)info).updateRange(events,processedMarkers);
    }
  }
}
