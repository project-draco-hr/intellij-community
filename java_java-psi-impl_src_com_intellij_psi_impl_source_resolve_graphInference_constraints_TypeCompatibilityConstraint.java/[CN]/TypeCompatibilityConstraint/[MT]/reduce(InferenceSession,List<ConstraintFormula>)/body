{
  if (session.isProperType(myT) && session.isProperType(myS)) {
    return TypeConversionUtil.isAssignable(myT,myS);
  }
  if (myS instanceof PsiPrimitiveType) {
    final PsiClassType boxedType=((PsiPrimitiveType)myS).getBoxedType(session.getManager(),session.getScope());
    if (boxedType != null) {
      constraints.add(new TypeCompatibilityConstraint(myT,boxedType));
      return true;
    }
  }
  if (myT instanceof PsiPrimitiveType) {
    final PsiClassType boxedType=((PsiPrimitiveType)myT).getBoxedType(session.getManager(),session.getScope());
    if (boxedType != null) {
      constraints.add(new TypeEqualityConstraint(boxedType,myS));
      return true;
    }
  }
  if (isUncheckedConversion(myT,myS)) {
    session.setErased();
    return true;
  }
  constraints.add(new StrictSubtypingConstraint(myT,myS));
  return true;
}
