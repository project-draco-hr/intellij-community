{
  if (!myText.isEmpty()) {
    Dimension painterSize=myLabelPainter.calculateSize(myText,getFontMetrics(getLabelFont()));
    JBScrollPane scrollPane=UIUtil.getParentOfType(JBScrollPane.class,this);
    int width;
    if (scrollPane == null) {
      width=getWidth();
    }
 else {
      Rectangle rect=scrollPane.getViewport().getViewRect();
      width=rect.x + rect.width;
    }
    myLabelPainter.paint((Graphics2D)g,myText,width - painterSize.width - RIGHT_BORDER,0,myColor);
  }
}
