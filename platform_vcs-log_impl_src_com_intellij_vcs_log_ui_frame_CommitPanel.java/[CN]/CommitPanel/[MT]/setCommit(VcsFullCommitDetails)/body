{
  if (!Comparing.equal(myCommit,commitData)) {
    if (commitData instanceof LoadingDetails) {
      myDataPanel.setData(null);
      myReferencesPanel.setReferences(Collections.emptyList());
      updateBorder(null);
    }
 else {
      myDataPanel.setData(commitData);
      myReferencesPanel.setReferences(sortRefs(commitData.getId(),commitData.getRoot()));
      updateBorder(commitData);
    }
    myCommit=commitData;
  }
  List<String> branches=null;
  if (!(commitData instanceof LoadingDetails)) {
    branches=myLogData.getContainingBranchesGetter().requestContainingBranches(commitData.getRoot(),commitData.getId());
  }
  myDataPanel.setBranches(branches);
  myDataPanel.update();
  revalidate();
}
