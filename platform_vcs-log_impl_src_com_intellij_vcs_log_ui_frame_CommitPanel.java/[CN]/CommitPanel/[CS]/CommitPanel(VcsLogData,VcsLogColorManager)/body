{
  myLogData=logData;
  myColorManager=colorManager;
  setLayout(new BoxLayout(this,BoxLayout.Y_AXIS));
  setOpaque(false);
  myRootPanel=new RootPanel();
  myReferencesPanel=new ReferencesPanel();
  myDataPanel=new DataPanel(myLogData.getProject());
  JBPanel rootPanel=new JBPanel(new FlowLayout(FlowLayout.RIGHT,0,0)){
    @Override public Color getBackground(){
      return getCommitDetailsBackground();
    }
  }
;
  rootPanel.setOpaque(false);
  rootPanel.setBorder(JBUI.Borders.emptyRight(5));
  rootPanel.add(myRootPanel);
  add(rootPanel);
  add(myReferencesPanel);
  Dimension d=new Dimension(0,JBUI.scale(5));
  add(new Box.Filler(d,d,d){
    @Override public boolean isVisible(){
      return myReferencesPanel.isVisible();
    }
  }
);
  add(myDataPanel);
  setBorder(getDetailsBorder());
}
