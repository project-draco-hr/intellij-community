{
  List<Element> subElements=new SmartList<Element>();
  StateMap fileToState=myStates.get(componentName);
  if (fileToState != null) {
    for (    String fileName : fileToState.keys()) {
      Element state=fileToState.getStateAndArchive(fileName);
      if (state == null) {
        subElements.clear();
        break;
      }
      subElements.add(state);
    }
  }
  Element state=new Element(StorageData.COMPONENT);
  if (!subElements.isEmpty()) {
    splitter.mergeStatesInto(state,subElements.toArray(new Element[subElements.size()]));
  }
  return state;
}
