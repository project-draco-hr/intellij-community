{
  String diagnostics;
  try {
    Process p=Runtime.getRuntime().exec(SystemInfo.isWindows ? System.getenv("windir") + "\\system32\\tasklist.exe /v" : "ps a");
    diagnostics=StreamUtil.readText(p.getInputStream());
  }
 catch (  IOException e) {
    diagnostics=ExceptionUtil.getThrowableText(e);
  }
  return diagnostics;
}
