{
  int offset=caretOffset.get();
  if (editor instanceof EditorWindow) {
    file=InjectedLanguageManager.getInstance(file.getProject()).getTopLevelFile(file);
    editor=InjectedLanguageUtil.getTopLevelEditor(editor);
    offset=editor.getCaretModel().getOffset();
  }
  if (!(file instanceof PyFile)) {
    return Result.Continue;
  }
  if (BackspaceHandler.isWhitespaceBeforeCaret(editor)) {
    return Result.DefaultSkipIndent;
  }
  return Result.Continue;
}
