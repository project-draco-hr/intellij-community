{
  PsiElement parent=place instanceof GrEnumConstant ? place : place != null ? place.getParent() : null;
  if (parent instanceof GrIndexProperty) {
    GrIndexProperty index=(GrIndexProperty)parent;
    PsiType[] argTypes=getArgumentTypes(index.getNamedArguments(),index.getExpressionArguments(),index.getClosureArguments(),nullAsBottom,stopAt,byShape);
    if (isLValue(index) && argTypes != null) {
      PsiType rawInitializer=TypeInferenceHelper.getInitializerTypeFor(index);
      PsiType initializer=notNullizeType(rawInitializer,nullAsBottom,index);
      return ArrayUtil.append(argTypes,initializer);
    }
 else {
      return argTypes;
    }
  }
  if (parent instanceof GrCall) {
    GrCall call=(GrCall)parent;
    GrNamedArgument[] namedArgs=call.getNamedArguments();
    GrExpression[] expressions=call.getExpressionArguments();
    GrClosableBlock[] closures=call.getClosureArguments();
    return getArgumentTypes(namedArgs,expressions,closures,nullAsBottom,stopAt,byShape);
  }
 else   if (parent instanceof GrAnonymousClassDefinition) {
    final GrArgumentList argList=((GrAnonymousClassDefinition)parent).getArgumentListGroovy();
    if (argList == null) {
      return getArgumentTypes(GrNamedArgument.EMPTY_ARRAY,GrExpression.EMPTY_ARRAY,GrClosableBlock.EMPTY_ARRAY,nullAsBottom,stopAt,byShape);
    }
 else {
      return getArgumentTypes(argList.getNamedArguments(),argList.getExpressionArguments(),GrClosableBlock.EMPTY_ARRAY,nullAsBottom,stopAt,byShape);
    }
  }
 else   if (parent instanceof GrBinaryExpression || parent instanceof GrAssignmentExpression) {
    GrExpression right=parent instanceof GrBinaryExpression ? ((GrBinaryExpression)parent).getRightOperand() : ((GrAssignmentExpression)parent).getRValue();
    PsiType type=right != null ? right.getType() : null;
    return new PsiType[]{notNullizeType(type,nullAsBottom,parent)};
  }
  return null;
}
