{
  if (top != null) {
    for (    T t : top.iterable(tree)) {
      if (paths.containsKey(t))       continue;
      queue.add(t);
      paths.put(t,top.node);
    }
    top=null;
  }
  if (queue.isEmpty())   return stop();
  top=P.create(queue.remove());
  return top.node;
}
