{
  final SocketLock lock=new SocketLock();
  File temp=FileUtil.createTempDirectory("c",null);
  try {
    assertThat(lock.lock(temp.getPath() + "/c",temp.getPath() + "/s"),equalTo(SocketLock.ActivateStatus.NO_INSTANCE));
  }
  finally {
    lock.dispose();
    FileUtil.delete(temp);
  }
}
