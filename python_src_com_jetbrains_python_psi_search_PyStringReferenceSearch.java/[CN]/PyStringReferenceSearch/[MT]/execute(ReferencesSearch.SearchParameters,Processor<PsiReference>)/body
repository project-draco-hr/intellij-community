{
  final PsiElement element=params.getElementToSearch();
  if (!(element instanceof PyElement) && !(element instanceof PsiDirectory) && !(element instanceof DjangoTemplateFileImpl)) {
    return true;
  }
  SearchScope searchScope=params.getEffectiveSearchScope();
  if (searchScope instanceof GlobalSearchScope) {
    searchScope=GlobalSearchScope.getScopeRestrictedByFileTypes((GlobalSearchScope)searchScope,PythonFileType.INSTANCE,DjangoTemplateFileType.INSTANCE,StdFileTypes.XML,StdFileTypes.XHTML,HtmlFileType.INSTANCE);
  }
  return PythonUtil.searchElementStringReferences(consumer,element,searchScope);
}
