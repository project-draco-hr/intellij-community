{
  Collection<Document> committingDocs=new ArrayList<Document>();
  for (  Change change : changes) {
    VirtualFile virtualFile=ChangesUtil.getFilePath(change).getVirtualFile();
    if (virtualFile != null && !virtualFile.getFileType().isBinary()) {
      Document doc=FileDocumentManager.getInstance().getDocument(virtualFile);
      if (doc != null) {
        doc.putUserData(DOCUMENT_BEING_COMMITTED_KEY,project);
        committingDocs.add(doc);
      }
    }
  }
  return committingDocs;
}
