{
  final PsiElement context=result.getFileContext();
  myProcessor.handleEvent(JavaScopeProcessorEvent.SET_CURRENT_FILE_CONTEXT,context);
  final PsiNamedElement element=result.getElement();
  if (element instanceof PsiClass && context instanceof PsiImportStatement) {
    final PsiClass containingClass=((PsiClass)element).getContainingClass();
    if (containingClass != null && containingClass.hasTypeParameters()) {
      return myProcessor.execute(element,myState.put(PsiSubstitutor.KEY,createRawSubstitutor(containingClass)));
    }
  }
  return myProcessor.execute(element,myState);
}
