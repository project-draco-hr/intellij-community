{
  ApplicationInfoEx appInfo=(ApplicationInfoEx)ApplicationInfo.getInstance();
  final JPanel panel=new JPanel(new BorderLayout());
  Icon image=IconLoader.getIcon(appInfo.getAboutImageUrl());
  if (appInfo.showLicenseeInfo()) {
    final InfoSurface infoSurface=new InfoSurface(image);
    infoSurface.setPreferredSize(new Dimension(image.getIconWidth(),image.getIconHeight()));
    panel.add(infoSurface,BorderLayout.NORTH);
    new DumbAwareAction(){
      @Override public void actionPerformed(      AnActionEvent e){
        copyInfoToClipboard(infoSurface.getText());
      }
    }
.registerCustomShortcutSet(CustomShortcutSet.fromString("meta C","control C"),panel);
  }
 else {
    panel.add(new JLabel(image),BorderLayout.NORTH);
  }
  RelativePoint location;
  if (window != null) {
    Rectangle r=window.getBounds();
    location=new RelativePoint(window,new Point((r.width - image.getIconWidth()) / 2,(r.height - image.getIconHeight()) / 2));
  }
 else {
    Rectangle r=GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration().getBounds();
    location=new RelativePoint(new Point((r.width - image.getIconWidth()) / 2,(r.height - image.getIconHeight()) / 2));
  }
  ourPopup=JBPopupFactory.getInstance().createComponentPopupBuilder(panel,panel).setRequestFocus(true).setFocusable(true).setResizable(false).setMovable(false).setModalContext(false).setShowShadow(true).setShowBorder(false).setCancelKeyEnabled(true).setCancelOnClickOutside(true).setCancelOnOtherWindowOpen(true).createPopup();
  Disposer.register(ourPopup,new Disposable(){
    @Override public void dispose(){
      ourPopup=null;
    }
  }
);
  ourPopup.show(location);
}
