{
  for (int i=0, filesLength=files.length; i < filesLength; i++) {
    if (files[i].getFileType() == FileTypes.ARCHIVE) {
      files[i]=JarFileSystem.getInstance().getJarRootForLocalFile(files[i]);
    }
  }
  if (myPathListModel.add(Lists.newArrayList(files))) {
    setModified(true);
  }
  return files;
}
