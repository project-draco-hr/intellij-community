{
  GitResetDialog d=new GitResetDialog(project,gitRoots,defaultRoot);
  d.show();
  if (!d.isOK()) {
    return;
  }
  GitLineHandler h=d.handler();
  affectedRoots.add(d.getGitRoot());
  GitUtil.workingTreeChangeBegan(project);
  try {
    GitHandlerUtil.doSynchronously(h,GitBundle.getString("resetting.title"),h.printableCommandLine());
  }
  finally {
    GitUtil.workingTreeChangeFinished(project);
  }
  GitRepositoryManager manager=GitUtil.getRepositoryManager(project);
  manager.updateRepository(d.getGitRoot());
}
