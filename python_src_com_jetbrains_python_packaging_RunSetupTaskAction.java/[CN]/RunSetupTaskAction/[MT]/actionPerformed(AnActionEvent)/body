{
  Module module=e.getData(LangDataKeys.MODULE);
  if (module == null)   return;
  final PyFile setupPy=PyPackageManager.findSetupPy(module);
  try {
    final PythonTask task=new PythonTask(module,myTaskName);
    final VirtualFile virtualFile=setupPy.getVirtualFile();
    task.setRunnerScript(virtualFile.getPath());
    task.setWorkingDirectory(virtualFile.getParent().getPath());
    task.setParameters(ImmutableList.of(myTaskName));
    task.setAfterCompletion(new Runnable(){
      @Override public void run(){
        LocalFileSystem.getInstance().refresh(true);
      }
    }
);
    task.run();
  }
 catch (  ExecutionException ee) {
    Messages.showErrorDialog(module.getProject(),"Failed to run task: " + ee.getMessage(),myTaskName);
  }
}
