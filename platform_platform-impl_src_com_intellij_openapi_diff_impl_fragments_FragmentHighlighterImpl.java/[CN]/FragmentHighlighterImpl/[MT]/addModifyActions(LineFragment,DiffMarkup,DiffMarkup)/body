{
  if (fragment.isEqual())   return;
  if (fragment.isHasLineChildren())   return;
  FragmentSide side=wrapper.getSide();
  TextRange range=fragment.getRange(side);
  TextRange otherRange=fragment.getRange(side.otherSide());
  Document document=wrapper.getDocument();
  Document otherDocument=otherWrapper.getDocument();
  wrapper.addAction(MergeOperations.mostSensible(document,otherDocument,range,otherRange,side),range.getStartOffset());
  otherWrapper.addAction(MergeOperations.mostSensible(otherDocument,document,otherRange,range,side.otherSide()),otherRange.getStartOffset());
}
