{
  final TestData data=myConfig.getPersistantData();
  final PsiClass psiClass=ApplicationManager.getApplication().runReadAction(new Computable<PsiClass>(){
    @Nullable public PsiClass compute(){
      return ClassUtil.findPsiClass(PsiManager.getInstance(myConfig.getProject()),data.getMainClassName().replace('/','.'),null,true,getSearchScope());
    }
  }
);
  if (psiClass == null) {
    throw new CantRunException("No tests found in the class \"" + data.getMainClassName() + '\"');
  }
  if (null == ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    @Nullable public String compute(){
      return psiClass.getQualifiedName();
    }
  }
)) {
    throw new CantRunException("Cannot test anonymous or local class \"" + data.getMainClassName() + '\"');
  }
  collectTestMethods(classes,psiClass,data.getMethodName());
}
