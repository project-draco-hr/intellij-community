{
  List<FileColorConfiguration> configurations=isProjectLevel ? myProjectLevelConfigurations : myApplicationLevelConfigurations;
  configurations.clear();
  Map<String,String> predefinedScopeNameToPropertyKey=new THashMap<>(FileColorsModel.predefinedScopeNameToPropertyKey);
  for (  Element child : e.getChildren(FILE_COLOR)) {
    FileColorConfiguration configuration=FileColorConfiguration.load(child);
    if (configuration != null) {
      if (!isProjectLevel) {
        predefinedScopeNameToPropertyKey.remove(configuration.getScopeName());
      }
      configurations.add(configuration);
    }
  }
  if (!isProjectLevel) {
    PropertiesComponent properties=PropertiesComponent.getInstance();
    for (    String scopeName : predefinedScopeNameToPropertyKey.keySet()) {
      String colorName=properties.getValue(predefinedScopeNameToPropertyKey.get(scopeName));
      if (colorName == null) {
        colorName=properties.getValue(scopeName);
        if (colorName == null) {
          colorName=predefinedScopeNameToColor.get(scopeName);
        }
      }
      if (!StringUtil.isEmpty(colorName)) {
        configurations.add(new FileColorConfiguration(scopeName,colorName));
      }
    }
  }
}
