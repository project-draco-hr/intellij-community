{
  if (shared) {
    mySharedConfigurations.clear();
    mySharedConfigurations.addAll(configurations);
  }
 else {
    myConfigurations.clear();
    Map<String,String> global=new THashMap<String,String>(globalScopes);
    for (    FileColorConfiguration configuration : configurations) {
      myConfigurations.add(configuration);
      final String name=configuration.getScopeName();
      if (global.containsKey(name)) {
        PropertiesComponent.getInstance().setValue(global.get(name),configuration.getColorName());
        global.remove(name);
      }
    }
    for (    String name : global.keySet()) {
      PropertiesComponent.getInstance().setValue(global.get(name),"");
    }
  }
}
