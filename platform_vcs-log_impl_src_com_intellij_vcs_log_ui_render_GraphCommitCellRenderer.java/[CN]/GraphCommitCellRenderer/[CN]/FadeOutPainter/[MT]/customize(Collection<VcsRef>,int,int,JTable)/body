{
  myWidth=0;
  if (currentRefs.isEmpty()) {
    int prevWidth=0;
    if (row > 0) {
      GraphCommitCell commitCell=getValue(table.getValueAt(row - 1,column));
      prevWidth=LabelPainter.calculateWidth(myLogData,commitCell.getRefsToThisCommit(),myComponent,getPreferredHeight(),true);
    }
    int nextWidth=0;
    if (row < table.getRowCount() - 1) {
      GraphCommitCell commitCell=getValue(table.getValueAt(row + 1,column));
      nextWidth=LabelPainter.calculateWidth(myLogData,commitCell.getRefsToThisCommit(),myComponent,getPreferredHeight(),true);
    }
    myWidth=Math.max(Math.max(prevWidth,nextWidth),LabelPainter.GRADIENT_WIDTH);
  }
}
