{
  myWidth=0;
  if (currentRefs.isEmpty()) {
    int prevWidth=0;
    if (row > 0) {
      GraphCommitCell commitCell=getValue(table.getValueAt(row - 1,column));
      if (!commitCell.getRefsToThisCommit().isEmpty()) {
        myTemplateComponent.customize(commitCell,table.isRowSelected(row - 1),table.hasFocus(),row - 1,column);
        prevWidth=myTemplateComponent.myReferencePainter.getSize().width;
      }
    }
    int nextWidth=0;
    if (row < table.getRowCount() - 1) {
      GraphCommitCell commitCell=getValue(table.getValueAt(row + 1,column));
      if (!commitCell.getRefsToThisCommit().isEmpty()) {
        myTemplateComponent.customize(commitCell,table.isRowSelected(row + 1),table.hasFocus(),row + 1,column);
        nextWidth=myTemplateComponent.myReferencePainter.getSize().width;
      }
    }
    myWidth=Math.max(Math.max(prevWidth,nextWidth),LabelPainter.GRADIENT_WIDTH);
  }
}
