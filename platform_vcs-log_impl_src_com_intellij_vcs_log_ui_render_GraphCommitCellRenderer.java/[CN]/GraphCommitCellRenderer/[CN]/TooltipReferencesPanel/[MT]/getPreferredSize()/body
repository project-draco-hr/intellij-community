{
  Dimension size=super.getPreferredSize();
  int k=(int)Math.ceil(Math.log(size.getHeight() / size.getWidth()) / Math.log(2) / 2);
  int factor=1 << k;
  return getLayout().getDimension(this,size.width * factor);
}
