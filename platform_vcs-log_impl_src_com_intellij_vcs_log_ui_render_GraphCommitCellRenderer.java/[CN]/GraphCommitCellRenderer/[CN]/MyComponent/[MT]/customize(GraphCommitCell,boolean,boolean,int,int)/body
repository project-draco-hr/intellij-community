{
  clear();
  setPaintFocusBorder(hasFocus && myGraphTable.getCellSelectionEnabled());
  acquireState(myGraphTable,isSelected,hasFocus,row,column);
  getCellState().updateRenderer(this);
  myGraphImage=getGraphImage(cell.getPrintElements());
  SimpleTextAttributes style=myGraphTable.applyHighlighters(this,row,column,hasFocus,isSelected);
  Collection<VcsRef> refs=cell.getRefsToThisCommit();
  Color baseForeground=ObjectUtils.assertNotNull(myGraphTable.getBaseStyle(row,column,hasFocus,isSelected).getForeground());
  append("");
  if (myReferencePainter.isLeftAligned()) {
    myReferencePainter.customizePainter(this,refs,getBackground(),baseForeground,0);
    appendTextPadding(myGraphImage.getWidth() + myReferencePainter.getSize().width);
    myIssueLinkRenderer.appendTextWithLinks(cell.getText(),style);
  }
 else {
    appendTextPadding(myGraphImage.getWidth());
    myIssueLinkRenderer.appendTextWithLinks(cell.getText(),style);
    int columnWidth=myGraphTable.getColumnModel().getColumn(column).getWidth();
    myReferencePainter.customizePainter(this,refs,getBackground(),baseForeground,Math.min(columnWidth - super.getPreferredSize().width,columnWidth / 3));
  }
}
