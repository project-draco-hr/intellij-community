{
  if (!detectStartRevision())   return -1;
  final Ref<Long> latest=new Ref<>(myStartNumber);
  try {
    if (myEndNumber == -1) {
      myEndNumber=getLatestRevision();
    }
    final SVNURL existingParent=getExistingParent(myUrl);
    if (existingParent == null) {
      return myStartNumber;
    }
    final SVNRevision startRevision=SVNRevision.create(myStartNumber);
    SvnTarget target=SvnTarget.fromURL(existingParent,startRevision);
    myVcs.getFactory(target).createHistoryClient().doLog(target,startRevision,SVNRevision.HEAD,false,true,false,0,null,createHandler(latest));
  }
 catch (  VcsException e) {
    LOG.info(e);
  }
  return latest.get().longValue();
}
