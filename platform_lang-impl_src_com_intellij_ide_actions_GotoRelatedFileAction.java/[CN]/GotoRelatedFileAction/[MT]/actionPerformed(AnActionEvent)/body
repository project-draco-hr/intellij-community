{
  DataContext dataContext=e.getDataContext();
  PsiFile file=CommonDataKeys.PSI_FILE.getData(e.getDataContext());
  Editor editor=CommonDataKeys.EDITOR.getData(e.getDataContext());
  PsiElement element=CommonDataKeys.PSI_ELEMENT.getData(dataContext);
  if (element == null && file == null)   return;
  List<GotoRelatedItem> items=element == null ? getItems(file,editor,dataContext) : getItems(element,dataContext);
  if (items.isEmpty())   return;
  if (items.size() == 1 && items.get(0).getElement() != null) {
    items.get(0).navigate();
    return;
  }
  createPopup(items,"Choose Target").showInBestPositionFor(dataContext);
}
