{
  if (provider instanceof IndexableSetContributor) {
    IndexableSetContributor contributor=(IndexableSetContributor)provider;
    Set<VirtualFile> roots=contributor.getAdditionalRootsToIndex();
    return filterOutNulls(contributor,"getAdditionalRootsToIndex()",roots);
  }
  final HashSet<VirtualFile> result=new HashSet<VirtualFile>();
  for (  String url : provider.getRootsToIndex()) {
    ContainerUtil.addIfNotNull(VirtualFileManager.getInstance().findFileByUrl(url),result);
  }
  return result;
}
