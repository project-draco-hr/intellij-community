{
  Set<String> stringKeys=getStringKeys();
  List<Pair<PsiType,PsiType>> otherEntries=getOtherEntries();
  if (stringKeys.isEmpty()) {
    if (otherEntries.isEmpty())     return "[:]";
    String name=getJavaClassName();
    final PsiType[] params=getParameters();
    return name + "<" + getInternalText(params[0])+ ", "+ getInternalText(params[1])+ ">";
  }
  List<String> components=new ArrayList<String>();
  for (  String s : stringKeys) {
    components.add("'" + s + "':"+ getInternalCanonicalText(getTypeByStringKey(s)));
  }
  for (  Pair<PsiType,PsiType> entry : otherEntries) {
    components.add(getInternalCanonicalText(entry.first) + ":" + getInternalCanonicalText(entry.second));
  }
  boolean tooMany=components.size() > 2;
  final List<String> theFirst=components.subList(0,Math.min(2,components.size()));
  return "[" + StringUtil.join(theFirst,", ") + (tooMany ? ",..." : "")+ "]";
}
