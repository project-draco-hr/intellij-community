{
  if (isSelected || !myLogUi.isHighlighterEnabled(Factory.ID))   return VcsCommitStyle.DEFAULT;
  VcsLogProvider provider=myLogData.getLogProvider(details.getRoot());
  String currentBranch=provider.getCurrentBranch(details.getRoot());
  if (!HEAD.equals(mySingleFilteredBranch) && currentBranch != null && !(currentBranch.equals(mySingleFilteredBranch))) {
    Condition<CommitId> condition=myLogData.getContainingBranchesGetter().getContainedInBranchCondition(currentBranch,details.getRoot());
    if (condition.value(new CommitId(details.getId(),details.getRoot()))) {
      return VcsCommitStyleFactory.background(CURRENT_BRANCH_BG);
    }
  }
  return VcsCommitStyle.DEFAULT;
}
