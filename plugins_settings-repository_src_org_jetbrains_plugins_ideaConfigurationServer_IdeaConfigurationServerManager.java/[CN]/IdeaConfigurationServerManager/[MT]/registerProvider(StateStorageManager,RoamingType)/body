{
  storageManager.registerStreamProvider(new MyStreamProvider(){
    @Override public void saveContent(    final String fileSpec,    @NotNull final InputStream content,    final long size,    final RoamingType roamingType,    boolean async) throws IOException {
      saveFileContent(content,size,createBuilder(fileSpec,type,null),async);
    }
    @Override public InputStream loadContent(    final String fileSpec,    final RoamingType roamingType) throws IOException {
      return loadUserPreferences(createBuilder(fileSpec,type,null));
    }
    @Override public String[] listSubFiles(    final String fileSpec){
      return listSubFileNames(createBuilder(fileSpec,type,null));
    }
    @Override public void deleteFile(    final String fileSpec,    final RoamingType roamingType){
      deleteUserPreferencesAsync(createBuilder(fileSpec,type,null));
    }
    @Override protected IdeaServerUrlBuilder createBuilderInt(    final String fileSpec){
      return createBuilder(fileSpec,type,null);
    }
  }
,type);
}
