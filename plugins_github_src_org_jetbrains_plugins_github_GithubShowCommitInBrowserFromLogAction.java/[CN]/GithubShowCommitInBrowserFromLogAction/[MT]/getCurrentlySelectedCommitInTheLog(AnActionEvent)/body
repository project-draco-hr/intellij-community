{
  GitHeavyCommit heavyCommit=e.getData(GitVcs.GIT_COMMIT);
  if (heavyCommit != null) {
    final VcsLogObjectsFactory factory=ServiceManager.getService(VcsLogObjectsFactory.class);
    List<Hash> parents=ContainerUtil.map(heavyCommit.getParentsHashes(),new Function<String,Hash>(){
      @Override public Hash fun(      String s){
        return factory.createHash(s);
      }
    }
);
    return factory.createShortDetails(factory.createHash(heavyCommit.getHash().getValue()),parents,heavyCommit.getAuthorTime(),heavyCommit.getRoot(),heavyCommit.getSubject(),heavyCommit.getAuthor());
  }
  List<VcsFullCommitDetails> selectedCommits=ServiceManager.getService(e.getProject(),VcsLog.class).getSelectedCommits();
  if (selectedCommits.size() == 1) {
    return selectedCommits.get(0);
  }
  return null;
}
