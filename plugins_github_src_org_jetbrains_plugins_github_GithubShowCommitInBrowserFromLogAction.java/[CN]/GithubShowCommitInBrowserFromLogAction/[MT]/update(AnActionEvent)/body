{
  Project project=e.getData(CommonDataKeys.PROJECT);
  VcsLog log=e.getData(VcsLogDataKeys.VCS_LOG);
  if (project == null || log == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  List<VcsFullCommitDetails> selectedDetails=log.getSelectedDetails();
  if (selectedDetails.size() != 1) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  VcsFullCommitDetails details=ContainerUtil.getFirstItem(selectedDetails);
  if (details == null || details instanceof LoadingDetails) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  GitRepository repository=GitUtil.getRepositoryManager(project).getRepositoryForRoot(details.getRoot());
  e.getPresentation().setEnabledAndVisible(repository != null && GithubUtil.isRepositoryOnGitHub(repository));
}
