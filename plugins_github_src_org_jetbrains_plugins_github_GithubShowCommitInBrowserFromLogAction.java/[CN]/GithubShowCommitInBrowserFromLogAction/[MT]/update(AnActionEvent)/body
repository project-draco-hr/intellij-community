{
  Project project=e.getData(CommonDataKeys.PROJECT);
  VcsLog log=e.getData(VcsLogDataKeys.VCS_LOG);
  if (project == null || log == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  List<CommitId> selectedCommits=log.getSelectedCommits();
  if (selectedCommits.size() != 1) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  CommitId commit=ContainerUtil.getFirstItem(selectedCommits);
  if (commit == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  GitRepository repository=GitUtil.getRepositoryManager(project).getRepositoryForRoot(commit.getRoot());
  e.getPresentation().setEnabledAndVisible(repository != null && GithubUtil.isRepositoryOnGitHub(repository));
}
