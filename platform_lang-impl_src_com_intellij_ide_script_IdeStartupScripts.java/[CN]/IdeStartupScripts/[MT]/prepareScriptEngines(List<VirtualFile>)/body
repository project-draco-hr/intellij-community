{
  final IdeScriptEngineManager scriptEngineManager=IdeScriptEngineManager.getInstance();
  return ContainerUtil.map(scripts,new Function<VirtualFile,Pair<VirtualFile,IdeScriptEngine>>(){
    @Override public Pair<VirtualFile,IdeScriptEngine> fun(    VirtualFile script){
      String extension=script.getExtension();
      return Pair.create(script,extension != null ? scriptEngineManager.getEngineForFileExtension(extension,null) : null);
    }
  }
);
}
