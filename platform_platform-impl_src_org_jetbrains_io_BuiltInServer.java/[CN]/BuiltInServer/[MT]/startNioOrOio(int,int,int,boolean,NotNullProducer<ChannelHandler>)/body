{
  BuiltInServerThreadFactory threadFactory=new BuiltInServerThreadFactory();
  NioEventLoopGroup nioEventLoopGroup;
  try {
    nioEventLoopGroup=new NioEventLoopGroup(workerCount,threadFactory);
  }
 catch (  IllegalStateException e) {
    Logger.getInstance(BuiltInServer.class).warn(e);
    return start(new OioEventLoopGroup(1,threadFactory),true,6942,50,false,handler);
  }
  return start(nioEventLoopGroup,true,firstPort,portsCount,tryAnyPort,handler);
}
