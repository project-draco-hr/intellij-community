{
  Set<String> wordsToStore=new THashSet<String>();
  Set<String> wordsToCheck=new THashSet<String>();
  Set<String> words=dictionary.getWords();
  assertNotNull(words);
  int counter=0;
  for (  String s : words) {
    String transformed=myTransformation.transform(s);
    if (transformed != null) {
      (counter % mod == 0 ? wordsToStore : wordsToCheck).add(transformed);
      if (++counter > maxCount)       break;
    }
  }
  return pair(wordsToStore,wordsToCheck);
}
