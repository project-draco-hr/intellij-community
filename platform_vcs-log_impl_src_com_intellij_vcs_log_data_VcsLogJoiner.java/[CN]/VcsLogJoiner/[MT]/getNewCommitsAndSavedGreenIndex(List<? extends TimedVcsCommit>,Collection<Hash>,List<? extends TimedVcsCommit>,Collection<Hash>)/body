{
  Set<Hash> allUnresolvedLinkedHashes=new HashSet<Hash>(newRefs);
  allUnresolvedLinkedHashes.removeAll(previousRefs);
  for (  TimedVcsCommit commit : firstBlock) {
    allUnresolvedLinkedHashes.add(commit.getId());
    allUnresolvedLinkedHashes.addAll(commit.getParents());
  }
  for (  TimedVcsCommit commit : firstBlock) {
    if (commit.getParents().size() != 0) {
      allUnresolvedLinkedHashes.remove(commit.getId());
    }
  }
  int saveGreenIndex=getFirstUnTrackedIndex(savedLog,allUnresolvedLinkedHashes);
  return new Pair<Integer,Set<TimedVcsCommit>>(saveGreenIndex,getAllNewCommits(savedLog.subList(0,saveGreenIndex),firstBlock));
}
