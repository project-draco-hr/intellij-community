{
  myBreakpoint=breakpoint;
  boolean moreOptionsVisible=moreOptionsVisible1;
  boolean actionsPanelVisible=moreOptionsVisible1;
  initMasterBreakpointPanel();
  if (breakpoint.getCountFilter() > 0) {
    myPassCountField.setText(Integer.toString(breakpoint.getCountFilter()));
    moreOptionsVisible=true;
  }
 else {
    myPassCountField.setText("");
  }
  PsiElement context=breakpoint.getEvaluationElement();
  myPassCountCheckbox.setSelected(breakpoint.isCountFilterEnabled());
  myConditionCheckbox.setSelected(breakpoint.isConditionEnabled());
  myConditionCombo.setEnabled(breakpoint.isConditionEnabled());
  myConditionCombo.setContext(context);
  myConditionCombo.setText(breakpoint.getCondition() != null ? breakpoint.getCondition() : emptyText());
  myCbSuspend.setSelected(breakpoint.isSuspend());
  myRbSuspendThread.setEnabled(myCbSuspend.isSelected());
  myRbSuspendAll.setEnabled(myCbSuspend.isSelected());
  if (!breakpoint.isSuspend()) {
    actionsPanelVisible=true;
  }
  if (DebuggerSettings.SUSPEND_THREAD.equals(breakpoint.getSuspendPolicy())) {
    myRbSuspendThread.setSelected(true);
  }
 else {
    myRbSuspendAll.setSelected(true);
  }
  myCbSuspend.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent event){
      if (!myActionsPanel.isVisible()) {
        if (!myCbSuspend.isSelected()) {
          if (myDelegate != null) {
            myDelegate.showActionsPanel();
          }
        }
      }
      myRbSuspendThread.setEnabled(myCbSuspend.isSelected());
      myRbSuspendAll.setEnabled(myCbSuspend.isSelected());
    }
  }
);
  myLogMessageCheckBox.setSelected(breakpoint.isLogEnabled());
  myTemporaryCheckBox.setSelected(breakpoint.isRemoveAfterHit());
  myEnabledCheckbox.setSelected(breakpoint.isEnabled());
  myEnabledCheckbox.setText(breakpoint.getShortName() + " enabled");
  DebuggerManagerEx.getInstanceEx(myProject).getBreakpointManager().addBreakpointManagerListener(new BreakpointManagerListener(){
    @Override public void breakpointsChanged(){
      myEnabledCheckbox.setSelected(myBreakpoint.isEnabled());
    }
  }
);
  myEnabledCheckbox.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent event){
      if (myBreakpoint.isEnabled() != myEnabledCheckbox.isSelected()) {
        myBreakpoint.setEnabled(myEnabledCheckbox.isSelected());
        getBreakpointManager(myProject).fireBreakpointChanged(myBreakpoint);
        myBreakpoint.updateUI();
      }
    }
  }
);
  myTemporaryCheckBox.setVisible(breakpoint instanceof LineBreakpoint);
  myLogExpressionCheckBox.setSelected(breakpoint.isLogExpressionEnabled());
  if (breakpoint.isLogEnabled() || breakpoint.isLogExpressionEnabled() || (breakpoint instanceof LineBreakpoint && breakpoint.isRemoveAfterHit())) {
    actionsPanelVisible=true;
  }
  myLogExpressionCombo.setContext(context);
  if (breakpoint.getLogMessage() != null) {
    myLogExpressionCombo.setText(breakpoint.getLogMessage());
  }
 else {
    myLogExpressionCombo.setText(emptyText());
  }
  myLogExpressionCombo.setEnabled(breakpoint.isLogExpressionEnabled());
  if (breakpoint.isLogExpressionEnabled()) {
    actionsPanelVisible=true;
  }
  myInstanceFiltersCheckBox.setSelected(breakpoint.isInstanceFiltersEnabled());
  myInstanceFiltersField.setEnabled(breakpoint.isInstanceFiltersEnabled());
  myInstanceFiltersField.getTextField().setEditable(breakpoint.isInstanceFiltersEnabled());
  myInstanceFilters=breakpoint.getInstanceFilters();
  updateInstanceFilterEditor(true);
  if (breakpoint.isInstanceFiltersEnabled()) {
    moreOptionsVisible=true;
  }
  myClassFiltersCheckBox.setSelected(breakpoint.isClassFiltersEnabled());
  myClassFiltersField.setEnabled(breakpoint.isClassFiltersEnabled());
  myClassFiltersField.getTextField().setEditable(breakpoint.isClassFiltersEnabled());
  myClassFilters=breakpoint.getClassFilters();
  myClassExclusionFilters=breakpoint.getClassExclusionFilters();
  updateClassFilterEditor(true);
  if (breakpoint.isClassFiltersEnabled()) {
    moreOptionsVisible=true;
  }
  myBreakpointPsiClass=breakpoint.getPsiClass();
  updateCheckboxes();
  setActionsPanelVisible(actionsPanelVisible && !moreOptionsVisible1);
  setMoreOptionsVisible(moreOptionsVisible);
}
