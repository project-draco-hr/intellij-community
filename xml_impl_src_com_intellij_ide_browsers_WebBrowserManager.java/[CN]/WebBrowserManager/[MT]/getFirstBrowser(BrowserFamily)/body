{
  for (  ConfigurableWebBrowser browser : browsers) {
    if (browser.isActive() && family.equals(browser.getFamily())) {
      return browser;
    }
  }
  for (  ConfigurableWebBrowser browser : browsers) {
    if (family.equals(browser.getFamily())) {
      return browser;
    }
  }
  throw new IllegalStateException("Must be at least one browser per family");
}
