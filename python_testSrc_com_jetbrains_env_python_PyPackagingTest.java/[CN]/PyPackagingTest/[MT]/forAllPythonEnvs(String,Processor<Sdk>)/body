{
  final List<String> roots=PyEnvTestCase.getPythonRoots();
  if (PyEnvTestCase.notEnvConfiguration()) {
    LOG.info("Running under teamcity but not by Env configuration. Skipping.");
    return;
  }
  if (PyEnvTestCase.IS_UNDER_TEAMCITY && SystemInfo.isWindows) {
    return;
  }
  if (roots.size() == 0) {
    String msg=testName + ": environments are not defined. Skipping.";
    LOG.warn(msg);
    System.out.println(msg);
    return;
  }
  for (  String root : roots) {
    if (!PyEnvTestCase.isSuitableForTags(PyEnvTestCase.loadEnvTags(root),Sets.newHashSet("packaging"))) {
      continue;
    }
    final String sdkHome=PythonSdkType.getPythonExecutable(root);
    assertNotNull(sdkHome);
    final Sdk sdk=createTempSdk(sdkHome);
    assertNotNull(sdk);
    processor.process(sdk);
  }
}
