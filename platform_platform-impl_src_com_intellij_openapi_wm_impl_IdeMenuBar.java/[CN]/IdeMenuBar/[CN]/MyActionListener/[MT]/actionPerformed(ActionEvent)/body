{
  if (getState() == State.EXPANDED || getState() == State.EXPANDING) {
    return;
  }
  boolean activated=isActivated();
  if (myActivated && !activated && getState() == State.TEMPORARY_EXPANDED) {
    myActivated=false;
    setState(State.COLLAPSING);
    restartAnimator();
  }
  if (activated) {
    myActivated=true;
  }
}
