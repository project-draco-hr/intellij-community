{
  State state=getState();
  if (state == State.EXPANDING || state == State.COLLAPSING) {
    return JBUI.Borders.empty();
  }
  if (state == State.TEMPORARY_EXPANDED && UIUtil.isUnderDarcula()) {
    return JBUI.Borders.customLine(Gray._75,0,0,1,0);
  }
  if (state == State.COLLAPSED) {
    return JBUI.Borders.emptyBottom(1);
  }
  if (SystemInfo.isWindows && Registry.is("ide.win.frame.decoration") && (UIUtil.isUnderDarcula() || UIUtil.isUnderIntelliJLaF())) {
    return null;
  }
  return UISettings.getInstance().SHOW_MAIN_TOOLBAR || UISettings.getInstance().SHOW_NAVIGATION_BAR ? super.getBorder() : null;
}
