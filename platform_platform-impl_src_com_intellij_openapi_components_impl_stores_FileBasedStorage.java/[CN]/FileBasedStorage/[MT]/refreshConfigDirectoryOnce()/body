{
  Application app=ApplicationManager.getApplication();
  if (!ourConfigDirectoryRefreshed && (app.isUnitTestMode() || app.isDispatchThread())) {
    try {
      VirtualFile configDir=LocalFileSystem.getInstance().refreshAndFindFileByPath(PathManager.getConfigPath());
      if (configDir != null) {
        VfsUtilCore.visitChildrenRecursively(configDir,new VirtualFileVisitor(){
          @Override public boolean visitFile(          @NotNull VirtualFile file){
            return !"componentVersions".equals(file.getName());
          }
        }
);
        VfsUtil.markDirtyAndRefresh(false,true,false,configDir);
      }
    }
  finally {
      ourConfigDirectoryRefreshed=true;
    }
  }
}
