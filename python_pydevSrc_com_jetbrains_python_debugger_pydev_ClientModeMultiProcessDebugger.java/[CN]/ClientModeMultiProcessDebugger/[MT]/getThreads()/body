{
  cleanOtherDebuggers();
  List<PyThreadInfo> threads=collectAllThreads();
  if (myOtherDebuggers.size() > 0) {
    return Collections.unmodifiableCollection(Collections2.transform(threads,new Function<PyThreadInfo,PyThreadInfo>(){
      @Override public PyThreadInfo apply(      PyThreadInfo t){
        String threadName=ThreadRegistry.threadName(t.getName(),t.getId());
        PyThreadInfo newThread=new PyThreadInfo(t.getId(),threadName,t.getFrames(),t.getStopReason(),t.getMessage());
        newThread.updateState(t.getState(),t.getFrames());
        return newThread;
      }
    }
));
  }
 else {
    return Collections.unmodifiableCollection(threads);
  }
}
