{
  final JPanel panel=new JPanel(new VerticalFlowLayout(FlowLayout.LEFT,true,true));
  panel.setBackground(UIUtil.isUnderDarcula() ? IpnbEditorUtil.getBackground() : Gray._247);
  if (mySource.startsWith("%"))   myEditor=IpnbEditorUtil.createPlainCodeEditor(myProject,mySource);
 else   myEditor=IpnbEditorUtil.createPythonCodeEditor(myProject,mySource);
  final JComponent component=myEditor.getContentComponent();
  component.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      final Container ipnbFilePanel=myParent.getParent();
      if (ipnbFilePanel instanceof IpnbFilePanel) {
        ((IpnbFilePanel)ipnbFilePanel).setSelectedCell(myParent);
        myParent.switchToEditing();
      }
      UIUtil.requestFocus(component);
    }
  }
);
  final JComponent comp=myEditor.getComponent();
  panel.add(comp);
  comp.setPreferredSize(new Dimension(IpnbEditorUtil.PANEL_WIDTH,panel.getPreferredSize().height));
  setBorder(BorderFactory.createLineBorder(JBColor.lightGray,1,true));
  return panel;
}
