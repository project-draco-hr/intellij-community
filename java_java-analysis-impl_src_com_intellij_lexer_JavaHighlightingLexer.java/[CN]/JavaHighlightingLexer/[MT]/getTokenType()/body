{
  IElementType t=super.getTokenType();
  if (myAtStart && !isLayerActive() && !ElementType.JAVA_COMMENT_OR_WHITESPACE_BIT_SET.contains(t)) {
    myAtStart=false;
    myModuleInfo=t == JavaTokenType.IDENTIFIER && PsiKeyword.MODULE.equals(getTokenText());
  }
  if (myModuleInfo && t == JavaTokenType.IDENTIFIER) {
switch (getTokenText()) {
case PsiKeyword.MODULE:
      t=JavaTokenType.MODULE_KEYWORD;
    break;
case PsiKeyword.REQUIRES:
  t=JavaTokenType.REQUIRES_KEYWORD;
break;
case PsiKeyword.EXPORTS:
t=JavaTokenType.EXPORTS_KEYWORD;
break;
case PsiKeyword.USES:
t=JavaTokenType.USES_KEYWORD;
break;
case PsiKeyword.PROVIDES:
t=JavaTokenType.PROVIDES_KEYWORD;
break;
case PsiKeyword.TO:
t=JavaTokenType.TO_KEYWORD;
break;
case PsiKeyword.WITH:
t=JavaTokenType.WITH_KEYWORD;
break;
}
}
return t;
}
