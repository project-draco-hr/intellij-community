{
  myAllPlugins=PluginManagerCore.loadDescriptors(null);
  SwingWorker worker=new SwingWorker<List<IdeaPluginDescriptor>,Object>(){
    @Override protected List<IdeaPluginDescriptor> doInBackground() throws Exception {
      try {
        return RepositoryHelper.loadPlugins(null);
      }
 catch (      Exception e) {
        return Collections.emptyList();
      }
    }
    @Override protected void done(){
      try {
        myPluginsFromRepository.addAll(get());
        if (myLoadingCallback != null)         myLoadingCallback.run();
      }
 catch (      InterruptedException e) {
        if (myLoadingCallback != null)         myLoadingCallback.run();
      }
catch (      ExecutionException e) {
        if (myLoadingCallback != null)         myLoadingCallback.run();
      }
    }
  }
;
  worker.execute();
  PluginManagerCore.loadDisabledPlugins(new File(PathManager.getConfigPath()).getPath(),myDisabledPluginIds);
  initGroups(myTree,myFeaturedPlugins);
}
