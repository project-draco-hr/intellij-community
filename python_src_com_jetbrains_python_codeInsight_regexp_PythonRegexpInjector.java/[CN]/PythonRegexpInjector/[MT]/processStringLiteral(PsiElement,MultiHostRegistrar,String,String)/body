{
  final String missingValue="missing";
  if (element instanceof PyStringLiteralExpression) {
    final PyStringLiteralExpression expr=(PyStringLiteralExpression)element;
    final List<TextRange> ranges=expr.getStringValueTextRanges();
    for (    TextRange range : ranges) {
      registrar.addPlace(prefix,suffix,expr,range);
    }
  }
 else   if (element instanceof PyParenthesizedExpression) {
    final PyExpression contained=((PyParenthesizedExpression)element).getContainedExpression();
    if (contained != null) {
      processStringLiteral(contained,registrar,prefix,suffix);
    }
  }
 else   if (element instanceof PyBinaryExpression) {
    final PyBinaryExpression expr=(PyBinaryExpression)element;
    if (expr.isOperator("+")) {
      final PyExpression left=expr.getLeftExpression();
      final PyExpression right=expr.getRightExpression();
      final boolean isLeftString=isStringLiteral(left);
      final boolean isRightString=right != null && isStringLiteral(right);
      if (isLeftString) {
        processStringLiteral(left,registrar,prefix,isRightString ? "" : missingValue);
      }
      if (isRightString) {
        processStringLiteral(right,registrar,isLeftString ? "" : missingValue,suffix);
      }
    }
  }
}
