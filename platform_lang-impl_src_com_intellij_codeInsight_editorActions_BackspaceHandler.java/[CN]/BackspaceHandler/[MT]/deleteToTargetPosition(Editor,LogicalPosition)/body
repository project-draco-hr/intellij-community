{
  LogicalPosition logicalPosition=editor.getCaretModel().getLogicalPosition();
  if (logicalPosition.line != pos.line) {
    LOGGER.error("Unexpected caret position: " + logicalPosition + ", target indent position: "+ pos);
    return;
  }
  if (pos.column < logicalPosition.column) {
    int targetOffset=editor.logicalPositionToOffset(pos);
    int offset=editor.getCaretModel().getOffset();
    editor.getSelectionModel().setSelection(targetOffset,offset);
    EditorModificationUtil.deleteSelectedText(editor);
  }
 else   if (pos.column > logicalPosition.column) {
    EditorModificationUtil.insertStringAtCaret(editor,StringUtil.repeatSymbol(' ',pos.column - logicalPosition.column));
  }
}
