{
  final IElementType tokenType=token.getNode().getElementType();
  if (tokenType == GroovyTokenTypes.mREGEX_CONTENT || tokenType == GroovyTokenTypes.mREGEX_LITERAL) {
    return GrStringUtil.unescapeSlashyString(s);
  }
  if (tokenType == GroovyTokenTypes.mDOLLAR_SLASH_REGEX_CONTENT || tokenType == GroovyTokenTypes.mDOLLAR_SLASH_REGEX_LITERAL) {
    return GrStringUtil.unescapeDollarSlashyString(s);
  }
  if (tokenType == GroovyTokenTypes.mGSTRING_CONTENT || tokenType == GroovyTokenTypes.mGSTRING_LITERAL) {
    return GrStringUtil.unescapeString(s);
  }
  if (tokenType == GroovyTokenTypes.mSTRING_LITERAL) {
    return GrStringUtil.unescapeString(s);
  }
  return super.unescape(s,token);
}
