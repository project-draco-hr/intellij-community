{
  final GradleProjectConfiguration projectConfig=new GradleProjectConfiguration();
  if (gradleConfigFile.exists()) {
    try {
      final Document document=JDOMUtil.loadDocument(gradleConfigFile);
      XmlSerializer.deserializeInto(projectConfig,document.getRootElement());
      final Set<String> actualModules=myModulesConfigurationHash.keySet();
      for (Iterator<Map.Entry<String,GradleModuleResourceConfiguration>> iterator=projectConfig.moduleConfigurations.entrySet().iterator(); iterator.hasNext(); ) {
        Map.Entry<String,GradleModuleResourceConfiguration> configurationEntry=iterator.next();
        if (!actualModules.contains(configurationEntry.getKey())) {
          iterator.remove();
        }
      }
    }
 catch (    Exception e) {
      LOG.info(e);
    }
  }
  return projectConfig;
}
