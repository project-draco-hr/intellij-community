{
  if (runner == null && myRunnerId == null) {
    runner=RunnerRegistry.getInstance().getRunner(myExecutor.getId(),myRunProfile);
  }
  ExecutionEnvironment environment=new ExecutionEnvironment(myRunProfile,myExecutor,myTarget,myProject,myRunnerSettings,myConfigurationSettings,myContentToReuse,myRunnerAndConfigurationSettings,myRunnerId,runner);
  if (myAssignNewId) {
    environment.assignNewExecutionId();
  }
  if (myDataContext != null) {
    environment.setDataContext(myDataContext);
  }
  return environment;
}
