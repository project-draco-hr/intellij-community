{
  if (target_dir != null) {
    for (    PsiElement dir_item : target_dir.getChildren()) {
      if (dir_item != myCurrentFile) {
        if (dir_item instanceof PsiDirectory) {
          final PsiDirectory dir=(PsiDirectory)dir_item;
          if (dir.findFile(PyNames.INIT_DOT_PY) != null) {
            final String name=dir.getName();
            if (PyNames.isIdentifier(name) && myUnderscoreFilter.value(name)) {
              myObjects.add(LookupElementBuilder.create(name).setTypeText(getPresentablePath(dir.getParent())).setIcon(dir.getIcon(Iconable.ICON_FLAG_CLOSED)));
            }
          }
        }
 else         if (dir_item instanceof PsiFile) {
          String filename=((PsiFile)dir_item).getName();
          if (!PyNames.INIT_DOT_PY.equals(filename) && filename.endsWith(PyNames.DOT_PY)) {
            final String name=filename.substring(0,filename.length() - PyNames.DOT_PY.length());
            if (PyNames.isIdentifier(name) && myUnderscoreFilter.value(name)) {
              final PsiDirectory dir=((PsiFile)dir_item).getContainingDirectory();
              myObjects.add(LookupElementBuilder.create(name).setTypeText(getPresentablePath(dir)).setInsertHandler(handler).setIcon(dir_item.getIcon(0)));
            }
          }
        }
      }
    }
  }
}
