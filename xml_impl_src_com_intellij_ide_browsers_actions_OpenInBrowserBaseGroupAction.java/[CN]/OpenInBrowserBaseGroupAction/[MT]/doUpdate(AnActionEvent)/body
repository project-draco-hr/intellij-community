{
  OpenInBrowserRequest request=OpenFileInDefaultBrowserAction.createRequest(event.getDataContext());
  boolean applicable=false;
  WebBrowserUrlProvider provider=null;
  if (request != null) {
    applicable=HtmlUtil.isHtmlFile(request.getFile()) && !(request.getVirtualFile() instanceof LightVirtualFile);
    if (!applicable) {
      provider=WebBrowserServiceImpl.getProvider(request);
      applicable=provider != null;
    }
  }
  Presentation presentation=event.getPresentation();
  presentation.setVisible(applicable);
  presentation.setVisible(applicable);
  return applicable ? Pair.create(request,provider) : null;
}
