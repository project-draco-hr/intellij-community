{
  VirtualFile[] children=basedir.getChildren();
  if (children == null || children.length == 0) {
    return null;
  }
  for (  String indexNamePrefix : new String[]{"index.","default."}) {
    VirtualFile index=null;
    String preferredName=indexNamePrefix + "html";
    for (    VirtualFile child : children) {
      if (!child.isDirectory()) {
        String name=child.getName();
        if (name.equals(preferredName)) {
          return child;
        }
 else         if (index == null && name.startsWith(indexNamePrefix)) {
          index=child;
        }
      }
    }
    if (index != null) {
      return index;
    }
  }
  return null;
}
