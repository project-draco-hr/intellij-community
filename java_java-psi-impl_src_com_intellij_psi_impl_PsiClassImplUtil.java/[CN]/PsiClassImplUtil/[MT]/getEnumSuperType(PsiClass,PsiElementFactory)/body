{
  PsiClassType superType;
  final PsiClass enumClass=findSpecialSuperClass(psiClass,CommonClassNames.JAVA_LANG_ENUM);
  if (enumClass == null) {
    try {
      superType=(PsiClassType)factory.createTypeFromText(CommonClassNames.JAVA_LANG_ENUM,null);
    }
 catch (    IncorrectOperationException e) {
      superType=null;
    }
  }
 else {
    final PsiTypeParameter[] typeParameters=enumClass.getTypeParameters();
    PsiSubstitutor substitutor=PsiSubstitutor.EMPTY;
    if (typeParameters.length == 1) {
      substitutor=substitutor.put(typeParameters[0],factory.createType(psiClass));
    }
    superType=new PsiImmediateClassType(enumClass,substitutor);
  }
  return superType;
}
