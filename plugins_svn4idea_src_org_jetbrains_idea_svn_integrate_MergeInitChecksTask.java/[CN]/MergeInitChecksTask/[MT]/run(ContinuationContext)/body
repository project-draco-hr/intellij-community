{
  SVNURL url=parseUrl(continuationContext);
  if (url == null) {
    return;
  }
  if (SVNURLUtil.isAncestor(url,myMergeContext.getWcInfo().getUrl()) || SVNURLUtil.isAncestor(myMergeContext.getWcInfo().getUrl(),url)) {
    finishWithError(continuationContext,"Cannot merge from self",true);
    return;
  }
  if (!checkForSwitchedRoots()) {
    continuationContext.cancelEverything();
  }
}
