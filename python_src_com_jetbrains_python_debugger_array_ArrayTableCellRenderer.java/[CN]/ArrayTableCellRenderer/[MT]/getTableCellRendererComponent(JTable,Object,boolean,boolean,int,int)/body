{
  super.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,col);
  if (value != null) {
    setText(value.toString());
  }
  if (hasFocus) {
    this.setBorder(new LineBorder(JBColor.BLUE,2));
  }
  if (myMax != myMin) {
    if (myColored && value != null) {
      try {
        double rangedValue=NumpyArrayValueProvider.getRangedValue(value.toString(),myType,myMin,myMax,myComplexMax,myComplexMin);
        this.setBackground(new JBColor(new Color((int)Math.round(255 * rangedValue),0,(int)Math.round(255 * (1 - rangedValue)),130),new Color((int)Math.round(255 * rangedValue),0,(int)Math.round(255 * (1 - rangedValue)),130)));
      }
 catch (      NumberFormatException ignored) {
      }
    }
 else {
      this.setBackground(new JBColor(UIUtil.getBgFillColor(table),UIUtil.getBgFillColor(table)));
    }
  }
  return this;
}
