{
  return new JavaElementVisitor(){
    @Override public void visitNewExpression(    PsiNewExpression expression){
      final PsiType type=expression.getType();
      final PsiExpressionList params=expression.getArgumentList();
      if (type != null && type.getCanonicalText().startsWith(PAIR_FQN) && params != null && !(type instanceof PsiArrayType) && expression.getText().indexOf('(') > 0 && type instanceof PsiClassReferenceType && !PsiUtil.getLanguageLevel(expression).isAtLeast(LanguageLevel.JDK_1_7)) {
        final PsiType[] types=((PsiClassReferenceType)type).getParameters();
        if (Arrays.equals(types,params.getExpressionTypes())) {
          holder.registerProblem(expression,"Replace to Pair.create()",ProblemHighlightType.GENERIC_ERROR_OR_WARNING,new ChangeToPairCreateQuickFix());
        }
      }
      super.visitNewExpression(expression);
    }
  }
;
}
