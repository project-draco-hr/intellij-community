{
  QueueEntry<T> newLast=new QueueEntry<T>(t);
  boolean added=set.add(newLast);
  if (!added)   return false;
  if (last == null) {
    last=newLast;
    first=newLast;
  }
 else {
    last.next=newLast;
    newLast.prev=last;
    last=newLast;
  }
  return true;
}
