{
  TreeNode parent=node.getParent();
  if (parent != null && parent instanceof SettingsTreeNode) {
    SettingsTreeNode settingsParent=(SettingsTreeNode)parent;
    settingsParent.accepted=false;
    if (!accepted) {
      updateAncestorsUi(false,settingsParent);
    }
 else {
      for (Enumeration children=parent.children(); children.hasMoreElements(); ) {
        Object child=children.nextElement();
        if ((child instanceof SettingsTreeNode) && !((SettingsTreeNode)child).accepted)         return;
      }
      settingsParent.accepted=true;
      updateAncestorsUi(true,settingsParent);
    }
  }
}
