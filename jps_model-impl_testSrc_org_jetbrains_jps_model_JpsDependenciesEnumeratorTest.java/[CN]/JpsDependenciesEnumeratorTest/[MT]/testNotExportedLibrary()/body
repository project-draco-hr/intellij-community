{
  final JpsModule dep=addModule("dep");
  JpsModuleRootModificationUtil.addDependency(dep,createJDomLibrary(),JpsJavaDependencyScope.COMPILE,false);
  JpsModuleRootModificationUtil.addDependency(myModule,createAsmLibrary(),JpsJavaDependencyScope.COMPILE,false);
  JpsModuleRootModificationUtil.addDependency(myModule,dep,JpsJavaDependencyScope.COMPILE,false);
  assertClassRoots(dependencies(myModule).withoutSdk(),getAsmJar());
  assertClassRoots(dependencies(myModule).withoutSdk().recursively(),getAsmJar(),getJDomJar());
  assertClassRoots(dependencies(myModule).withoutSdk().recursivelyExportedOnly(),getAsmJar());
  assertClassRoots(dependencies(myModule).withoutSdk().exportedOnly().recursively());
}
