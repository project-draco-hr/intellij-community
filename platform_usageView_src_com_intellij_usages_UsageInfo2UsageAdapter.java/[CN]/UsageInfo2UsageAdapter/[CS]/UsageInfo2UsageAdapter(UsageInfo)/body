{
  myUsageInfo=usageInfo;
  myMergedUsageInfos=usageInfo;
  Point data=ApplicationManager.getApplication().runReadAction(new Computable<Point>(){
    @Override public Point compute(){
      PsiElement element=getElement();
      PsiFile psiFile=usageInfo.getFile();
      Document document=psiFile == null ? null : PsiDocumentManager.getInstance(getProject()).getDocument(psiFile);
      int offset;
      int lineNumber;
      if (document == null) {
        offset=element == null ? 0 : element.getTextOffset();
        lineNumber=-1;
      }
 else {
        int startOffset=myUsageInfo.getNavigationOffset();
        if (startOffset == -1) {
          offset=element == null ? 0 : element.getTextOffset();
          lineNumber=-1;
        }
 else {
          offset=-1;
          lineNumber=getLineNumber(document,startOffset);
        }
      }
      return new Point(offset,lineNumber);
    }
  }
);
  myOffset=data.x;
  myLineNumber=data.y;
  myModificationStamp=getCurrentModificationStamp();
}
