{
  IdeaPlugin ideaPlugin=project.getPlugins().getPlugin(IdeaPlugin.class);
  if (ideaPlugin == null)   return;
  IdeaModel ideaModel=ideaPlugin.getModel();
  if (ideaModel == null || ideaModel.getModule() == null)   return;
  for (  File excludeDir : ideaModel.getModule().getExcludeDirs()) {
    excludeDirectories.add(excludeDir);
  }
  for (  File file : ideaModel.getModule().getSourceDirs()) {
    javaDirectories.add(file.getPath());
  }
  for (  File file : ideaModel.getModule().getTestSourceDirs()) {
    testDirectories.add(file.getPath());
  }
  if (GradleVersion.current().compareTo(GradleVersion.version("2.2")) >= 0) {
    for (    File file : ideaModel.getModule().getGeneratedSourceDirs()) {
      ideaGeneratedDirectories.add(file.getPath());
    }
  }
}
