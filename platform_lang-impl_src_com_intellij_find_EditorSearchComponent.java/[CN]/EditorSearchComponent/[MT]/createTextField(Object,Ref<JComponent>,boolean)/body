{
  final JTextComponent editorTextField;
  if (myFindModel.isMultiline()) {
    editorTextField=new JTextArea();
    componentRef.set(editorTextField);
    ((JTextArea)editorTextField).setColumns(25);
    ((JTextArea)editorTextField).setRows(3);
    final SearchWrapper wrapper=new SearchWrapper(editorTextField,new ShowHistoryAction(search ? mySearchFieldGetter : myReplaceFieldGetter,this));
    myLeftComponent.add(wrapper,constraint);
  }
 else {
    SearchTextField stf=new SearchTextField(true);
    componentRef.set(stf);
    stf.setOpaque(false);
    editorTextField=stf.getTextEditor();
    if (UIUtil.isUnderGTKLookAndFeel()) {
      editorTextField.setOpaque(false);
    }
    myLeftComponent.add(stf,constraint);
  }
  editorTextField.setMinimumSize(new Dimension(200,-1));
  editorTextField.putClientProperty("AuxEditorComponent",Boolean.TRUE);
  editorTextField.addFocusListener(new FocusListener(){
    @Override public void focusGained(    final FocusEvent e){
      editorTextField.repaint();
    }
    @Override public void focusLost(    final FocusEvent e){
      editorTextField.repaint();
    }
  }
);
  new CloseOnESCAction(this,editorTextField);
  return editorTextField;
}
