{
  PsiFile file=closure.getContainingFile();
  if (file == null || !FileUtilRt.extensionEquals(file.getName(),GradleConstants.EXTENSION))   return null;
  PsiType psiType=super.getClosureParameterType(closure,index);
  if (psiType instanceof PsiWildcardType) {
    PsiWildcardType wildcardType=(PsiWildcardType)psiType;
    if (wildcardType.isSuper() && wildcardType.getBound() != null && wildcardType.getBound().equalsToText(GradleCommonClassNames.GRADLE_API_SOURCE_SET)) {
      return wildcardType.getBound();
    }
    if (wildcardType.isSuper() && wildcardType.getBound() != null && wildcardType.getBound().equalsToText(GradleCommonClassNames.GRADLE_API_DISTRIBUTION)) {
      return wildcardType.getBound();
    }
  }
  return null;
}
