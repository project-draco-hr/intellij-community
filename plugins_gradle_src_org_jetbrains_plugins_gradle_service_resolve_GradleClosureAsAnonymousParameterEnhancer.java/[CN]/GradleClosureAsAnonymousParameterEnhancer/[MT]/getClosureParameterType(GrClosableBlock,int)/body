{
  PsiFile file=closure.getContainingFile();
  if (file == null || !file.getName().endsWith(GradleConstants.EXTENSION)) {
    return null;
  }
  PsiType psiType=super.getClosureParameterType(closure,index);
  if (psiType instanceof PsiWildcardType) {
    PsiWildcardType wildcardType=(PsiWildcardType)psiType;
    if (wildcardType.isSuper() && wildcardType.getBound() != null && wildcardType.getBound().equalsToText(GradleCommonClassNames.GRADLE_API_SOURCE_SET)) {
      return wildcardType.getBound();
    }
  }
  return null;
}
