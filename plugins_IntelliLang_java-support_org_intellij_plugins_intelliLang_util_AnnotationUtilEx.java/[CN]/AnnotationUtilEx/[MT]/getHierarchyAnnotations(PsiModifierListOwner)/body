{
  final Set<PsiAnnotation> all=new HashSet<PsiAnnotation>(){
    public boolean add(    PsiAnnotation o){
      return !contains(o) && super.add(o);
    }
  }
;
  PsiModifierList modifierList=listOwner.getModifierList();
  if (modifierList != null) {
    ContainerUtil.addAll(all,modifierList.getAnnotations());
  }
  for (  PsiModifierListOwner superOwner : AnnotationUtil.getSuperAnnotationOwners(listOwner)) {
    modifierList=superOwner.getModifierList();
    if (modifierList != null) {
      ContainerUtil.addAll(all,modifierList.getAnnotations());
    }
  }
  return all.isEmpty() ? PsiAnnotation.EMPTY_ARRAY : all.toArray(new PsiAnnotation[all.size()]);
}
