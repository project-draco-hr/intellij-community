{
  final PsiModifierList modifierList=listOwner.getModifierList();
  if (modifierList == null) {
    return PsiAnnotation.EMPTY_ARRAY;
  }
  if (!inHierarchy) {
    return modifierList.getAnnotations();
  }
  return CachedValuesManager.getCachedValue(listOwner,new CachedValueProvider<PsiAnnotation[]>(){
    @Nullable @Override public Result<PsiAnnotation[]> compute(){
      return Result.create(getHierarchyAnnotations(listOwner,modifierList),PsiModificationTracker.JAVA_STRUCTURE_MODIFICATION_COUNT);
    }
  }
);
}
