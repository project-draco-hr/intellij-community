{
  final PsiModifierList modifierList=listOwner.getModifierList();
  if (!inHierarchy) {
    return modifierList == null ? PsiAnnotation.EMPTY_ARRAY : modifierList.getAnnotations();
  }
  return CachedValuesManager.getCachedValue(listOwner,new CachedValueProvider<PsiAnnotation[]>(){
    @Nullable @Override public Result<PsiAnnotation[]> compute(){
      return Result.create(getHierarchyAnnotations(listOwner),PsiModificationTracker.MODIFICATION_COUNT);
    }
  }
);
}
