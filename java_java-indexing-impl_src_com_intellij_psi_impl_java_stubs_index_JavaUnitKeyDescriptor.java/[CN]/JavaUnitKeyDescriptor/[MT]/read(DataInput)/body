{
  int fileId=in.readInt();
  String pid=in.readUTF();
  if (pid.isEmpty()) {
    pid=null;
  }
  byte type=in.readByte();
  IndexTree.Import[] imports=IndexTree.Import.EMPTY_ARRAY;
  if (type != IndexTree.BYTECODE) {
    imports=new IndexTree.Import[DataInputOutputUtil.readINT(in)];
    for (int i=0; i < imports.length; i++) {
      imports[i]=new IndexTree.Import(in.readUTF(),in.readBoolean(),in.readBoolean(),null);
    }
  }
  IndexTree.ClassDecl[] classes=new IndexTree.ClassDecl[DataInputOutputUtil.readINT(in)];
  for (int i=0; i < classes.length; i++) {
    classes[i]=readClassDecl(in);
  }
  return new IndexTree.Unit(fileId,pid,type,imports,classes);
}
