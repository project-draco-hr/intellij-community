{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  try {
    getThreadReference().popFrames(stackFrame.getStackFrame());
  }
 catch (  InvalidStackFrameException ignored) {
  }
catch (  ObjectCollectedException ignored) {
  }
catch (  InternalException e) {
    if (e.errorCode() == 32) {
      throw EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("drop.frame.error.no.information"));
    }
 else     throw EvaluateExceptionUtil.createEvaluateException(e);
  }
catch (  IncompatibleThreadStateException e) {
    throw EvaluateExceptionUtil.createEvaluateException(e);
  }
 finally {
    clearCaches();
    getVirtualMachineProxy().clearCaches();
  }
}
