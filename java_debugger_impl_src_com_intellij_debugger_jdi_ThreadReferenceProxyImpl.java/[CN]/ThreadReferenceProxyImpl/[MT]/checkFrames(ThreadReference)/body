{
  int frameCount=frameCount();
  if (myFramesFromBottom.size() < frameCount) {
    List<StackFrame> frames;
    try {
      frames=threadRef.frames(0,frameCount - myFramesFromBottom.size());
    }
 catch (    IncompatibleThreadStateException e) {
      throw EvaluateExceptionUtil.createEvaluateException(e);
    }
catch (    InternalException e) {
      throw EvaluateExceptionUtil.createEvaluateException(e);
    }
    int index=myFramesFromBottom.size() + 1;
    for (ListIterator<StackFrame> iterator=frames.listIterator(frameCount - myFramesFromBottom.size()); iterator.hasPrevious(); ) {
      myFramesFromBottom.add(new StackFrameProxyImpl(this,iterator.previous(),index));
      index++;
    }
  }
 else {
    while (myFramesFromBottom.size() > frameCount) {
      myFramesFromBottom.removeLast();
    }
  }
}
