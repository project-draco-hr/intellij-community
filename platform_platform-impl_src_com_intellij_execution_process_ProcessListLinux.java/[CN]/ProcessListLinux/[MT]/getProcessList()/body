{
  File proc=new File("/proc");
  File[] pidFiles=null;
  try {
    FilenameFilter filter=new FilenameFilter(){
      public boolean accept(      File dir,      String name){
        boolean isPID=false;
        try {
          Integer.parseInt(name);
          isPID=true;
        }
 catch (        NumberFormatException e) {
        }
        return isPID;
      }
    }
;
    pidFiles=proc.listFiles(filter);
  }
 catch (  SecurityException e) {
  }
  ProcessInfo[] processInfo=empty;
  if (pidFiles != null) {
    processInfo=new ProcessInfo[pidFiles.length];
    for (int i=0; i < pidFiles.length; i++) {
      File cmdLine=new File(pidFiles[i],"cmdline");
      String name;
      try {
        name=new String(ProcessUtils.loadFileText(cmdLine,null)).replace('\0',' ');
      }
 catch (      IOException e) {
        name="";
      }
      if (name.length() == 0) {
        name="Unknown";
      }
      processInfo[i]=new ProcessInfo(pidFiles[i].getName(),name);
    }
  }
 else {
    pidFiles=new File[0];
  }
  return processInfo;
}
