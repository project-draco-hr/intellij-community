{
  this.controller=controller;
  setDefaultCloseOperation(EXIT_ON_CLOSE);
  setTitle("GitAlk");
  table=new JTable(controller.getTableModel());
  table.setDefaultRenderer(GraphTableCell.class,new GraphTableCellRender(drawGraph,mouseAdapter));
  table.setRowHeight(GraphTableCell.HEIGHT_CELL);
  table.setShowHorizontalLines(false);
  table.setIntercellSpacing(new Dimension(0,0));
  table.getColumnModel().getColumn(0).setPreferredWidth(800);
  table.getColumnModel().getColumn(1).setMinWidth(80);
  table.getColumnModel().getColumn(2).setMinWidth(80);
  table.addMouseMotionListener(mouseAdapter);
  table.addMouseListener(mouseAdapter);
  controller.addControllerListener(new EventsController.ControllerListener(){
    @Override public void jumpToRow(    int rowIndex){
      table.scrollRectToVisible(new Rectangle(table.getCellRect(rowIndex,0,false)));
      table.setRowSelectionInterval(rowIndex,rowIndex);
    }
    @Override public void updateTable(){
      table.updateUI();
    }
  }
);
  getContentPane().add(new JScrollPane(table));
  pack();
}
