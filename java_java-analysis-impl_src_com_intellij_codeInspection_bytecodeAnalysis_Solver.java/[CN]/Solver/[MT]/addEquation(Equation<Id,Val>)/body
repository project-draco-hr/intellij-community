{
  if (equation.rhs instanceof Final) {
    Final<Id,Val> finalResult=(Final<Id,Val>)equation.rhs;
    moving.add(new Solution<Id,Val>(equation.id,finalResult.value));
  }
 else   if (equation.rhs instanceof Pending) {
    Pending<Id,Val> pendingResult=(Pending<Id,Val>)equation.rhs;
    if (pendingResult.infinum.equals(lattice.top)) {
      moving.add(new Solution<Id,Val>(equation.id,lattice.top));
    }
 else {
      for (      Component<Id> component : pendingResult.delta) {
        for (        Id trigger : component.ids) {
          Set<Id> set=dependencies.get(trigger);
          if (set == null) {
            set=new HashSet<Id>();
            dependencies.put(trigger,set);
          }
          set.add(equation.id);
        }
      }
      pending.put(equation.id,pendingResult);
    }
  }
}
