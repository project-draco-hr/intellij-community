{
  HKey key=equation.key;
  CoreHKey coreKey=new CoreHKey(key.key,key.dirKey);
  HEquation previousEquation=equations.get(coreKey);
  if (previousEquation == null) {
    equations.put(coreKey,equation);
  }
 else {
    HKey joinKey=new HKey(coreKey.key,coreKey.dirKey,equation.key.stable && previousEquation.key.stable,true);
    HResult joinResult=resultUtil.join(equation.result,previousEquation.result);
    HEquation joinEquation=new HEquation(joinKey,joinResult);
    equations.put(coreKey,joinEquation);
  }
}
