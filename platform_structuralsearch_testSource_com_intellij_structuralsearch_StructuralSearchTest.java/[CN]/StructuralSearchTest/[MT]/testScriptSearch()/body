{
  final String source="package a;" + "class BX extends java.util.List {" + "  private static final java.util.List VALUE = new BX();"+ "}"+ "class CX extends java.util.List {"+ "  private static final String S = \"\";"+ "}";
  assertEquals("all variables accessible from script",1,findMatchesCount(source,"[script(\"" + "import com.intellij.psi.util.InheritanceUtil\n" + "import com.intellij.psi.util.PsiTreeUtil\n"+ "import com.intellij.psi.PsiClass\n"+ "init != null &&"+ "InheritanceUtil.isInheritor(\n"+ "        PsiTreeUtil.getParentOfType(variable, PsiClass.class),\n"+ "        true, \n"+ "        Type.type.canonicalText\n"+ ")\n\")]"+ "static final '_Type 'variable = '_init;"));
}
