{
  if (sdk == null)   return ValidationResult.OK;
  String templateBinding=null;
  @NonNls String language=templatesPanel.getTemplateLanguage();
  if (language != null) {
    if (language.equals(TemplatesService.JINJA2))     language="jinja";
    templateBinding=prefix + language.toLowerCase();
  }
  final PyPackageManager packageManager=PyPackageManager.getInstance(sdk);
  if (templateBinding != null) {
    if (TemplatesService.ALL_TEMPLATE_BINDINGS.contains(templateBinding)) {
      try {
        final PyPackage installedPackage=packageManager.findInstalledPackage(templateBinding);
        if (installedPackage == null)         return new ValidationResult(templateBinding + " will be installed on selected interpreter");
      }
 catch (      PyExternalProcessException ignored) {
      }
    }
  }
  if (language != null) {
    try {
      final PyPackage installedPackage=packageManager.findInstalledPackage(language);
      if (installedPackage == null) {
        return new ValidationResult(language + " will be installed on selected interpreter");
      }
    }
 catch (    PyExternalProcessException ignored) {
    }
  }
  return null;
}
