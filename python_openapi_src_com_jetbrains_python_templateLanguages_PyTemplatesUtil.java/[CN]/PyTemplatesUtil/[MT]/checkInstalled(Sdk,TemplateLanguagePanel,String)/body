{
  if (sdk == null)   return ValidationResult.OK;
  String templateBinding=null;
  @NonNls String language=templatesPanel.getTemplateLanguage();
  if (language != null) {
    String framework=StringUtil.trimEnd(prefix,'_');
    framework=StringUtil.trimEnd(framework,'-');
    String postfix=language.toLowerCase();
    if (framework.equals(postfix))     return ValidationResult.OK;
    if (language.equals(TemplatesService.JINJA2)) {
      postfix="jinja";
    }
    templateBinding=prefix + postfix;
  }
  final PyPackageManager packageManager=PyPackageManager.getInstance(sdk);
  if (templateBinding != null) {
    if (TemplatesService.ALL_TEMPLATE_BINDINGS.contains(templateBinding)) {
      try {
        final PyPackage installedPackage=packageManager.findPackage(templateBinding,false);
        if (installedPackage == null) {
          return new ValidationResult(templateBinding + " will be installed on the selected interpreter");
        }
      }
 catch (      ExecutionException ignored) {
      }
    }
  }
  if (language != null) {
    try {
      final PyPackage installedPackage=packageManager.findPackage(language,false);
      if (installedPackage == null) {
        return new ValidationResult(language + " will be installed on the selected interpreter");
      }
    }
 catch (    ExecutionException ignored) {
    }
  }
  return null;
}
