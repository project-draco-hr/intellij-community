{
  final ClassCoverageInfo toplevelClassCoverageInfo=new ClassCoverageInfo();
  final ClassData classData=projectInfo.getClassData(className);
  if (classData != null && classData.getLines() != null) {
    final Object[] lines=classData.getLines();
    for (    Object l : lines) {
      if (l instanceof LineData) {
        final LineData lineData=(LineData)l;
        if (lineData.getStatus() == LineCoverage.FULL) {
          toplevelClassCoverageInfo.fullyCoveredLineCount++;
        }
 else         if (lineData.getStatus() == LineCoverage.PARTIAL) {
          toplevelClassCoverageInfo.partiallyCoveredLineCount++;
        }
        toplevelClassCoverageInfo.totalLineCount++;
        packageCoverageInfo.totalLineCount++;
      }
    }
    boolean touchedClass=false;
    for (    final Object nameAndSig : classData.getMethodSigs()) {
      final int covered=classData.getStatus((String)nameAndSig);
      if (covered != LineCoverage.NONE) {
        toplevelClassCoverageInfo.coveredMethodCount++;
        touchedClass=true;
      }
    }
    if (touchedClass) {
      packageCoverageInfo.coveredClassCount++;
    }
    toplevelClassCoverageInfo.totalMethodCount+=classData.getMethodSigs().size();
    packageCoverageInfo.totalClassCount++;
    packageCoverageInfo.coveredLineCount+=toplevelClassCoverageInfo.fullyCoveredLineCount;
    packageCoverageInfo.coveredLineCount+=toplevelClassCoverageInfo.partiallyCoveredLineCount;
    packageCoverageInfo.coveredMethodCount+=toplevelClassCoverageInfo.coveredMethodCount;
    packageCoverageInfo.totalMethodCount+=toplevelClassCoverageInfo.totalMethodCount;
  }
 else {
    collectNonCoveredClassInfo(classFile,toplevelClassCoverageInfo,packageCoverageInfo);
  }
  ClassCoverageInfo classCoverageInfo=getOrCreateClassCoverageInfo(toplevelClassCoverage,toplevelClassSrcFQName);
  classCoverageInfo.totalLineCount+=toplevelClassCoverageInfo.totalLineCount;
  classCoverageInfo.fullyCoveredLineCount+=toplevelClassCoverageInfo.fullyCoveredLineCount;
  classCoverageInfo.partiallyCoveredLineCount+=toplevelClassCoverageInfo.partiallyCoveredLineCount;
  classCoverageInfo.totalMethodCount+=toplevelClassCoverageInfo.totalMethodCount;
  classCoverageInfo.coveredMethodCount+=toplevelClassCoverageInfo.coveredMethodCount;
}
