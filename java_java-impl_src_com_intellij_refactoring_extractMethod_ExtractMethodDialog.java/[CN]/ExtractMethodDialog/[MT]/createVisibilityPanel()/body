{
  final JavaComboBoxVisibilityPanel panel=new JavaComboBoxVisibilityPanel();
  final PsiMethod containingMethod=getContainingMethod();
  panel.setVisibility(containingMethod != null && containingMethod.hasModifierProperty(PsiModifier.PUBLIC) ? PropertiesComponent.getInstance(myProject).getOrInit(EXTRACT_METHOD_DEFAULT_VISIBILITY,PsiModifier.PRIVATE) : PsiModifier.PRIVATE);
  panel.addListener(new ChangeListener(){
    @Override public void stateChanged(    ChangeEvent e){
      updateSignature();
      if (!myChangingVisibility) {
        myDefaultVisibility=false;
      }
    }
  }
);
  return panel;
}
