{
  EmptyProgressIndicator indicator1=new EmptyProgressIndicator();
  DelegatingProgressIndicator indicator2=new DelegatingProgressIndicator(indicator1);
  final DelegatingProgressIndicator indicator3=new DelegatingProgressIndicator(indicator2);
  ProgressManager.getInstance().executeProcessUnderProgress(new Runnable(){
    @Override public void run(){
      ProgressIndicator current=ProgressIndicatorProvider.getGlobalProgressIndicator();
      assertSame(indicator3,current);
    }
  }
,indicator3);
  assertFalse(checkCanceledCalled);
}
