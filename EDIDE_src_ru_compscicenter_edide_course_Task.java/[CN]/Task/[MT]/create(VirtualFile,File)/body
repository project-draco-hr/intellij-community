{
  VirtualFile taskDir=lessonDir.createChildDirectory(this,TASK_DIR + Integer.toString(myIndex + 1));
  File newResourceRoot=new File(resourceRoot,taskDir.getName());
  for (int i=0; i < taskFiles.size(); i++) {
    taskFiles.get(i).setIndex(i);
    taskFiles.get(i).create(taskDir,newResourceRoot);
  }
  File[] filesInTask=newResourceRoot.listFiles();
  if (filesInTask != null) {
    for (    File file : filesInTask) {
      String fileName=file.getName();
      if (!isTaskFile(fileName)) {
        File resourceFile=new File(newResourceRoot,fileName);
        File fileInProject=new File(taskDir.getCanonicalPath(),fileName);
        FileUtil.copy(resourceFile,fileInProject);
      }
    }
  }
}
