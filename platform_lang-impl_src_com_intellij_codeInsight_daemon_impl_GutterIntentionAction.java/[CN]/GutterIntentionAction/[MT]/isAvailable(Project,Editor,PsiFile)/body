{
  if (!ApplicationManager.getApplication().isDispatchThread())   return true;
  if (myText == null) {
    AnActionEvent event=AnActionEvent.createFromDataContext(ActionPlaces.UNKNOWN,null,((EditorEx)editor).getDataContext());
    myAction.update(event);
    myText=event.getPresentation().getText();
    if (myText == null)     myText=myAction.getTemplatePresentation().getText();
    if (myText == null)     myText="";
  }
  return StringUtil.isNotEmpty(myText);
}
