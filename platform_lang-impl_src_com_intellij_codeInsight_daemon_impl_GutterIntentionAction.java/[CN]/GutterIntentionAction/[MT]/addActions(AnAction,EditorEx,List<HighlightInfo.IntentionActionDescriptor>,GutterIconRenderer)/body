{
  if (action == null) {
    return;
  }
  if (action instanceof ActionGroup) {
    AnAction[] children=((ActionGroup)action).getChildren(null);
    for (    AnAction child : children) {
      addActions(child,editor,descriptors,renderer);
    }
  }
  AnActionEvent event=AnActionEvent.createFromDataContext(ActionPlaces.UNKNOWN,null,editor.getDataContext());
  action.update(event);
  String text=event.getPresentation().getText();
  if (text == null)   text=action.getTemplatePresentation().getText();
  if (text == null) {
    return;
  }
  final IntentionAction actionAdapter=new GutterIntentionAction(action,text,editor);
  Icon icon=action.getTemplatePresentation().getIcon();
  if (icon == null)   icon=renderer.getIcon();
  HighlightInfo.IntentionActionDescriptor descriptor=new HighlightInfo.IntentionActionDescriptor(actionAdapter,Collections.<IntentionAction>emptyList(),text,icon);
  descriptors.add(descriptor);
}
