{
  final Map<PsiClass,PsiSubstitutor> map=ContainerUtil.newTroveMap();
  final PsiElementFactory factory=JavaPsiFacade.getElementFactory(myPlaceClass.getProject());
  new PairProcessor<PsiClass,PsiSubstitutor>(){
    @Override public boolean process(    PsiClass eachClass,    PsiSubstitutor eachSubstitutor){
      if (!map.containsKey(eachClass)) {
        map.put(eachClass,eachSubstitutor);
        PsiClassImplUtil.processSuperTypes(eachClass,eachSubstitutor,factory,level,myResolveScope,this);
      }
      return true;
    }
  }
.process(myPlaceClass,PsiSubstitutor.EMPTY);
  return map;
}
