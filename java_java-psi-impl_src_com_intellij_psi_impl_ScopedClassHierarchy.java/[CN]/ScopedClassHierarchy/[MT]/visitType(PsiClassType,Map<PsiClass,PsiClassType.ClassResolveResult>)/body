{
  PsiClassType.ClassResolveResult resolveResult=type.resolveGenerics();
  PsiClass psiClass=resolveResult.getElement();
  if (psiClass == null || InheritanceImplUtil.hasObjectQualifiedName(psiClass) || map.containsKey(psiClass)) {
    return;
  }
  map.put(psiClass,resolveResult);
  for (  PsiType superType : getSuperTypes(psiClass)) {
    superType=type.isRaw() && superType instanceof PsiClassType ? ((PsiClassType)superType).rawType() : resolveResult.getSubstitutor().substitute(superType);
    superType=PsiClassImplUtil.correctType(superType,myResolveScope);
    if (superType instanceof PsiClassType) {
      visitType((PsiClassType)superType,map);
    }
  }
}
