{
  Collection<Ref> allRefs=myUiController.getDataPack().getRefsModel().getAllRefs();
  final List<Ref> localRefs=ContainerUtil.filter(allRefs,new Condition<Ref>(){
    @Override public boolean value(    Ref ref){
      return ref.getType().isLocalOrHead();
    }
  }
);
  return ContainerUtil.filter(allRefs,new Condition<Ref>(){
    @Override public boolean value(    Ref ref){
      if (ref.getType() == Ref.RefType.REMOTE_BRANCH) {
        return !thereIsLocalRefOfHash(ref.getCommitHash(),localRefs);
      }
      if (ref.getType().isBranch()) {
        return true;
      }
      return false;
    }
  }
);
}
