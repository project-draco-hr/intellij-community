{
  final List<PsiClass> classes=super.getTargetClasses(element);
  PsiClass enumClass=null;
  for (  PsiClass aClass : classes) {
    if (aClass.isEnum()) {
      if (enumClass == null) {
        enumClass=aClass;
      }
 else {
        enumClass=null;
        break;
      }
    }
  }
  if (enumClass != null) {
    return Collections.singletonList(enumClass);
  }
  ExpectedTypeInfo[] typeInfos=CreateFromUsageUtils.guessExpectedTypes(myReferenceExpression,false);
  for (  final ExpectedTypeInfo typeInfo : typeInfos) {
    final PsiClass psiClass=PsiUtil.resolveClassInClassTypeOnly(typeInfo.getType());
    if (psiClass != null && psiClass.isEnum()) {
      return Collections.singletonList(psiClass);
    }
  }
  return Collections.emptyList();
}
