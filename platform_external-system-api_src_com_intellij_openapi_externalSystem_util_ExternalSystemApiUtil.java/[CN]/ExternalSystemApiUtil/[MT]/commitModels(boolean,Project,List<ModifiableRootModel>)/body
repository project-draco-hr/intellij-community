{
  final List<ModifiableRootModel> changedModels=ContainerUtilRt.newArrayList();
  for (  ModifiableRootModel modifiableRootModel : models) {
    if (modifiableRootModel.isDisposed()) {
      continue;
    }
    if (modifiableRootModel.isChanged()) {
      changedModels.add(modifiableRootModel);
    }
 else {
      modifiableRootModel.dispose();
    }
  }
  if (!changedModels.isEmpty()) {
    executeProjectChangeAction(synchronous,new DisposeAwareProjectChange(project){
      @Override public void execute(){
        for (        ModifiableRootModel modifiableRootModel : changedModels) {
          if (!modifiableRootModel.isDisposed()) {
            modifiableRootModel.commit();
          }
        }
      }
    }
);
  }
}
