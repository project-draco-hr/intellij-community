{
  if (ApplicationManager.getApplication().isDispatchThread()) {
    return task.compute();
  }
 else {
    return UIUtil.invokeAndWaitIfNeeded(task);
  }
}
