{
  myText=PyBundle.message("INTN.generate.docstring.with.types");
  PsiElement elementAt=PyUtil.findNonWhitespaceAtOffset(file,editor.getCaretModel().getOffset());
  if (elementAt == null)   return false;
  PyFunction function=PsiTreeUtil.getParentOfType(elementAt,PyFunction.class);
  if (function == null) {
    return false;
  }
  PySignature signature=PySignatureCacheManager.getInstance(project).findSignature(function);
  if (signature == null) {
    return false;
  }
  if (function.getDocStringValue() != null) {
    PyDocstringGenerator docstringGenerator=new PyDocstringGenerator(function);
    addFunctionArguments(function,signature,docstringGenerator);
    if (docstringGenerator.haveParametersToAdd()) {
      myText=PyBundle.message("INTN.add.types.to.docstring");
      return true;
    }
 else {
      return false;
    }
  }
  return true;
}
