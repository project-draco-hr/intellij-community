{
  if (!base.canShowListForEmptyPattern()) {
    LOG.assertTrue(!pattern.isEmpty(),base);
  }
  if (base.getModel() instanceof GotoClassModel2 && (pattern.startsWith("@"))) {
    pattern=pattern.substring(1);
  }
  if (base.isSearchInAnyPlace() && !pattern.trim().isEmpty()) {
    pattern="*" + pattern;
  }
  return pattern;
}
