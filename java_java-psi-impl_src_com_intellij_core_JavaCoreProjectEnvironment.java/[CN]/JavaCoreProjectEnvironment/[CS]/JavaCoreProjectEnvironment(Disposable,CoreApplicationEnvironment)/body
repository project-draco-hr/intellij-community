{
  super(parentDisposable,applicationEnvironment);
  myProject.registerService(PsiElementFactory.class,new PsiElementFactoryImpl(myPsiManager));
  myProject.registerService(JavaPsiImplementationHelper.class,createJavaPsiImplementationHelper());
  myProject.registerService(PsiResolveHelper.class,new PsiResolveHelperImpl(myPsiManager));
  myProject.registerService(LanguageLevelProjectExtension.class,new CoreLanguageLevelProjectExtension());
  myProject.registerService(JavaResolveCache.class,new JavaResolveCache(myMessageBus));
  myProject.registerService(JavaCodeStyleSettingsFacade.class,new CoreJavaCodeStyleSettingsFacade());
  myProject.registerService(JavaCodeStyleManager.class,new CoreJavaCodeStyleManager());
  myPackageIndex=createCorePackageIndex();
  myProject.registerService(PackageIndex.class,myPackageIndex);
  myFileManager=createCoreFileManager();
  myProject.registerService(JavaFileManager.class,myFileManager);
  registerJavaPsiFacade();
}
