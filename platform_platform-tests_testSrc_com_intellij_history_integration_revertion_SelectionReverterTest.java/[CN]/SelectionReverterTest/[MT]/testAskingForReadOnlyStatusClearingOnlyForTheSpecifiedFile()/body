{
  createChildData(myRoot,"foo1.txt");
  setBinaryContent(f,"one".getBytes());
  createChildData(myRoot,"foo2.txt");
  setBinaryContent(f,"two".getBytes());
  createChildData(myRoot,"foo3.txt");
  final List<VirtualFile> files=new ArrayList<VirtualFile>();
  myGateway=new IdeaGateway(){
    @Override public boolean ensureFilesAreWritable(    @NotNull Project p,    @NotNull List<VirtualFile> ff){
      files.addAll(ff);
      return true;
    }
  }
;
  List<String> errors=checkCanRevertToPreviousRevision();
  assertTrue(errors.isEmpty());
  assertEquals(1,files.size());
  assertEquals(f,files.get(0));
}
