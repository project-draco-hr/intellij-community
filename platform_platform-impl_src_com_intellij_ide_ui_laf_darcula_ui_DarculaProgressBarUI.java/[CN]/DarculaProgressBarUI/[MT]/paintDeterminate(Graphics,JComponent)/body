{
  if (!(g instanceof Graphics2D)) {
    return;
  }
  if (progressBar.getOrientation() != SwingConstants.HORIZONTAL || !c.getComponentOrientation().isLeftToRight()) {
    super.paintDeterminate(g,c);
    return;
  }
  GraphicsUtil.setupAAPainting(g);
  Insets b=progressBar.getInsets();
  final int w=progressBar.getWidth();
  final int h=progressBar.getPreferredSize().height;
  int barRectWidth=w - (b.right + b.left);
  int barRectHeight=h - (b.top + b.bottom);
  if (barRectWidth <= 0 || barRectHeight <= 0) {
    return;
  }
  int amountFull=getAmountFull(b,barRectWidth,barRectHeight);
  g.setColor(c.getParent().getBackground());
  Graphics2D g2=(Graphics2D)g;
  if (c.isOpaque()) {
    g.fillRect(0,0,w,h);
  }
  final int R=h - 1;
  final int R2=h;
  final int off=JBUI.scale(1);
  g2.translate(0,(c.getHeight() - h) / 2);
  g2.setColor(progressBar.getForeground());
  g2.fill(new RoundRectangle2D.Double(0,0,w - off,h - off,R2,R2));
  g2.setColor(c.getParent().getBackground());
  g2.fill(new RoundRectangle2D.Double(off,off,w - 2 * off - off,h - 2 * off - off,R,R));
  g2.setColor(progressBar.getForeground());
  g2.fill(new RoundRectangle2D.Double(2 * off,2 * off,amountFull - JBUI.scale(5),h - JBUI.scale(5),R2,R2));
  g2.translate(0,-(c.getHeight() - h) / 2);
  if (progressBar.isStringPainted()) {
    paintString(g,b.left,b.top,barRectWidth,barRectHeight,amountFull,b);
  }
}
