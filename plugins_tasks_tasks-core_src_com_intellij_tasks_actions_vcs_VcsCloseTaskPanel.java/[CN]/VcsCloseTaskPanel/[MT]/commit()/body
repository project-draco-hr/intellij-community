{
  if (myCommitChanges.isEnabled()) {
    myTaskManager.getState().commitChanges=isCommitChanges();
  }
  if (myMergeBranches.isEnabled()) {
    myTaskManager.getState().mergeBranch=isMergeBranch();
  }
  if (isCommitChanges()) {
    ChangeListManager changeListManager=ChangeListManager.getInstance(myProject);
    for (    ChangeListInfo info : myTask.getChangeLists()) {
      LocalChangeList list=changeListManager.getChangeList(info.id);
      if (list != null) {
        changeListManager.commitChanges(list,new ArrayList<Change>(list.getChanges()));
      }
    }
  }
  if (isMergeBranch()) {
    myTaskManager.mergeBranch(myTask);
  }
}
