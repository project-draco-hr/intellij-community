{
  PsiReference reference=parameters.getPosition().getContainingFile().findReferenceAt(parameters.getOffset());
  if (reference instanceof TagNameReference) {
    TagNameReference tagNameReference=(TagNameReference)reference;
    collectCompletionVariants(tagNameReference,result);
  }
 else   if (reference instanceof SchemaPrefixReference) {
    TagNameReference tagNameReference=((SchemaPrefixReference)reference).getTagNameReference();
    if (tagNameReference != null && !tagNameReference.isStartTagFlag()) {
      result.consume(createClosingTagLookupElement((XmlTag)tagNameReference.getElement(),true,tagNameReference.getNameElement()));
    }
  }
}
