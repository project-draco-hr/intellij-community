{
  if (!(fileType instanceof PythonFileType))   return Result.CONTINUE;
  if (isInteresting(character)) {
    final Document document=editor.getDocument();
    final int offset=editor.getCaretModel().getOffset();
    CharSequence chars=document.getCharsSequence();
    if (offset > document.getTextLength())     return Result.CONTINUE;
    if (inAutoClosingContext(chars,offset)) {
      if (isAfterTripleQuote(chars,offset,character)) {
        typeInStringAndMoveCaret(editor,offset,new StringBuilder().append(character).append(character).append(character).toString());
        return Result.STOP;
      }
 else {
        if (offset >= 1 && chars.charAt(offset - 1) == character) {
          if (inOpenTripleQuotedLiteral(chars,offset,character)) {
            typeInStringAndMoveCaret(editor,offset + 2,new StringBuilder().append(character).append(character).toString());
            return Result.STOP;
          }
 else {
            typeInStringAndMoveCaret(editor,offset + 1,String.valueOf(character));
            return Result.STOP;
          }
        }
 else {
          return Result.CONTINUE;
        }
      }
    }
 else {
      if (insideEmptyQuotes(chars,offset,character)) {
        typeInStringAndMoveCaret(editor,offset + 2,String.valueOf(character));
      }
 else {
        typeInStringAndMoveCaret(editor,offset + 1,String.valueOf(character));
      }
      return Result.STOP;
    }
  }
  return Result.CONTINUE;
}
