{
  final File tempDirectory=createTempDirectory();
  final VirtualFile temp=getVirtualFile(tempDirectory);
  String name="toCreate.txt";
  final VirtualFilePointer fileToCreatePointer=createPointerByFile(new File(tempDirectory.getPath() + prefix + name+ suffix),null);
  assertFalse(fileToCreatePointer.isValid());
  assertNull(fileToCreatePointer.getFile());
  VirtualFile child=createChildData(temp,name);
  assertTrue(fileToCreatePointer.isValid());
  assertEquals(child,fileToCreatePointer.getFile());
  VfsTestUtil.deleteFile(child);
  assertFalse(fileToCreatePointer.isValid());
  assertNull(fileToCreatePointer.getFile());
}
