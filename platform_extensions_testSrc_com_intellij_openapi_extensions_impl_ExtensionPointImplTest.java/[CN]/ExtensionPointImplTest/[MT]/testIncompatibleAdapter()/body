{
  final ExtensionPointImpl<Integer> extensionPoint=(ExtensionPointImpl<Integer>)buildExtensionPoint();
  extensionPoint.registerExtension(new Integer(1));
  assertThat(extensionPoint.getExtensions().length,equalTo(1));
  assertThat(new ThrowableRunnable(){
    @Override public void run(){
      extensionPoint.registerExtensionAdapter(buildAdapter());
    }
  }
,doesThrow(TestLogException.class));
  assertThat(extensionPoint.getExtensions().length,equalTo(1));
}
