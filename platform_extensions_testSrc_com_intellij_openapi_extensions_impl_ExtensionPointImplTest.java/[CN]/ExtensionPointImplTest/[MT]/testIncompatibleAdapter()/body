{
  ExtensionPoint<Integer> extensionPoint=buildExtensionPoint();
  ((ExtensionPointImpl)extensionPoint).registerExtensionAdapter(buildAdapter());
  assertThat(ourTestLog.errors,empty());
  assertThat(extensionPoint.getExtensions(),emptyArray());
  assertThat(ourTestLog.errors,hasSize(1));
  extensionPoint.registerExtension(new Integer(0));
  assertThat(extensionPoint.getExtensions(),arrayWithSize(1));
  assertThat(ourTestLog.errors,hasSize(1));
}
