{
  if (progress != null) {
    showProgressMessage(progress,root);
  }
  myHandler.startUpdate();
  try {
    long rev=doUpdate(root);
    if (rev < 0 && !isMerge()) {
      throw new SvnBindException(SvnBundle.message("exception.text.root.was.not.properly.updated",root));
    }
  }
 catch (  VcsException e) {
    LOG.info(e);
    myExceptions.add(e);
  }
 finally {
    myHandler.finishUpdate();
  }
}
