{
  final PsiMethod method=PsiTreeUtil.getParentOfType(expression,PsiMethod.class,true,PsiMember.class,PsiLambdaExpression.class);
  if (method == null || !method.getName().equals("tearDown")) {
    return;
  }
  if (!MethodCallUtils.isSuperMethodCall(expression,method)) {
    return;
  }
  final PsiClass containingClass=method.getContainingClass();
  if (!InheritanceUtil.isInheritor(containingClass,"junit.framework.TestCase")) {
    return;
  }
  final PsiTryStatement tryStatement=PsiTreeUtil.getParentOfType(expression,PsiTryStatement.class,true,PsiMember.class,PsiLambdaExpression.class);
  if (tryStatement != null) {
    final PsiCodeBlock finallyBlock=tryStatement.getFinallyBlock();
    if (PsiTreeUtil.isAncestor(finallyBlock,expression,true)) {
      return;
    }
  }
  if (!hasNonTrivialActivity(method,expression)) {
    return;
  }
  registerMethodCallError(expression);
}
