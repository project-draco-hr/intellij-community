{
  for (int i=1; i < myBlocks.size(); i++) {
    Block block1=myBlocks.get(i - 1);
    Block block2=myBlocks.get(i);
    if (block1 instanceof TemplateLanguageBlock) {
      Spacing spacing=((TemplateLanguageBlock)block1).getRightNeighborSpacing(block2,this,i - 1);
      if (spacing != null) {
        if (myChildDataBorderSpacings == null) {
          myChildDataBorderSpacings=ContainerUtil.newTroveMap();
        }
        myChildDataBorderSpacings.put(Pair.create(block1,block2),spacing);
      }
    }
  }
}
