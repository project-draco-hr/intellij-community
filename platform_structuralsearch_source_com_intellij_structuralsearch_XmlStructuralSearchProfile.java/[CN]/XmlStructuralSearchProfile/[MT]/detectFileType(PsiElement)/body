{
  PsiFile file=context instanceof PsiFile ? (PsiFile)context : context.getContainingFile();
  Language contextLanguage=context instanceof PsiFile ? null : context.getLanguage();
  if (file.getLanguage() == StdLanguages.HTML || (file.getFileType() == StdFileTypes.JSP && contextLanguage == StdLanguages.HTML)) {
    return StdFileTypes.HTML;
  }
  return StdFileTypes.XML;
}
