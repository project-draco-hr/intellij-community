{
  List<String> split=splitCommandInParameters(command);
  split.add(0,HG_EXECUTABLE);
  debug("hg " + command);
  HgCommandResult result;
  try {
    result=new ShellCommand(split,pwd(),null).execute(false,false);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  int exitValue=result.getExitValue();
  if (!ignoreNonZeroExitCode && exitValue != 0) {
    throw new RuntimeException(result.getRawError());
  }
  return result.getRawOutput();
}
