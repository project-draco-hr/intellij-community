{
  final SourceFolder[] sourceFolders=getContentEntry().getSourceFolders();
  MultiMap<JpsModuleSourceRootType<?>,SourceFolder> folderByType=new MultiMap<JpsModuleSourceRootType<?>,SourceFolder>();
  for (  SourceFolder folder : sourceFolders) {
    if (folder.isSynthetic()) {
      continue;
    }
    final VirtualFile folderFile=folder.getFile();
    if (folderFile != null && isExcludedOrUnderExcludedDirectory(folderFile)) {
      continue;
    }
    folderByType.putValue(folder.getRootType(),folder);
  }
  Insets insets=new Insets(0,0,10,0);
  GridBagConstraints constraints=new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTH,GridBagConstraints.HORIZONTAL,insets,0,0);
  for (  ModuleSourceRootEditHandler<?> editor : myModuleSourceRootEditHandlers) {
    Collection<SourceFolder> folders=folderByType.get(editor.getRootType());
    if (folders.isEmpty())     continue;
    ContentFolder[] foldersArray=folders.toArray(new ContentFolder[folders.size()]);
    final JComponent sourcesComponent=createFolderGroupComponent(editor.getRootsGroupTitle(),foldersArray,editor.getRootsGroupColor(),editor);
    add(sourcesComponent,constraints);
  }
  ExcludeFolder[] excluded=getContentEntry().getExcludeFolders();
  if (excluded.length > 0) {
    final JComponent excludedComponent=createFolderGroupComponent(ProjectBundle.message("module.paths.excluded.group"),excluded,EXCLUDED_COLOR,null);
    this.add(excludedComponent,constraints);
  }
}
