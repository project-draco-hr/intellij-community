{
  if (module == null)   return;
  CompilerConfiguration configuration=CompilerConfiguration.getInstance(project);
  if (!Boolean.TRUE.equals(module.getUserData(IGNORE_MAVEN_COMPILER_TARGET_KEY))) {
    String targetLevel=mavenProject.getTargetLevel();
    configuration.setBytecodeTargetLevel(module,ObjectUtils.notNull(targetLevel,"1.5"));
  }
  module.putUserData(IGNORE_MAVEN_COMPILER_TARGET_KEY,Boolean.FALSE);
  VirtualFile dir=VfsUtil.findRelativeFile(mavenProject.getDirectoryFile(),"src","main","resources","archetype-resources");
  if (dir != null && !configuration.isExcludedFromCompilation(dir)) {
    ExcludesConfiguration cfg=configuration.getExcludedEntriesConfiguration();
    cfg.addExcludeEntryDescription(new ExcludeEntryDescription(dir,true,false,project));
  }
}
