{
  Set<Usage> infos=context.getUsageView().getUsages();
  java.util.List<ReplacementInfo> results=new ArrayList<ReplacementInfo>(context.getResults().size());
  for (Iterator<Usage> i=infos.iterator(); i.hasNext(); ) {
    UsageInfo2UsageAdapter usage=(UsageInfo2UsageAdapter)i.next();
    if (isValid(usage,context)) {
      results.add(context.getUsage2ReplacementInfo().get(usage));
    }
  }
  context.getReplacer().replaceAll(results);
}
