{
  ArrayList<Variable> vars=getVarsFrom(replaceCriteriaEdit);
  List<Variable> searchVars=super.getVariablesFromListeners();
  Map<String,Variable> varsMap=new com.intellij.util.containers.hash.LinkedHashMap<String,Variable>(searchVars.size());
  for (  Variable var : searchVars)   varsMap.put(var.getName(),var);
  for (  Variable var : vars) {
    if (!varsMap.containsKey(var.getName())) {
      String newVarName=var.getName() + ReplaceConfiguration.REPLACEMENT_VARIABLE_SUFFIX;
      varsMap.put(newVarName,new Variable(newVarName,(Expression)null,null,false));
    }
  }
  return new ArrayList<Variable>(varsMap.values());
}
