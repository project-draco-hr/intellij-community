{
  List<HgRevisionNumber> currentHeads=new HgHeadsCommand(myProject,projectRepoVirtualFile).executeInCurrentThread();
  List<HgRevisionNumber> incomingChangesets=new HgIncomingCommand(myProject).executeInCurrentThread(projectRepoVirtualFile);
  assertEquals(currentHeads.size(),1);
  assertEquals(incomingChangesets.size(),1);
  incomingHead=incomingChangesets.get(0);
  headBeforeUpdate=currentHeads.get(0);
  return this;
}
