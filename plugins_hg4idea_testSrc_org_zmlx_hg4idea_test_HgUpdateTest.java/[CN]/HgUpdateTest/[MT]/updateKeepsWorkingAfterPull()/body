{
  changeFile_A_AndCommitInRemoteRepository();
  HgPullCommand pull=new HgPullCommand(myProject,projectRepoVirtualFile);
  pull.setSource(HgUtil.getRepositoryDefaultPath(myProject,projectRepoVirtualFile));
  pull.executeInCurrentThread();
  assertEquals(determineNumberOfIncomingChanges(projectRepo),0,"The update operation should have pulled the incoming changes from the default repository.");
  updateThroughPlugin();
  HgRevisionNumber parentRevision=new HgWorkingCopyRevisionsCommand(myProject).firstParent(projectRepoVirtualFile);
  assertEquals(parentRevision.getRevision(),"1","The working directory should have been updated to the latest version");
}
