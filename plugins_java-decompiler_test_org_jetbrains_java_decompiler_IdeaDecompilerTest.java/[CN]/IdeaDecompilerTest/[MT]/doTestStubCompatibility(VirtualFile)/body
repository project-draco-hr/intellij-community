{
  VfsUtilCore.visitChildrenRecursively(root,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull VirtualFile file){
      if (file.isDirectory()) {
        System.out.println(file.getPath());
      }
 else       if (file.getFileType() == StdFileTypes.CLASS && !file.getName().contains("$")) {
        PsiFile clsFile=getPsiManager().findFile(file);
        assertNotNull(file.getPath(),clsFile);
        PsiElement mirror=((ClsFileImpl)clsFile).getMirror();
        String decompiled=mirror.getText();
        assertTrue(file.getPath(),decompiled.contains(file.getNameWithoutExtension()));
      }
      return true;
    }
  }
);
}
