{
  String path=PlatformTestUtil.getRtJarPath() + "!/java/lang/String.class";
  VirtualFile file=StandardFileSystems.jar().findFileByPath(path);
  assertNotNull(path,file);
  String decompiled=new IdeaDecompiler().getText(file).toString();
  assertTrue(decompiled,decompiled.startsWith(IdeaDecompiler.BANNER + "package java.lang;\n"));
  assertTrue(decompiled,decompiled.contains("public final class String"));
  assertTrue(decompiled,decompiled.contains("@deprecated"));
  assertTrue(decompiled,decompiled.contains("private static class CaseInsensitiveComparator"));
  assertFalse(decompiled,decompiled.contains("{ /* compiled code */ }"));
  assertFalse(decompiled,decompiled.contains("synthetic"));
}
