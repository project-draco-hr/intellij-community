{
  final PsiElementFactory factory=PsiElementFactory.SERVICE.getInstance(original.getProject());
  original.accept(new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitMethod(    PsiMethod method){
      PsiCodeBlock body=method.getBody();
      if (body != null) {
        body.replace(factory.createCodeBlockFromText("{ /* collapsed */}",null));
      }
    }
    @Override public void visitClass(    PsiClass aClass){
      for (      PsiClassInitializer initializer : aClass.getInitializers()) {
        PsiCodeBlock body=initializer.getBody();
        body.replace(factory.createCodeBlockFromText("{ /* collapsed */}",null));
      }
      super.visitClass(aClass);
    }
  }
);
}
