{
  super(project.getPicoContainer(),parentDisposable);
  myLifetime=parentDisposable;
  myProject=project;
  myPath=moduleFilePath;
  Extensions.instantiateArea(ExtensionAreas.IDEA_MODULE,this,null);
  Disposer.register(parentDisposable,new Disposable(){
    @Override public void dispose(){
      Extensions.disposeArea(CoreModule.this);
    }
  }
);
  initModuleExtensions();
  final ModuleRootManagerImpl moduleRootManager=new ModuleRootManagerImpl(this,ProjectRootManagerImpl.getInstanceImpl(project),VirtualFilePointerManager.getInstance()){
    @Override public void loadState(    ModuleRootManagerState object){
      loadState(object,false);
    }
  }
;
  Disposer.register(parentDisposable,new Disposable(){
    @Override public void dispose(){
      moduleRootManager.disposeComponent();
    }
  }
);
  getPicoContainer().registerComponentInstance(ModuleRootManager.class,moduleRootManager);
  getPicoContainer().registerComponentInstance(PathMacroManager.class,createModulePathMacroManager(project));
  getPicoContainer().registerComponentInstance(ModuleFileIndex.class,createModuleFileIndex(project));
  myModuleScopeProvider=createModuleScopeProvider();
}
