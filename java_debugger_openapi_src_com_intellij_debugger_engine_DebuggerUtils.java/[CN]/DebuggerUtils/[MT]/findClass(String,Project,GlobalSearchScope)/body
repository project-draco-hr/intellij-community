{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  try {
    if (getArrayClass(className) != null) {
      return JavaPsiFacade.getInstance(project).getElementFactory().getArrayClass(LanguageLevelProjectExtension.getInstance(project).getLanguageLevel());
    }
    if (project.isDefault()) {
      return null;
    }
    PsiManager psiManager=PsiManager.getInstance(project);
    PsiClass psiClass=ClassUtil.findPsiClass(psiManager,className,null,true,scope);
    if (psiClass == null) {
      GlobalSearchScope globalScope=GlobalSearchScope.allScope(project);
      if (!globalScope.equals(scope)) {
        psiClass=ClassUtil.findPsiClass(psiManager,className,null,true,globalScope);
      }
    }
    return psiClass;
  }
 catch (  IndexNotReadyException ignored) {
    return null;
  }
}
