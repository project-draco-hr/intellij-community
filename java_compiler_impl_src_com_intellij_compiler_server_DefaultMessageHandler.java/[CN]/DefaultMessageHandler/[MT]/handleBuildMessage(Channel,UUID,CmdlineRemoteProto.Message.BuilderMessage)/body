{
switch (msg.getType()) {
case BUILD_EVENT:
    final CmdlineRemoteProto.Message.BuilderMessage.BuildEvent event=msg.getBuildEvent();
  if (event.getEventType() == CmdlineRemoteProto.Message.BuilderMessage.BuildEvent.Type.CUSTOM_BUILDER_MESSAGE && event.hasCustomBuilderMessage()) {
    final CmdlineRemoteProto.Message.BuilderMessage.BuildEvent.CustomBuilderMessage message=event.getCustomBuilderMessage();
    if (!myProject.isDisposed()) {
      myProject.getMessageBus().syncPublisher(CustomBuilderMessageHandler.TOPIC).messageReceived(message.getBuilderId(),message.getMessageType(),message.getMessageText());
    }
  }
handleBuildEvent(sessionId,event);
break;
case COMPILE_MESSAGE:
handleCompileMessage(sessionId,msg.getCompileMessage());
break;
case CONSTANT_SEARCH_TASK:
final CmdlineRemoteProto.Message.BuilderMessage.ConstantSearchTask task=msg.getConstantSearchTask();
myTaskExecutor.submit(new Runnable(){
@Override public void run(){
handleConstantSearchTask(channel,sessionId,task);
}
}
);
break;
}
}
