{
  try {
    myContainer.addComponent(getComponent(ArtifactFactory.class,"ide"),ArtifactFactory.ROLE);
    myContainer.addComponent(getComponent(ArtifactResolver.class,"ide"),ArtifactResolver.ROLE);
    myContainer.addComponent(getComponent(RepositoryMetadataManager.class,"ide"),RepositoryMetadataManager.class.getName());
    myContainer.addComponent(getComponent(PluginDescriptorCache.class,"ide"),PluginDescriptorCache.class.getName());
    myContainer.addComponent(getComponent(ModelInterpolator.class,"ide"),ModelInterpolator.class.getName());
    myContainer.addComponent(getComponent(org.apache.maven.project.interpolation.ModelInterpolator.class,"ide"),org.apache.maven.project.interpolation.ModelInterpolator.ROLE);
    ((CustomMaven3ArtifactFactory)getComponent(ArtifactFactory.class)).customize();
    ((CustomMaven3ArtifactResolver)getComponent(ArtifactResolver.class)).customize(workspaceMap,failOnUnresolvedDependency);
    ((CustomMaven3RepositoryMetadataManager)getComponent(RepositoryMetadataManager.class)).customize(workspaceMap);
    myWorkspaceMap=workspaceMap;
    myBuildStartTime=new Date();
    myAlwaysUpdateSnapshots=myAlwaysUpdateSnapshots || alwaysUpdateSnapshots;
    setConsoleAndIndicator(console,new MavenServerProgressIndicatorWrapper(indicator));
  }
 catch (  Exception e) {
    throw rethrowException(e);
  }
}
