{
  if (!(original instanceof StandardProgressIndicator)) {
    throw new IllegalArgumentException("Original indicator " + original + " must be StandardProcessIndicator but got: "+ original.getClass());
  }
  myOriginal=original;
  myCheckCanceledForMe=checkCanceledForMe;
  nested=1 + (original instanceof ProgressWrapper ? ((ProgressWrapper)original).nested : -1);
  ProgressManager.assertNotCircular(original);
}
