{
  if (!PsiUtil.isValidReferenceName(newElementName)) {
    final PsiElement old=getReferenceNameElement();
    if (old == null)     throw new IncorrectOperationException("ref has no name element");
    PsiElement element=GroovyPsiElementFactory.getInstance(getProject()).createStringLiteralForReference(newElementName);
    old.replace(element);
    return this;
  }
  if (PsiUtil.isThisOrSuperRef(this))   return this;
  final GroovyResolveResult result=advancedResolve();
  if (result.isInvokedOnProperty()) {
    final String name=GroovyPropertyUtils.getPropertyNameByAccessorName(newElementName);
    if (name != null) {
      newElementName=name;
    }
  }
  return super.handleElementRename(newElementName);
}
