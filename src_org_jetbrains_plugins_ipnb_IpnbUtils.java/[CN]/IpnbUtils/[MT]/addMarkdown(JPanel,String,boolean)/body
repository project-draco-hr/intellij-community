{
  string=StringUtil.trimStart(string,"```");
  string=StringUtil.trimTrailing(string);
  string=StringUtil.trimEnd(string,"```");
  if (!isEscaped)   string=IpnbUtils.markdown2Html(string);
 else   string="<p>" + string + "</p>";
  final JEditorPane editorPane=new JEditorPane(new HTMLEditorKit().getContentType(),"<html><body style='width: " + IpnbEditorUtil.PANEL_WIDTH + "px'>"+ string+ "</body></html>");
  final Font font=new Font(Font.SERIF,Font.PLAIN,16);
  String bodyRule="body { font-family: " + font.getFamily() + "; "+ "font-size: "+ font.getSize()+ "pt; }";
  ((HTMLDocument)editorPane.getDocument()).getStyleSheet().addRule(bodyRule);
  editorPane.setEditable(false);
  editorPane.addHyperlinkListener(new BrowserHyperlinkListener());
  panel.add(editorPane);
}
