{
  if (isAllowedPluginResource(name)) {
    Set<URL> result=null;
    for (    IdeaPluginDescriptor descriptor : PluginManagerCore.getPlugins()) {
      ClassLoader l=descriptor.getPluginClassLoader();
      Enumeration<URL> urls=l == null ? null : l.getResources(name);
      if (urls == null || !urls.hasMoreElements())       continue;
      if (result == null)       result=ContainerUtil.newLinkedHashSet();
      ContainerUtil.addAll(result,urls);
    }
    if (result != null) {
      return Collections.enumeration(result);
    }
  }
  return getClass().getClassLoader().getResources(name);
}
