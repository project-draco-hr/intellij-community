{
  ExternalProjectsDataStorage.getInstance(myProject).update(externalProject);
  if (externalProject.getExternalProjectStructure() != null) {
    final ProjectData projectData=externalProject.getExternalProjectStructure().getData();
    ExternalSystemUtil.scheduleExternalViewStructureUpdate(myProject,projectData.getOwner());
    Collection<DataNode<TaskData>> taskData=ExternalSystemApiUtil.findAllRecursively(externalProject.getExternalProjectStructure(),TASK);
    myShortcutsManager.scheduleKeymapUpdate(taskData);
    myShortcutsManager.scheduleRunConfigurationKeymapUpdate(projectData.getOwner());
  }
}
