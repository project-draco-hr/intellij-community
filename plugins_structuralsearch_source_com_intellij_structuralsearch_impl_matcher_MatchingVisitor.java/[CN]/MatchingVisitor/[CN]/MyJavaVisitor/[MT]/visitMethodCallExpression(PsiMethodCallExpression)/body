{
  final PsiMethodCallExpression mcall2=(PsiMethodCallExpression)element;
  final PsiReferenceExpression mcallRef1=mcall.getMethodExpression();
  final PsiReferenceExpression mcallRef2=mcall2.getMethodExpression();
  final String mcallname1=mcallRef1.getReferenceName();
  final String mcallname2=mcallRef2.getReferenceName();
  boolean isTypedVar=matchContext.getPattern().isTypedVar(mcallRef1.getReferenceNameElement());
  if (mcallname1 != null && !mcallname1.equals(mcallname2) && !isTypedVar) {
    result=false;
    return;
  }
  final PsiExpression qualifier=mcallRef1.getQualifierExpression();
  final PsiExpression elementQualfier=mcallRef2.getQualifierExpression();
  if (qualifier != null) {
    if (elementQualfier != null) {
      result=match(qualifier,elementQualfier);
      if (!result)       return;
    }
 else {
      MatchingHandler handler=matchContext.getPattern().getHandler(qualifier);
      if (!(handler instanceof SubstitutionHandler) || ((SubstitutionHandler)handler).getMinOccurs() != 0) {
        result=false;
        return;
      }
 else {
        SubstitutionHandler substitutionHandler=(SubstitutionHandler)handler;
        if (substitutionHandler.getPredicate() != null) {
          boolean isnot=false;
          MatchPredicate _predicate=substitutionHandler.getPredicate();
          ExprTypePredicate predicate=null;
          if (_predicate instanceof NotPredicate) {
            isnot=true;
            _predicate=((NotPredicate)_predicate).getHandler();
          }
          if (_predicate instanceof ExprTypePredicate) {
            predicate=(ExprTypePredicate)_predicate;
          }
          if (predicate != null) {
            PsiMethod method=(PsiMethod)mcallRef2.resolve();
            if (method != null) {
              result=predicate.checkClass(method.getContainingClass(),matchContext);
              if (isnot)               result=!result;
            }
 else {
              result=false;
            }
            if (!result)             return;
          }
        }
      }
    }
  }
 else   if (elementQualfier != null) {
    result=false;
    return;
  }
  result=matchSons(mcall.getArgumentList(),mcall2.getArgumentList());
  if (result && isTypedVar) {
    result&=handleTypedElement(mcallRef1.getReferenceNameElement(),mcallRef2.getReferenceNameElement());
  }
}
