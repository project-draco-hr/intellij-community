{
  PsiElement comment2=null;
  if (!(element instanceof PsiComment)) {
    if (element instanceof PsiMember) {
      final PsiElement[] children=element.getChildren();
      if (children[0] instanceof PsiComment) {
        comment2=children[0];
      }
    }
  }
 else {
    comment2=element;
  }
  if (comment2 == null) {
    result=false;
    return;
  }
  final Object userData=comment.getUserData(CompiledPattern.HANDLER_KEY);
  if (userData instanceof String) {
    String str=(String)userData;
    int end=comment2.getTextLength();
    if (((PsiComment)comment2).getTokenType() == JavaTokenType.C_STYLE_COMMENT) {
      end-=2;
    }
    result=((SubstitutionHandler)matchContext.getPattern().getHandler(str)).handle(comment2,2,end,matchContext);
  }
 else   if (userData instanceof Handler) {
    result=((Handler)userData).match(comment,comment2,matchContext);
  }
 else {
    result=comment.getText().equals(comment2.getText());
  }
}
