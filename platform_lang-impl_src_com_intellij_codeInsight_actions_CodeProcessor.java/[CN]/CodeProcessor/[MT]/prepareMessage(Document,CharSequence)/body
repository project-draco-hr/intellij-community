{
  int totalLinesProcessed=getProcessedLinesNumber(document,textBeforeChange);
  String linesInfo="";
  if (totalLinesProcessed >= 0) {
    linesInfo="Changed " + totalLinesProcessed + " lines";
  }
  String scopeInfo=myProcessingType == VCS_CHANGED_TEXT ? ", processed only changed lines since last revision" : null;
  String actionsInfo="Performed: formatting";
  if (myShouldOptimizeImports) {
    actionsInfo+=", import optimization";
  }
  if (myShouldRearrangeCode) {
    actionsInfo+=" and code rearrangement";
  }
  String shortcutInfo="Show reformat dialog: " + KeymapUtil.getFirstKeyboardShortcutText(ActionManager.getInstance().getAction("ReformatFile"));
  String info=linesInfo;
  if (scopeInfo != null) {
    info+=scopeInfo;
  }
  info+="\n";
  info+=actionsInfo + "\n";
  info+=shortcutInfo;
  return info;
}
