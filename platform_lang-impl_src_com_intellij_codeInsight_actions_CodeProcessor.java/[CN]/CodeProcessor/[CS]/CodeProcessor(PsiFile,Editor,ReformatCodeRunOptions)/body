{
  myFile=file;
  myProject=file.getProject();
  myEditor=editor;
  myProcessingType=reformatCodeRunOptions.getTextRangeType();
  myShouldOptimizeImports=reformatCodeRunOptions.isOptimizeImports();
  myShouldRearrangeCode=reformatCodeRunOptions.isRearrangeCode();
  myProcessSelectedText=reformatCodeRunOptions.getTextRangeType() == SELECTED_TEXT;
  myProcessChangesTextOnly=reformatCodeRunOptions.getTextRangeType() == VCS_CHANGED_TEXT;
  myShouldNotify=editor != null && !myProcessSelectedText;
}
