{
  Course course=StudyTaskManager.getInstance(project).getCourse();
  if (course == null) {
    return;
  }
  StudyState studyState=new StudyState(StudyUtils.getSelectedStudyEditor(project));
  if (!studyState.isValid()) {
    return;
  }
  PsiFile file=PsiManager.getInstance(project).findFile(studyState.getVirtualFile());
  final Editor editor=studyState.getEditor();
  int offset=editor.getCaretModel().getOffset();
  AnswerPlaceholder answerPlaceholder=studyState.getTaskFile().getAnswerPlaceholder(offset);
  if (file == null) {
    return;
  }
  EduUsagesCollector.hintShown();
  final StudyToolWindow hintComponent=new StudyHint(answerPlaceholder,project).getStudyToolWindow();
  hintComponent.setPreferredSize(new Dimension(400,150));
  showHintPopUp(project,studyState,editor,hintComponent);
}
