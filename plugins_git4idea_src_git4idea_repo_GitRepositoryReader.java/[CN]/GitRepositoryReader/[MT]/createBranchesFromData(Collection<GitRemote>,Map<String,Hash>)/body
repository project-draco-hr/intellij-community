{
  Map<GitLocalBranch,Hash> localBranches=ContainerUtil.newHashMap();
  Map<GitRemoteBranch,Hash> remoteBranches=ContainerUtil.newHashMap();
  for (  Map.Entry<String,Hash> entry : data.entrySet()) {
    String refName=entry.getKey();
    Hash hash=entry.getValue();
    if (refName.startsWith(REFS_HEADS_PREFIX)) {
      localBranches.put(new GitLocalBranch(refName),hash);
    }
 else     if (refName.startsWith(REFS_REMOTES_PREFIX)) {
      GitRemoteBranch remoteBranch=parseRemoteBranch(refName,remotes);
      if (remoteBranch != null) {
        remoteBranches.put(remoteBranch,hash);
      }
    }
 else {
      LOG.warn("Unexpected ref format: " + refName);
    }
  }
  return Pair.create(localBranches,remoteBranches);
}
