{
  String[] dirs={PathManager.getBinPath(),PathManager.getHomePath() + "/community/bin/win",PathManager.getBinPath() + "/win"};
  File listtasks=null;
  for (  String each : dirs) {
    listtasks=new File(each,"listtasks.exe");
  }
  if (!listtasks.exists()) {
    LOG.error("listtasks.exe not found in bin folders");
    return ProcessInfo.EMPTY_ARRAY;
  }
  try {
    String[] command={listtasks.getCanonicalPath()};
    Process p=ProcessUtils.createProcess(command,null,null);
    try {
      return parseListTasks(p.getInputStream());
    }
  finally {
      p.destroy();
    }
  }
 catch (  IOException ignored) {
  }
  return ProcessInfo.EMPTY_ARRAY;
}
