{
  final JRootPane rootPane=getRootPane();
  myScreen=new FlatWelcomeScreen();
  final IdeGlassPaneImpl glassPane=new IdeGlassPaneImpl(rootPane){
    @Override public void addNotify(){
      super.addNotify();
      rootPane.remove(getProxyComponent());
    }
  }
;
  setGlassPane(glassPane);
  glassPane.setVisible(false);
  setContentPane(myScreen.getWelcomePanel());
  setTitle("Welcome to " + ApplicationNamesInfo.getInstance().getFullProductName());
  AppUIUtil.updateWindowIcon(this);
  Rectangle bounds=ScreenUtil.getMainScreenBounds();
  if (RecentProjectsManager.getInstance().getRecentProjectsActions(false).length > 0) {
    setSize(666,450);
  }
 else {
    setSize(555,450);
  }
  int x=bounds.x + (bounds.width - getWidth()) / 2;
  int y=bounds.y + (bounds.height - getHeight()) / 2;
  setLocation(x,y);
  ProjectManager.getInstance().addProjectManagerListener(new ProjectManagerAdapter(){
    @Override public void projectOpened(    Project project){
      dispose();
    }
  }
);
  myBalloonLayout=new BalloonLayoutImpl(rootPane,new Insets(8,8,8,8));
  setupCloseAction();
  new MnemonicHelper().register(this);
  Disposer.register(ApplicationManager.getApplication(),new Disposable(){
    @Override public void dispose(){
      FlatWelcomeFrame.this.dispose();
    }
  }
);
}
