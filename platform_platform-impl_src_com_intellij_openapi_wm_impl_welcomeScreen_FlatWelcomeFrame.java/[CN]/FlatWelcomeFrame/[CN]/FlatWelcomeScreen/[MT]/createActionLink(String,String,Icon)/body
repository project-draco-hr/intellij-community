{
  final Ref<ActionLink> settings=new Ref<ActionLink>(null);
  AnAction action=new AnAction(){
    @Override public void actionPerformed(    @NotNull AnActionEvent e){
      ActionGroup configureGroup=(ActionGroup)ActionManager.getInstance().getAction(groupId);
      JBPopupFactory.getInstance().createActionGroupPopup(text,new IconsFreeActionGroup(configureGroup),e.getDataContext(),false,false,false,null,10,null).showUnderneathOf(settings.get());
    }
  }
;
  settings.set(new ActionLink(text,icon,action));
  settings.get().setPaintUnderline(false);
  installFocusable(settings.get(),action,KeyEvent.VK_UP,KeyEvent.VK_DOWN,!Arrays.asList("Get Help","Register").contains(text));
  NonOpaquePanel panel=new NonOpaquePanel();
  panel.setBorder(new EmptyBorder(0,20,2,0));
  panel.add(settings.get());
  return panel;
}
