{
  myInterpreterList=PyConfigurableInterpreterList.getInstance(myProject);
  myInterpreterList.setSdkCombo(mySdkCombo);
  myProjectSdksModel=myInterpreterList.getModel();
  myListener=new MyListener(this);
  myProjectSdksModel.addListener(myListener);
  mySdkCombo.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      final Sdk selectedSdk=(Sdk)mySdkCombo.getSelectedItem();
      if (selectedSdk != null)       myPackagesPanel.updatePackages(new PyPackageManagementService(myProject,selectedSdk));
    }
  }
);
  myDetailsCallback=new NullableConsumer<Sdk>(){
    @Override public void consume(    @Nullable Sdk sdk){
      if (getSdk() != sdk) {
        mySdkCombo.setSelectedItem(sdk);
      }
    }
  }
;
  myDetailsButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      PythonSdkDetailsStep.show(myProject,myProjectSdksModel.getSdks(),myModule == null ? new PythonSdkDetailsDialog(myProject,myDetailsCallback) : new PythonSdkDetailsDialog(myModule,myDetailsCallback),RelativePoint.fromScreen(myDetailsButton.getLocationOnScreen()),true,new NullableConsumer<Sdk>(){
        @Override public void consume(        Sdk sdk){
          if (sdk == null)           return;
          if (myProjectSdksModel.findSdk(sdk) == null) {
            myProjectSdksModel.addSdk(sdk);
            myAddedSdk=sdk;
          }
          updateSdkList(false);
          mySdkCombo.getModel().setSelectedItem(sdk);
          myPackagesPanel.updatePackages(new PyPackageManagementService(myProject,sdk));
        }
      }
);
    }
  }
);
}
