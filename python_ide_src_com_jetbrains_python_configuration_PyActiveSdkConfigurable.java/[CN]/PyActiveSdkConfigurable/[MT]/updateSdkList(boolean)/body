{
  final List<Sdk> sdkList=myInterpreterList.getAllPythonSdks();
  Sdk selection=preserveSelection ? (Sdk)mySdkCombo.getSelectedItem() : null;
  if (!sdkList.contains(selection)) {
    selection=null;
  }
  VirtualEnvProjectFilter.removeNotMatching(myProject,sdkList);
  if (selection != null && !sdkList.contains(selection)) {
    sdkList.add(0,selection);
  }
  sdkList.add(0,null);
  mySdkCombo.setRenderer(new PySdkListCellRenderer());
  mySdkCombo.setModel(new CollectionComboBoxModel(sdkList,selection));
}
