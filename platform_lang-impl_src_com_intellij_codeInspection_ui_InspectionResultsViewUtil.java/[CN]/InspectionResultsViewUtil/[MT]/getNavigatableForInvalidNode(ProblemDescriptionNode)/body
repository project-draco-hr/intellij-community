{
  RefEntity element=node.getElement();
  while (element != null && !element.isValid()) {
    element=element.getOwner();
  }
  if (!(element instanceof RefElement))   return null;
  PsiElement containingElement=((RefElement)element).getElement();
  if (!(containingElement instanceof NavigatablePsiElement) || !containingElement.isValid())   return null;
  return (Navigatable)containingElement;
}
