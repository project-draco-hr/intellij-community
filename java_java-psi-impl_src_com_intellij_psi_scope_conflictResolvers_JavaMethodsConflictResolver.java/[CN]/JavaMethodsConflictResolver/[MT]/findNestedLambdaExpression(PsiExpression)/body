{
  if (expression instanceof PsiLambdaExpression) {
    return (PsiLambdaExpression)expression;
  }
 else   if (expression instanceof PsiParenthesizedExpression) {
    return findNestedLambdaExpression(((PsiParenthesizedExpression)expression).getExpression());
  }
 else   if (expression instanceof PsiConditionalExpression) {
    PsiLambdaExpression lambdaExpression=findNestedLambdaExpression(((PsiConditionalExpression)expression).getThenExpression());
    if (lambdaExpression != null) {
      return lambdaExpression;
    }
    return findNestedLambdaExpression(((PsiConditionalExpression)expression).getElseExpression());
  }
  return null;
}
