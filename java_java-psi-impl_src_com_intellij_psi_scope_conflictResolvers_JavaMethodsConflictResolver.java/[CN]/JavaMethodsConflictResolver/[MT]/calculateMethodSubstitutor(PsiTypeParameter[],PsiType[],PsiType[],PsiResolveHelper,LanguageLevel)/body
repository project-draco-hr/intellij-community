{
  PsiSubstitutor substitutor=resolveHelper.inferTypeArguments(typeParameters,types1,types2,languageLevel);
  for (  PsiTypeParameter typeParameter : typeParameters) {
    ProgressManager.checkCanceled();
    LOG.assertTrue(typeParameter != null);
    if (!substitutor.getSubstitutionMap().containsKey(typeParameter)) {
      substitutor=substitutor.put(typeParameter,TypeConversionUtil.typeParameterErasure(typeParameter));
    }
  }
  return substitutor;
}
