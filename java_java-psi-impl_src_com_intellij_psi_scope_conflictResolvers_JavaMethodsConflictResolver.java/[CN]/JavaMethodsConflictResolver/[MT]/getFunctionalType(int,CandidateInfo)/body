{
  final PsiMethod psiMethod=(PsiMethod)candidateInfo.getElement();
  LOG.assertTrue(psiMethod != null);
  final PsiParameter[] methodParameters=psiMethod.getParameterList().getParameters();
  if (methodParameters.length == 0)   return null;
  final PsiParameter param=functionalTypeIdx < methodParameters.length ? methodParameters[functionalTypeIdx] : methodParameters[methodParameters.length - 1];
  return ((MethodCandidateInfo)candidateInfo).getSiteSubstitutor().substitute(param.getType());
}
