{
  PsiElement target=targetStatement;
  if (targetStatement instanceof PsiDeclarationStatement) {
    for (    PsiElement element : ((PsiDeclarationStatement)targetStatement).getDeclaredElements())     if (element instanceof PsiLocalVariable)     target=element;
  }
  PsiElement node=statementToRemove.getExpression();
  while ((node=node.getNextSibling()) != null) {
    target.addBefore(node.copy(),null);
    if (node instanceof PsiJavaToken && target instanceof PsiLocalVariable) {
      if (((PsiJavaToken)node).getTokenType() == JavaTokenType.SEMICOLON)       target=target.getParent();
    }
  }
  statementToRemove.delete();
}
