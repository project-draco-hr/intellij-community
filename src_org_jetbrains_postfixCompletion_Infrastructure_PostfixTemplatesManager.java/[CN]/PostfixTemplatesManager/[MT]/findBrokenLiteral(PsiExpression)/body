{
  if (expr == null)   return null;
  PsiExpression expression=expr;
  do {
    if (expression instanceof PsiLiteralExpression) {
      PsiJavaToken token=PsiTreeUtil.getChildOfType(expression,PsiJavaToken.class);
      if (token != null) {
        IElementType tokenType=token.getTokenType();
        if (tokenType == JavaTokenType.DOUBLE_LITERAL || tokenType == JavaTokenType.FLOAT_LITERAL) {
          if (token.getText().matches("^.*?\\.\\D*$")) {
            return (PsiLiteralExpression)expression;
          }
        }
      }
    }
    PsiElement last=expression.getLastChild();
    if (last instanceof PsiExpression)     expression=(PsiExpression)last;
 else     expression=PsiTreeUtil.getPrevSiblingOfType(last,PsiExpression.class);
  }
 while (expression != null);
  return null;
}
