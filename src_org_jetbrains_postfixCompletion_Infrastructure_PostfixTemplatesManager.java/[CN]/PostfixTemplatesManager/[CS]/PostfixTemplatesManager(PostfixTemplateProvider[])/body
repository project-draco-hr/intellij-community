{
  List<TemplateProviderInfo> providerInfos=new ArrayList<TemplateProviderInfo>();
  for (  PostfixTemplateProvider provider : providers) {
    TemplateProvider annotation=provider.getClass().getAnnotation(TemplateProvider.class);
    if (annotation != null) {
      providerInfos.add(new TemplateProviderInfo(provider,annotation));
    }
  }
  myProviders=Collections.unmodifiableList(providerInfos);
  ActionManager actionManager=ActionManager.getInstance();
  AnAction expandLiveTemplate=actionManager.getAction("ExpandLiveTemplateByTab");
  if (expandLiveTemplate instanceof ExpandLiveTemplateByTabAction) {
    EditorAction expandAction=(EditorAction)expandLiveTemplate;
    EditorActionHandler existingHandler=expandAction.getHandler();
    expandAction.setupHandler(new ExpandPostfixEditorActionHandler(existingHandler,this));
  }
}
