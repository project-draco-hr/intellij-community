{
  final File helperFile=PythonHelpersLocator.getHelperFile(name + ".tar.gz");
  String helpersPath=getHelperPath(name);
  ProcessOutput output=getHelperOutput(PACKAGING_TOOL,Lists.newArrayList("untar",helpersPath),false,helperFile.getParent());
  if (output.getExitCode() != 0) {
    throw new PyExternalProcessException(output.getExitCode(),PACKAGING_TOOL,Lists.newArrayList("untar"),output.getStderr());
  }
  final String dirName=output.getStdout().trim();
  final String fileName=dirName + File.separatorChar + name+ File.separatorChar+ "setup.py";
  final File setupFile=new File(fileName);
  name=setupFile.getAbsolutePath();
  try {
    output=getProcessOutput(setupFile.getAbsolutePath(),Collections.<String>singletonList("install"),true,setupFile.getParent());
    final int retcode=output.getExitCode();
    if (output.isTimeout()) {
      throw new PyExternalProcessException(ERROR_TIMEOUT,name,Lists.newArrayList("install"),"Timed out");
    }
 else     if (retcode != 0) {
      final String stdout=output.getStdout();
      String message=output.getStderr();
      if (message.trim().isEmpty()) {
        message=stdout;
      }
      throw new PyExternalProcessException(retcode,name,Lists.newArrayList("install"),message);
    }
  }
  finally {
    FileUtil.delete(new File(dirName));
  }
}
