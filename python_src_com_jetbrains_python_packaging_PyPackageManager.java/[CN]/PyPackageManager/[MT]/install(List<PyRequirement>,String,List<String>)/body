{
  final List<String> args=new ArrayList<String>();
  args.add("install");
  if (url != null) {
    args.add("--extra-index-url");
    args.add(url);
  }
  final File buildDir;
  try {
    buildDir=FileUtil.createTempDirectory("packaging",null);
  }
 catch (  IOException e) {
    throw new PyExternalProcessException(ERROR_ACCESS_DENIED,PACKAGING_TOOL,args,"Cannot create temporary build directory");
  }
  args.addAll(list("--build-dir",buildDir.getAbsolutePath()));
  for (  PyRequirement req : requirements) {
    args.add(req.toString());
  }
  if (options != null) {
    args.addAll(options);
  }
  try {
    runPythonHelper(PACKAGING_TOOL,args);
  }
  finally {
    myPackagesCache=null;
    FileUtil.delete(buildDir);
  }
}
