{
  if (mySdk.getSdkAdditionalData() instanceof PythonRemoteSdkAdditionalData) {
    PythonRemoteInterpreterManager manager=PythonRemoteInterpreterManager.getInstance();
    if (manager != null) {
      PythonRemoteSdkAdditionalData data=(PythonRemoteSdkAdditionalData)mySdk.getSdkAdditionalData();
      final List<String> cmdline=new ArrayList<String>();
      cmdline.add(mySdk.getHomePath());
      cmdline.add(new File(data.getPyCharmTempFilesPath(),helper).getPath());
      cmdline.addAll(args);
      return manager.runRemoteProcess(null,data,ArrayUtil.toStringArray(cmdline));
    }
 else {
      throw new PyExternalProcessException(ERROR_INVALID_SDK,"Remote interpreter can't be executed. Please enable WebDeployment plugin.");
    }
  }
 else {
    final String homePath=mySdk.getHomePath();
    if (homePath == null) {
      throw new PyExternalProcessException(ERROR_INVALID_SDK,"Cannot find interpreter for SDK");
    }
    final String helperPath=PythonHelpersLocator.getHelperPath(helper);
    if (helperPath == null) {
      throw new PyExternalProcessException(ERROR_HELPER_NOT_FOUND,String.format("Cannot find helper tool: '%s'",helper));
    }
    final String parentDir=new File(homePath).getParent();
    final List<String> cmdline=new ArrayList<String>();
    cmdline.add(homePath);
    cmdline.add(helperPath);
    cmdline.addAll(args);
    return PySdkUtil.getProcessOutput(parentDir,ArrayUtil.toStringArray(cmdline),TIMEOUT);
  }
}
