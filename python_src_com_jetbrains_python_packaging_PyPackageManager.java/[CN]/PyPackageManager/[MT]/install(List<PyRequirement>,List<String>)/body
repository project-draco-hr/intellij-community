{
  final List<String> args=new ArrayList<String>();
  args.add("install");
  final File buildDir;
  try {
    buildDir=FileUtil.createTempDirectory("packaging",null);
  }
 catch (  IOException e) {
    throw new PyExternalProcessException(ERROR_ACCESS_DENIED,PACKAGING_TOOL,args,"Cannot create temporary build directory");
  }
  if (!extraArgs.contains(BUILD_DIR_OPTION)) {
    args.addAll(list(BUILD_DIR_OPTION,buildDir.getAbsolutePath()));
  }
  args.addAll(extraArgs);
  for (  PyRequirement req : requirements) {
    args.addAll(req.toOptions());
  }
  try {
    runPythonHelper(PACKAGING_TOOL,args);
  }
  finally {
    clearCaches();
    FileUtil.delete(buildDir);
  }
}
