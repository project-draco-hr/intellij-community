{
  Icon icon=TypePresentationService.getService().getIcon(vFile);
  if (icon != null) {
    return icon;
  }
  FileType fileType=vFile.getFileType();
  if (vFile.isDirectory() && vFile.isInLocalFileSystem() && !(fileType instanceof DirectoryFileType)) {
    return PlatformIcons.FOLDER_ICON;
  }
  return fileType.getIcon();
}
