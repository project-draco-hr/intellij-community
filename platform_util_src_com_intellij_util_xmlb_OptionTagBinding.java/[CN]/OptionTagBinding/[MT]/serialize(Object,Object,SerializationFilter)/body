{
  Element targetElement=new Element(myTagName);
  Object value=accessor.read(o);
  if (!StringUtil.isEmpty(myNameAttribute)) {
    targetElement.setAttribute(myNameAttribute,myName);
  }
  if (value == null)   return targetElement;
  Object node=myBinding.serialize(value,targetElement,filter);
  if (node instanceof Text) {
    Text text=(Text)node;
    targetElement.setAttribute(myValueAttribute,text.getText());
  }
 else {
    if (targetElement != node) {
      JDOMUtil.addContent(targetElement,node);
    }
  }
  return targetElement;
}
