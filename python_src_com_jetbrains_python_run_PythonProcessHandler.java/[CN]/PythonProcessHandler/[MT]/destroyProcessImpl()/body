{
  super.destroyProcessImpl();
  if (SystemInfo.isUnix) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        long millis=System.currentTimeMillis();
        while (true) {
          try {
            getProcess().exitValue();
            return;
          }
 catch (          IllegalThreadStateException e) {
            if (System.currentTimeMillis() - millis > 5000L) {
              if (Messages.showYesNoDialog("Do you want to terminate the process?","Process is not responding",null) == 0) {
                UnixProcessManager.sendSigKillToProcessTree(getProcess());
                return;
              }
 else {
                return;
              }
            }
          }
          try {
synchronized (this) {
              wait(2000L);
            }
          }
 catch (          InterruptedException ignore) {
          }
        }
      }
    }
);
  }
}
