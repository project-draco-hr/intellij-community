{
  myProject=project;
  myHints=hints;
  myProcessor=new MyCacheDiffRequestChainProcessor(project,requestChain);
  myWrapper=new WindowWrapperBuilder(DiffUtil.getWindowMode(hints),myProcessor.getComponent()).setProject(project).setParent(hints.getParent()).setDimensionServiceKey("DiffContextDialog").setOnShowCallback(new Runnable(){
    @Override public void run(){
      myProcessor.updateRequest();
      myProcessor.requestFocus();
    }
  }
).build();
  myWrapper.setImage(ImageLoader.loadFromResource("/diff/Diff.png"));
  Disposer.register(myWrapper,myProcessor);
}
