{
  CodeStyleSettings settings=CodeStyleSettingsManager.getSettings(getProject());
  final Element root=new Element("fake");
  settings.writeExternal(root);
  try {
    settings.getIndentOptions(StdFileTypes.JAVA).USE_TAB_CHARACTER=true;
    settings.getIndentOptions(StdFileTypes.JAVA).SMART_TABS=true;
    settings.IF_BRACE_FORCE=CommonCodeStyleSettings.FORCE_BRACES_ALWAYS;
    settings.METHOD_BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE;
    doTest();
  }
  finally {
    settings.readExternal(root);
  }
}
