{
  CodeStyleSettings settings=CodeStyleSettingsManager.getSettings(getProject());
  boolean use_tab_character=settings.useTabCharacter(null);
  boolean smart_tabs=settings.isSmartTabs(null);
  try {
    settings.getIndentOptions(StdFileTypes.JAVA).USE_TAB_CHARACTER=true;
    settings.getIndentOptions(StdFileTypes.JAVA).SMART_TABS=true;
    doTest();
  }
  finally {
    settings.getIndentOptions(StdFileTypes.JAVA).USE_TAB_CHARACTER=use_tab_character;
    settings.getIndentOptions(StdFileTypes.JAVA).SMART_TABS=smart_tabs;
  }
}
