{
  HgStatusCommand statCommand=new HgStatusCommand.Builder(false).copySource(true).baseRevision(vcsRevisionNumber).build(project);
  Set<HgChange> changes=statCommand.executeInCurrentThread(localHgFile.getRepo(),Collections.singletonList(localHgFile.toFilePath()));
  for (  HgChange change : changes) {
    if (change.afterFile().equals(localHgFile)) {
      return change.beforeFile();
    }
  }
  return localHgFile;
}
