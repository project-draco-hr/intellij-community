{
  final _RegExLexer flex=getFlex();
  int state=super.getState();
  if (flex.commentMode) {
    state|=COMMENT_MODE;
  }
  if (!flex.states.isEmpty()) {
    state|=NESTED_STATES;
  }
  if (flex.capturingGroupCount != 0) {
    state|=CAPTURING_GROUPS;
  }
  return state;
}
