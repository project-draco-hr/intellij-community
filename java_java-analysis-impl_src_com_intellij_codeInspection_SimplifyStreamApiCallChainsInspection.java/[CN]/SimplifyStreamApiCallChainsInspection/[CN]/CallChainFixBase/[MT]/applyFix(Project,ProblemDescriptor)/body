{
  final PsiElement element=descriptor.getStartElement();
  if (element instanceof PsiMethodCallExpression) {
    if (!FileModificationService.getInstance().preparePsiElementForWrite(element.getContainingFile()))     return;
    final PsiMethodCallExpression expression=(PsiMethodCallExpression)element;
    final PsiExpression forEachMethodQualifier=expression.getMethodExpression().getQualifierExpression();
    if (forEachMethodQualifier instanceof PsiMethodCallExpression) {
      final PsiMethodCallExpression previousExpression=(PsiMethodCallExpression)forEachMethodQualifier;
      final PsiExpression qualifierExpression=previousExpression.getMethodExpression().getQualifierExpression();
      replaceMethodCall(expression,previousExpression,qualifierExpression);
    }
  }
}
