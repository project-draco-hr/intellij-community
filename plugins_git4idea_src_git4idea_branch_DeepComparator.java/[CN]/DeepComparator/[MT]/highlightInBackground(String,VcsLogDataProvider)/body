{
  if (myTask != null) {
    LOG.error("Shouldn't be possible");
    return;
  }
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      Map<GitRepository,GitBranch> repositories=getRepositories(myUi.getDataPack().getLogProviders(),branchToCompare);
      if (repositories.isEmpty()) {
        return;
      }
      myTask=new MyTask(myProject,myUi,repositories,dataProvider,branchToCompare);
      myTask.queue();
    }
  }
);
}
