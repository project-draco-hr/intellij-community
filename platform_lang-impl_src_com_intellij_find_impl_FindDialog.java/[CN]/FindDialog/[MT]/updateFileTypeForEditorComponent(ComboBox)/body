{
  final Component editorComponent=inputComboBox.getEditor().getEditorComponent();
  if (editorComponent instanceof EditorTextField) {
    boolean isRegexp=myCbRegularExpressions.isSelectedWhenSelectable();
    FileType fileType=isRegexp ? RegExpFileType.INSTANCE : PlainTextFileType.INSTANCE;
    String fileName=isRegexp ? "a.regexp" : "a.txt";
    final PsiFile file=PsiFileFactory.getInstance(myProject).createFileFromText(fileName,fileType,((EditorTextField)editorComponent).getText(),-1,true);
    ((EditorTextField)editorComponent).setNewDocumentAndFileType(fileType,PsiDocumentManager.getInstance(myProject).getDocument(file));
  }
}
