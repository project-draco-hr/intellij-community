{
  int stack=0;
  for (int i=ref.length() - 1; i >= 0; i--) {
    char c=ref.charAt(i);
switch (c) {
case '<':
      stack--;
    break;
case '>':
  stack++;
break;
case '.':
if (stack == 0) return ref.substring(0,i);
}
}
return "";
}
