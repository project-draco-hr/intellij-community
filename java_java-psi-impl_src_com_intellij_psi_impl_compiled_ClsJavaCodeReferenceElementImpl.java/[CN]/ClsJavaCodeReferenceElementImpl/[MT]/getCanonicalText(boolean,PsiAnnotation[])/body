{
  String text=getCanonicalText();
  if (!annotated || annotations == null)   return text;
  StringBuilder sb=new StringBuilder();
  String prefix=getOuterClassRef(text);
  int tailStart=0;
  if (!StringUtil.isEmpty(prefix)) {
    sb.append(prefix).append('.');
    tailStart=prefix.length() + 1;
  }
  PsiNameHelper.appendAnnotations(sb,Arrays.asList(annotations),true);
  sb.append(text,tailStart,text.length());
  return sb.toString();
}
