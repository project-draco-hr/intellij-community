{
  if (!myValidationResultValid) {
    myLastValidationResult=null;
    RunnerAndConfigurationSettings snapshot=null;
    try {
      snapshot=getSnapshot();
      if (snapshot != null) {
        snapshot.setName(getNameText());
        snapshot.checkSettings(myExecutor);
        for (        ProgramRunner runner : RunnerRegistry.getInstance().getRegisteredRunners()) {
          for (          Executor executor : ExecutorRegistry.getInstance().getRegisteredExecutors()) {
            if (runner.canRun(executor.getId(),snapshot.getConfiguration())) {
              checkConfiguration(runner,snapshot);
              break;
            }
          }
        }
      }
    }
 catch (    RuntimeConfigurationException exception) {
      final Runnable quickFix=exception.getQuickFix();
      Runnable resultQuickFix;
      if (quickFix != null && snapshot != null) {
        final RunnerAndConfigurationSettings fixedSettings=snapshot;
        resultQuickFix=new Runnable(){
          @Override public void run(){
            quickFix.run();
            getEditor().resetFrom(fixedSettings);
          }
        }
;
      }
 else {
        resultQuickFix=quickFix;
      }
      myLastValidationResult=new ValidationResult(exception.getLocalizedMessage(),exception.getTitle(),resultQuickFix);
    }
catch (    ConfigurationException e) {
      myLastValidationResult=new ValidationResult(e.getLocalizedMessage(),ExecutionBundle.message("invalid.data.dialog.title"),null);
    }
    myValidationResultValid=true;
  }
  return myLastValidationResult;
}
