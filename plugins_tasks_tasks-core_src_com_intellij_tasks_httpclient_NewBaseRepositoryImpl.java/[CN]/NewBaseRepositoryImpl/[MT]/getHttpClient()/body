{
  HttpClientBuilder builder=HttpClients.custom().setDefaultRequestConfig(createRequestConfig()).setDefaultCredentialsProvider(createCredentialsProvider());
  HttpRequestInterceptor interceptor=createRequestInterceptor();
  if (interceptor != null) {
    builder=builder.addInterceptorLast(interceptor);
  }
  return builder.build();
}
