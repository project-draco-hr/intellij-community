{
  Value expressionValue=node.getParent().getDescriptor().getUserData(EXPRESSION_VALUE);
  if (expressionValue == null) {
    throw EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("error.unable.to.evaluate.expression"));
  }
  NodeRenderer childrenRenderer=getChildrenRenderer(expressionValue,(ValueDescriptor)node.getParent().getDescriptor());
  PsiExpression childrenPsiExpression=myChildrenExpression.getPsiExpression(node.getProject());
  if (childrenPsiExpression == null) {
    return null;
  }
  return DebuggerTreeNodeExpression.substituteThis(childrenRenderer.getChildValueExpression(node,context),(PsiExpression)childrenPsiExpression.copy(),expressionValue);
}
