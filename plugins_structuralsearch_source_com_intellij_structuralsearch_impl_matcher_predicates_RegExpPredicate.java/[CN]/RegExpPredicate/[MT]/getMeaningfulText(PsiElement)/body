{
  String text;
  if (matchedNode instanceof PsiReferenceExpression && ((PsiReferenceExpression)matchedNode).getQualifierExpression() != null) {
    text=((PsiReferenceExpression)matchedNode).getReferenceNameElement().getText();
  }
 else   if (matchedNode instanceof PsiLiteralExpression) {
    text=matchedNode.getText();
  }
 else   if (matchedNode instanceof XmlAttributeValue) {
    text=matchedNode.getText();
  }
 else {
    text=SubstitutionHandler.getTypedVarString(matchedNode);
  }
  return text;
}
