{
  try {
    @NonNls String realRegexp=regexp;
    if (wholeWords) {
      realRegexp=".*?\\b(?:" + realRegexp + ")\\b.*?";
    }
    pattern=Pattern.compile(realRegexp,(caseSensitive ? 0 : Pattern.CASE_INSENSITIVE) | (multiline ? Pattern.DOTALL : 0));
  }
 catch (  PatternSyntaxException ex) {
    throw new MalformedPatternException(SSRBundle.message("error.incorrect.regexp.constraint",regexp,baseHandlerName));
  }
}
