{
  int i=in.indexOf(SEPARATOR);
  List<GraphCommit> commits=SimpleCommitListParser.parseCommitList(in.substring(0,i));
  GraphFlags flags=new GraphFlags(commits.size());
  PermanentGraph graph=PermanentGraphBuilder.build(flags.getSimpleNodeFlags(),commits).first;
  ContainingBranchesGetter containingBranchesGetter=new ContainingBranchesGetter(graph,parseBranchNodeIndex(in.substring(i + SEPARATOR.length())),new DfsUtil(1000),new GraphFlags(graph.nodesCount()).getTempFlags());
  assertEquals(out,containingBranchesGetterToStr(containingBranchesGetter,graph.nodesCount()));
}
