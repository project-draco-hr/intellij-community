{
  List<Configurable> list=ContainerUtil.newArrayList();
  if (withIdeSettings) {
    Application application=ApplicationManager.getApplication();
    if (application != null) {
      if (loadComponents) {
        ContainerUtil.addAll(list,application.getComponents(Configurable.class));
      }
      for (      ConfigurableEP<Configurable> extension : application.getExtensions(Configurable.APPLICATION_CONFIGURABLE)) {
        ContainerUtil.addIfNotNull(list,ConfigurableWrapper.wrapConfigurable(extension));
      }
    }
  }
  if (project != null) {
    if (loadComponents) {
      ContainerUtil.addAll(list,project.getComponents(Configurable.class));
    }
    for (    ConfigurableEP<Configurable> extension : project.getExtensions(Configurable.PROJECT_CONFIGURABLE)) {
      ContainerUtil.addIfNotNull(list,ConfigurableWrapper.wrapConfigurable(extension));
    }
  }
  return list;
}
