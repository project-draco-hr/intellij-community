{
  final SettingsEditor<ConfigurationPerRunnerSettings> configEditor=myConfiguration.getRunnerSettingsEditor(runner);
  SettingsEditor<RunnerSettings> runnerEditor;
  try {
    runnerEditor=runner.getSettingsEditor(executor,myConfiguration);
  }
 catch (  AbstractMethodError error) {
    runnerEditor=null;
  }
  if (configEditor == null && runnerEditor == null)   return null;
  SettingsEditor<RunnerAndConfigurationSettings> wrappedConfigEditor=null;
  SettingsEditor<RunnerAndConfigurationSettings> wrappedRunEditor=null;
  if (configEditor != null) {
    wrappedConfigEditor=wrapEditor(configEditor,new Convertor<RunnerAndConfigurationSettings,ConfigurationPerRunnerSettings>(){
      @Override public ConfigurationPerRunnerSettings convert(      RunnerAndConfigurationSettings configurationSettings){
        return configurationSettings.getConfigurationSettings(runner);
      }
    }
,runner);
  }
  if (runnerEditor != null) {
    wrappedRunEditor=wrapEditor(runnerEditor,new Convertor<RunnerAndConfigurationSettings,RunnerSettings>(){
      @Override public RunnerSettings convert(      RunnerAndConfigurationSettings configurationSettings){
        return configurationSettings.getRunnerSettings(runner);
      }
    }
,runner);
  }
  if (wrappedRunEditor != null && wrappedConfigEditor != null) {
    JPanel panel=new JPanel(new BorderLayout());
    panel.add(wrappedConfigEditor.getComponent(),BorderLayout.CENTER);
    JComponent wrappedRunEditorComponent=wrappedRunEditor.getComponent();
    wrappedRunEditorComponent.setBorder(IdeBorderFactory.createEmptyBorder(3,0,0,0));
    panel.add(wrappedRunEditorComponent,BorderLayout.SOUTH);
    return panel;
  }
  if (wrappedRunEditor != null)   return wrappedRunEditor.getComponent();
  return wrappedConfigEditor.getComponent();
}
