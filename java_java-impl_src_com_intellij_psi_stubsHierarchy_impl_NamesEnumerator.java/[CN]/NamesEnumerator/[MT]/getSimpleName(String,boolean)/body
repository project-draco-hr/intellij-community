{
  byte[] bytes=convertToBytesIfAsciiString(s);
  if (bytes != null) {
    int id=myAsciiMap.get(bytes);
    if (id == 0 && create) {
      id=myAsciiMap.size() + myNonAsciiMap.size() + 1;
      myAsciiMap.put(bytes,id);
    }
    return id;
  }
 else {
    s=new String(s);
    int id=myNonAsciiMap.get(s);
    if (id == 0 && create) {
      id=myAsciiMap.size() + myNonAsciiMap.size() + 1;
      myNonAsciiMap.put(s,id);
    }
    return id;
  }
}
