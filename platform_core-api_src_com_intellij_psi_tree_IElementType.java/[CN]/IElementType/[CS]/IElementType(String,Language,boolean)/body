{
  myDebugName=debugName;
  myLanguage=language == null ? Language.ANY : language;
  if (register) {
synchronized (lock) {
      myIndex=size++;
      LOG.assertTrue(myIndex < MAX_INDEXED_TYPES,"Too many element types registered. Out of (short) range.");
      IElementType[] newRegistry=myIndex >= ourRegistry.length ? ArrayUtil.realloc(ourRegistry,ourRegistry.length * 3 / 2 + 1,FACTORY) : ourRegistry;
      newRegistry[myIndex]=this;
      ourRegistry=newRegistry;
    }
  }
 else {
    myIndex=-1;
  }
}
