{
  if (!PyCodeInsightSettings.getInstance().SHOW_IMPORT_POPUP) {
    return false;
  }
  final PsiElement element=getStartElement();
  if (element == null || !element.isValid() || (element instanceof PsiNamedElement && ((PsiNamedElement)element).getName() == null) || myImports.size() <= 0) {
    return false;
  }
  if (ImportFromExistingAction.isResolved(myReference)) {
    return false;
  }
  if (HintManager.getInstance().hasShownHintsThatWillHideByOtherHint(true)) {
    return false;
  }
  if ((element instanceof PyQualifiedExpression) && ((((PyQualifiedExpression)element).isQualified())))   return false;
  final String message=ShowAutoImportPass.getMessage(myImports.size() > 1,ImportCandidateHolder.getQualifiedName(myInitialName,myImports.get(0).getPath(),myImports.get(0).getImportElement()));
  final ImportFromExistingAction action=new ImportFromExistingAction(element,myImports,myInitialName,myUseQualifiedImport,false);
  action.onDone(new Runnable(){
    public void run(){
      myExpended=true;
    }
  }
);
  HintManager.getInstance().showQuestionHint(editor,message,element.getTextOffset(),element.getTextRange().getEndOffset(),action);
  return true;
}
