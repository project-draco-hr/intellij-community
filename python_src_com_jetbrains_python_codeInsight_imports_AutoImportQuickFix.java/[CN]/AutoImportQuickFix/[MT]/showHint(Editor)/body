{
  if (!PyCodeInsightSettings.getInstance().SHOW_IMPORT_POPUP) {
    return false;
  }
  if (myNode == null || !myNode.isValid() || myNode.getName() == null || myImports.size() <= 0) {
    return false;
  }
  if (ImportFromExistingAction.isResolved(myReference)) {
    return false;
  }
  if (HintManager.getInstance().hasShownHintsThatWillHideByOtherHint(true)) {
    return false;
  }
  if ((myNode instanceof PyQualifiedExpression) && ((((PyQualifiedExpression)myNode).getQualifier() != null)))   return false;
  final String message=ShowAutoImportPass.getMessage(myImports.size() > 1,ImportCandidateHolder.getQualifiedName(myName,myImports.get(0).getPath(),myImports.get(0).getImportElement()));
  final ImportFromExistingAction action=new ImportFromExistingAction(myNode,myImports,myName,myUseQualifiedImport);
  action.onDone(new Runnable(){
    public void run(){
      myExpended=true;
    }
  }
);
  HintManager.getInstance().showQuestionHint(editor,message,myNode.getTextOffset(),myNode.getTextRange().getEndOffset(),action);
  return true;
}
