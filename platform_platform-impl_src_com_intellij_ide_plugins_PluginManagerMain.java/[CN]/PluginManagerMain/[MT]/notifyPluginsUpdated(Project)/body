{
  final ApplicationEx app=ApplicationManagerEx.getApplicationEx();
  String title=IdeBundle.message("update.notifications.title");
  String action=IdeBundle.message(app.isRestartCapable() ? "ide.restart.action" : "ide.shutdown.action");
  String message=IdeBundle.message("ide.restart.required.notification",action,ApplicationNamesInfo.getInstance().getFullProductName());
  NotificationListener listener=new NotificationListener(){
    @Override public void hyperlinkUpdate(    @NotNull Notification notification,    @NotNull HyperlinkEvent event){
      notification.expire();
      app.restart(true);
    }
  }
;
  UpdateChecker.NOTIFICATIONS.createNotification(title,XmlStringUtil.wrapInHtml(message),NotificationType.INFORMATION,listener).notify(project);
}
