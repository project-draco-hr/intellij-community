{
  setModel(new DefaultTreeModel(new InspectionRootNode(project,new InspectionTreeUpdater(view))));
  myContext=context;
  myExcludedManager=view.getExcludedManager();
  setCellRenderer(new CellRenderer());
  setRootVisible(!myContext.isSingleInspectionRun());
  setShowsRootHandles(true);
  UIUtil.setLineStyleAngled(this);
  addTreeWillExpandListener(new ExpandListener());
  myState.getExpandedUserObjects().add(project);
  TreeUtil.installActions(this);
  new TreeSpeedSearch(this,new Convertor<TreePath,String>(){
    @Override public String convert(    TreePath o){
      return InspectionsConfigTreeComparator.getDisplayTextToSort(o.getLastPathComponent().toString());
    }
  }
);
  addTreeSelectionListener(new TreeSelectionListener(){
    @Override public void valueChanged(    TreeSelectionEvent e){
      TreePath newSelection=e.getNewLeadSelectionPath();
      if (newSelection != null && !isUnderQueueUpdate()) {
        myState.setSelectionPath(newSelection);
      }
    }
  }
);
}
