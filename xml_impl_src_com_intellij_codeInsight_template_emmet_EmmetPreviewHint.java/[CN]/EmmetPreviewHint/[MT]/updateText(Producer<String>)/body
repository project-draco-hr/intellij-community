{
  myAlarm.cancelAllRequests();
  myAlarm.addRequest(new Runnable(){
    @Override public void run(){
      if (!isDisposed) {
        final String newText=contentProducer.produce();
        if (StringUtil.isEmpty(newText)) {
          hide();
        }
 else         if (!myEditor.getDocument().getText().equals(newText)) {
          DocumentUtil.writeInRunUndoTransparentAction(new Runnable(){
            @Override public void run(){
              myEditor.getDocument().setText(newText);
            }
          }
);
          Pair<Point,Short> position=guessPosition();
          HintManagerImpl.adjustEditorHintPosition(EmmetPreviewHint.this,myParentEditor,position.first,position.second);
        }
      }
    }
  }
,100);
}
