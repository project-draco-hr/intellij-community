{
  List<GenericType> enclosingClasses=type.getEnclosingClasses();
  if (enclosingClasses.isEmpty()) {
    String name=type.value.replace('/','.');
    buffer.append(DecompilerContext.getImportCollector().getShortName(name));
  }
 else {
    for (    GenericType tp : enclosingClasses) {
      if (buffer.length() == 0) {
        buffer.append(DecompilerContext.getImportCollector().getShortName(tp.value.replace('/','.')));
      }
 else {
        buffer.append(tp.value);
      }
      appendTypeArguments(tp,buffer);
      buffer.append('.');
    }
    buffer.append(type.value);
  }
  appendTypeArguments(type,buffer);
}
