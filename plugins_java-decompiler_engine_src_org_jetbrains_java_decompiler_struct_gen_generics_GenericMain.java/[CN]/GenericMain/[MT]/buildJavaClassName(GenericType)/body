{
  String name="";
  for (  GenericType tp : type.getEnclosingClasses()) {
    name+=tp.value + "$";
  }
  name+=type.value;
  String res=name.replace('/','.');
  if (res.contains("$")) {
    StructClass cl=DecompilerContext.getStructcontext().getClass(name);
    if (cl == null || !cl.isOwn()) {
      res=res.replace('$','.');
    }
  }
  return res;
}
