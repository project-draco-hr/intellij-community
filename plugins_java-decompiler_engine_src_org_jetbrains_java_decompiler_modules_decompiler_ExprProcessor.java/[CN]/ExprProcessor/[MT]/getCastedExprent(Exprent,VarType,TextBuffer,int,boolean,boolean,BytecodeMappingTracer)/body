{
  boolean ret=false;
  VarType rightType=exprent.getExprType();
  TextBuffer res=exprent.toJava(indent,tracer);
  boolean cast=castAlways || (!leftType.isSuperset(rightType) && (rightType.equals(VarType.VARTYPE_OBJECT) || leftType.type != CodeConstants.TYPE_OBJECT)) || (castNull && rightType.type == CodeConstants.TYPE_NULL && !UNDEFINED_TYPE_STRING.equals(getTypeName(leftType)))|| (isIntConstant(exprent) && VarType.VARTYPE_INT.isStrictSuperset(leftType));
  if (cast) {
    if (exprent.getPrecedence() >= FunctionExprent.getPrecedence(FunctionExprent.FUNCTION_CAST)) {
      res.enclose("(",")");
    }
    res.prepend("(" + getCastTypeName(leftType) + ")");
    ret=true;
  }
  buffer.append(res);
  return ret;
}
