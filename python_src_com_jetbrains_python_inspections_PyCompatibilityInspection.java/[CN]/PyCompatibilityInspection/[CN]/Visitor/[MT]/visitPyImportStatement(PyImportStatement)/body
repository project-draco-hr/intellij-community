{
  super.visitPyImportStatement(node);
  PyImportElement[] importElements=node.getImportElements();
  boolean hasProblem=false;
  StringBuilder message=new StringBuilder(myCommonMessage);
  for (int i=0; i != myVersionsToProcess.size(); ++i) {
    LanguageLevel languageLevel=myVersionsToProcess.get(i);
    for (    PyImportElement importElement : importElements) {
      final PyQualifiedName qName=importElement.getImportedQName();
      if (qName != null) {
        if (!languageLevel.isPy3K()) {
          if (qName.matches("builtins")) {
            if (hasProblem)             message.append(", ");
            message.append(languageLevel.toString());
            message.append(" do not have module builtins.");
            hasProblem=true;
          }
        }
 else {
          if (qName.matches("__builtin__")) {
            if (hasProblem)             message.append(", ");
            message.append(languageLevel.toString());
            message.append(" do not have module __builtin__.");
            hasProblem=true;
          }
        }
      }
    }
  }
  if (hasProblem)   registerProblem(node,message.toString(),new ReplaceBuiltinsQuickFix());
}
