{
  final int MAX_FILES_TO_CHECK=100;
  final VirtualFile[] files=e.getData(CommonDataKeys.VIRTUAL_FILE_ARRAY);
  if (files != null) {
    if (files.length > MAX_FILES_TO_CHECK) {
      return true;
    }
    ChangeListManager clManager=ChangeListManager.getInstance(project);
    Set<VirtualFile> modifiedWithoutEditing=ContainerUtil.newHashSet(clManager.getModifiedWithoutEditing());
    for (    VirtualFile file : files) {
      if (!clManager.getChangesIn(file).isEmpty() || modifiedWithoutEditing.contains(file)) {
        return true;
      }
    }
  }
  return false;
}
