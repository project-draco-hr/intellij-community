{
  final VirtualFile[] files=e.getData(CommonDataKeys.VIRTUAL_FILE_ARRAY);
  if (files != null) {
    ChangeListManager clManager=ChangeListManager.getInstance(project);
    Set<VirtualFile> modifiedWithoutEditing=ContainerUtil.newHashSet(clManager.getModifiedWithoutEditing());
    for (    VirtualFile file : files) {
      if (clManager.haveChangesUnder(file) != ThreeState.NO || clManager.isFileAffected(file) || modifiedWithoutEditing.contains(file)) {
        return true;
      }
    }
  }
  return false;
}
