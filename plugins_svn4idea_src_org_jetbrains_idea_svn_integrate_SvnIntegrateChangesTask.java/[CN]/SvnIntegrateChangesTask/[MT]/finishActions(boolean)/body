{
  if (!wasCanceled) {
    if (!ApplicationManager.getApplication().isUnitTestMode() && (!myDryRun) && (myExceptions.isEmpty())&& (!myAccumulatedFiles.containErrors())&& ((!myAccumulatedFiles.isEmpty()) || (myMergeTarget != null))) {
      if (myInfo.isUnderProjectRoot()) {
        showLocalCommit();
      }
 else {
        showAlienCommit();
      }
      return;
    }
  }
  final Collection<FilePath> files=gatherChangedPaths();
  VcsDirtyScopeManager.getInstance(myProject).filePathsDirty(files,null);
  prepareAndShowResults();
}
