{
  final String paramName=info.getOldName();
  final PyKeywordArgument keywordArgument=argumentList.getKeywordArgument(paramName);
  if (keywordArgument != null) {
    params.add(keywordArgument.getText());
    useKeywords=true;
    return currentIndex + 1;
  }
 else   if (currentIndex < arguments.length) {
    final PyExpression currentParameter=arguments[currentIndex];
    if (currentParameter instanceof PyKeywordArgument && info.isRenamed()) {
      params.add(currentParameter.getText());
    }
 else     if (oldIndex < arguments.length && (!(info.getDefaultInSignature() && arguments[oldIndex].getText().equals(info.getDefaultValue())) || !(currentParameter instanceof PyKeywordArgument))) {
      return addOldPositionParameter(params,arguments[oldIndex],info,currentIndex);
    }
 else     return currentIndex;
  }
 else   if (oldIndex < arguments.length) {
    return addOldPositionParameter(params,arguments[oldIndex],info,currentIndex);
  }
 else   if (!info.getDefaultInSignature()) {
    params.add(useKeywords ? paramName + " = " + info.getDefaultValue() : info.getDefaultValue());
  }
 else {
    useKeywords=true;
    return currentIndex;
  }
  return currentIndex + 1;
}
