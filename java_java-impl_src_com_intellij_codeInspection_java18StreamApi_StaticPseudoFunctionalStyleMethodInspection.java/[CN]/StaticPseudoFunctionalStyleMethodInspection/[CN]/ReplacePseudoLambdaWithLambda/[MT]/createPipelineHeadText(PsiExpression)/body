{
  final PsiType type=collectionExpression.getType();
  if (type instanceof PsiClassType) {
    final PsiClass resolved=((PsiClassType)type).resolve();
    LOG.assertTrue(resolved != null && resolved.getQualifiedName() != null,type);
    return collectionExpression.getText() + ".stream()";
  }
 else   if (type instanceof PsiArrayType) {
    return CommonClassNames.JAVA_UTIL_ARRAYS + ".stream(" + collectionExpression.getText()+ ")";
  }
  throw new AssertionError("type: " + type + " is unexpected");
}
