{
  Component c=SwingUtilities.getDeepestComponentAt(e.getComponent(),e.getX(),e.getY());
  if (JBPopupFactory.getInstance().getParentBalloonFor(c) != null && e.getID() != MouseEvent.MOUSE_DRAGGED) {
    return false;
  }
  if (c instanceof IdeGlassPane.TopComponent) {
    return ((IdeGlassPane.TopComponent)c).canBePreprocessed(e);
  }
  return true;
}
