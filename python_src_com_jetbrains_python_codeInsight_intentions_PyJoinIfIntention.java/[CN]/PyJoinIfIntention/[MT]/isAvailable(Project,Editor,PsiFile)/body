{
  PyIfStatement expression=PsiTreeUtil.getParentOfType(file.findElementAt(editor.getCaretModel().getOffset()),PyIfStatement.class);
  while (expression != null) {
    PyStatementList stList=expression.getIfPart().getStatementList();
    if (stList != null) {
      if (stList.getStatements().length != 0) {
        PyStatement firstStatement=stList.getStatements()[0];
        if (firstStatement instanceof PyIfStatement) {
          return true;
        }
      }
    }
    expression=PsiTreeUtil.getParentOfType(expression,PyIfStatement.class);
  }
  expression=PsiTreeUtil.getParentOfType(file.findElementAt(editor.getCaretModel().getOffset()),PyIfStatement.class);
  while (expression != null) {
    PyStatementList stList=expression.getIfPart().getStatementList();
    if (stList != null) {
      if (stList.getStatements().length != 0) {
        PyStatement firstStatement=stList.getStatements()[0];
        if (firstStatement instanceof PyIfStatement) {
          return true;
        }
      }
    }
    expression=PsiTreeUtil.getChildOfType(expression,PyIfStatement.class);
  }
  return false;
}
