{
  PyIfStatement expression=PsiTreeUtil.getParentOfType(file.findElementAt(editor.getCaretModel().getOffset()),PyIfStatement.class);
  while (expression != null) {
    PyStatement firstStatement=expression.getIfPart().getStatementList().getStatements()[0];
    if (firstStatement instanceof PyIfStatement) {
      return true;
    }
    expression=PsiTreeUtil.getParentOfType(file.findElementAt(editor.getCaretModel().getOffset()),PyIfStatement.class);
  }
  return false;
}
