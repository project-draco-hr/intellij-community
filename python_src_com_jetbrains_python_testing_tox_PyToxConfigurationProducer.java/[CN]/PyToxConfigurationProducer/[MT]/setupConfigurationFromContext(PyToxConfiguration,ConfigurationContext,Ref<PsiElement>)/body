{
  final PsiFile file=sourceElement.get().getContainingFile();
  if (file == null) {
    return false;
  }
  final String envName=PyToxTestLocator.getEnvNameFromElement(file);
  if (envName != null) {
    configuration.setRunOnlyEnvs(envName);
    configuration.setName(String.format("Tox: run on %s",envName));
    return true;
  }
  final PsiDirectory directory=file.getContainingDirectory();
  if (directory == null) {
    return false;
  }
  configuration.setWorkingDirectory(directory.getVirtualFile().getCanonicalPath());
  if (TOX_FILE_NAME.equals(file.getName())) {
    configuration.setName("Tox");
    return true;
  }
  return false;
}
