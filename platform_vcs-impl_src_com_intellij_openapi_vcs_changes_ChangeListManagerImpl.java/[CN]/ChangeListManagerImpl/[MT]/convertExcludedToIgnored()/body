{
  List<String> projectExcludesUrls=new ArrayList<String>();
  for (  DirectoryIndexExcludePolicy policy : DirectoryIndexExcludePolicy.EP_NAME.getExtensions(myProject)) {
    for (    VirtualFile file : policy.getExcludeRootsForProject()) {
      projectExcludesUrls.add(file.getUrl());
      myIgnoredIdeaLevel.add(IgnoredBeanFactory.ignoreUnderDirectory(file.getPath(),myProject));
    }
  }
  for (  Module module : ModuleManager.getInstance(myProject).getModules()) {
    for (    String url : ModuleRootManager.getInstance(module).getExcludeRootUrls()) {
      if (!VfsUtilCore.isUnder(url,projectExcludesUrls)) {
        myIgnoredIdeaLevel.add(IgnoredBeanFactory.ignoreUnderDirectory(VfsUtilCore.urlToPath(url),myProject));
      }
    }
  }
}
