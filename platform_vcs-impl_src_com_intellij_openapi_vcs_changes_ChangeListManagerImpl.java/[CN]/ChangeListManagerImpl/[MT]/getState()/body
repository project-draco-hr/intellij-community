{
  Element element=new Element("state");
  if (myProject.isDefault()) {
    return element;
  }
  final IgnoredFilesComponent ignoredFilesComponent;
  final ChangeListWorker worker;
synchronized (myDataLock) {
    ignoredFilesComponent=new IgnoredFilesComponent(myIgnoredIdeaLevel);
    worker=myWorker.copy();
  }
  new ChangeListManagerSerialization(ignoredFilesComponent,worker).writeExternal(element);
  if (myExcludedConvertedToIgnored) {
    JDOMExternalizerUtil.writeField(element,EXCLUDED_CONVERTED_TO_IGNORED_OPTION,String.valueOf(true));
  }
  myConflictTracker.saveState(element);
  return element;
}
