{
  MessageBus bus=ApplicationManager.getApplication().getMessageBus();
  EditorSettingsManager editorSettingsManager=new EditorSettingsManager();
  bus.connect().subscribe(AppTopics.FILE_DOCUMENT_SYNC,editorSettingsManager);
  bus.connect().subscribe(DoneSavingTopic.DONE_SAVING,editorSettingsManager);
  String fileDocumentManagerKey=FileDocumentManager.class.getName();
  ComponentConfig config=new ComponentConfig();
  config.setInterfaceClass(FileDocumentManager.class.getName());
  config.setImplementationClass(ReplacementFileDocumentManager.class.getName());
  MutablePicoContainer container=(MutablePicoContainer)ApplicationManager.getApplication().getPicoContainer();
  container.unregisterComponent(fileDocumentManagerKey);
  container.registerComponentImplementation(fileDocumentManagerKey,ReplacementFileDocumentManager.class);
}
