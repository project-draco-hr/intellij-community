{
  JRootPane rootPane=getRootPane();
  if (rootPane.getWindowDecorationStyle() == JRootPane.NONE) {
    return;
  }
  Point dragWindowOffset=ev.getPoint();
  Component source=(Component)ev.getSource();
  Point convertedDragWindowOffset=SwingUtilities.convertPoint(source,dragWindowOffset,getTitlePane());
  dragWindowOffset=SwingUtilities.convertPoint(source,dragWindowOffset,myWindow);
  if (getTitlePane() != null && getTitlePane().contains(convertedDragWindowOffset)) {
    if (myWindow != null) {
      myWindow.toFront();
      dragOffset=dragWindowOffset;
    }
  }
}
