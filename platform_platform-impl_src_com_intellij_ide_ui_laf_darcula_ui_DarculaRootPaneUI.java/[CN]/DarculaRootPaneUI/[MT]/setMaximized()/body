{
  if (Registry.is("darcula.fix.maximized.frame.bounds"))   return;
  Component tla=myRootPane.getTopLevelAncestor();
  GraphicsConfiguration gc=(currentRootPaneGC != null) ? currentRootPaneGC : tla.getGraphicsConfiguration();
  Rectangle screenBounds=gc.getBounds();
  screenBounds.x=0;
  screenBounds.y=0;
  Insets screenInsets=ScreenUtil.getScreenInsets(gc);
  Rectangle maxBounds=new Rectangle(screenBounds.x + screenInsets.left,screenBounds.y + screenInsets.top,screenBounds.width - (screenInsets.left + screenInsets.right),screenBounds.height - (screenInsets.top + screenInsets.bottom));
  if (tla instanceof JFrame) {
    ((JFrame)tla).setMaximizedBounds(maxBounds);
  }
}
