{
  PyExpression expression=node.getContainedExpression();
  if (node.getText().contains("\n"))   return;
  if (expression instanceof PyReferenceExpression || expression instanceof PyNumericLiteralExpression) {
    if (myIgnorePercOperator) {
      PsiElement parent=node.getParent();
      if (parent instanceof PyBinaryExpression) {
        if (((PyBinaryExpression)parent).getOperator() == PyTokenTypes.PERC)         return;
      }
    }
    if (node.getParent() instanceof PyPrintStatement)     return;
    registerProblem(node,"Remove redundant parentheses",new RedundantParenthesesQuickFix());
  }
 else   if (node.getParent() instanceof PyReturnStatement && expression instanceof PyTupleExpression && myIgnoreTupleInReturn) {
    return;
  }
 else   if (node.getParent() instanceof PyIfPart || node.getParent() instanceof PyWhilePart || node.getParent() instanceof PyReturnStatement) {
    registerProblem(node,"Remove redundant parentheses",new RedundantParenthesesQuickFix());
  }
 else   if (expression instanceof PyBinaryExpression) {
    if (node.getParent() instanceof PyPrefixExpression)     return;
    if (((PyBinaryExpression)expression).getOperator() == PyTokenTypes.AND_KEYWORD || ((PyBinaryExpression)expression).getOperator() == PyTokenTypes.OR_KEYWORD) {
      if (((PyBinaryExpression)expression).getLeftExpression() instanceof PyParenthesizedExpression && ((PyBinaryExpression)expression).getRightExpression() instanceof PyParenthesizedExpression) {
        registerProblem(node,"Remove redundant parentheses",new RedundantParenthesesQuickFix());
      }
    }
  }
}
