{
  String[] args=EMPTY_STRING_ARRAY;
  LOG.assertTrue(ourInstance == null,"Only one instance allowed.");
  ourInstance=this;
  pluginManagerStart(args);
  myIdeClassLoader=createClassLoader();
  WindowsCommandLineProcessor.ourMirrorClass=Class.forName(WindowsCommandLineProcessor.class.getName(),true,myIdeClassLoader);
  Class<?> classUtilCoreClass=Class.forName("com.intellij.ide.ClassUtilCore",true,myIdeClassLoader);
  method("clearJarURLCache").in(classUtilCoreClass).invoke();
  Class<?> pluginManagerClass=Class.forName("com.intellij.ide.plugins.PluginManager",true,myIdeClassLoader);
  method("start").withParameterTypes(String.class,String.class,String[].class).in(pluginManagerClass).invoke("com.intellij.idea.MainImpl","start",args);
}
