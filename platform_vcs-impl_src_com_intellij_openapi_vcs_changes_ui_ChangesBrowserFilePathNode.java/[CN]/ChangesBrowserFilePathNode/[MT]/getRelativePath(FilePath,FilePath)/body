{
  boolean isLocal=!child.isNonLocal();
  boolean caseSensitive=isLocal && SystemInfoRt.isFileSystemCaseSensitive;
  String result=parent != null ? FileUtil.getRelativePath(parent.getPath(),child.getPath(),'/',caseSensitive) : null;
  result=result == null ? child.getPath() : result;
  return isLocal ? FileUtil.toSystemDependentName(result) : result;
}
