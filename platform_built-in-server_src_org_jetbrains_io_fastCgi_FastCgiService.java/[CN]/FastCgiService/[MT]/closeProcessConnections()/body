{
  try {
    super.closeProcessConnections();
  }
  finally {
    requestIdCounter.set(0);
    if (!requests.isEmpty()) {
      List<Channel> waitingClients=ContainerUtil.toList(requests.elements());
      requests.clear();
      for (      Channel channel : waitingClients) {
        try {
          if (channel.isActive()) {
            Responses.sendStatus(HttpResponseStatus.BAD_GATEWAY,channel);
          }
        }
 catch (        Throwable e) {
          NettyUtil.log(e,LOG);
        }
      }
    }
  }
}
