{
  if (myLoadingFinished.isDone())   return;
  myLoadingFinished.complete(null);
  myEditor.putUserData(ASYNC_LOADER,null);
  if (myEditorComponent.isDisposed())   return;
  if (continuation != null) {
    continuation.run();
  }
  if (myEditorComponent.isLoading()) {
    myEditorComponent.stopLoading();
  }
  myEditorComponent.getContentPanel().setVisible(true);
  if (myDelayedState != null) {
    TextEditorState state=new TextEditorState();
    state.setFoldingState(myDelayedState.getFoldingState());
    myProvider.setStateImpl(myProject,myEditor,state);
    myDelayedState=null;
  }
  for (  Runnable runnable : myDelayedActions) {
    myEditor.getScrollingModel().disableAnimation();
    runnable.run();
  }
  myEditor.getScrollingModel().enableAnimation();
  if (FileEditorManager.getInstance(myProject).getSelectedTextEditor() == myEditor) {
    IdeFocusManager.getInstance(myProject).requestFocus(myTextEditor.getPreferredFocusedComponent(),true);
  }
  EditorNotifications.getInstance(myProject).updateNotifications(myTextEditor.myFile);
}
