{
  VirtualFile f=createChildData(myRoot,"foo.txt");
  int modificationStamp1=-1;
  setBinaryContent(f,new byte[]{1},modificationStamp1,1000,this);
  VirtualFile f2=createChildData(myRoot,"foo2.txt");
  setBinaryContent(f,new byte[]{1},modificationStamp1,1000,this);
  final Label testLabel=LocalHistory.getInstance().putSystemLabel(myProject,"testLabel");
  int modificationStamp=-1;
  setBinaryContent(f,new byte[]{2},modificationStamp,2000,this);
  setBinaryContent(f2,new byte[]{3},modificationStamp,3000,this);
  revertToLabel(testLabel,f);
  f=myRoot.findChild("foo.txt");
  assertNotNull(f);
  assertEquals(1,f.contentsToByteArray()[0]);
  assertEquals(1000,f.getTimeStamp());
  f2=myRoot.findChild("foo2.txt");
  assertNotNull(f2);
  assertEquals(3,f2.contentsToByteArray()[0]);
  assertEquals(3000,f2.getTimeStamp());
}
