{
  myIsTemplate=Boolean.valueOf(element.getAttributeValue(TEMPLATE_FLAG_ATTRIBUTE)).booleanValue();
  myTemporary=Boolean.valueOf(element.getAttributeValue(TEMPORARY_ATTRIBUTE)).booleanValue() || TEMP_CONFIGURATION.equals(element.getName());
  myEditBeforeRun=Boolean.valueOf(element.getAttributeValue(EDIT_BEFORE_RUN)).booleanValue();
  myFolderName=element.getAttributeValue(FOLDER_NAME);
  final ConfigurationFactory factory=getFactory(element);
  if (factory == null)   return;
  myWasSingletonSpecifiedExplicitly=false;
  if (myIsTemplate) {
    mySingleton=factory.isConfigurationSingletonByDefault();
  }
 else {
    String singletonStr=element.getAttributeValue(SINGLETON);
    if (StringUtil.isEmpty(singletonStr)) {
      mySingleton=factory.isConfigurationSingletonByDefault();
    }
 else {
      myWasSingletonSpecifiedExplicitly=true;
      mySingleton=Boolean.parseBoolean(singletonStr);
    }
  }
  if (myIsTemplate) {
    myConfiguration=myManager.getConfigurationTemplate(factory).getConfiguration();
  }
 else {
    myConfiguration=myManager.doCreateConfiguration(element.getAttributeValue(NAME_ATTR),factory,false);
  }
  myConfiguration.readExternal(element);
  myRunnerSettings.loadState(element);
  myConfigurationPerRunnerSettings.loadState(element);
}
