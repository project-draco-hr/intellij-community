{
  StateStorageManagerExternalizationSession myExternalizationSession=(StateStorageManagerExternalizationSession)externalizationSession;
  List<SaveSession> saveSessions=null;
  for (  StateStorage stateStorage : myExternalizationSession.mySessions.keySet()) {
    SaveSession saveSession=stateStorage.startSave(myExternalizationSession.mySessions.get(stateStorage));
    if (saveSession != null) {
      if (saveSessions == null) {
        saveSessions=new SmartList<SaveSession>();
      }
      saveSessions.add(saveSession);
    }
  }
  return saveSessions == null ? null : new StateStorageSaveSession(saveSessions);
}
