{
  myProject=project;
  myConfiguration=configuration;
  final CfgInfo currentInfo=new CfgInfo(configuration,"Project");
  myInfos=configuration instanceof Configuration.Prj ? new CfgInfo[]{new CfgInfo(((Configuration.Prj)configuration).getParentConfiguration(),"IDE"),currentInfo} : new CfgInfo[]{currentInfo};
  myRoot=new JPanel(new BorderLayout());
  myInjectionsTable=new InjectionsTable(getInjInfoList(myInfos));
  myInjectionsTable.getEmptyText().setText("No injections configured");
  ToolbarDecorator decorator=ToolbarDecorator.createDecorator(myInjectionsTable);
  createActions(decorator);
  if (ApplicationManager.getApplication().isInternal() && Registry.is("ide.new.settings.view")) {
    decorator.setPanelBorder(new CustomLineBorder(OnePixelDivider.BACKGROUND,0,0,1,0));
  }
  myRoot.add(decorator.createPanel(),BorderLayout.CENTER);
  myCountLabel=new JLabel();
  myCountLabel.setHorizontalAlignment(SwingConstants.RIGHT);
  myCountLabel.setForeground(SimpleTextAttributes.GRAY_ITALIC_ATTRIBUTES.getFgColor());
  myRoot.add(myCountLabel,BorderLayout.SOUTH);
  updateCountLabel();
}
