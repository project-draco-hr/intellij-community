{
  if (!f.isInLocalFileSystem())   return false;
  String fileName=f.getName();
  if (!f.isDirectory() && fileName.endsWith(".class"))   return false;
  Project[] openProjects=ProjectManager.getInstance().getOpenProjects();
  boolean isInContent=false;
  for (  Project each : openProjects) {
    if (each.isDefault())     continue;
    if (!each.isInitialized())     continue;
    if (Comparing.equal(each.getWorkspaceFile(),f))     return false;
    ProjectFileIndex index=ProjectRootManager.getInstance(each).getFileIndex();
    if (index.isIgnored(f))     return false;
    isInContent|=index.isInContent(f);
  }
  if (shouldBeInContent && !isInContent)   return false;
  return openProjects.length != 0 || !FileTypeManager.getInstance().isFileIgnored(f);
}
