{
  final List<Iterable<LookupElement>> byClassifier=ContainerUtil.newArrayList();
  for (  CompletionSorterImpl sorter : myClassifiers.keySet()) {
    ProcessingContext context=createContext(false);
    List<LookupElement> validElements=ContainerUtil.filter(inputBySorter.get(sorter),new Condition<LookupElement>(){
      @Override public boolean value(      LookupElement element){
        return element.isValid();
      }
    }
);
    byClassifier.add(myClassifiers.get(sorter).classify(validElements,context));
  }
  return ContainerUtil.concat(byClassifier.toArray(new Iterable[byClassifier.size()]));
}
