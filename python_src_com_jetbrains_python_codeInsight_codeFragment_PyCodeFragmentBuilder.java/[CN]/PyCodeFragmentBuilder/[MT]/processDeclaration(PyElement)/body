{
  final Position position=CodeFragmentUtil.getPosition(element,startOffset,endOffset);
  final String name=element.getName();
  if (position == Position.INSIDE) {
    final PyLoopStatement loop=PsiTreeUtil.getParentOfType(element,PyLoopStatement.class);
    if (inElements.contains(name) && loop != null && CodeFragmentUtil.getPosition(loop,startOffset,endOffset) != Position.INSIDE) {
      outElements.add(name);
    }
    List<PyElement> list=modifiedInsideMap.get(name);
    if (list == null) {
      list=new ArrayList<PyElement>();
      modifiedInsideMap.put(name,list);
    }
    list.add(element);
  }
}
