{
  StringBuilder sb=new StringBuilder();
  sb.append("LOG:\n");
  for (  Map.Entry<VirtualFile,List<GraphCommit<Integer>>> entry : myCommits.entrySet()) {
    VirtualFile root=entry.getKey();
    sb.append(String.format("%s (%s) \n",root.getName(),providers.get(root).getSupportedVcs().getName()));
    sb.append(StringUtil.join(entry.getValue(),new Function<GraphCommit<Integer>,String>(){
      @Override public String fun(      @NotNull GraphCommit<Integer> commit){
        return commit.getId() + "<-" + StringUtil.join(commit.getParents(),",");
      }
    }
,"\n"));
  }
  sb.append("\nREFS:\n");
  printRefs(sb,indexGetter,myRefs);
  sb.append("\nPREVIOUS REFS:\n");
  printRefs(sb,indexGetter,previousRefs);
  return sb.toString();
}
