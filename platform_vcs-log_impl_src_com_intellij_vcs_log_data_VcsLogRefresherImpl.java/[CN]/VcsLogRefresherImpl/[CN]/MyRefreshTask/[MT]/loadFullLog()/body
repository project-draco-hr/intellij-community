{
  StopWatch sw=StopWatch.start("full log reload");
  Collection<List<? extends TimedVcsCommit>> commits=readFullLogFromVcs();
  List<? extends TimedVcsCommit> compoundLog=compound(commits);
  List<GraphCommit<Integer>> graphCommits=compactCommits(compoundLog,myHashMap);
  Map<VirtualFile,Collection<VcsRef>> refMap=loadRefsFromVcs(myProviders);
  PermanentGraph<Integer> permanentGraph=DataPack.buildPermanentGraph(graphCommits,new RefsModel(refMap,myHashMap.asIndexGetter()),myHashMap.asIndexGetter(),myHashMap.asHashGetter(),myProviders);
  sw.report();
  return Pair.create(permanentGraph,refMap);
}
