{
  StopWatch sw=StopWatch.start("full log reload");
  Collection<List<? extends GraphCommit<Integer>>> commits=readFullLogFromVcs();
  List<? extends GraphCommit<Integer>> graphCommits=compound(commits);
  Map<VirtualFile,Collection<VcsRef>> refMap=loadRefsFromVcs(myProviders);
  PermanentGraph<Integer> permanentGraph=DataPack.buildPermanentGraph(graphCommits,new RefsModel(refMap,myHashMap.asIndexGetter()),myHashMap.asIndexGetter(),myHashMap.asHashGetter(),myProviders);
  sw.report();
  return Pair.create(permanentGraph,refMap);
}
