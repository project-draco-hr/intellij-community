{
  if (child1 instanceof ASTBlock && child2 instanceof ASTBlock) {
    ASTNode node1=((ASTBlock)child1).getNode();
    final PsiElement psi1=node1.getPsi();
    final PsiElement psi2=((ASTBlock)child2).getNode().getPsi();
    if (psi1 instanceof PyImportStatementBase && psi2 instanceof PyImportStatementBase && psi2.getCopyableUserData(IMPORT_GROUP_BEGIN) != null) {
      return Spacing.createSpacing(0,0,2,true,1);
    }
    if (node1.getElementType() == PyTokenTypes.COLON && psi2 instanceof PyStatementList) {
      if (needLineBreakInStatement()) {
        return Spacing.createSpacing(0,0,1,true,myContext.getSettings().KEEP_BLANK_LINES_IN_CODE);
      }
    }
    if ((node1.getElementType() == PyElementTypes.FUNCTION_DECLARATION || node1.getElementType() == PyElementTypes.CLASS_DECLARATION) && _node.getElementType() instanceof PyFileElementType) {
      if (psi2 instanceof PsiComment) {
        final PsiElement psi3=PsiTreeUtil.getNextSiblingOfType(psi2,PyElement.class);
        if (psi3 != null) {
          IElementType type3=psi3.getNode().getElementType();
          if (type3 == PyElementTypes.CLASS_DECLARATION || type3 == PyElementTypes.FUNCTION_DECLARATION) {
            return getBlankLinesForOption(myContext.getPySettings().BLANK_LINES_AROUND_TOP_LEVEL_CLASSES_FUNCTIONS);
          }
        }
      }
    }
    if (psi2 instanceof PsiComment && !hasLineBreaksBefore(psi2.getNode(),1)) {
      return Spacing.createSpacing(2,0,0,false,0);
    }
  }
  return myContext.getSpacingBuilder().getSpacing(this,child1,child2);
}
