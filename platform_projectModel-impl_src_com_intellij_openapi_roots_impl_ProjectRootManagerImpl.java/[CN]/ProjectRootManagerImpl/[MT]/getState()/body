{
  Element element=new Element("state");
  element.setAttribute(ATTRIBUTE_VERSION,"2");
  for (  ProjectExtension extension : Extensions.getExtensions(ProjectExtension.EP_NAME,myProject)) {
    extension.writeExternal(element);
  }
  if (myProjectSdkName != null) {
    element.setAttribute(PROJECT_JDK_NAME_ATTR,myProjectSdkName);
  }
  if (myProjectSdkType != null) {
    element.setAttribute(PROJECT_JDK_TYPE_ATTR,myProjectSdkType);
  }
  if (element.getAttributes().size() == 1) {
    element.removeAttribute(ATTRIBUTE_VERSION);
  }
  return element;
}
