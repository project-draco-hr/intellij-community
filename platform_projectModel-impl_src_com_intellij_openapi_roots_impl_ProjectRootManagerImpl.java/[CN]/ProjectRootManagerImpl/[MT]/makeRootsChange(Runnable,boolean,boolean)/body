{
  if (myProject.isDisposed())   return;
  BatchSession session=getBatchSession(fileTypes);
  if (fireEvents)   session.beforeRootsChanged();
  try {
    runnable.run();
  }
  finally {
    if (fireEvents)     session.rootsChanged();
  }
}
