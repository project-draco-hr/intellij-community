{
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  final Module[] modules=getModuleManager().getSortedModules();
  for (  Module module : modules) {
    final VirtualFile[] files=ModuleRootManager.getInstance(module).getContentRoots();
    ContainerUtil.addAll(result,files);
  }
  ContainerUtil.addIfNotNull(myProject.getBaseDir(),result);
  return VfsUtilCore.toVirtualFileArray(result);
}
