{
  if (!(qualifier instanceof GrReferenceExpression))   return true;
  if (!("class".equals(((GrReferenceExpression)qualifier).getReferenceName()) || PsiUtil.isThisReference(qualifier))) {
    return true;
  }
  PsiType type=qualifier.getType();
  if (!(type instanceof PsiClassType))   return true;
  final PsiClass psiClass=((PsiClassType)type).resolve();
  if (psiClass == null || !CommonClassNames.JAVA_LANG_CLASS.equals(psiClass.getQualifiedName()))   return true;
  final PsiType[] params=((PsiClassType)type).getParameters();
  if (params.length != 1)   return true;
  if (!processQualifierType(params[0],ResolveState.initial().put(ClassHint.RESOLVE_CONTEXT,qualifier))) {
    return false;
  }
  return true;
}
