{
  AllFileTemplatesConfigurable configurable=new AllFileTemplatesConfigurable(getProject());
  try {
    configurable.createComponent();
    configurable.reset();
    FileTemplate template=configurable.createNewTemplate("foo","bar","hey");
    assertTrue(configurable.isModified());
    FileTemplate[] templates=configurable.getTabs()[0].getTemplates();
    assertTrue(ArrayUtil.contains(template,templates));
    configurable.changeScheme(myTemplateManager.getProjectScheme());
    assertTrue(configurable.isModified());
  }
  finally {
    configurable.disposeUIResources();
  }
}
