{
  if (project != null && !project.isDisposed()) {
    ProjectManager.getInstance().closeProject(project);
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        Disposer.dispose(project);
      }
    }
);
  }
}
