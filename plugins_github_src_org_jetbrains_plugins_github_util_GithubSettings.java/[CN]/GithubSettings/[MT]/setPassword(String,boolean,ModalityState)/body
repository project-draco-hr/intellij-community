{
  try {
    if (rememberPassword) {
      PasswordSafe.getInstance().storePassword(null,GithubSettings.class,GITHUB_SETTINGS_PASSWORD_KEY,password,state);
    }
 else {
      final PasswordSafeImpl passwordSafe=(PasswordSafeImpl)PasswordSafe.getInstance();
      if (passwordSafe.getSettings().getProviderType() != PasswordSafeSettings.ProviderType.DO_NOT_STORE) {
        passwordSafe.getMemoryProvider().storePassword(null,GithubSettings.class,GITHUB_SETTINGS_PASSWORD_KEY,password);
      }
    }
  }
 catch (  PasswordSafeException e) {
    LOG.info("Couldn't set password for key [" + GITHUB_SETTINGS_PASSWORD_KEY + "]",e);
  }
}
