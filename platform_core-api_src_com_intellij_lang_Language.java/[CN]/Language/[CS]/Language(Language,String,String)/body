{
  myBaseLanguage=baseLanguage;
  myID=ID;
  myMimeTypes=mimeTypes;
  Class<? extends Language> langClass=getClass();
  Language prev=ourRegisteredLanguages.put(langClass,this);
  if (prev != null) {
    throw new ImplementationConflictException("Language of '" + langClass + "' is already registered: "+ prev,null,prev,this);
  }
  prev=ourRegisteredIDs.put(ID,this);
  if (prev != null) {
    throw new ImplementationConflictException("Language with ID '" + ID + "' is already registered: "+ prev.getClass(),null,prev,this);
  }
  for (  String mimeType : mimeTypes) {
    if (StringUtil.isEmpty(mimeType)) {
      continue;
    }
    List<Language> languagesByMimeType=ourRegisteredMimeTypes.get(mimeType);
    if (languagesByMimeType == null) {
      languagesByMimeType=ConcurrencyUtil.cacheOrGet(ourRegisteredMimeTypes,mimeType,ContainerUtil.<Language>createConcurrentList());
    }
    languagesByMimeType.add(this);
  }
  if (baseLanguage != null) {
    baseLanguage.myDialects.add(this);
  }
}
