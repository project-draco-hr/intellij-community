{
  Component component=editor.getComponent();
  int screenWidth=ScreenUtil.getScreenRectangle(component).width;
  if (screenWidth > 0)   return screenWidth;
  Window window=SwingUtilities.getWindowAncestor(component);
  return window == null ? Integer.MAX_VALUE : window.getWidth();
}
