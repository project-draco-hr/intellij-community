{
  final IpnbOutputCell outputCell;
  if (png != null) {
    outputCell=new IpnbPngOutputCell(png,text,prompt_number);
  }
 else   if (jpeg != null) {
    outputCell=new IpnbJpegOutputCell(jpeg,text,prompt_number);
  }
 else   if (svg != null) {
    outputCell=new IpnbSvgOutputCell(svg,text,prompt_number);
  }
 else   if (latex != null) {
    outputCell=new IpnbLatexOutputCell(latex,prompt_number,text);
  }
 else   if (stream != null || name != null) {
    outputCell=new IpnbStreamOutputCell(stream == null ? name : stream,text,prompt_number);
  }
 else   if (html != null) {
    outputCell=new IpnbHtmlOutputCell(html,text,prompt_number);
  }
 else   if ("pyerr".equals(output_type)) {
    outputCell=new IpnbErrorOutputCell(evalue,ename,traceback,prompt_number);
  }
 else   if ("pyout".equals(output_type)) {
    outputCell=new IpnbOutOutputCell(text,prompt_number);
  }
 else   if ("execute_result".equals(output_type)) {
    outputCell=new IpnbOutOutputCell(data.text,execution_count);
  }
 else {
    outputCell=new IpnbOutputCell(text,prompt_number);
  }
  return outputCell;
}
