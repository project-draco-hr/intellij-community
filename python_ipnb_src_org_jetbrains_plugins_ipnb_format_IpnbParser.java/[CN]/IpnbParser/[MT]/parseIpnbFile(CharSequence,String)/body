{
  IpnbFileRaw rawFile=gson.fromJson(fileText.toString(),IpnbFileRaw.class);
  if (rawFile == null)   return new IpnbFile(new IpnbFileRaw(),Lists.<IpnbCell>newArrayList(),path);
  List<IpnbCell> cells=new ArrayList<IpnbCell>();
  final IpnbWorksheet[] worksheets=rawFile.worksheets;
  if (worksheets == null) {
    for (    IpnbCellRaw rawCell : rawFile.cells) {
      cells.add(rawCell.createCell());
    }
  }
 else {
    for (    IpnbWorksheet worksheet : worksheets) {
      final List<IpnbCellRaw> rawCells=worksheet.cells;
      for (      IpnbCellRaw rawCell : rawCells) {
        cells.add(rawCell.createCell());
      }
    }
  }
  return new IpnbFile(rawFile,cells,path);
}
