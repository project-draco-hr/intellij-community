{
  try {
    NodeList nodes=(NodeList)xpath.evaluate(elementPath,parentElement,XPathConstants.NODESET);
    ArrayList<Element> result=new ArrayList<>(nodes.getLength());
    for (int i=0; i < nodes.getLength(); i++) {
      result.add(((Element)nodes.item(i)));
    }
    return result;
  }
 catch (  XPathExpressionException e) {
    throw new IllegalStateException(e);
  }
}
