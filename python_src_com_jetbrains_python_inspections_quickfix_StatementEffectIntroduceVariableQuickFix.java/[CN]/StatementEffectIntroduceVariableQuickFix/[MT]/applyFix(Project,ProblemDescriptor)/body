{
  PsiElement expression=descriptor.getPsiElement();
  if (expression != null && expression.isValid()) {
    final PyElementGenerator elementGenerator=PyElementGenerator.getInstance(project);
    final PyAssignmentStatement assignment=elementGenerator.createFromText(LanguageLevel.forElement(expression),PyAssignmentStatement.class,"var = " + expression.getText());
    expression=expression.replace(assignment);
    expression=CodeInsightUtilBase.forcePsiPostprocessAndRestoreElement(expression);
    final TemplateBuilder builder=TemplateBuilderFactory.getInstance().createTemplateBuilder(expression);
    builder.replaceElement(((PyAssignmentStatement)expression).getLeftHandSideExpression(),"var");
    builder.run();
  }
}
