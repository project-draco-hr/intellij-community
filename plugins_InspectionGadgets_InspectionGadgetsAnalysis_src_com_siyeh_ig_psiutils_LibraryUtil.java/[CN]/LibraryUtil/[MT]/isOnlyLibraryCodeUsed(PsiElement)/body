{
  if (element == null) {
    return false;
  }
  final Ref<Boolean> libraryCode=Ref.create(Boolean.TRUE);
  element.accept(new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitReferenceExpression(    PsiReferenceExpression expression){
      if (!libraryCode.get().booleanValue()) {
        return;
      }
      super.visitReferenceExpression(expression);
      final PsiElement target=expression.resolve();
      if (!(target instanceof PsiCompiledElement)) {
        libraryCode.set(Boolean.FALSE);
      }
    }
  }
);
  return libraryCode.get().booleanValue();
}
