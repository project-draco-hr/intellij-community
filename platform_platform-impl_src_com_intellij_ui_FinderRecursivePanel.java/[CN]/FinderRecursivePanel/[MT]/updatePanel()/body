{
  myList.setPaintBusy(true);
  myMergingUpdateQueue.queue(new Update("update"){
    @Override public void run(){
      final T oldValue=getSelectedValue();
      final int oldIndex=myList.getSelectedIndex();
      ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
        @Override public void run(){
          DumbService.getInstance(getProject()).runReadActionInSmartMode(new Runnable(){
            @Override public void run(){
              try {
                final List<T> listItems=getListItems();
                SwingUtilities.invokeLater(new Runnable(){
                  @Override public void run(){
                    mergeListItems(myListModel,listItems);
                    if (myList.getSelectedIndex() < 0) {
                      myList.setSelectedIndex(myListModel.getSize() > oldIndex ? oldIndex : 0);
                    }
 else {
                      Object newValue=myList.getSelectedValue();
                      updateRightComponent(oldValue == null || oldValue != newValue);
                    }
                  }
                }
);
              }
  finally {
                myList.setPaintBusy(false);
              }
            }
          }
);
        }
      }
);
    }
  }
);
}
