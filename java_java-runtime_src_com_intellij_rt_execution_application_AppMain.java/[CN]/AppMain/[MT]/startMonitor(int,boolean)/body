{
  Thread t=new Thread("Monitor Ctrl-Break"){
    public void run(){
      try {
        Socket client=new Socket("127.0.0.1",portNumber);
        try {
          BufferedReader reader=new BufferedReader(new InputStreamReader(client.getInputStream(),"US-ASCII"));
          try {
            while (true) {
              String msg=reader.readLine();
              if ("TERM".equals(msg)) {
                return;
              }
 else               if ("BREAK".equals(msg)) {
                if (helperLibLoaded) {
                  triggerControlBreak();
                }
              }
 else               if ("STOP".equals(msg)) {
                System.exit(1);
              }
            }
          }
  finally {
            reader.close();
          }
        }
  finally {
          client.close();
        }
      }
 catch (      Exception ignored) {
      }
    }
  }
;
  t.setDaemon(true);
  t.start();
}
