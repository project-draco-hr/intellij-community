{
  configureByFile(getBasePath() + getTestName(false) + ".xml");
  doHighlighting();
  myEditor.getSelectionModel().setSelection(0,myEditor.getDocument().getTextLength());
  PlatformTestUtil.startPerformanceTest("Fix long indent/unindent " + time,time,new ThrowableRunnable(){
    @Override public void run(){
      EditorActionManager.getInstance().getActionHandler("EditorIndentSelection").execute(myEditor,DataManager.getInstance().getDataContext());
      EditorActionManager.getInstance().getActionHandler("EditorUnindentSelection").execute(myEditor,DataManager.getInstance().getDataContext());
    }
  }
).assertTiming();
  final int startOffset=myEditor.getCaretModel().getOffset();
  myEditor.getSelectionModel().setSelection(startOffset,startOffset);
  checkResultByFile(getBasePath() + getTestName(false) + ".xml");
}
