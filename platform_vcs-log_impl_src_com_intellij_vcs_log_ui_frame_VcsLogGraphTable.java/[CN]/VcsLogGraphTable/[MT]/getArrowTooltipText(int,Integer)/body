{
  VcsShortCommitDetails details;
  if (row == null || row < 0) {
    details=myLogDataHolder.getMiniDetailsGetter().getCommitDataIfAvailable(commit);
  }
 else {
    details=myLogDataHolder.getMiniDetailsGetter().getCommitData(row,getGraphTableModel());
  }
  String balloonText;
  if (details != null && !(details instanceof LoadingDetails)) {
    balloonText="Jump to <b>\"" + StringUtil.shortenTextWithEllipsis(details.getSubject(),50,0,"...") + "\"</b> by "+ details.getAuthor().getName()+ DetailsPanel.formatDateTime(details.getAuthorTime());
  }
 else {
    CommitId commitId=myLogDataHolder.getCommitId(commit);
    balloonText="Jump to commit" + " " + commitId.getHash().toShortString();
    if (myUi.isMultipleRoots()) {
      balloonText+=" in " + commitId.getRoot().getName();
    }
  }
  return balloonText;
}
