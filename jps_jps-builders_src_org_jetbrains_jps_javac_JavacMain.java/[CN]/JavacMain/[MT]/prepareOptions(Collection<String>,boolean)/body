{
  final List<String> result=new ArrayList<String>();
  if (usingJavac) {
    result.add("-Xprefer:source");
    result.add("-implicit:none");
  }
 else {
    result.add("-noExit");
  }
  boolean skip=false;
  for (  String option : options) {
    if (FILTERED_OPTIONS.contains(option)) {
      skip=true;
      continue;
    }
    if (!skip) {
      if (!FILTERED_SINGLE_OPTIONS.contains(option)) {
        result.add(option);
      }
    }
    skip=false;
  }
  return result;
}
