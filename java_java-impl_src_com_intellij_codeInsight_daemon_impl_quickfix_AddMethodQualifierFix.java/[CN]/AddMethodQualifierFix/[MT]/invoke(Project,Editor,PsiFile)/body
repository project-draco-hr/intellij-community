{
  if (!FileModificationService.getInstance().preparePsiElementsForWrite(file)) {
    return;
  }
  if (getOrFindCandidates().size() == 1 || UNIT_TEST_MODE) {
    qualify(getOrFindCandidates().get(0),editor);
  }
 else {
    chooseAndQualify(editor);
  }
}
