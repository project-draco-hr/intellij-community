{
  final String label=value.getLabel();
  final String formatted;
  if (value instanceof MethodSmartStepTarget) {
    final PsiMethod method=((MethodSmartStepTarget)value).getMethod();
    formatted=PsiFormatUtil.formatMethod(method,PsiSubstitutor.EMPTY,PsiFormatUtil.SHOW_NAME | PsiFormatUtil.SHOW_PARAMETERS,PsiFormatUtil.SHOW_TYPE,999);
  }
 else   if (value instanceof LambdaSmartStepTarget) {
    final PsiLambdaExpression lambda=((LambdaSmartStepTarget)value).getLambda();
    formatted=PsiFormatUtil.formatType(lambda.getType(),0,PsiSubstitutor.EMPTY);
  }
 else {
    formatted="";
  }
  return label != null ? label + formatted : formatted;
}
