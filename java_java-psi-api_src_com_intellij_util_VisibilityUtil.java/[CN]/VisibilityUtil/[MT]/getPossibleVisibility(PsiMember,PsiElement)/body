{
  Project project=psiMethod.getProject();
  if (PsiUtil.isAccessible(project,psiMethod,place,null))   return getVisibilityModifier(psiMethod.getModifierList());
  if (JavaPsiFacade.getInstance(project).arePackagesTheSame(psiMethod,place)) {
    return PsiModifier.PACKAGE_LOCAL;
  }
  if (InheritanceUtil.isInheritorOrSelf(PsiTreeUtil.getParentOfType(place,PsiClass.class),psiMethod.getContainingClass(),true)) {
    return PsiModifier.PROTECTED;
  }
  return PsiModifier.PUBLIC;
}
