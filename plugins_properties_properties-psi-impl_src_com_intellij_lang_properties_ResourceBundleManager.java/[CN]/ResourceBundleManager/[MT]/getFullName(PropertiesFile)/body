{
  return ApplicationManager.getApplication().runReadAction(new NullableComputable<String>(){
    public String compute(){
      final PsiDirectory directory=propertiesFile.getParent();
      final String packageQualifiedName=PropertiesUtil.getPackageQualifiedName(directory);
      if (packageQualifiedName == null) {
        return null;
      }
      final StringBuilder qName=new StringBuilder(packageQualifiedName);
      if (qName.length() > 0) {
        qName.append(".");
      }
      qName.append(getBaseName(propertiesFile.getContainingFile()));
      return qName.toString();
    }
  }
);
}
