{
  Map<String,DefaultActionGroup> groups=new HashMap<String,DefaultActionGroup>();
  for (  final ModuleSourceRootEditHandler<?> editor : myEditHandlers) {
    ToggleSourcesStateAction action=new ToggleSourcesStateAction(myTree,this,editor);
    CustomShortcutSet shortcutSet=editor.getMarkRootShortcutSet();
    if (shortcutSet != null) {
      action.registerCustomShortcutSet(shortcutSet,myTree);
    }
    String groupName=editor.getMarkRootGroupName();
    if (groupName != null) {
      DefaultActionGroup group=groups.get(groupName);
      if (group == null) {
        group=new MarkSourceToggleActionsGroup(groupName,editor.getRootIcon());
        groups.put(groupName,group);
        myEditingActionsGroup.add(group);
      }
      group.add(action);
    }
 else {
      myEditingActionsGroup.add(action);
    }
  }
  setupExcludedAction();
}
