{
  ExternalSystemRecentTaskListModel model=new ExternalSystemRecentTaskListModel(new ProjectSystemId("test"),DummyProject.getInstance());
  List<ExternalTaskExecutionInfo> tasks=new ArrayList<ExternalTaskExecutionInfo>();
  model.setTasks(tasks);
  model.ensureSize(ExternalSystemConstants.RECENT_TASKS_NUMBER);
  Assert.assertEquals("task list widening failed",ExternalSystemConstants.RECENT_TASKS_NUMBER,model.getSize());
  for (int i=0; i < ExternalSystemConstants.RECENT_TASKS_NUMBER + 1; i++) {
    tasks.add(new ExternalTaskExecutionInfo(new ExternalSystemTaskExecutionSettings(),"task" + i));
  }
  model.setTasks(tasks);
  Assert.assertEquals(ExternalSystemConstants.RECENT_TASKS_NUMBER + 1,model.getSize());
  model.ensureSize(ExternalSystemConstants.RECENT_TASKS_NUMBER);
  Assert.assertEquals("task list reduction failed",ExternalSystemConstants.RECENT_TASKS_NUMBER,model.getSize());
}
