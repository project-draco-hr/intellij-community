{
  if (shouldCopyToHistory(languageConsole)) {
    copyToHistoryAndExecute(languageConsole);
  }
 else {
    final Document document=languageConsole.getConsoleEditor().getDocument();
    processLine(document.getText());
  }
}
