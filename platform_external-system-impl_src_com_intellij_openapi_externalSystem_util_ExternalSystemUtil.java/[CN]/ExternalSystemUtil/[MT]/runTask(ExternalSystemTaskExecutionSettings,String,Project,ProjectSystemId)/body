{
  Executor executor=ExecutorRegistry.getInstance().getExecutorById(executorId);
  if (executor == null) {
    return;
  }
  String runnerId=getRunnerId(executorId);
  if (runnerId == null) {
    return;
  }
  ProgramRunner runner=RunnerRegistry.getInstance().findRunnerById(runnerId);
  if (runner == null) {
    return;
  }
  AbstractExternalSystemTaskConfigurationType configurationType=findConfigurationType(externalSystemId);
  if (configurationType == null) {
    return;
  }
  String name=AbstractExternalSystemTaskConfigurationType.generateName(project,taskSettings);
  RunnerAndConfigurationSettings settings=RunManagerEx.getInstanceEx(project).createConfiguration(name,configurationType.getFactory());
  ExternalSystemRunConfiguration runConfiguration=(ExternalSystemRunConfiguration)settings.getConfiguration();
  runConfiguration.getSettings().setExternalProjectPath(taskSettings.getExternalProjectPath());
  runConfiguration.getSettings().setTaskNames(taskSettings.getTaskNames());
  ExecutionEnvironment env=new ExecutionEnvironment(runner,settings,project);
  try {
    runner.execute(executor,env,null);
  }
 catch (  ExecutionException e) {
    LOG.warn("Can't execute task " + taskSettings,e);
  }
}
