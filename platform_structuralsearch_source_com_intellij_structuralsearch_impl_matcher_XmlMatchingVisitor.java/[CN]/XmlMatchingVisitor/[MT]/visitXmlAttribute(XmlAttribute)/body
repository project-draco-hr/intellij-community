{
  final XmlAttribute another=(XmlAttribute)myMatchingVisitor.getElement();
  final boolean isTypedVar=myMatchingVisitor.getMatchContext().getPattern().isTypedVar(attribute.getName());
  myMatchingVisitor.setResult(matches(attribute.getName(),another.getName()) || isTypedVar);
  if (myMatchingVisitor.getResult()) {
    myMatchingVisitor.setResult(myMatchingVisitor.match(attribute.getValueElement(),another.getValueElement()));
  }
  if (myMatchingVisitor.getResult() && isTypedVar) {
    MatchingHandler handler=myMatchingVisitor.getMatchContext().getPattern().getHandler(attribute.getName());
    myMatchingVisitor.setResult(((SubstitutionHandler)handler).handle(another,myMatchingVisitor.getMatchContext()));
  }
}
