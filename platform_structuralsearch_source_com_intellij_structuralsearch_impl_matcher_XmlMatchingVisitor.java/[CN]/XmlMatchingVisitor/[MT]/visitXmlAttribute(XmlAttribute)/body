{
  final XmlAttribute another=(XmlAttribute)myMatchingVisitor.getElement();
  final boolean isTypedVar=myMatchingVisitor.getMatchContext().getPattern().isTypedVar(attribute.getName());
  myMatchingVisitor.setResult(isTypedVar || matches(attribute.getName(),another.getName()));
  final XmlAttributeValue valueElement=attribute.getValueElement();
  if (myMatchingVisitor.getResult() && valueElement != null) {
    myMatchingVisitor.setResult(myMatchingVisitor.match(valueElement,another.getValueElement()));
  }
  if (myMatchingVisitor.getResult() && isTypedVar) {
    MatchingHandler handler=myMatchingVisitor.getMatchContext().getPattern().getHandler(attribute.getName());
    myMatchingVisitor.setResult(((SubstitutionHandler)handler).handle(another,myMatchingVisitor.getMatchContext()));
  }
}
