{
  PsiField psiField=getElement();
  if (psiField != null) {
    final RefJavaUtil refUtil=RefJavaUtil.getInstance();
    refUtil.addReferences(psiField,this,psiField.getInitializer());
    refUtil.addReferences(psiField,this,psiField.getModifierList());
    if (psiField instanceof PsiEnumConstant) {
      refUtil.addReferences(psiField,this,psiField);
    }
    if (psiField.getInitializer() != null || psiField instanceof PsiEnumConstant) {
      if (!checkFlag(USED_FOR_WRITING_MASK)) {
        setFlag(true,ASSIGNED_ONLY_IN_INITIALIZER_MASK);
        setFlag(true,USED_FOR_WRITING_MASK);
      }
    }
    refUtil.addTypeReference(psiField,psiField.getType(),getRefManager(),this);
    getRefManager().fireBuildReferences(this);
  }
}
