{
  DfaValue dfaSource=memState.pop();
  DfaValue dfaDest=memState.pop();
  if (dfaDest instanceof DfaVariableValue) {
    DfaVariableValue var=(DfaVariableValue)dfaDest;
    DfaValueFactory factory=runner.getFactory();
    if (dfaSource instanceof DfaVariableValue && factory.getVarFactory().getAllQualifiedBy(var).contains(dfaSource)) {
      Nullness nullability=memState.isNotNull(dfaSource) ? Nullness.NOT_NULL : ((DfaVariableValue)dfaSource).getInherentNullability();
      dfaSource=factory.createTypeValue(((DfaVariableValue)dfaSource).getVariableType(),nullability);
    }
    if (var.getInherentNullability() == Nullness.NOT_NULL) {
      checkNotNullable(memState,dfaSource,NullabilityProblem.assigningToNotNull,instruction.getRExpression());
    }
    final PsiModifierListOwner psi=var.getPsiVariable();
    if (!(psi instanceof PsiField) || !psi.hasModifierProperty(PsiModifier.VOLATILE)) {
      memState.setVarValue(var,dfaSource);
    }
    if (var.getInherentNullability() == Nullness.NULLABLE && !memState.isNotNull(dfaSource) && instruction.isVariableInitializer()) {
      DfaMemoryStateImpl stateImpl=(DfaMemoryStateImpl)memState;
      stateImpl.setVariableState(var,stateImpl.getVariableState(var).withNullability(Nullness.NULLABLE));
    }
  }
 else   if (dfaDest instanceof DfaTypeValue && ((DfaTypeValue)dfaDest).isNotNull()) {
    checkNotNullable(memState,dfaSource,NullabilityProblem.assigningToNotNull,instruction.getRExpression());
  }
  memState.push(dfaDest);
  return nextInstruction(instruction,runner,memState);
}
