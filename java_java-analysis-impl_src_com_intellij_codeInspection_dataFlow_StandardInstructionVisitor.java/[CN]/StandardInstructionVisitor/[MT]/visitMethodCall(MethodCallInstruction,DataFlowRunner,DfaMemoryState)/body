{
  DfaValue[] argValues=popCallArguments(instruction,runner,memState);
  final DfaValue qualifier=popQualifier(instruction,runner,memState);
  LinkedHashSet<DfaMemoryState> currentStates=ContainerUtil.newLinkedHashSet(memState);
  Set<DfaMemoryState> finalStates=ContainerUtil.newLinkedHashSet();
  if (argValues != null) {
    for (    MethodContract contract : instruction.getContracts()) {
      currentStates=addContractResults(argValues,contract,currentStates,instruction,runner.getFactory(),finalStates);
      if (currentStates.size() + finalStates.size() > DataFlowRunner.MAX_STATES_PER_BRANCH) {
        if (LOG.isDebugEnabled()) {
          LOG.debug("Too complex contract on " + instruction.getContext() + ", skipping contract processing");
        }
        finalStates.clear();
        currentStates=ContainerUtil.newLinkedHashSet(memState);
        break;
      }
    }
  }
  for (  DfaMemoryState state : currentStates) {
    state.push(getMethodResultValue(instruction,qualifier,runner.getFactory()));
    finalStates.add(state);
  }
  DfaInstructionState[] result=new DfaInstructionState[finalStates.size()];
  int i=0;
  for (  DfaMemoryState state : finalStates) {
    if (instruction.shouldFlushFields()) {
      state.flushFields();
    }
    result[i++]=new DfaInstructionState(runner.getInstruction(instruction.getIndex() + 1),state);
  }
  return result;
}
