{
  if (virtualFile != null && virtualFile.isValid() && project.isInitialized() && myProjectFileIndex.isInContent(virtualFile)) {
    if (virtualFile.isDirectory())     return true;
    if (virtualFile.getFileType() == StdFileTypes.JAVA)     return true;
    if (virtualFile.getFileType() == StdFileTypes.XML && !ProjectCoreUtil.isProjectOrWorkspaceFile(virtualFile))     return true;
  }
  if (virtualFile instanceof VirtualFileWithId) {
    int id=getAbsId(virtualFile);
    fileIsResolved.set(id);
  }
  return false;
}
