{
  int iconWidth=getIconWidth();
  int iconHeight=getIconHeight();
  if (component instanceof SimpleColoredComponent) {
    SimpleColoredComponent coloredComponent=(SimpleColoredComponent)component;
    g.setColor(component.getBackground());
    g.fillRect(left - coloredComponent.getIpad().left,0,iconWidth + coloredComponent.getIpad().left + coloredComponent.getIconTextGap(),component.getHeight());
  }
  int x=left + (iconWidth - scaleVal(myColorSize)) / 2;
  int y=top + (iconHeight - scaleVal(myColorSize)) / 2;
  g.setColor(myColor);
  g.fillRect(x,y,scaleVal(myColorSize),scaleVal(myColorSize));
  if (myShowRedLine) {
    Graphics2D g2d=(Graphics2D)g;
    Object hint=g2d.getRenderingHint(RenderingHints.KEY_ANTIALIASING);
    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
    g.setColor(JBColor.red);
    g.drawLine(x,y + scaleVal(myColorSize),x + scaleVal(myColorSize),y);
    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,hint);
  }
  g.setColor(Color.BLACK);
  g.drawRect(x,y,scaleVal(myColorSize),scaleVal(myColorSize));
}
