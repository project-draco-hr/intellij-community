{
  final AnswerPlaceholder selectedAnswerPlaceholder=taskFile.getAnswerPlaceholder(offset);
  final List<AnswerPlaceholder> placeholders=taskFile.getAnswerPlaceholders();
  if (selectedAnswerPlaceholder == null) {
    for (int i=placeholders.size() - 1; i >= 0; i--) {
      final AnswerPlaceholder placeholder=placeholders.get(i);
      if (placeholder.getOffset() < offset) {
        return placeholder;
      }
    }
  }
 else {
    int prevIndex=selectedAnswerPlaceholder.getIndex() - 1;
    if (StudyUtils.indexIsValid(prevIndex,placeholders)) {
      return placeholders.get(prevIndex);
    }
  }
  return null;
}
