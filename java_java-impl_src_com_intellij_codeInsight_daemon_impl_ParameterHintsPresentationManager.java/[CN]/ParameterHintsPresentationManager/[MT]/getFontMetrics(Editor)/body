{
  String familyName=UIManager.getFont("Label.font").getFamily();
  int size=Math.max(1,editor.getColorsScheme().getEditorFontSize() - 1);
  FontMetrics metrics=editor.getUserData(HINT_FONT_METRICS);
  if (metrics != null) {
    Font font=metrics.getFont();
    if (!familyName.equals(font.getFamily()) || size != font.getSize())     metrics=null;
  }
  if (metrics == null) {
    Font font=new Font(familyName,Font.PLAIN,size);
    metrics=FontInfo.createReferenceGraphics().getFontMetrics(font);
    editor.putUserData(HINT_FONT_METRICS,metrics);
  }
  return metrics;
}
