{
  final MyEmptyProcessHandler handler=new MyEmptyProcessHandler();
  ImportedTestConsoleProperties consoleProperties=new ImportedTestConsoleProperties(myProperties,myFile,handler);
  final BaseTestsOutputConsoleView console=SMTestRunnerConnectionUtil.createConsole(consoleProperties.getTestFrameworkName(),consoleProperties);
  final JComponent component=console.getComponent();
  AbstractRerunFailedTestsAction rerunFailedTestsAction=null;
  if (component instanceof TestFrameworkRunningModel) {
    rerunFailedTestsAction=consoleProperties.createRerunFailedTestsAction(console);
    if (rerunFailedTestsAction != null) {
      rerunFailedTestsAction.setModelProvider(new Getter<TestFrameworkRunningModel>(){
        @Override public TestFrameworkRunningModel get(){
          return (TestFrameworkRunningModel)component;
        }
      }
);
    }
  }
  console.attachToProcess(handler);
  final DefaultExecutionResult result=new DefaultExecutionResult(console,handler);
  if (rerunFailedTestsAction != null) {
    result.setRestartActions(rerunFailedTestsAction);
  }
  return result;
}
