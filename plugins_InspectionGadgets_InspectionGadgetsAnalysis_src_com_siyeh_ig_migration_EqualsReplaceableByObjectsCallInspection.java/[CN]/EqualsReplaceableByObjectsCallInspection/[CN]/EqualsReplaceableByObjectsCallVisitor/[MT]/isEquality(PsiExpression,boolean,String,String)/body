{
  expression=ParenthesesUtils.stripParentheses(expression);
  if (!(expression instanceof PsiBinaryExpression)) {
    return false;
  }
  final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)expression;
  if (equals) {
    if (!JavaTokenType.EQEQ.equals(binaryExpression.getOperationTokenType())) {
      return false;
    }
  }
 else {
    if (!JavaTokenType.NE.equals(binaryExpression.getOperationTokenType())) {
      return false;
    }
  }
  final PsiExpression leftOperand=ParenthesesUtils.stripParentheses(binaryExpression.getLOperand());
  final PsiExpression rightOperand=ParenthesesUtils.stripParentheses(binaryExpression.getROperand());
  final String leftName=getQualifiedVariableName(leftOperand);
  final String rightName=getQualifiedVariableName(rightOperand);
  return leftName != null && rightName != null && (leftName.equals(qualifiedName1) && rightName.equals(qualifiedName2) || leftName.equals(qualifiedName2) && rightName.equals(qualifiedName1));
}
