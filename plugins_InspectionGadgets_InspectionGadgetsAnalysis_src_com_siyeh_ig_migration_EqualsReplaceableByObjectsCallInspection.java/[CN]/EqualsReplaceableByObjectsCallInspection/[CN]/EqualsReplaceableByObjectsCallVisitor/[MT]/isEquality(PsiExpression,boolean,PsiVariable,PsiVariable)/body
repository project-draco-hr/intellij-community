{
  expression=ParenthesesUtils.stripParentheses(expression);
  if (!(expression instanceof PsiBinaryExpression)) {
    return false;
  }
  final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)expression;
  if (equals) {
    if (!JavaTokenType.EQEQ.equals(binaryExpression.getOperationTokenType())) {
      return false;
    }
  }
 else {
    if (!JavaTokenType.NE.equals(binaryExpression.getOperationTokenType())) {
      return false;
    }
  }
  final PsiExpression lhs=binaryExpression.getLOperand();
  final PsiExpression rhs=binaryExpression.getROperand();
  return (VariableAccessUtils.evaluatesToVariable(lhs,variable1) && VariableAccessUtils.evaluatesToVariable(rhs,variable2)) || (VariableAccessUtils.evaluatesToVariable(lhs,variable2) && VariableAccessUtils.evaluatesToVariable(rhs,variable1));
}
