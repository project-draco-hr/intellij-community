{
  final String methodName=expression.getMethodExpression().getReferenceName();
  if (!HardcodedMethodConstants.EQUALS.equals(methodName)) {
    return;
  }
  final PsiExpression qualifierExpression=getQualifierExpression(expression);
  if (qualifierExpression instanceof PsiThisExpression || qualifierExpression instanceof PsiSuperExpression) {
    return;
  }
  final PsiElement maybeBinary=PsiTreeUtil.skipParentsOfType(expression,PsiParenthesizedExpression.class,PsiPrefixExpression.class);
  if (maybeBinary instanceof PsiBinaryExpression) {
    if (processNotNullCheck((PsiBinaryExpression)maybeBinary)) {
      return;
    }
  }
  if (!checkNotNull) {
    if (qualifierExpression == null) {
      return;
    }
    final PsiExpression argumentExpression=getArgumentExpression(expression);
    if (argumentExpression == null) {
      return;
    }
    registerError(expression,qualifierExpression.getText(),argumentExpression.getText(),true);
  }
}
