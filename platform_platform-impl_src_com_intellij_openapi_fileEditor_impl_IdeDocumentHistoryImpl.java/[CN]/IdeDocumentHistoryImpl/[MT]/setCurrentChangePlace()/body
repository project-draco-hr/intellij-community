{
  final PlaceInfo placeInfo=getCurrentPlaceInfo();
  if (placeInfo == null) {
    return;
  }
  final VirtualFile file=placeInfo.getFile();
  if (myChangedFilesInCurrentCommand.contains(file)) {
    myRecentlyChangedFiles.register(file);
    myCurrentChangePlace=placeInfo;
    if (!myChangePlaces.isEmpty()) {
      final PlaceInfo lastInfo=myChangePlaces.getLast();
      if (isSame(placeInfo,lastInfo)) {
        myChangePlaces.removeLast();
      }
    }
    myCurrentIndex=myStartIndex + myChangePlaces.size();
  }
}
