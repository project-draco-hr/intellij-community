{
  if (nextOffsets[offset] == null) {
    nextOffsets[offset]=new int[]{nextOffset,-1};
  }
 else {
    int[] targets=nextOffsets[offset];
    if (ArrayUtil.indexOf(targets,nextOffset) < 0) {
      int freeIndex=ArrayUtil.indexOf(targets,-1);
      if (freeIndex >= 0) {
        targets[freeIndex]=nextOffset;
      }
 else {
        int oldLength=targets.length;
        nextOffsets[offset]=targets=ArrayUtil.realloc(targets,oldLength * 3 / 2);
        Arrays.fill(targets,oldLength,targets.length,-1);
        targets[oldLength]=nextOffset;
      }
    }
  }
}
