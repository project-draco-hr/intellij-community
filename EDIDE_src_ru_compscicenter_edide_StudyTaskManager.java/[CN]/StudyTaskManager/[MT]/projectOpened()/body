{
  ApplicationManager.getApplication().invokeLater(new DumbAwareRunnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new DumbAwareRunnable(){
        @Override public void run(){
          if (myCourse != null) {
            UISettings.getInstance().HIDE_TOOL_STRIPES=false;
            UISettings.getInstance().fireUISettingsChanged();
            ToolWindowManager.getInstance(myProject).registerToolWindow(StudyToolWindowFactory.STUDY_TOOL_WINDOW,true,ToolWindowAnchor.RIGHT);
            final ToolWindow newWindow=ToolWindowManager.getInstance(myProject).getToolWindow("StudyToolWindow");
            if (newWindow != null) {
              StudyUtils.updateStudyToolWindow(myProject);
              newWindow.setIcon(StudyIcons.ShortcutReminder);
              newWindow.show(null);
            }
            addShortcut("ctrl pressed PERIOD","NextWindow");
            addShortcut("ctrl pressed COMMA","PrevWindowAction");
            addShortcut("ctrl pressed 7","ShowHintAction");
          }
        }
      }
);
    }
  }
);
}
