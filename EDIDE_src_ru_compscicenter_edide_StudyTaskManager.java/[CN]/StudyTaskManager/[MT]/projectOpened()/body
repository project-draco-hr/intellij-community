{
  ApplicationManager.getApplication().invokeLater(new DumbAwareRunnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new DumbAwareRunnable(){
        @Override public void run(){
          if (myCourse != null) {
            UISettings.getInstance().HIDE_TOOL_STRIPES=false;
            UISettings.getInstance().fireUISettingsChanged();
            ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(myProject);
            String toolWindowId=StudyToolWindowFactory.STUDY_TOOL_WINDOW;
            toolWindowManager.registerToolWindow(toolWindowId,true,ToolWindowAnchor.RIGHT,myProject,true);
            final ToolWindow studyToolWindow=toolWindowManager.getToolWindow(toolWindowId);
            if (studyToolWindow != null) {
              StudyUtils.updateStudyToolWindow(myProject);
              studyToolWindow.setIcon(StudyIcons.ShortcutReminder);
              studyToolWindow.show(null);
            }
            addShortcut(NextWindowAction.SHORTCUT,NextWindowAction.ACTION_ID);
            addShortcut(PrevWindowAction.SHORTCUT,PrevWindowAction.ACTION_ID);
            addShortcut(ShowHintAction.SHORTCUT,ShowHintAction.ACTION_ID);
            addShortcut(NextWindowAction.SHORTCUT2,NextWindowAction.ACTION_ID);
          }
        }
      }
);
    }
  }
);
}
