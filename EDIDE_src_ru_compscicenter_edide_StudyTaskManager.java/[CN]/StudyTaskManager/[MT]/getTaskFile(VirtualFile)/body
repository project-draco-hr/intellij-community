{
  VirtualFile fileParent=file.getParent();
  if (fileParent != null) {
    String taskDirName=fileParent.getName();
    if (taskDirName.contains(Task.TASK_DIR)) {
      VirtualFile lessonDir=fileParent.getParent();
      if (lessonDir != null) {
        String lessonDirName=lessonDir.getName();
        int lessonIndex=getIndex(lessonDirName,Lesson.LESSON_DIR);
        Lesson lesson=myCourse.getLessons().get(lessonIndex);
        int taskIndex=getIndex(taskDirName,Task.TASK_DIR);
        Task task=lesson.getTaskList().get(taskIndex);
        return task.getFile(file.getName());
      }
    }
  }
  return null;
}
