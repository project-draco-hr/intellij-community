{
  if (myCourse == null) {
    return null;
  }
  VirtualFile taskDir=file.getParent();
  if (taskDir != null) {
    String taskDirName=taskDir.getName();
    if (taskDirName.contains(Task.TASK_DIR)) {
      VirtualFile lessonDir=taskDir.getParent();
      if (lessonDir != null) {
        String lessonDirName=lessonDir.getName();
        int lessonIndex=StudyUtils.getIndex(lessonDirName,Lesson.LESSON_DIR);
        Lesson lesson=myCourse.getLessons().get(lessonIndex);
        int taskIndex=StudyUtils.getIndex(taskDirName,Task.TASK_DIR);
        Task task=lesson.getTaskList().get(taskIndex);
        return task.getFile(file.getName());
      }
    }
  }
  return null;
}
