{
  final CommandGroup commandGroup=getNextCommandGroup();
  if (commandGroup == null || commandGroup.isEmpty())   return false;
  final Condition conditionForGroup=commandGroup.getExpireCondition();
  final FinalizableCommand command=commandGroup.takeNextCommand();
  myCommandCount--;
  Condition expire=command.getExpireCondition() != null ? command.getExpireCondition() : conditionForGroup;
  if (expire == null)   expire=ApplicationManager.getApplication().getDisposed();
  if (expire.value(null))   return true;
  if (LOG.isDebugEnabled()) {
    LOG.debug("CommandProcessor.run " + command);
  }
  command.run();
  return true;
}
