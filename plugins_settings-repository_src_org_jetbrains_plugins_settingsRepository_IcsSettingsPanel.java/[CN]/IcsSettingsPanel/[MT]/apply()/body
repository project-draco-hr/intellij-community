{
  IcsSettings settings=IcsManager.getInstance().getSettings();
  boolean settingsModified=false;
  boolean updateOnStart=updateOnStartCheckBox.isSelected();
  if (updateOnStart != settings.getUpdateOnStart()) {
    settings.setUpdateOnStart(updateOnStart);
    settingsModified=true;
  }
  boolean shareProjectWorkspace=shareProjectWorkspaceCheckBox.isSelected();
  if (shareProjectWorkspace != settings.getShareProjectWorkspace()) {
    settings.setShareProjectWorkspace(shareProjectWorkspace);
    settingsModified=true;
  }
  if (!saveRemoteRepositoryUrl()) {
    return false;
  }
  if (settingsModified) {
    ApplicationManager.getApplication().executeOnPooledThread(new Callable<Object>(){
      @Override public Object call() throws Exception {
        IcsManager.getInstance().getSettings().save();
        return null;
      }
    }
);
  }
  return true;
}
