{
  orderNodes();
  List<IGraphNode> lstNodes=colOrderedIDoms.getLstKeys();
  for (; ; ) {
    boolean changed=false;
    for (    IGraphNode node : lstNodes) {
      IGraphNode idom=null;
      if (!setRoots.contains(node)) {
        for (        IGraphNode pred : node.getPredecessors()) {
          if (colOrderedIDoms.getWithKey(pred) != null) {
            idom=getCommonIDom(idom,pred,colOrderedIDoms);
            if (idom == null) {
              break;
            }
          }
        }
      }
      if (idom == null) {
        idom=node;
      }
      IGraphNode oldidom=colOrderedIDoms.putWithKey(idom,node);
      if (!idom.equals(oldidom)) {
        changed=true;
      }
    }
    if (!changed) {
      break;
    }
  }
}
