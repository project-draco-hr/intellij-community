{
  new Task.Backgroundable(myProject,"Rebasing...",false){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      final GitLineHandler h=new GitLineHandler(GitActionHandlerImpl.this.myProject,myRepository.getRoot(),GitCommand.REBASE);
      GitRebaseEditorService rebaseEditorService=GitRebaseEditorService.getInstance();
      TrivialEditor editor=new TrivialEditor(rebaseEditorService,GitActionHandlerImpl.this.myProject,myRepository.getRoot(),h);
      Integer rebaseEditorNo=editor.getHandlerNo();
      rebaseEditorService.configureHandler(h,rebaseEditorNo);
      GitRebaser rebaser=new GitRebaser(myProject,myGit,null){
        @Override protected GitLineHandler createHandler(        VirtualFile root){
          return h;
        }
      }
;
      rebaser.continueRebase(myRepository.getRoot());
    }
    @Override public void onSuccess(){
      refresh();
    }
    @Override public void onCancel(){
      onSuccess();
    }
  }
.queue();
}
