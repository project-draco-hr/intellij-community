{
  final GitLineHandler h=new GitLineHandler(myProject,myRepository.getRoot(),GitCommand.REBASE);
  h.addParameters("-i");
  GitRebaseEditorService rebaseEditorService=GitRebaseEditorService.getInstance();
  RebaseEditor editor=new RebaseEditor(rebaseEditorService,myRepository.getRoot(),commands,h);
  Integer rebaseEditorNo=editor.getHandlerNo();
  rebaseEditorService.configureHandler(h,rebaseEditorNo);
  GitRebaser rebaser=new GitRebaser(myProject,myGit,null){
    @Override protected GitLineHandler createHandler(    VirtualFile root){
      return h;
    }
    @Override protected void makeContinueRebaseInteractiveEditor(    VirtualFile root,    GitLineHandler rh){
      GitRebaseEditorService rebaseEditorService=GitRebaseEditorService.getInstance();
      RebaseEditor editor=new RebaseEditor(rebaseEditorService,root,commands,rh);
      Integer rebaseEditorNo=editor.getHandlerNo();
      rebaseEditorService.configureHandler(rh,rebaseEditorNo);
    }
  }
;
  doRebase(onto,subjectRef,callback,rebaser);
}
