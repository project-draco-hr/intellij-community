{
  PsiElement toSelect=null;
  for (  TreeStructureProvider provider : getProvidersDumbAware()) {
    if (provider instanceof SelectableTreeStructureProvider) {
      toSelect=((SelectableTreeStructureProvider)provider).getTopLevelElement(element);
    }
    if (toSelect != null)     break;
  }
  toSelect=findElementToSelect(element,toSelect);
  if (toSelect != null) {
    VirtualFile virtualFile=PsiUtilCore.getVirtualFile(toSelect);
    select(toSelect,virtualFile,requestFocus);
  }
}
