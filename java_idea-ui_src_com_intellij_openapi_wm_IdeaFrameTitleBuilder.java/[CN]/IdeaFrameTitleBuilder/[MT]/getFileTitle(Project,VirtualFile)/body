{
  String fileTitle=EditorTabbedContainer.calcTabTitle(project,file);
  if (SystemInfo.isMac)   return fileTitle;
  VirtualFile parent=file.getParent();
  if (parent == null || !fileTitle.endsWith(file.getPresentableName()))   return fileTitle;
  String url=FileUtil.getLocationRelativeToUserHome(parent.getPresentableUrl() + File.separator + file.getName());
  return ProjectUtilCore.displayUrlRelativeToProject(file,url,project,!SystemInfo.isMac,false);
}
