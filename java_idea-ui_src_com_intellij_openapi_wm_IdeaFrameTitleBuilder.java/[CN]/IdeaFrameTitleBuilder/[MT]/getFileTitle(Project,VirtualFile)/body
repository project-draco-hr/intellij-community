{
  String fileTitle=EditorTabbedContainer.calcTabTitle(project,file);
  if (SystemInfo.isMac)   return fileTitle;
  VirtualFile parent=file.getParent();
  if (parent == null || !fileTitle.endsWith(file.getName()))   return fileTitle;
  String url=FileUtil.getLocationRelativeToUserHome(parent.getPresentableUrl() + "/" + PathUtil.getFileName(fileTitle));
  return ProjectUtilCore.displayUrlRelativeToProject(file,url,project,!SystemInfo.isMac,false);
}
