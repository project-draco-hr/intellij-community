{
  super.checkConfiguration();
  final PsiClass toRun=getScriptClass();
  if (toRun == null) {
    throw new RuntimeConfigurationWarning(GroovyBundle.message("class.does.not.exist"));
  }
  if (toRun instanceof GrTypeDefinition) {
    if (!GroovyRunnerPsiUtil.canBeRunByGroovy(toRun)) {
      throw new RuntimeConfigurationWarning(GroovyBundle.message("class.cannot.be.executed"));
    }
  }
 else {
    throw new RuntimeConfigurationWarning(GroovyBundle.message("script.file.is.not.groovy.file"));
  }
}
