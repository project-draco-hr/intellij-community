{
  final ParseResult result=PyNewStyleStringFormatParser.parse("'{foo} {} {bar} {0} {}'");
  final List<Field> topLevelFields=result.getFields();
  assertSize(5,topLevelFields);
  assertEquals("foo",topLevelFields.get(0).getMappingKey());
  assertNull(topLevelFields.get(0).getPosition());
  assertNull(topLevelFields.get(0).getAutoPosition());
  assertNull(topLevelFields.get(1).getMappingKey());
  assertNull(topLevelFields.get(1).getPosition());
  assertEquals(0,(int)topLevelFields.get(1).getAutoPosition());
  assertEquals("bar",topLevelFields.get(2).getMappingKey());
  assertNull(topLevelFields.get(2).getPosition());
  assertNull(topLevelFields.get(2).getAutoPosition());
  assertNull(topLevelFields.get(3).getMappingKey());
  assertEquals(0,(int)topLevelFields.get(3).getPosition());
  assertNull(topLevelFields.get(3).getAutoPosition());
  assertNull(topLevelFields.get(4).getMappingKey());
  assertNull(topLevelFields.get(4).getPosition());
  assertEquals(1,(int)topLevelFields.get(4).getAutoPosition());
}
