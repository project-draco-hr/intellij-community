{
  final Ref<Instruction> head=new Ref<Instruction>(myBuilder.prevInstruction);
  myBuilder.processPending(new ControlFlowBuilder.PendingProcessor(){
    public void process(    final PsiElement pendingScope,    final Instruction instruction){
      if (pendingScope != null && PsiTreeUtil.isAncestor(condition,pendingScope,false)) {
        head.set(instruction);
      }
 else {
        myBuilder.addPendingEdge(pendingScope,instruction);
      }
    }
  }
);
  return head.get();
}
