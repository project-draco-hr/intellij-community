{
  myEnabledDetectionCheckBox=new JCheckBox("Enable framework detection");
  myEnabledDetectionCheckBox.setBorder(new EmptyBorder(10,10,0,0));
  final JBList excludesList=new JBList(myModel);
  final ColoredListCellRenderer renderer=new ColoredListCellRenderer(){
    JPanel panel=new JPanel(new BorderLayout());
{
      panel.setBorder(new EmptyBorder(2,10,2,0));
      panel.add(this);
    }
    @Override protected void customizeCellRenderer(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      setIconTextGap(4);
      if (value instanceof ExcludeListItem) {
        ((ExcludeListItem)value).renderItem(this);
        setBorder(new EmptyBorder(0,10,0,0));
      }
    }
    @Override public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      super.getListCellRendererComponent(list,value,index,selected,hasFocus);
      panel.setBackground(UIUtil.getListBackground(selected));
      return panel;
    }
  }
;
  renderer.setMyBorder(new EmptyBorder(0,0,0,0));
  excludesList.setCellRenderer(renderer);
  final ToolbarDecorator decorator=ToolbarDecorator.createDecorator(excludesList).disableUpAction().disableDownAction().setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      doAddAction(button);
    }
  }
);
  decorator.setPanelBorder(new CustomLineBorder(1,0,0,0));
  myMainPanel=new JPanel(new BorderLayout(0,5));
  myMainPanel.add(myEnabledDetectionCheckBox,BorderLayout.NORTH);
  final LabeledComponent<JPanel> excludesComponent=LabeledComponent.create(decorator.createPanel(),"   Exclude from detection:");
  myMainPanel.add(excludesComponent);
  myEnabledDetectionCheckBox.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      GuiUtils.enableChildren(myEnabledDetectionCheckBox.isSelected(),excludesComponent);
    }
  }
);
  myEnabledDetectionCheckBox.setSelected(true);
  return myMainPanel;
}
