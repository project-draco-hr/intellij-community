{
  for (  final PsiElement declaredVar : getNamedElementsOfForAndWithStatements(statement)) {
    final Filter filter=new Filter(handleSubscriptionsAndResolveSafely(declaredVar));
    final PsiElement firstParent=PsiTreeUtil.findFirstParent(statement,true,filter);
    if ((firstParent != null) && isRequiredStatement(firstParent)) {
      if ((firstParent instanceof PyForStatement) && isDeclaredInElse(statement,(PyForStatement)firstParent)) {
        continue;
      }
      registerProblem(declaredVar,PyBundle.message("INSP.NAME.assignment.to.loop.or.with.parameter.display.message",declaredVar.getText()));
    }
  }
}
