{
  RefreshLogAction refreshLogAction=new RefreshLogAction();
  refreshLogAction.registerShortcutOn(this);
  DefaultActionGroup toolbarGroup=new DefaultActionGroup();
  toolbarGroup.add(ActionManager.getInstance().getAction(VcsLogActionPlaces.TOOLBAR_ACTION_GROUP));
  toolbarGroup.add(refreshLogAction,new Constraints(Anchor.AFTER,"Vcs.Log.ShowLongEdges"));
  DefaultActionGroup mainGroup=new DefaultActionGroup();
  mainGroup.add(myFilterUi.createActionGroup());
  mainGroup.addSeparator();
  if (BekSorter.isBekEnabled()) {
    if (BekSorter.isLinearBekEnabled()) {
      mainGroup.add(new IntelliSortChooserPopupAction());
    }
 else {
      mainGroup.add(ActionManager.getInstance().getAction(VcsLogActionPlaces.VCS_LOG_INTELLI_SORT_ACTION));
    }
  }
  mainGroup.add(toolbarGroup);
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.CHANGES_VIEW_TOOLBAR,mainGroup,true);
  toolbar.setTargetComponent(this);
  return toolbar.getComponent();
}
