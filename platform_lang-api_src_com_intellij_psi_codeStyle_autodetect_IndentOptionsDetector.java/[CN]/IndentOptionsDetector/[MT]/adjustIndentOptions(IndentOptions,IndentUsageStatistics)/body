{
  int linesWithTabs=stats.getTotalLinesWithLeadingTabs();
  int linesWithWhiteSpaceIndent=stats.getTotalLinesWithLeadingSpaces();
  int totalLines=linesWithTabs + linesWithWhiteSpaceIndent;
  double lineWithTabsRate=(double)linesWithTabs / totalLines;
  if (linesWithTabs > MIN_LINES_THRESHOLD && lineWithTabsRate > RATE_THRESHOLD) {
    if (!indentOptions.USE_TAB_CHARACTER) {
      indentOptions.USE_TAB_CHARACTER=true;
      LOG.info("Detected tab usage in" + myFile);
    }
  }
 else   if (linesWithWhiteSpaceIndent > MIN_LINES_THRESHOLD && (1 - lineWithTabsRate) > RATE_THRESHOLD) {
    int newIndentSize=getPositiveIndentSize(stats);
    if (newIndentSize > 0 && indentOptions.INDENT_SIZE != newIndentSize) {
      indentOptions.INDENT_SIZE=newIndentSize;
      LOG.info("Detected indent size: " + newIndentSize + " for file "+ myFile);
    }
  }
}
