{
  if (!isApplicableFor(configuration)) {
    return;
  }
  final CoverageEnabledConfiguration coverageEnabledConfiguration=JavaCoverageEnabledConfiguration.getFrom(configuration);
  if (coverageEnabledConfiguration.isCoverageEnabled()) {
    handler.addProcessListener(new ProcessAdapter(){
      public void processTerminated(      final ProcessEvent event){
        final CoverageDataManager coverageDataManager=CoverageDataManager.getInstance(configuration.getProject());
        final CoverageEnabledConfiguration coverageEnabledConfiguration=JavaCoverageEnabledConfiguration.getFrom(configuration);
        final CoverageSuite coverageSuite=coverageEnabledConfiguration.getCurrentCoverageSuite();
        if (coverageSuite != null) {
          coverageDataManager.coverageGathered(coverageSuite);
        }
      }
    }
);
  }
}
