{
  final QuickMergeContentsVariants variant=myInteraction.selectMergeVariant();
  if (QuickMergeContentsVariants.cancel == variant)   return;
  if (QuickMergeContentsVariants.all == variant) {
    insertMergeAll(context);
    return;
  }
  if (QuickMergeContentsVariants.showLatest == variant) {
    final LoadRecentBranchRevisions loader=new LoadRecentBranchRevisions(myMergeContext.getBranchName(),-1,myMergeContext.getWcInfo(),myMergeContext.getVcs(),myMergeContext.getSourceUrl());
    final ShowRecentInDialogTask dialog=new ShowRecentInDialogTask(myMergeContext,myInteraction,loader);
    context.next(loader,dialog);
    return;
  }
  final MergeCalculatorTask calculator;
  try {
    calculator=new MergeCalculatorTask(myMergeContext,myInteraction);
  }
 catch (  VcsException e) {
    finishWithError(context,e.getMessage(),true);
    return;
  }
  context.next(myMergeContext.getVcs().getSvnBranchPointsCalculator().getFirstCopyPointTask(myMergeContext.getWcInfo().getRepositoryRoot(),myMergeContext.getWcInfo().getRootUrl(),myMergeContext.getSourceUrl(),calculator),calculator);
}
