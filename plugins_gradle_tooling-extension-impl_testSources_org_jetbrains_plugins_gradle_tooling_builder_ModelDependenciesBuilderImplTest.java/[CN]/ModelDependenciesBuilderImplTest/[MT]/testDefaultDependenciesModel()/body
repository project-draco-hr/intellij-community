{
  DomainObjectSet<? extends IdeaModule> ideaModules=allModels.getIdeaProject().getModules();
  final int modulesSize=3;
  assertEquals(modulesSize,ideaModules.size());
  for (  IdeaModule ideaModule : ideaModules) {
    if (ideaModule.getName().equals("dependencyProject") || ideaModule.getName().equals("testDefaultDependenciesModel")) {
      DomainObjectSet<? extends IdeaDependency> dependencies=ideaModule.getDependencies();
      assertTrue((dependencies.isEmpty()));
    }
 else     if (ideaModule.getName().equals("dependentProject")) {
      DomainObjectSet<? extends IdeaDependency> dependencies=ideaModule.getDependencies();
      assertEquals(1,dependencies.size());
      assertTrue(dependencies.getAt(0) instanceof IdeaModuleDependency);
      IdeaModuleDependency moduleDependency=(IdeaModuleDependency)dependencies.getAt(0);
      assertEquals("dependencyProject",moduleDependency.getDependencyModule().getName());
      assertEquals("COMPILE",moduleDependency.getScope().getScope());
      if (GradleVersion.version(gradleVersion).compareTo(GradleVersion.version("2.5")) < 0) {
        assertTrue(moduleDependency.getExported());
      }
 else {
        assertFalse(moduleDependency.getExported());
      }
    }
 else {
      fail();
    }
  }
}
