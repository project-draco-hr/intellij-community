{
  WindowState state=getImpl(DimensionService.getKey(screen,key));
  if (state == null) {
    state=getImpl(key);
    if (state == null) {
      state=new WindowState();
      state.myLocation=getDefaultLocationOn(screen,key);
      state.mySize=getDefaultSizeOn(screen,key);
      state.myState=getDefaultExtendedStateOn(screen,key);
      if (!state.isVisible()) {
        return null;
      }
    }
  }
  return state;
}
