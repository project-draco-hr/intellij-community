{
  MavenExecutionRequest request=createRequest(file,activeProfiles,inactiveProfiles,goals);
  if (!selectedProjects.isEmpty()) {
    request.setRecursive(true);
    request.setSelectedProjects(selectedProjects);
    if (alsoMake && alsoMakeDependents) {
      request.setMakeBehavior(ReactorManager.MAKE_BOTH_MODE);
    }
 else     if (alsoMake) {
      request.setMakeBehavior(ReactorManager.MAKE_MODE);
    }
 else     if (alsoMakeDependents) {
      request.setMakeBehavior(ReactorManager.MAKE_DEPENDENTS_MODE);
    }
  }
  org.apache.maven.execution.MavenExecutionResult executionResult=safeExecute(request,getComponent(Maven.class));
  return new MavenExecutionResult(executionResult.getProject(),filterExceptions(executionResult.getExceptions()));
}
