{
  PsiModifierListOwner var=getPsiVariable();
  Nullness nullability=DfaPsiUtil.getElementNullability(getVariableType(),var);
  if (nullability != Nullness.UNKNOWN) {
    return nullability;
  }
  Nullness defaultNullability=var instanceof PsiMember && myFactory.isUnknownMembersAreNullable() ? Nullness.NULLABLE : Nullness.UNKNOWN;
  if (var instanceof PsiParameter && var.getParent() instanceof PsiForeachStatement) {
    PsiExpression iteratedValue=((PsiForeachStatement)var.getParent()).getIteratedValue();
    if (iteratedValue != null) {
      PsiType itemType=JavaGenericsUtil.getCollectionItemType(iteratedValue);
      if (itemType != null) {
        return DfaPsiUtil.getElementNullability(itemType,var);
      }
    }
  }
  if (var instanceof PsiField && DfaPsiUtil.isFinalField((PsiVariable)var) && myFactory.isHonorFieldInitializers()) {
    List<PsiExpression> initializers=DfaPsiUtil.findAllConstructorInitializers((PsiField)var);
    if (initializers.isEmpty()) {
      return defaultNullability;
    }
    boolean hasUnknowns=false;
    for (    PsiExpression expression : initializers) {
      if (!(expression instanceof PsiReferenceExpression)) {
        hasUnknowns=true;
        continue;
      }
      PsiElement target=((PsiReferenceExpression)expression).resolve();
      if (!(target instanceof PsiParameter)) {
        hasUnknowns=true;
        continue;
      }
      if (NullableNotNullManager.isNullable((PsiParameter)target)) {
        return Nullness.NULLABLE;
      }
      if (!NullableNotNullManager.isNotNull((PsiParameter)target)) {
        hasUnknowns=true;
      }
    }
    if (hasUnknowns) {
      if (DfaPsiUtil.isInitializedNotNull((PsiField)var)) {
        return Nullness.NOT_NULL;
      }
      return defaultNullability;
    }
    return Nullness.NOT_NULL;
  }
  return defaultNullability;
}
