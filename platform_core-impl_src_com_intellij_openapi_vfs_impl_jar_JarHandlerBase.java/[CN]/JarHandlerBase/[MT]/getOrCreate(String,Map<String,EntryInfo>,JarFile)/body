{
  EntryInfo info=map.get(entryName);
  if (info == null) {
    JarFile.JarEntry entry=zip.getEntry(entryName + "/");
    if (entry != null) {
      return getOrCreate(entry,map,zip);
    }
    int idx=entryName.lastIndexOf('/');
    String parentName=idx > 0 ? entryName.substring(0,idx) : "";
    String shortName=idx > 0 ? entryName.substring(idx + 1) : entryName;
    EntryInfo parentInfo=getOrCreate(parentName,map,zip);
    info=new EntryInfo(parentInfo,shortName,true,DEFAULT_LENGTH,DEFAULT_TIMESTAMP);
    map.put(entryName,info);
  }
  if (!info.isDirectory) {
    LOG.info(zip.getZipFile().getName() + ": " + entryName+ " should be a directory");
    info=new EntryInfo(info.parent,info.shortName,true,info.length,info.timestamp);
    map.put(entryName,info);
  }
  return info;
}
