{
  boolean isDirectory=entry.isDirectory();
  String entryName=entry.getName();
  if (StringUtil.endsWithChar(entryName,'/')) {
    entryName=entryName.substring(0,entryName.length() - 1);
    isDirectory=true;
  }
  EntryInfo info=map.get(entryName);
  if (info != null)   return info;
  int idx=entryName.lastIndexOf('/');
  String parentName=idx > 0 ? entryName.substring(0,idx) : "";
  String shortName=idx > 0 ? entryName.substring(idx + 1) : entryName;
  EntryInfo parentInfo=getOrCreate(parentName,map,zip);
  if (".".equals(shortName)) {
    return parentInfo;
  }
  info=new EntryInfo(parentInfo,shortName,isDirectory,entry.getSize(),entry.getTime());
  map.put(entryName,info);
  return info;
}
