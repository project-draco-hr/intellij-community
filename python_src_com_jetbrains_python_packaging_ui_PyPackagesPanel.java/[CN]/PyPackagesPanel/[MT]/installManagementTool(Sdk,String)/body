{
  final PyPackageManagerImpl.UI ui=new PyPackageManagerImpl.UI(myProject,sdk,new PyPackageManagerImpl.UI.Listener(){
    @Override public void started(){
      myPackagesTable.setPaintBusy(true);
    }
    @Override public void finished(    List<PyExternalProcessException> exceptions){
      myPackagesTable.setPaintBusy(false);
      PyPackageManagerImpl packageManager=(PyPackageManagerImpl)PyPackageManager.getInstance(sdk);
      if (!exceptions.isEmpty()) {
        final String firstLine="Install package failed. ";
        final String description=PyPackageManagerImpl.UI.createDescription(exceptions,firstLine);
        packageManager.showInstallationError(myProject,"Failed to install " + name,description);
      }
      packageManager.refresh();
      updatePackages(sdk);
      for (      Consumer<Sdk> listener : myPathChangedListeners) {
        listener.consume(sdk);
      }
      updateNotifications(sdk);
    }
  }
);
  ui.installManagement(name);
}
