{
  try {
    mySocket=myServerSocket.accept();
    try {
      final CantRunException[] ex=new CantRunException[1];
      DumbService.getInstance(myProject).repeatUntilPassesInSmartMode(new Runnable(){
        @Override public void run(){
          myClasses.clear();
          try {
            fillTestObjects(myClasses);
          }
 catch (          CantRunException e) {
            ex[0]=e;
          }
        }
      }
);
      if (ex[0] != null)       throw ex[0];
    }
 catch (    CantRunException e) {
      logCantRunException(e);
    }
  }
 catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  IOException e) {
    LOG.info(e);
  }
catch (  Throwable e) {
    LOG.error(e);
  }
}
