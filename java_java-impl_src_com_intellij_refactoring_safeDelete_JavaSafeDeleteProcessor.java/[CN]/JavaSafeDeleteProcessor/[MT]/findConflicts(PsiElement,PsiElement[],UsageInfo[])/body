{
  String methodRefFound=null;
  if (!ApplicationManager.getApplication().isUnitTestMode() && (element instanceof PsiMethod || element instanceof PsiParameter)) {
    for (    UsageInfo usage : usages) {
      final PsiElement refElement=usage.getElement();
      if (refElement instanceof PsiMethodReferenceExpression) {
        methodRefFound=RefactoringBundle.message("expand.method.reference.warning");
        break;
      }
    }
  }
  if (methodRefFound != null) {
    Collection<String> result=new ArrayList<>();
    result.add(methodRefFound);
    final Collection<String> conflicts=super.findConflicts(element,elements,usages);
    if (conflicts != null) {
      result.addAll(conflicts);
    }
    return result;
  }
  return super.findConflicts(element,elements,usages);
}
