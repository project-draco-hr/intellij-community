{
  int line1=getStartLine(ThreeSide.BASE);
  int line2=getEndLine(ThreeSide.BASE);
  int baseIndex=ThreeSide.BASE.getIndex();
  UpdatedLineRange newRange=DiffUtil.updateRangeOnModification(line1,line2,oldLine1,oldLine2,shift);
  myStartLines[baseIndex]=newRange.startLine;
  myEndLines[baseIndex]=newRange.endLine;
  boolean rangeAffected=oldLine2 >= line1 && oldLine1 <= line2;
  if (newRange.startLine == newRange.endLine && getDiffType() == TextDiffType.DELETED) {
    myViewer.markResolved(this);
  }
  return newRange.damaged || rangeAffected;
}
