{
  int line1=getStartLine(ThreeSide.BASE);
  int line2=getEndLine(ThreeSide.BASE);
  UpdatedLineRange newRange=DiffUtil.updateRangeOnModification(line1,line2,oldLine1,oldLine2,shift);
  setStartLine(ThreeSide.BASE,newRange.startLine);
  setEndLine(ThreeSide.BASE,newRange.endLine);
  boolean rangeAffected=oldLine2 >= line1 && oldLine1 <= line2;
  if (newRange.startLine == newRange.endLine && getDiffType() == TextDiffType.DELETED) {
    myViewer.markResolved(this);
  }
  return newRange.damaged || rangeAffected;
}
