{
  assumeTrue(SystemInfo.isWindows);
  Pair<GeneralCommandLine,File> command=makeHelperCommand(null,CommandTestHelper.ARG);
  File script=ExecUtil.createTempExecutableScript("my script ",".cmd","@" + command.first.getCommandLineString() + " %*");
  try {
    GeneralCommandLine commandLine=new GeneralCommandLine(ExecUtil.getWindowsShellName(),"/D","/C","call",script.getAbsolutePath());
    commandLine.addParameters(ARGUMENTS);
    String output=execHelper(pair(commandLine,command.second));
    checkParamPassing(output,ARGUMENTS);
  }
  finally {
    FileUtil.delete(script);
  }
}
