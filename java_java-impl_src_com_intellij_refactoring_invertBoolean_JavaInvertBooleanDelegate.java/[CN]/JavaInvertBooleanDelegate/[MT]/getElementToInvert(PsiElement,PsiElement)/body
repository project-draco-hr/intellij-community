{
  if (element instanceof PsiReferenceExpression) {
    final PsiReferenceExpression refExpr=(PsiReferenceExpression)element;
    PsiElement parent=refExpr.getParent();
    if (parent instanceof PsiAssignmentExpression && refExpr.equals(((PsiAssignmentExpression)parent).getLExpression())) {
      return ((PsiAssignmentExpression)parent).getRExpression();
    }
 else {
      if (namedElement instanceof PsiParameter) {
        PsiElement gParent=refExpr.getParent().getParent();
        if (gParent instanceof PsiMethodCallExpression) {
          if (!canInvertReferenceElement(((PsiMethodCallExpression)gParent).getMethodExpression(),true)) {
            return null;
          }
        }
      }
      return refExpr;
    }
  }
  return null;
}
