{
  final Project project=baseElement.getProject();
  final FileBasedIndex index=FileBasedIndex.getInstance();
  final Ref<Pair<VirtualFile,Integer>> reference=new Ref<>();
  final GlobalSearchScope filter=schemaId == null ? GlobalSearchScope.fileScope(baseElement.getContainingFile()) : JsonSchemaResourcesRootsProvider.enlarge(project,GlobalSearchScope.allScope(project));
  index.processValues(JsonSchemaFileIndex.PROPERTIES_INDEX,ref,null,new FileBasedIndex.ValueProcessor<Integer>(){
    @Override public boolean process(    VirtualFile file,    Integer value){
      if (schemaId != null) {
        if (!JsonSchemaService.Impl.getEx(project).checkFileForId(schemaId,file)) {
          return true;
        }
      }
      reference.set(Pair.create(file,value));
      return false;
    }
  }
,filter);
  if (!reference.isNull()) {
    final Pair<VirtualFile,Integer> pair=reference.get();
    final PsiFile file=baseElement.getManager().findFile(pair.getFirst());
    if (file != null) {
      return file.findElementAt(pair.getSecond());
    }
  }
  return null;
}
