{
  Set<FileType> allFileTypes=new HashSet<FileType>();
  Collections.addAll(allFileTypes,FileTypeManager.getInstance().getRegisteredFileTypes());
  for (  Language language : Language.getRegisteredLanguages()) {
    FileType fileType=language.getAssociatedFileType();
    if (fileType != null) {
      allFileTypes.add(fileType);
    }
  }
  List<FileType> result=new ArrayList<FileType>();
  for (  FileType fileType : allFileTypes) {
    if (isValidFileType(fileType)) {
      result.add(fileType);
    }
  }
  return result.toArray(new FileType[result.size()]);
}
