{
  Rectangle rect=super.getVisibleEditorRect();
  if (rect != null) {
    if (isSearchField(myTextField)) {
      int extraOffset=isSearchFieldWithHistoryPopup(myTextField) ? 3 : 0;
      rect.width-=36 + extraOffset;
      if (getNewLineAction(myTextField) != null)       rect.width-=24;
      rect.x+=19 + extraOffset;
      rect.y+=1;
    }
 else {
      rect.x+=2;
      rect.width-=4;
    }
  }
  return rect;
}
