{
  XDebuggerTreeState.NodeInfo childInfo=parentInfo.removeChild(nodeName);
  if (childInfo != null) {
    if (!checkExtendedModified(treeNode) && !(Comparing.equal(childInfo.getValue(),treeNode.getRawValue()))) {
      treeNode.markChanged();
    }
    if (!myStopRestoringSelection && childInfo.isSelected()) {
      try {
        myInsideRestoring=true;
        myTree.addSelectionPath(treeNode.getPath());
      }
  finally {
        myInsideRestoring=false;
      }
    }
    restoreChildren((XDebuggerTreeNode)treeNode,childInfo);
  }
 else   if (!checkExtendedModified(treeNode)) {
    treeNode.markChanged();
  }
}
