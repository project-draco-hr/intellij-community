{
  final PsiElement element=descriptor.getPsiElement();
  if (element != null) {
    final PyPackageRequirementsInspection inspection=PyPackageRequirementsInspection.getInstance(element);
    if (inspection != null) {
      final JDOMExternalizableStringList ignoredPackages=inspection.ignoredPackages;
      boolean changed=false;
      for (      String name : myPackageNames) {
        if (!ignoredPackages.contains(name)) {
          ignoredPackages.add(name);
          changed=true;
        }
      }
      if (changed) {
        final InspectionProfile profile=InspectionProjectProfileManager.getInstance(project).getInspectionProfile();
        InspectionProfileManager.getInstance().fireProfileChanged(profile);
      }
    }
  }
}
