{
  ProgressManager.getInstance().run(new Task.Backgroundable(project,"Installing requirements",false){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      final Sdk sdk=PythonSdkType.findPythonSdk(myModule);
      if (sdk != null) {
        final PyPackageManager manager=PyPackageManager.getInstance(sdk);
        try {
          indicator.setText("Installing requirements...");
          manager.install(myUnsatisfied);
          VirtualFileManager.getInstance().refresh(true,new Runnable(){
            @Override public void run(){
              PythonSdkUpdater.getInstance().updateActiveSdks(myProject,0);
            }
          }
);
        }
 catch (        PyExternalProcessException e) {
          throw new RuntimeException(e);
        }
      }
    }
  }
);
}
