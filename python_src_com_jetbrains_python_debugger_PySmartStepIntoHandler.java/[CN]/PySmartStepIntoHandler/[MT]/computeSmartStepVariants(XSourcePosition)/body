{
  final Document document=FileDocumentManager.getInstance().getDocument(position.getFile());
  final List<PySmartStepIntoVariant> variants=Lists.newArrayList();
  final Set<PyCallExpression> visitedCalls=Sets.newHashSet();
  final Set<PyFunction> addedFunctions=Sets.newHashSet();
  XDebuggerUtil.getInstance().iterateLine(mySession.getProject(),document,position.getLine(),new Processor<PsiElement>(){
    public boolean process(    PsiElement psiElement){
      addVariants(psiElement,variants,visitedCalls,addedFunctions);
      return true;
    }
  }
);
  return variants;
}
