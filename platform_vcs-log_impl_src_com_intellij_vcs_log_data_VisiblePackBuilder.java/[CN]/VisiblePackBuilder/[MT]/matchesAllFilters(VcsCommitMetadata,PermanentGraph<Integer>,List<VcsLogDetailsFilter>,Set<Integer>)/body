{
  final int commitIndex=myHashMap.getCommitIndex(commit.getId());
  return ContainerUtil.and(detailsFilters,new Condition<VcsLogDetailsFilter>(){
    @Override public boolean value(    VcsLogDetailsFilter filter){
      if (!filter.matches(commit)) {
        return false;
      }
      if (matchingHeads == null) {
        return true;
      }
      Set<Integer> containingBranches=permanentGraph.getContainingBranches(commitIndex);
      return ContainerUtil.exists(containingBranches,new Condition<Integer>(){
        @Override public boolean value(        Integer integer){
          return matchingHeads.contains(integer);
        }
      }
);
    }
  }
);
}
