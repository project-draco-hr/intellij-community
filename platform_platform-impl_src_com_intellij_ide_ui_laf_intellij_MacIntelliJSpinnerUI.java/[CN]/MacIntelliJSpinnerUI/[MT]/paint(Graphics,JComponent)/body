{
  JComponent editor=spinner.getEditor();
  boolean hasFocus=c.hasFocus();
  if (!hasFocus && editor != null) {
    hasFocus=editor.hasFocus();
    if (!hasFocus) {
      for (      JComponent child : UIUtil.findComponentsOfType(editor,JComponent.class)) {
        hasFocus=child.hasFocus();
        if (hasFocus)         break;
      }
    }
  }
  Container parent=c.getParent();
  if (c.isOpaque() && parent != null) {
    g.setColor(parent.getBackground());
    g.fillRect(0,0,c.getWidth(),c.getHeight());
  }
  Insets clip=c.getInsets();
  int stop=c.getWidth() - MacIntelliJIconCache.getIcon("spinnerRight").getIconWidth() - clip.right;
  Graphics gg=g.create(clip.left,clip.top,stop - clip.left,MacIntelliJIconCache.getIcon("spinnerRight").getIconHeight());
  boolean enabled=c.isEnabled();
  Icon icon=MacIntelliJIconCache.getIcon("comboLeft",false,hasFocus,enabled);
  icon.paintIcon(c,gg,clip.left,clip.top);
  int x=icon.getIconWidth();
  icon=MacIntelliJIconCache.getIcon("comboMiddle",false,hasFocus,enabled);
  while (x < stop) {
    icon.paintIcon(c,gg,x,clip.top);
    x+=icon.getIconWidth();
  }
  gg.dispose();
  icon=MacIntelliJIconCache.getIcon("spinnerRight",false,hasFocus,enabled);
  icon.paintIcon(c,g,stop,clip.top);
}
