{
  clearContinuation(context,chunk);
  if (continuation != null) {
    if (Utils.IS_TEST_MODE || LOG.isDebugEnabled()) {
      LOG.info("registering continuation for " + chunk);
    }
    Map<ModuleChunk,GroovycContinuation> map=CONTINUATIONS.get(context);
    if (map == null)     CONTINUATIONS.set(context,map=ContainerUtil.newConcurrentMap());
    map.put(chunk,continuation);
  }
}
