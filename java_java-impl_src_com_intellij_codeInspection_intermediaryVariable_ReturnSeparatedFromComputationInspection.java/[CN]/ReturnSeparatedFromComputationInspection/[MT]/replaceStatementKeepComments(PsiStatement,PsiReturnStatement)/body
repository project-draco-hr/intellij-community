{
  List<PsiComment> keptComments=getComments(replacedStatement);
  if (!keptComments.isEmpty()) {
    returnStatement=(PsiReturnStatement)returnStatement.copy();
    PsiElement lastReturnChild=returnStatement.getLastChild();
    Project project=returnStatement.getProject();
    PsiParserFacade parserFacade=PsiParserFacade.SERVICE.getInstance(project);
    PsiElementFactory elementFactory=JavaPsiFacade.getInstance(project).getElementFactory();
    for (    PsiComment comment : keptComments) {
      lastReturnChild=returnStatement.addAfter(comment,lastReturnChild);
    }
    CodeStyleManager.getInstance(project).reformat(returnStatement,true);
  }
  replacedStatement.replace(returnStatement);
}
