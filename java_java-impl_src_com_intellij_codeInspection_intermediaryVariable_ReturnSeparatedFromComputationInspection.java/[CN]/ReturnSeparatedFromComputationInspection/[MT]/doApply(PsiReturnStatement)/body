{
  ReturnContext context=createReturnContext(returnStatement);
  if (context != null) {
    ControlFlow flow=createControlFlow(context);
    if (flow != null) {
      Mover mover=new Mover(flow,context.refactoredStatement,context.returnedVariable,context.returnType,false);
      boolean removeReturn=mover.moveTo(context.refactoredStatement,true);
      if (!mover.isEmpty() && FileModificationService.getInstance().preparePsiElementForWrite(returnStatement)) {
        applyChanges(mover,context,removeReturn);
      }
    }
  }
}
