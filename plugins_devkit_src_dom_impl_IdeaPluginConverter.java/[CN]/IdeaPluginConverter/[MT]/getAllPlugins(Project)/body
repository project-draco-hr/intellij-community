{
  if (DumbService.isDumb(project))   return Collections.emptyList();
  return CachedValuesManager.getManager(project).getCachedValue(project,new CachedValueProvider<Collection<IdeaPlugin>>(){
    @Nullable @Override public Result<Collection<IdeaPlugin>> compute(){
      GlobalSearchScope scope=GlobalSearchScopesCore.projectProductionScope(project).union(ProjectScope.getLibrariesScope(project));
      return Result.create(getPlugins(project,scope),PsiModificationTracker.OUT_OF_CODE_BLOCK_MODIFICATION_COUNT);
    }
  }
);
}
