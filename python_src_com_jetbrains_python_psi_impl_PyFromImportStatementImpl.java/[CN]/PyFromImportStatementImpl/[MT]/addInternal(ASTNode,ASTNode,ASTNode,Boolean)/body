{
  if (anchor == null) {
    PsiElement last_child=getLastChild();
    if (last_child != null) {
      ASTNode rpar_node=last_child.getNode();
      if (rpar_node != null && rpar_node.getElementType() == PyTokenTypes.RPAR)       anchor=rpar_node;
    }
  }
  final ASTNode result=super.addInternal(first,last,anchor,before);
  ASTNode prevNode=result;
  do {
    prevNode=prevNode.getTreePrev();
  }
 while (prevNode != null && prevNode.getElementType() == TokenType.WHITE_SPACE);
  if (prevNode != null && prevNode.getElementType() == PyElementTypes.IMPORT_ELEMENT && result.getElementType() == PyElementTypes.IMPORT_ELEMENT) {
    ASTNode comma=PyElementGenerator.getInstance(getProject()).createComma();
    super.addInternal(comma,comma,prevNode,false);
  }
  return result;
}
