{
  final PyExpression condition=statementPart.getCondition();
  final Document document=editor.getDocument();
  final PsiElement colon=PyUtil.getChildByFilter(statementPart,TokenSet.create(PyTokenTypes.COLON),0);
  if (colon == null) {
    if (condition != null) {
      final PsiElement firstNonComment=PyUtil.getFirstNonCommentAfter(condition.getNextSibling());
      if (firstNonComment != null && !":".equals(firstNonComment.getNode().getText())) {
        document.insertString(firstNonComment.getTextRange().getEndOffset(),":");
      }
    }
 else {
      final TokenSet keywords=TokenSet.create(PyTokenTypes.IF_KEYWORD,PyTokenTypes.ELIF_KEYWORD,PyTokenTypes.WHILE_KEYWORD);
      final PsiElement keywordToken=PyUtil.getChildByFilter(statementPart,keywords,0);
      final int offset=keywordToken.getTextRange().getEndOffset();
      document.insertString(offset," :");
      processor.registerUnresolvedError(offset + 1);
    }
  }
 else   if (condition == null) {
    processor.registerUnresolvedError(colon.getTextRange().getStartOffset());
  }
}
