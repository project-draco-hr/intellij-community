{
  int valtype=val.type;
  if (valtype == CodeConstants.TYPE_UNKNOWN && type != CodeConstants.TYPE_UNKNOWN) {
    return true;
  }
  if (val.arraydim > 0) {
    return this.equals(VARTYPE_OBJECT);
  }
 else   if (arraydim > 0) {
    return (valtype == CodeConstants.TYPE_NULL);
  }
  boolean res=false;
switch (type) {
case CodeConstants.TYPE_INT:
    res|=(valtype == CodeConstants.TYPE_SHORT || valtype == CodeConstants.TYPE_CHAR);
case CodeConstants.TYPE_SHORT:
  res|=(valtype == CodeConstants.TYPE_BYTE);
case CodeConstants.TYPE_CHAR:
res|=(valtype == CodeConstants.TYPE_SHORTCHAR);
case CodeConstants.TYPE_BYTE:
case CodeConstants.TYPE_SHORTCHAR:
res|=(valtype == CodeConstants.TYPE_BYTECHAR);
case CodeConstants.TYPE_BYTECHAR:
res|=(valtype == CodeConstants.TYPE_BOOLEAN);
break;
case CodeConstants.TYPE_OBJECT:
if (valtype == CodeConstants.TYPE_NULL) {
return true;
}
 else if (this.equals(VARTYPE_OBJECT)) {
return valtype == CodeConstants.TYPE_OBJECT && !val.equals(VARTYPE_OBJECT);
}
}
return res;
}
