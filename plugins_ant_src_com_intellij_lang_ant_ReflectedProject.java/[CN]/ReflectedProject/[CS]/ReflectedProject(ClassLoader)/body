{
  Object project=null;
  try {
    final Class projectClass=classLoader.loadClass("org.apache.tools.ant.Project");
    if (projectClass != null) {
      project=projectClass.newInstance();
      Method method=projectClass.getMethod(INIT_METHOD_NAME);
      method.invoke(project);
      method=getMethod(projectClass,GET_TASK_DEFINITIONS_METHOD_NAME);
      myTaskDefinitions=(Hashtable)method.invoke(project);
      method=getMethod(projectClass,GET_DATA_TYPE_DEFINITIONS_METHOD_NAME);
      myDataTypeDefinitions=(Hashtable)method.invoke(project);
      method=getMethod(projectClass,GET_PROPERTIES_METHOD_NAME);
      myProperties=(Hashtable)method.invoke(project);
      myTargetClass=classLoader.loadClass("org.apache.tools.ant.Target");
    }
  }
 catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  Throwable e) {
    Throwable cause=e.getCause();
    Set<Throwable> checked=null;
    while (cause != null && (checked == null || !checked.contains(cause))) {
      if (cause instanceof ProcessCanceledException) {
        throw (ProcessCanceledException)cause;
      }
      final Throwable nextCause=cause.getCause();
      if (nextCause == null) {
        break;
      }
      if (checked == null) {
        checked=new HashSet<Throwable>();
        checked.add(e);
      }
      checked.add(cause);
      cause=nextCause;
    }
    LOG.info(e);
    project=null;
  }
  myProject=project;
}
