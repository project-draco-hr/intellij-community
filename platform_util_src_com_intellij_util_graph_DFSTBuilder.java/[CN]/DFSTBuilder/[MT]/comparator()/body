{
  if (myComparator == null) {
    buildDFST();
    final TObjectIntHashMap<Node> map;
    if (isAcyclic()) {
      map=myNodeToNNumber;
    }
 else {
      build_T();
      map=myNodeToTNumber;
    }
    myComparator=new Comparator<Node>(){
      @Override public int compare(      @NotNull Node t,      @NotNull Node t1){
        return map.get(t) - map.get(t1);
      }
    }
;
  }
  return myComparator;
}
