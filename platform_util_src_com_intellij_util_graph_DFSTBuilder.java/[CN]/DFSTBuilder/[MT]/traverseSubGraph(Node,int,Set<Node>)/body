{
  if (!processed.contains(node)) {
    processed.add(node);
    for (Iterator<Node> it=myGraph.getOut(node); it.hasNext(); ) {
      nNumber=traverseSubGraph(it.next(),nNumber,processed);
    }
    nNumber--;
    myNodeToNNumber.put(node,nNumber);
    myInvN[nNumber]=node;
    if (myBackEdge == null) {
      for (Iterator<Node> it=myGraph.getIn(node); it.hasNext(); ) {
        Node prev=it.next();
        int prevNumber=myNodeToNNumber.get(prev);
        if (myNodeToNNumber.containsKey(prev) && prevNumber > nNumber) {
          myBackEdge=Couple.of(node,prev);
          break;
        }
      }
    }
  }
  return nNumber;
}
