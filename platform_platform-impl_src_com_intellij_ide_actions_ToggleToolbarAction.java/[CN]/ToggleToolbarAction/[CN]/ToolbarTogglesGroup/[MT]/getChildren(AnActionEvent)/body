{
  ContentManager contentManager=myToolWindow.getContentManager();
  Content selectedContent=contentManager.getSelectedContent();
  JComponent contentComponent=selectedContent != null ? selectedContent.getComponent() : null;
  if (contentComponent == null)   return EMPTY_ARRAY;
  List<AnAction> result=ContainerUtil.newSmartList();
  for (  final ActionToolbar toolbar : iterateToolbars(contentComponent)) {
    JComponent c=toolbar.getComponent();
    if (c.isVisible() || !c.isValid())     continue;
    List<AnAction> actions=toolbar.getActions(false);
    for (    AnAction action : actions) {
      if (!(action instanceof ToggleAction || action instanceof Separator))       continue;
      result.add(action);
    }
  }
  return result.toArray(new AnAction[result.size()]);
}
