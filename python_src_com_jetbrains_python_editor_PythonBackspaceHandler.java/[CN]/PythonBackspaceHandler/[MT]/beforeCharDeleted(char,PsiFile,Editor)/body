{
  myTargetPosition=null;
  if (PythonFileType.INSTANCE != file.getFileType())   return;
  if (editor.getSelectionModel().hasSelection() || editor.getSelectionModel().hasBlockSelection())   return;
  LogicalPosition caretPos=editor.getCaretModel().getLogicalPosition();
  if (caretPos.line == 1 || caretPos.column == 0) {
    return;
  }
  int lineStartOffset=editor.getDocument().getLineStartOffset(caretPos.line);
  int lineEndOffset=editor.getDocument().getLineEndOffset(caretPos.line);
  CharSequence charSeq=editor.getDocument().getCharsSequence();
  for (int pos=lineStartOffset; pos < lineEndOffset; pos++) {
    if (charSeq.charAt(pos) != '\t' && charSeq.charAt(pos) != ' ' && charSeq.charAt(pos) != '\n') {
      return;
    }
  }
  CodeStyleSettings settings=CodeStyleSettingsManager.getSettings(file.getProject());
  int column=caretPos.column - settings.getIndentSize(PythonFileType.INSTANCE);
  if (column < 0)   column=0;
  myTargetPosition=new LogicalPosition(caretPos.line,column);
}
