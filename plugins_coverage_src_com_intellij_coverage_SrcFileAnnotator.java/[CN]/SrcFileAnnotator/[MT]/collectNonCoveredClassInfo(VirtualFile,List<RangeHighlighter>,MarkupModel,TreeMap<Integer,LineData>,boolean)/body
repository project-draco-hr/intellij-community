{
  final TIntIntHashMap mapping;
  if (classFile.getTimeStamp() < getVirtualFile().getTimeStamp()) {
    mapping=getOldToNewLineMapping(classFile.getTimeStamp());
    if (mapping == null)     return;
  }
 else {
    mapping=null;
  }
  final CoverageSuite coverageSuite=CoverageDataManager.getInstance(myProject).getCurrentSuite();
  final List<Integer> uncoveredLines=coverageSuite.collectNotCoveredFileLines(classFile,coverageSuite);
  if (uncoveredLines == null) {
    return;
  }
  final int lineCount=myDocument.getLineCount();
  for (  int lineNumber : uncoveredLines) {
    if (lineNumber >= lineCount) {
      continue;
    }
    final int updatedlineNumber=mapping != null ? mapping.get(lineNumber) : lineNumber;
    executableLines.put(updatedlineNumber,null);
    final RangeHighlighter highlighter=createRangeHighlighter(classFile.getTimeStamp(),markupModel,coverageByTestApplicable,executableLines,null,lineNumber,updatedlineNumber,coverageSuite);
    highlighters.add(highlighter);
  }
}
