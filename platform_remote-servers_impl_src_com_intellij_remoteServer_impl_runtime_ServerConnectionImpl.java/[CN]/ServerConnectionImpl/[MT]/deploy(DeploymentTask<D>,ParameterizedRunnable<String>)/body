{
  connectIfNeeded(new ConnectionCallbackBase<D>(){
    @Override public void connected(    @NotNull ServerRuntimeInstance<D> instance){
      DeploymentSource source=task.getSource();
      String deploymentName=instance.getDeploymentName(source);
      myLocalDeployments.put(deploymentName,new DeploymentImpl(deploymentName,DeploymentStatus.DEPLOYING,null,null));
      myLoggingHandlers.put(deploymentName,(LoggingHandlerImpl)task.getLoggingHandler());
      onDeploymentStarted.run(deploymentName);
      instance.deploy(task,new DeploymentOperationCallbackImpl(task.getSource(),deploymentName));
    }
  }
);
}
