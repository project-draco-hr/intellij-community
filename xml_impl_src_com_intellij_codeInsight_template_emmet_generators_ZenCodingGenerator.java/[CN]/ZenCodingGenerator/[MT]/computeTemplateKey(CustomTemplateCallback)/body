{
  Editor editor=callback.getEditor();
  int currentOffset=editor.getCaretModel().getOffset();
  int startOffset=editor.getDocument().getLineStartOffset(editor.getCaretModel().getLogicalPosition().line);
  String key=computeKey(editor.getDocument().getCharsSequence().subSequence(startOffset,currentOffset));
  return !StringUtil.isEmpty(key) && ZenCodingTemplate.checkTemplateKey(key,callback,this) ? key : null;
}
