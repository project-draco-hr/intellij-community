{
  List<PsiFileSystemItem> result=new ArrayList<PsiFileSystemItem>();
  if (directory != null) {
    for (    PsiFile f : directory.getFiles()) {
      final String filename=f.getName();
      if ((f instanceof PyFile && !filename.equals(PyNames.INIT_DOT_PY)) || isBinaryModule(filename)) {
        result.add(f);
      }
    }
    for (    PsiDirectory dir : directory.getSubdirectories()) {
      if (dir.findFile(PyNames.INIT_DOT_PY) instanceof PyFile)       result.add(dir);
    }
  }
  return result;
}
