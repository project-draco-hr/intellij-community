{
  List<LookupElement> result=new ArrayList<LookupElement>();
  for (  PsiFileSystemItem pfsi : getSubmodulesList(directory)) {
    if (pfsi == location.getContainingFile().getOriginalFile())     continue;
    String s=pfsi.getName();
    int pos=s.lastIndexOf('.');
    if (pos > 0)     s=s.substring(0,pos);
    if (!PyNames.isIdentifier(s))     continue;
    if (names_already != null) {
      if (names_already.contains(s))       continue;
 else       names_already.add(s);
    }
    result.add(LookupElementBuilder.create(pfsi,s).setPresentableText(s).setIcon(pfsi.getIcon(0)));
  }
  return result;
}
