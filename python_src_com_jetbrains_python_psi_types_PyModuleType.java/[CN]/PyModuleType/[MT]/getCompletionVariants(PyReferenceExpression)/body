{
  List<Object> result=new ArrayList<Object>();
  if (PsiTreeUtil.getParentOfType(referenceExpression,PyImportElement.class) == null) {
    final VariantsProcessor processor=new VariantsProcessor();
    myModule.processDeclarations(processor,ResolveState.initial(),null,referenceExpression);
    result.addAll(processor.getResultList());
  }
  LookupElementFactory maker=LookupElementFactory.getInstance();
  for (  PsiFileSystemItem pfsi : getSubmodulesList()) {
    String s=pfsi.getName();
    int pos=s.lastIndexOf('.');
    if (pos > 0)     s=s.substring(0,pos);
    LookupItem item=(LookupItem)maker.createLookupElement(pfsi,s);
    item.setPresentableText(s);
    result.add(item);
  }
  return result.toArray();
}
