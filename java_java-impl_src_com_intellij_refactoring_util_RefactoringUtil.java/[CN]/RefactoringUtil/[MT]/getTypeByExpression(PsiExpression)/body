{
  PsiElementFactory factory=JavaPsiFacade.getInstance(expr.getProject()).getElementFactory();
  PsiType type=getTypeByExpression(expr,factory);
  if (type instanceof PsiLambdaParameterType || type instanceof PsiLambdaExpressionType || type instanceof PsiMethodReferenceType) {
    type=factory.createTypeByFQClassName(CommonClassNames.JAVA_LANG_OBJECT,expr.getResolveScope());
  }
  return type;
}
