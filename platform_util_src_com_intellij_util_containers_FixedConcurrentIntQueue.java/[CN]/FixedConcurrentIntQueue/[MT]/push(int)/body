{
  if (value == tombValue) {
    throw new IllegalArgumentException("Must not use tomb value: " + value);
  }
  int index=tail.getAndIncrement();
  int oldValue=queue.getAndSet(index % queue.length(),value);
  return oldValue;
}
