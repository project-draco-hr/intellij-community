{
  if (!host.isValid() || !(host instanceof XmlText) || !HtmlUtil.isHtmlTagContainingFile(host)) {
    return;
  }
  XmlTag scriptTag=((XmlText)host).getParentTag();
  if (scriptTag == null) {
    return;
  }
  final InjectionInfo injectAndProtection=HtmlScriptInjectionBlockerExtension.getInjectionInfo(scriptTag);
  if (injectAndProtection == null || injectAndProtection.isDeniedByExtensionPoint()) {
    return;
  }
  final Language language=injectAndProtection.getLanguage();
  if (LanguageUtil.isInjectableLanguage(language)) {
    registrar.startInjecting(language).addPlace(null,null,(PsiLanguageInjectionHost)host,TextRange.create(0,host.getTextLength())).doneInjecting();
  }
}
