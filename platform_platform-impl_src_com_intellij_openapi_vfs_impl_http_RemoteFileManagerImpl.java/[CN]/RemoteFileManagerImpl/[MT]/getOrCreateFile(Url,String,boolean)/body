{
  Pair<Boolean,Url> key=Pair.create(directory,url);
  VirtualFileImpl file=myRemoteFiles.get(key);
  if (file == null) {
    if (!directory) {
      RemoteFileInfoImpl fileInfo=new RemoteFileInfoImpl(url,this);
      file=new VirtualFileImpl(getHttpFileSystem(url),path,fileInfo);
      fileInfo.addDownloadingListener(new MyDownloadingListener(file));
    }
 else {
      file=new VirtualFileImpl(getHttpFileSystem(url),path,null);
    }
    myRemoteFiles.put(key,file);
  }
  return file;
}
