{
  super.visitPyReferenceExpression(node);
  PyExpression qualifier=node.getQualifier();
  if (qualifier != null) {
    PyType type=qualifier.getType(TypeEvalContext.fast());
    if (type instanceof PyClassType) {
      PyClass cls=((PyClassType)type).getPyClass();
      String name=node.getName();
      if (cls != null && name != null) {
        Map<Pair<PyClass,String>,Property> cache=PyPropertyAccessInspection.this.myPropertyCache.get();
        final Pair<PyClass,String> key=new Pair<PyClass,String>(cls,name);
        Property property;
        if (cache.containsKey(key))         property=cache.get(key);
 else         property=cls.findProperty(name);
        cache.put(key,property);
        if (property != null) {
          AccessDirection dir=AccessDirection.of(node);
          checkAccessor(node,name,dir,property);
          if (dir == AccessDirection.READ && node.getParent() instanceof PyAugAssignmentStatement) {
            checkAccessor(node,name,AccessDirection.WRITE,property);
          }
        }
      }
    }
  }
}
