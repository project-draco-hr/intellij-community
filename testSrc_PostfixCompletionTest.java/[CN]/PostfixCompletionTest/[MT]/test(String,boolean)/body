{
  StackTraceElement[] trace=Thread.currentThread().getStackTrace();
  String name=trace[3].getMethodName();
  myFixture.configureByFile(name + ".java");
  PostfixCompletionContributor.behaveAsAutoPopupForTests=!useBasic;
  myFixture.complete(CompletionType.BASIC);
  final LookupElement[] autoItems=myFixture.getLookupElements();
  PostfixCompletionContributor.behaveAsAutoPopupForTests=false;
  for (int index=0; index < typingChars.length(); index++) {
    myFixture.type(typingChars.charAt(index));
  }
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      Editor editor=myFixture.getEditor();
      editor.getDocument().insertString(0,dumpItems(autoItems));
    }
  }
);
  myFixture.checkResultByFile(name + "-out.java");
}
