{
  try {
    List<GitCommit> commits1=GitHistoryUtils.history(project,repository.getRoot(),".." + targetBranch);
    List<GitCommit> commits2=GitHistoryUtils.history(project,repository.getRoot(),targetBranch + "..");
    Collection<Change> diff=GitChangeUtils.getDiff(repository.getProject(),repository.getRoot(),targetBranch,currentBranch,null);
    GitCommitCompareInfo info=new GitCommitCompareInfo(GitCommitCompareInfo.InfoType.BRANCH_TO_HEAD);
    info.put(repository,diff);
    info.put(repository,Pair.create(commits1,commits2));
    return new DiffInfo(info,currentBranch,targetBranch);
  }
 catch (  VcsException e) {
    LOG.info(e);
    return null;
  }
}
