{
  @NotNull final Project project=myProject;
  new Task.Backgroundable(myProject,"Creating pull request..."){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      LOG.info("Pushing current branch");
      indicator.setText("Pushing current branch...");
      GitCommandResult result=myGit.push(myGitRepository,myRemoteName,myRemoteUrl,myCurrentBranch,true);
      if (!result.success()) {
        GithubNotifications.showError(project,CANNOT_CREATE_PULL_REQUEST,"Push failed:<br/>" + result.getErrorOutputAsHtmlString());
        return;
      }
      String headBranch=myPath.getUser() + ":" + myCurrentBranch;
      LOG.info("Creating pull request");
      indicator.setText("Creating pull request...");
      GithubPullRequest request=createPullRequest(project,myAuthHolder,indicator,myForkPath,title,description,headBranch,targetBranch);
      if (request == null) {
        return;
      }
      GithubNotifications.showInfoURL(project,"Successfully created pull request","Pull request #" + request.getNumber(),request.getHtmlUrl());
    }
  }
.queue();
}
