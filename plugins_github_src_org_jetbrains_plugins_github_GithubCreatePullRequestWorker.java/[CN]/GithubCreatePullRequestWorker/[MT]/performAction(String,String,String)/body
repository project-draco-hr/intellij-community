{
  new Task.Backgroundable(myProject,"Creating pull request..."){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      LOG.info("Pushing current branch");
      indicator.setText("Pushing current branch...");
      GitCommandResult result=myGit.push(myGitRepository,myRemoteName,myRemoteUrl,myCurrentBranch,true);
      if (!result.success()) {
        GithubNotifications.showError(myProject,CANNOT_CREATE_PULL_REQUEST,"Push failed:<br/>" + result.getErrorOutputAsHtmlString());
        return;
      }
      String baseBranch=myPath.getUser() + ":" + myCurrentBranch;
      LOG.info("Creating pull request");
      indicator.setText("Creating pull request...");
      GithubPullRequest request=createPullRequest(myProject,myAuth,myForkPath,title,description,baseBranch,targetBranch);
      if (request == null) {
        return;
      }
      GithubNotifications.showInfoURL(myProject,"Successfully created pull request","Pull Request #" + request.getNumber(),request.getHtmlUrl());
    }
  }
.queue();
}
