{
  prepareToWriteFile(toFile);
  ZipEntry entry=Utils.getZipEntry(patchFile,myPath);
  if (entry.isDirectory()) {
    if (!toFile.mkdir()) {
      throw new IOException("Unable to create directory " + myPath);
    }
  }
 else {
    InputStream in=Utils.findEntryInputStreamForEntry(patchFile,entry);
    try {
      boolean executable=readExecutableFlag(in);
      Utils.copyStreamToFile(in,toFile);
      Utils.setExecutable(toFile,executable);
    }
  finally {
      in.close();
    }
  }
}
