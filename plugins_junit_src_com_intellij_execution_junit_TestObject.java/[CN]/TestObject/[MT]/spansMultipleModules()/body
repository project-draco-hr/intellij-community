{
  final String qualifiedName=myConfiguration.getPackage();
  if (qualifiedName != null) {
    final Project project=myConfiguration.getProject();
    final PsiPackage aPackage=JavaPsiFacade.getInstance(project).findPackage(qualifiedName);
    if (aPackage != null) {
      final TestSearchScope scope=myConfiguration.getPersistentData().getScope();
      if (scope != null) {
        final SourceScope sourceScope=scope.getSourceScope(myConfiguration);
        if (sourceScope != null) {
          final GlobalSearchScope configurationSearchScope=GlobalSearchScopesCore.projectTestScope(project).intersectWith(sourceScope.getGlobalSearchScope());
          final PsiDirectory[] directories=aPackage.getDirectories(configurationSearchScope);
          return directories.length > 1;
        }
      }
    }
  }
  return false;
}
