{
  IElementType token;
  PsiBuilder.Marker invalid=null;
  while ((token=builder.getTokenType()) != null) {
    if (token == JavaTokenType.RBRACE) {
      break;
    }
    if (token == JavaTokenType.SEMICOLON) {
      if (invalid != null) {
        invalid.error(JavaErrorMessages.message("expected.module.statement"));
        invalid=null;
      }
      builder.advanceLexer();
      continue;
    }
    PsiBuilder.Marker statement=parseStatement(builder);
    if (statement == null) {
      if (invalid == null)       invalid=builder.mark();
      builder.advanceLexer();
    }
 else     if (invalid != null) {
      invalid.errorBefore(JavaErrorMessages.message("expected.module.statement"),statement);
      invalid=null;
    }
  }
  if (invalid != null) {
    invalid.error(JavaErrorMessages.message("expected.module.statement"));
  }
  if (!expect(builder,JavaTokenType.RBRACE) && invalid == null) {
    error(builder,JavaErrorMessages.message("expected.rbrace"));
  }
}
