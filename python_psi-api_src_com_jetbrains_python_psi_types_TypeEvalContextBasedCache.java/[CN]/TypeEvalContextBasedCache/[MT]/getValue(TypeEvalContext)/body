{
synchronized (myLock) {
    final Map<TypeEvalConstraints,T> map=myCachedMapStorage.getValue();
    T value=map.get(context.getConstraints());
    if (value != null) {
      return value;
    }
    value=myProvider.fun(context);
    map.put(context.getConstraints(),value);
    return value;
  }
}
