{
  ImportSourceChooserDialog<CodeStyleScheme> importSourceChooserDialog=new ImportSourceChooserDialog<CodeStyleScheme>(myContentPane,CodeStyleScheme.class,mySchemesManager);
  importSourceChooserDialog.show();
  if (importSourceChooserDialog.isOK()) {
    if (importSourceChooserDialog.isImportFromSharedSelected()) {
      SchemesToImportPopup<CodeStyleScheme,CodeStyleSchemeImpl> popup=new SchemesToImportPopup<CodeStyleScheme,CodeStyleSchemeImpl>(myContentPane){
        @Override protected void onSchemeSelected(        final CodeStyleSchemeImpl scheme){
          if (scheme != null) {
            myModel.addScheme(scheme,true);
          }
        }
      }
;
      popup.show(mySchemesManager,myModel.getSchemes());
    }
 else {
      String selectedImporterName=importSourceChooserDialog.getSelectedSourceName();
      if (selectedImporterName != null) {
        try {
          String schemeName=importExternalCodeStyle(selectedImporterName);
          if (schemeName != null) {
            showStatus(myImportButton,ApplicationBundle.message("message.code.style.scheme.import.success",selectedImporterName,schemeName),MessageType.INFO);
          }
        }
 catch (        SchemeImportException e) {
          showStatus(myImportButton,ApplicationBundle.message("message.code.style.scheme.import.failure",selectedImporterName,e.getMessage()),MessageType.ERROR);
        }
      }
    }
  }
}
