{
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      handler.invoke(element.getProject(),new PsiElement[]{element},SimpleDataContext.getProjectContext(element.getProject()));
    }
  }
);
  final Ref<RenameDialog> ref=new Ref<RenameDialog>();
  JDialog dialog=waitUntilFound(robot,new GenericTypeMatcher<JDialog>(JDialog.class){
    @Override protected boolean isMatching(    @NotNull JDialog dialog){
      if (!RefactoringBundle.message("rename.title").equals(dialog.getTitle()) || !dialog.isShowing()) {
        return false;
      }
      RenameDialog renameDialog=getDialogWrapperFrom(dialog,RenameDialog.class);
      if (renameDialog == null) {
        return false;
      }
      ref.set(renameDialog);
      return true;
    }
  }
);
  return new RenameDialogFixture(robot,dialog,ref.get());
}
