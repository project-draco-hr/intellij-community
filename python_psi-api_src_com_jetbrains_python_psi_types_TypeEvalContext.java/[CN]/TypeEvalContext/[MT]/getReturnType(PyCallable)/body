{
  final Set<PyCallable> evaluating=myEvaluatingReturn.get();
  if (evaluating.contains(callable)) {
    return null;
  }
  evaluating.add(callable);
  try {
synchronized (myEvaluatedReturn) {
      if (myEvaluatedReturn.containsKey(callable)) {
        final PyType type=myEvaluatedReturn.get(callable);
        assertValid(type,callable);
        return type;
      }
    }
    final PyType type=callable.getReturnType(this,Key.INSTANCE);
    assertValid(type,callable);
synchronized (myEvaluatedReturn) {
      myEvaluatedReturn.put(callable,type);
    }
    return type;
  }
  finally {
    evaluating.remove(callable);
  }
}
