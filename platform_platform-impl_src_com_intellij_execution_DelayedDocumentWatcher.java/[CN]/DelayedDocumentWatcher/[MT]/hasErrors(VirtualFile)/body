{
  Document document=FileDocumentManager.getInstance().getDocument(file);
  if (document != null) {
    final PsiFile psiFile=PsiDocumentManager.getInstance(myProject).getPsiFile(document);
    if (psiFile != null) {
      return ApplicationManager.getApplication().runWriteAction(new Computable<Boolean>(){
        @Override public Boolean compute(){
          return PsiTreeUtil.hasErrorElements(psiFile);
        }
      }
);
    }
  }
  return WolfTheProblemSolver.getInstance(myProject).hasSyntaxErrors(file);
}
