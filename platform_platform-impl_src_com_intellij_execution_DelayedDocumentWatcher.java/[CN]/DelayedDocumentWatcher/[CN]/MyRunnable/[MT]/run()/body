{
  for (  VirtualFile file : myChangedFiles) {
    boolean hasErrors=hasErrors(file);
    if (hasErrors) {
      return;
    }
  }
  Set<VirtualFile> copy=ImmutableSet.copyOf(myChangedFiles);
  myChangedFiles.clear();
  myConsumer.consume(copy);
}
