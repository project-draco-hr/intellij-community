{
  final Document document=event.getDocument();
  final VirtualFile file=FileDocumentManager.getInstance().getFile(document);
  if (file == null || !myDocumentChangedFilter.value(file)) {
    return;
  }
synchronized (myChangedFiles) {
    if (!myChangedFiles.add(file) && myWasRequested) {
      return;
    }
  }
  myAlarm.cancelRequest(DelayedDocumentWatcher.this);
  myAlarm.addRequest(DelayedDocumentWatcher.this,myDelay);
}
