{
  if (!source.isURL()) {
    throw new IllegalArgumentException("Only urls are supported as source " + source);
  }
  List<String> parameters=new ArrayList<String>();
  CommandUtil.put(parameters,source);
  CommandUtil.put(parameters,destination);
  CommandUtil.put(parameters,diffOptions);
  CommandUtil.put(parameters,dryRun,"--dry-run");
  parameters.add("--accept");
  parameters.add("postpone");
  parameters.add("--reintegrate");
  final AtomicReference<SVNException> excRef=new AtomicReference<SVNException>();
  final UpdateOutputLineConverter converter=new UpdateOutputLineConverter(destination);
  LineCommandListener listener=createListener(handler,excRef,converter);
  CommandUtil.execute(myVcs,SvnCommandName.merge,parameters,null,listener);
  throwIfException(excRef);
}
