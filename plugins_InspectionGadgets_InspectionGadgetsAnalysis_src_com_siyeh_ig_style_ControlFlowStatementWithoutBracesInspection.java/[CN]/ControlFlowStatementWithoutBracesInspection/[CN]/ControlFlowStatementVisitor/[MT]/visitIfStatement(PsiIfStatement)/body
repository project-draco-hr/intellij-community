{
  super.visitIfStatement(statement);
  final PsiStatement thenBranch=statement.getThenBranch();
  if (thenBranch == null) {
    return;
  }
  boolean highlightOnlyKeyword=isHighlightOnlyKeyword(statement);
  if (!(thenBranch instanceof PsiBlockStatement)) {
    if (highlightOnlyKeyword) {
      registerStatementError(statement,IF_TEXT);
    }
 else {
      final PsiElement startElement=statement.getFirstChild();
      registerErrorAtRange(startElement != null ? startElement : thenBranch,thenBranch,IF_TEXT);
    }
  }
  final PsiStatement elseBranch=statement.getElseBranch();
  if (elseBranch == null) {
    return;
  }
  if (!(elseBranch instanceof PsiBlockStatement) && !(elseBranch instanceof PsiIfStatement)) {
    final PsiKeyword elseKeyword=statement.getElseElement();
    if (elseKeyword == null) {
      return;
    }
    if (highlightOnlyKeyword) {
      registerError(elseKeyword,ELSE_TEXT);
    }
 else {
      registerErrorAtRange(elseKeyword,elseBranch,ELSE_TEXT);
    }
  }
}
