{
  final PsiElement element=descriptor.getStartElement();
  final PsiElement parent=element.getParent();
  final PsiStatement statement;
  if (element instanceof PsiStatement) {
    statement=(PsiStatement)element;
  }
 else   if ((parent instanceof PsiStatement)) {
    statement=(PsiStatement)parent;
  }
 else {
    return;
  }
  final PsiStatement statementWithoutBraces;
  if (statement instanceof PsiLoopStatement) {
    final PsiLoopStatement loopStatement=(PsiLoopStatement)statement;
    statementWithoutBraces=loopStatement.getBody();
  }
 else   if (statement instanceof PsiIfStatement) {
    final PsiIfStatement ifStatement=(PsiIfStatement)statement;
    if (element == ifStatement.getElseElement()) {
      statementWithoutBraces=ifStatement.getElseBranch();
    }
 else {
      statementWithoutBraces=ifStatement.getThenBranch();
      if (statementWithoutBraces == null) {
        return;
      }
      final PsiElement nextSibling=statementWithoutBraces.getNextSibling();
      if (nextSibling instanceof PsiWhiteSpace) {
        nextSibling.delete();
      }
    }
  }
 else {
    return;
  }
  if (statementWithoutBraces == null) {
    return;
  }
  final String newStatementText="{\n" + statementWithoutBraces.getText() + "\n}";
  PsiReplacementUtil.replaceStatement(statementWithoutBraces,newStatementText);
}
