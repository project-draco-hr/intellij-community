{
  if (bitIndex < 0) {
    throw new IndexOutOfBoundsException("bitIndex < 0: " + bitIndex);
  }
  int wordIndex=wordIndex(bitIndex);
  long[] words=expandTo(wordIndex);
  while (true) {
    long word;
    long newWord;
    do {
      word=words[wordIndex];
      newWord=word | (1L << bitIndex);
    }
 while (!compareAndSet(words,wordIndex,word,newWord));
    if (words == this.words)     break;
  }
}
