{
  boolean isAddToVisible=!myContext.isCreatingNewProject() && myProjectOrNull != null && isGradleModuleExist();
  myAddToPanel.setVisible(isAddToVisible);
  myInheritGroupIdCheckBox.setVisible(isAddToVisible);
  myInheritVersionCheckBox.setVisible(isAddToVisible);
  myParentPathField.setText(myParent == null ? EMPTY_PARENT : myParent.getLinkedExternalProjectPath());
  collapseIfPossible(myParentPathField,GradleConstants.SYSTEM_ID,getProject());
  if (myParent == null) {
    myContext.putUserData(ExternalModuleSettingsStep.SKIP_STEP_KEY,Boolean.FALSE);
    myGroupIdField.setEnabled(true);
    myVersionField.setEnabled(true);
    myInheritGroupIdCheckBox.setEnabled(false);
    myInheritVersionCheckBox.setEnabled(false);
    setTestIfEmpty(myArtifactIdField,myBuilder.getName());
    setTestIfEmpty(myGroupIdField,"");
    setTestIfEmpty(myVersionField,DEFAULT_VERSION);
  }
 else {
    myContext.putUserData(ExternalModuleSettingsStep.SKIP_STEP_KEY,Boolean.TRUE);
    myGroupIdField.setEnabled(!myInheritGroupIdCheckBox.isSelected());
    myVersionField.setEnabled(!myInheritVersionCheckBox.isSelected());
    if (myInheritGroupIdCheckBox.isSelected() || myGroupIdField.getText().equals(myInheritedGroupId)) {
      myGroupIdField.setText(myParent.getGroup());
    }
    if (myInheritVersionCheckBox.isSelected() || myVersionField.getText().equals(myInheritedVersion)) {
      myVersionField.setText(myParent.getVersion());
    }
    myInheritedGroupId=myGroupIdField.getText();
    myInheritedVersion=myVersionField.getText();
    myInheritGroupIdCheckBox.setEnabled(true);
    myInheritVersionCheckBox.setEnabled(true);
  }
}
