{
  complete();
  assertStringItems("\"one\"","\"two\"");
  final VirtualFile baseFile=moduleFile.findChild(fileName);
  Assert.assertNotNull(baseFile);
  FileDocumentManager fileDocumentManager=FileDocumentManager.getInstance();
  Document document=fileDocumentManager.getDocument(baseFile);
  Assert.assertNotNull(document);
  String str="\"enum\": [\"one\", \"two\"]";
  int start=document.getText().indexOf(str);
  Assert.assertTrue(start > 0);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      document.replaceString(start,start + str.length(),"\"enum\": [\"one1\", \"two1\"]");
      fileDocumentManager.saveAllDocuments();
    }
  }
);
  LookupImpl lookup=getActiveLookup();
  if (lookup != null)   lookup.hide();
  complete();
  assertStringItems("\"one1\"","\"two1\"");
  lookup=getActiveLookup();
  if (lookup != null)   lookup.hide();
  JsonSchemaService.Impl.get(getProject()).reset();
  complete();
  assertStringItems("\"one1\"","\"two1\"");
}
