{
  PyRequirementRelation relation=null;
  if (versionSpec.startsWith("===")) {
    relation=PyRequirementRelation.STR_EQ;
  }
 else   if (versionSpec.startsWith("==")) {
    relation=PyRequirementRelation.EQ;
  }
 else   if (versionSpec.startsWith("<=")) {
    relation=PyRequirementRelation.LTE;
  }
 else   if (versionSpec.startsWith(">=")) {
    relation=PyRequirementRelation.GTE;
  }
 else   if (versionSpec.startsWith("<")) {
    relation=PyRequirementRelation.LT;
  }
 else   if (versionSpec.startsWith(">")) {
    relation=PyRequirementRelation.GT;
  }
 else   if (versionSpec.startsWith("~=")) {
    relation=PyRequirementRelation.COMPATIBLE;
  }
 else   if (versionSpec.startsWith("!=")) {
    relation=PyRequirementRelation.NE;
  }
  if (relation != null) {
    final int versionIndex=findFirstNotWhiteSpace(versionSpec,relation.toString().length());
    final String version=versionSpec.substring(versionIndex);
    if (relation == PyRequirementRelation.STR_EQ) {
      return new PyRequirementVersionSpec(relation,version);
    }
    final String normalizedVersion=PyRequirementVersionNormalizer.normalize(version);
    if (normalizedVersion == null) {
      return new PyRequirementVersionSpec(PyRequirementRelation.STR_EQ,version);
    }
 else {
      return new PyRequirementVersionSpec(relation,normalizedVersion);
    }
  }
  return null;
}
