{
  final PsiElement parent=ParenthesesUtils.getParentSkipParentheses(expression);
  if (parent instanceof PsiAssignmentExpression) {
    final PsiAssignmentExpression assignment=(PsiAssignmentExpression)parent;
    final PsiExpression lhs=assignment.getLExpression();
    if (!(lhs instanceof PsiReferenceExpression)) {
      return null;
    }
    final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)lhs;
    final PsiElement referent=referenceExpression.resolve();
    if (!(referent instanceof PsiVariable)) {
      return null;
    }
    return (PsiVariable)referent;
  }
 else   if (parent instanceof PsiVariable) {
    return (PsiVariable)parent;
  }
 else {
    return null;
  }
}
