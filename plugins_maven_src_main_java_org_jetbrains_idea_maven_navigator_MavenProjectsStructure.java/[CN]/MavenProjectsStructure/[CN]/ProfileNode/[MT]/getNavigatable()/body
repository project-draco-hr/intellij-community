{
  if (myProject == null)   return null;
  final List<MavenDomProfile> profiles=ContainerUtil.newArrayList();
  for (  VirtualFile virtualFile : myProjectsManager.getGeneralSettings().getEffectiveSettingsFiles()) {
    if (virtualFile != null) {
      final MavenDomSettingsModel model=MavenDomUtil.getMavenDomModel(myProject,virtualFile,MavenDomSettingsModel.class);
      if (model != null) {
        addProfiles(profiles,model.getProfiles().getProfiles());
      }
    }
  }
  for (  MavenProject mavenProject : myProjectsManager.getProjects()) {
    final VirtualFile mavenProjectFile=mavenProject.getFile();
    final VirtualFile profilesXmlFile=MavenUtil.findProfilesXmlFile(mavenProjectFile);
    if (profilesXmlFile != null) {
      final MavenDomProfiles profilesModel=MavenDomUtil.getMavenDomProfilesModel(myProject,profilesXmlFile);
      if (profilesModel != null) {
        addProfiles(profiles,profilesModel.getProfiles());
      }
    }
    final MavenDomProjectModel projectModel=MavenDomUtil.getMavenDomProjectModel(myProject,mavenProjectFile);
    if (projectModel != null) {
      addProfiles(profiles,projectModel.getProfiles().getProfiles());
    }
  }
  return getNavigatable(profiles);
}
