{
  boolean childChanged=false;
  Set<RunnerAndConfigurationSettings> settings=new THashSet<RunnerAndConfigurationSettings>(RunManager.getInstance(myProject).getConfigurationSettingsList(MavenRunConfigurationType.getInstance()));
  for (Iterator<RunConfigurationNode> itr=myChildren.iterator(); itr.hasNext(); ) {
    RunConfigurationNode node=itr.next();
    if (settings.remove(node.getSettings())) {
      node.updateRunConfiguration();
    }
 else {
      itr.remove();
      childChanged=true;
    }
  }
  String directory=PathUtil.getCanonicalPath(mavenProject.getDirectory());
  int oldSize=myChildren.size();
  for (  RunnerAndConfigurationSettings cfg : settings) {
    MavenRunConfiguration mavenRunConfiguration=(MavenRunConfiguration)cfg.getConfiguration();
    if (directory.equals(PathUtil.getCanonicalPath(mavenRunConfiguration.getRunnerParameters().getWorkingDirPath()))) {
      myChildren.add(new RunConfigurationNode(this,cfg));
    }
  }
  if (oldSize != myChildren.size()) {
    childChanged=true;
    sort(myChildren);
  }
  if (childChanged) {
    childrenChanged();
  }
}
