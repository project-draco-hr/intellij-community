{
  boolean childChanged=false;
  List<RunnerAndConfigurationSettings> list=RunManager.getInstance(myProject).getConfigurationSettingsList(MavenRunConfigurationType.getInstance());
  Set<RunnerAndConfigurationSettings> cfgs=new HashSet<RunnerAndConfigurationSettings>(((Collection<RunnerAndConfigurationSettings>)((Collection)list)));
  for (Iterator<RunConfigurationNode> itr=myChildren.iterator(); itr.hasNext(); ) {
    RunConfigurationNode node=itr.next();
    if (cfgs.remove(node.getSettings())) {
      node.updateRunConfiguration();
    }
 else {
      itr.remove();
      childChanged=true;
    }
  }
  String directory=PathUtil.getCanonicalPath(mavenProject.getDirectory());
  int oldSize=myChildren.size();
  for (  RunnerAndConfigurationSettings cfg : cfgs) {
    MavenRunConfiguration mavenRunConfiguration=(MavenRunConfiguration)cfg.getConfiguration();
    if (directory.equals(PathUtil.getCanonicalPath(mavenRunConfiguration.getRunnerParameters().getWorkingDirPath()))) {
      myChildren.add(new RunConfigurationNode(this,cfg));
    }
  }
  if (oldSize != myChildren.size()) {
    childChanged=true;
    sort(myChildren);
  }
  if (childChanged) {
    childrenChanged();
  }
}
