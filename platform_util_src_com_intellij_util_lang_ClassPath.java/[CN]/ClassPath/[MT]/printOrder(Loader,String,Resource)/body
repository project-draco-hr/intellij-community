{
  if (!ourDumpOrder)   return;
  if (!ourOrderedUrls.add(url))   return;
  String home=FileUtil.toSystemIndependentName(PathManager.getHomePath());
  try {
    if (resource instanceof MemoryResource) {
      ourOrderSize+=resource.getBytes().length;
    }
  }
 catch (  IOException e) {
    e.printStackTrace(System.out);
  }
  if (ourOrder == null) {
    final File orderFile=new File(PathManager.getBinPath() + File.separator + "order.txt");
    try {
      if (!FileUtil.ensureCanCreateFile(orderFile))       return;
      ourOrder=new PrintStream(new FileOutputStream(orderFile,true));
      ShutDownTracker.getInstance().registerShutdownTask(new Runnable(){
        public void run(){
          ourOrder.close();
          System.out.println(ourOrderSize);
        }
      }
);
    }
 catch (    IOException e) {
      return;
    }
  }
  if (ourOrder != null) {
    String jarURL=FileUtil.toSystemIndependentName(loader.getBaseURL().getFile());
    jarURL=StringUtil.trimStart(jarURL,"file:/");
    if (jarURL.startsWith(home)) {
      jarURL=jarURL.replaceFirst(home,"");
      jarURL=StringUtil.trimEnd(jarURL,"!/");
      ourOrder.println(url + ":" + jarURL);
    }
  }
}
