{
  SmartClassAnchor anchor=getFirst(fileId,myClassAnchorsByFileIds);
  if (anchor == null) {
    return null;
  }
  int id=anchor.myId;
  while (id < myClassAnchors.length) {
    SmartClassAnchor candidate=myClassAnchors[id];
    if (candidate.myFileId != fileId)     return null;
    if (psiClass.isEquivalentTo(ClassAnchorUtil.retrieveInReadAction(psiClass.getProject(),candidate)))     return candidate;
    id++;
  }
  return null;
}
