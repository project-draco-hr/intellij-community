{
  if (result == MergeResult.LEFT || result == MergeResult.RIGHT)   return null;
  String caption=MergeUtil.getResolveActionTitle(result,myMergeRequest,myMergeContext);
  return new AbstractAction(caption){
    @Override public void actionPerformed(    ActionEvent e){
      if (result == MergeResult.CANCEL) {
        if (Messages.showYesNoDialog(getComponent().getRootPane(),DiffBundle.message("merge.dialog.exit.without.applying.changes.confirmation.message"),DiffBundle.message("cancel.visual.merge.dialog.title"),Messages.getQuestionIcon()) != Messages.YES) {
          return;
        }
      }
      myMergeContext.finishMerge(result);
    }
  }
;
}
