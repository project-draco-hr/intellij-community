{
  if (start == end) {
    return Collections.emptyList();
  }
  int length=end - start;
  PsiElement element=InjectedLanguageUtil.findElementAtNoCommit(file,start);
  while (element != null) {
    if (element == file || element.getTextLength() >= length) {
      return Arrays.asList(element);
    }
    element=element.getParent();
  }
  return null;
}
