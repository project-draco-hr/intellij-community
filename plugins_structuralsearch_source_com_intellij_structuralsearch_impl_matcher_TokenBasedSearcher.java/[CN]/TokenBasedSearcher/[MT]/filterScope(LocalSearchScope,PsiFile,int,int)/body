{
  List<PsiElement> elements=new ArrayList<PsiElement>();
  for (  PsiElement element : scope.getScope()) {
    if (file == element) {
      elements.add(element);
      break;
    }
 else     if (file == element.getContainingFile()) {
      TextRange range=element.getTextRange();
      if (end > range.getStartOffset() && start < range.getEndOffset()) {
        elements.add(element);
        continue;
      }
    }
    if (elements.size() > 0) {
      break;
    }
  }
  return elements;
}
