{
  VolatileImage image;
  GraphicsConfiguration configuration=g.getDeviceConfiguration();
  try {
    image=configuration.createCompatibleVolatileImage(w,h,new ImageCapabilities(true),Transparency.TRANSLUCENT);
  }
 catch (  Exception e) {
    image=configuration.createCompatibleVolatileImage(w,h,Transparency.TRANSLUCENT);
  }
  image.validate(configuration);
  image.setAccelerationPriority(1f);
  ImageCapabilities caps=image.getCapabilities();
  LOG.info(w + "x" + h+ " "+ (caps.isAccelerated() ? "accelerated " : "")+ (caps.isTrueVolatile() ? "volatile " : "")+ "image created");
  return image;
}
