{
  if (scaled == null)   return null;
  boolean lost1=scaled.contentsLost();
  GraphicsConfiguration cfg=g.getDeviceConfiguration();
  int validated=scaled.validate(cfg);
  boolean lost2=scaled.contentsLost();
  if (!lost1 && !lost2 && validated == VolatileImage.IMAGE_INCOMPATIBLE && scaled.getCapabilities().isAccelerated()) {
    return scaled;
  }
  if (lost1 || lost2 || validated != VolatileImage.IMAGE_OK) {
    LOG.info("validate(" + cfg.getClass().getSimpleName() + ")="+ validated+ "; contentsLost()="+ lost1+ "||"+ lost2+ "; flushing..");
    scaled.flush();
    return null;
  }
  return scaled;
}
