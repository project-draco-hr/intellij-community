{
  if (module == null)   return Library.EMPTY_ARRAY;
  final ArrayList<Library> libraries=new ArrayList<>();
  AccessToken accessToken=ApplicationManager.getApplication().acquireReadActionLock();
  try {
    populateOrderEntries(module,condition,libraries,false,new THashSet<>());
  }
  finally {
    accessToken.finish();
  }
  return libraries.toArray(new Library[libraries.size()]);
}
