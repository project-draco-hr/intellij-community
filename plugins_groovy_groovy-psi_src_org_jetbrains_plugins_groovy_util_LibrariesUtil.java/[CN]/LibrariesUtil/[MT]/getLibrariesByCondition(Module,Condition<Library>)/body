{
  if (module == null)   return Library.EMPTY_ARRAY;
  final ArrayList<Library> libraries=new ArrayList<Library>();
  AccessToken accessToken=ApplicationManager.getApplication().acquireReadActionLock();
  try {
    populateOrderEntries(module,condition,libraries,false,new THashSet<Module>());
  }
  finally {
    accessToken.finish();
  }
  return libraries.toArray(new Library[libraries.size()]);
}
