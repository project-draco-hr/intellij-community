{
  ModuleData moduleData=moduleDataNode.getData();
  module.putUserData(MODULE_DATA_KEY,moduleData);
  module.setOption(ExternalSystemConstants.EXTERNAL_SYSTEM_ID,moduleData.getOwner().toString());
  module.setOption(ExternalSystemConstants.LINKED_PROJECT_ID,moduleData.getId());
  module.setOption(ExternalSystemConstants.LINKED_PROJECT_PATH,moduleData.getLinkedExternalProjectPath());
  final ProjectData projectData=moduleDataNode.getData(ProjectKeys.PROJECT);
  module.setOption(ExternalSystemConstants.ROOT_PROJECT_PATH,projectData != null ? projectData.getLinkedExternalProjectPath() : "");
  if (moduleData.getGroup() != null) {
    module.setOption(ExternalSystemConstants.EXTERNAL_SYSTEM_MODULE_GROUP,moduleData.getGroup());
  }
  if (moduleData.getVersion() != null) {
    module.setOption(ExternalSystemConstants.EXTERNAL_SYSTEM_MODULE_VERSION,moduleData.getVersion());
  }
  module.clearOption(ExternalSystemConstants.MAVEN_MODULE_KEY);
}
