{
  final ModifiableRootModel modifiableRootModel=modelsProvider.getModifiableRootModel(module);
  CompilerModuleExtension extension=modifiableRootModel.getModuleExtension(CompilerModuleExtension.class);
  if (extension == null) {
    modifiableRootModel.dispose();
    final String errorMsg=String.format("Can't sync paths for module '%s'. Reason: no compiler extension is found for it",module.getName());
    throw new RuntimeException(errorMsg);
  }
  String compileOutputPath=data.getCompileOutputPath(ExternalSystemSourceType.SOURCE);
  if (compileOutputPath != null) {
    extension.setCompilerOutputPath(VfsUtilCore.pathToUrl(compileOutputPath));
  }
  String testCompileOutputPath=data.getCompileOutputPath(ExternalSystemSourceType.TEST);
  if (testCompileOutputPath != null) {
    extension.setCompilerOutputPathForTests(VfsUtilCore.pathToUrl(testCompileOutputPath));
  }
  extension.inheritCompilerOutputPath(data.isInheritProjectCompileOutputPath());
}
