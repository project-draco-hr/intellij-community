{
  int position=0;
  int wordStart=-1;
  final List<WordWithPosition> parts=new ArrayList<WordWithPosition>();
  for (  final char c : text.toCharArray()) {
    if (Character.isWhitespace(c) && wordStart != -1) {
      parts.add(new WordWithPosition(text.substring(wordStart,position),wordStart,position));
      wordStart=-1;
    }
 else     if (!Character.isWhitespace(c) && wordStart == -1) {
      wordStart=position;
    }
    position++;
  }
  if (wordStart != -1) {
    parts.add(new WordWithPosition(text.substring(wordStart),wordStart,position));
  }
  return parts;
}
