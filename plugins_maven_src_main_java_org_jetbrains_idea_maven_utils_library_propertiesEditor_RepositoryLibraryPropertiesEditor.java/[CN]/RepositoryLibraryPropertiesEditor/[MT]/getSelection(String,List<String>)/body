{
  VersionKind versionKind=getVersionKind(selectedVersion);
  int releaseIndex=JBIterable.from(versions).takeWhile(new Condition<String>(){
    @Override public boolean value(    String version){
      return version.endsWith(RepositoryUtils.SnapshotVersionSuffix);
    }
  }
).size();
switch (versionKind) {
case Unselected:
    return -1;
case Release:
  return releaseIndex == versions.size() ? -1 : releaseIndex;
case Latest:
return 0;
case Select:
if (versions.indexOf(selectedVersion) == -1) {
versions.add(0,selectedVersion);
}
return versions.indexOf(selectedVersion);
}
return -1;
}
