{
  final PsiElementFactory factory=JavaPsiFacade.getInstance(project).getElementFactory();
  try {
    final PsiDocComment docComment=PsiTreeUtil.getParentOfType(descriptor.getEndElement(),PsiDocComment.class);
    if (docComment != null) {
      if (!CodeInsightUtil.preparePsiElementsForWrite(docComment))       return;
      final PsiDocTag tag=factory.createDocTagFromText("@" + myTag + " "+ myValue);
      PsiElement addedTag;
      final PsiElement anchor=getAnchor(descriptor);
      if (anchor != null) {
        addedTag=docComment.addBefore(tag,anchor);
      }
 else {
        addedTag=docComment.add(tag);
      }
      moveCaretTo(addedTag);
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
