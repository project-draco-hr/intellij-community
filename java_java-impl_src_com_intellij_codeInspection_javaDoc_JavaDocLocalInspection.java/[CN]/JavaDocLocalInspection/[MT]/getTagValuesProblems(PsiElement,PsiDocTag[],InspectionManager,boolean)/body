{
  final ArrayList<ProblemDescriptor> problems=new ArrayList<ProblemDescriptor>(2);
  for (  PsiDocTag tag : tags) {
    final JavadocManager manager=JavadocManager.SERVICE.getInstance(tag.getProject());
    String tagName=tag.getName();
    JavadocTagInfo tagInfo=manager.getTagInfo(tagName);
    if (tagInfo == null || !tagInfo.isValidInContext(context)) {
      if (checkTagInfo(inspectionManager,tagInfo,tag,isOnTheFly,problems))       continue;
    }
    PsiDocTagValue value=tag.getValueElement();
    if (tagInfo != null && !tagInfo.isValidInContext(context))     continue;
    String message=tagInfo == null ? null : tagInfo.checkTagValue(value);
    final PsiReference reference=value != null ? value.getReference() : null;
    if (message == null && reference != null) {
      PsiElement element=reference.resolve();
      if (element == null) {
        final int textOffset=value.getTextOffset();
        if (textOffset == value.getTextRange().getEndOffset()) {
          problems.add(inspectionManager.createProblemDescriptor(tag,InspectionsBundle.message("inspection.javadoc.problem.name.expected"),null,ProblemHighlightType.GENERIC_ERROR_OR_WARNING,isOnTheFly,true));
        }
      }
    }
    if (message != null) {
      final PsiDocTagValue valueElement=tag.getValueElement();
      if (valueElement == null) {
        problems.add(inspectionManager.createProblemDescriptor(tag,InspectionsBundle.message("inspection.javadoc.method.problem.missing.tag.description","<code>" + tag.getName() + "</code>"),(LocalQuickFix)null,ProblemHighlightType.GENERIC_ERROR_OR_WARNING,isOnTheFly));
      }
 else {
        problems.add(createDescriptor(valueElement,message,inspectionManager,isOnTheFly));
      }
    }
    checkInlineTags(inspectionManager,problems,tag.getDataElements(),manager,isOnTheFly);
  }
  return problems.isEmpty() ? null : problems;
}
