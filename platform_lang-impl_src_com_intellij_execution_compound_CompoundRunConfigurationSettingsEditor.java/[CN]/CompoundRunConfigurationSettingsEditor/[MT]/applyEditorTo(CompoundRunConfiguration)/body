{
  Set<RunConfiguration> checked=new HashSet<RunConfiguration>();
  for (int i=0; i < myList.getItemsCount(); i++) {
    RunConfiguration configuration=myList.getItemAt(i);
    if (configuration == null)     continue;
    if (myList.isItemSelected(configuration)) {
      String message=LangBundle.message("compound.run.configuration.cycle",configuration.getType().getDisplayName(),configuration.getName());
      if (!canBeAdded(configuration,s))       throw new ConfigurationException(message);
      checked.add(configuration);
    }
  }
  Set<RunConfiguration> toRun=s.getSetToRun();
  toRun.clear();
  toRun.addAll(checked);
}
