{
  String name=psiClass.getQualifiedName();
  if (name == null)   return false;
  Project project=psiClass.getProject();
  Collection<VirtualFile> candidates=DomService.getInstance().getDomFileCandidates(IdeaPlugin.class,project,GlobalSearchScope.allScope(project));
  GlobalSearchScope scope=GlobalSearchScope.filesScope(project,candidates);
  return !PsiSearchHelper.SERVICE.getInstance(project).processUsagesInNonJavaFiles(name,new PsiNonJavaFileReferenceProcessor(){
    @Override public boolean process(    PsiFile file,    int startOffset,    int endOffset){
      XmlTag tag=PsiTreeUtil.getParentOfType(file.findElementAt(startOffset),XmlTag.class);
      return tag == null || !candidate.epName.endsWith(tag.getName());
    }
  }
,scope);
}
