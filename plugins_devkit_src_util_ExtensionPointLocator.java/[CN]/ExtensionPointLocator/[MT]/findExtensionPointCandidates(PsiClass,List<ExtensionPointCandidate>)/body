{
  String name=psiClass.getQualifiedName();
  if (name == null)   return;
  final Project project=psiClass.getProject();
  final Collection<VirtualFile> candidates=DomService.getInstance().getDomFileCandidates(IdeaPlugin.class,project,GlobalSearchScope.allScope(project));
  GlobalSearchScope scope=GlobalSearchScope.filesScope(project,candidates);
  PsiSearchHelper.SERVICE.getInstance(project).processUsagesInNonJavaFiles(name,new PsiNonJavaFileReferenceProcessor(){
    @Override public boolean process(    PsiFile file,    int startOffset,    int endOffset){
      PsiElement element=file.findElementAt(startOffset);
      processExtensionPointCandidate(element,list);
      return true;
    }
  }
,scope);
}
