{
  PyIfStatement ifStatement=PyElementGenerator.getInstance(project).createFromText(LanguageLevel.getDefault(),PyIfStatement.class,"if True:\n    ");
  final PsiElement parent=elements[0].getParent();
  final PyStatementList statementList=ifStatement.getIfPart().getStatementList();
  statementList.addRange(elements[0],elements[elements.length - 1]);
  ifStatement=(PyIfStatement)parent.addBefore(ifStatement,elements[0]);
  parent.deleteChildRange(elements[0],elements[elements.length - 1]);
  ifStatement=CodeInsightUtilCore.forcePsiPostprocessAndRestoreElement(ifStatement);
  if (ifStatement == null) {
    return null;
  }
  final PyExpression condition=ifStatement.getIfPart().getCondition();
  return condition != null ? condition.getTextRange() : null;
}
