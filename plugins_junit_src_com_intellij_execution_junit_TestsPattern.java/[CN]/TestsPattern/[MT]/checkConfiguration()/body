{
  final JUnitConfiguration.Data data=getConfiguration().getPersistentData();
  final Set<String> patterns=data.getPatterns();
  if (patterns.isEmpty()) {
    throw new RuntimeConfigurationWarning("No pattern selected");
  }
  final GlobalSearchScope searchScope=GlobalSearchScope.allScope(getConfiguration().getProject());
  for (  String pattern : patterns) {
    final String className=pattern.contains(",") ? StringUtil.getPackageName(pattern,',') : pattern;
    final PsiClass psiClass=JavaExecutionUtil.findMainClass(getConfiguration().getProject(),className,searchScope);
    if (psiClass != null && !JUnitUtil.isTestClass(psiClass)) {
      throw new RuntimeConfigurationWarning("Class " + className + " not a test");
    }
  }
}
