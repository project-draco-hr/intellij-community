{
  if (element1 == null && isLeftLooseMatching()) {
    return true;
  }
  if (element2 == null && isRightLooseMatching()) {
    return true;
  }
  if (element1 == null || element2 == null) {
    return element1 == element2;
  }
  PsiElement e=element1.getFirstChild();
  PsiElement e2=element2.getFirstChild();
  return (e == null && isLeftLooseMatching()) || (e2 == null && isRightLooseMatching()) || matchInAnyOrder(new FilteringNodeIterator(new SiblingNodeIterator(e),getNodeFilter()),new FilteringNodeIterator(new SiblingNodeIterator(e2),getNodeFilter()));
}
