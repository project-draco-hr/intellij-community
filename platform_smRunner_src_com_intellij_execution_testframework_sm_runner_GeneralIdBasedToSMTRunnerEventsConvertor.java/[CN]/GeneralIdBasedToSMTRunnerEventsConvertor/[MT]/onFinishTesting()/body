{
  addToInvokeLater(new Runnable(){
    public void run(){
      if (myIsTestingFinished) {
        return;
      }
      myIsTestingFinished=true;
      if (myRunningTestNodes.isEmpty()) {
        myTestsRootProxy.setFinished();
      }
 else {
        logProblem("Unexpected running nodes: " + myRunningTestNodes);
        myTestsRootProxy.setTerminated();
      }
      myNodeByIdMap.clear();
      myRunningTestNodes.clear();
      fireOnTestingFinished();
    }
  }
);
}
