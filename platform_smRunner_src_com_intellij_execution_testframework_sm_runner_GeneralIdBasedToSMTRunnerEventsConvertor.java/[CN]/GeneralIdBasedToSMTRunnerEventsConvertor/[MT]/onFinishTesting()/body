{
  addToInvokeLater(new Runnable(){
    public void run(){
      if (myIsTestingFinished) {
        return;
      }
      myIsTestingFinished=true;
      boolean completeTree=isTreeComplete();
      if (completeTree) {
        myTestsRootProxy.setFinished();
      }
 else {
        logProblem("Unexpected running nodes: " + myRunningTestNodes);
        myTestsRootProxy.setTerminated();
      }
      myNodeByIdMap.clear();
      myRunningTestNodes.clear();
      fireOnTestingFinished();
    }
  }
);
}
