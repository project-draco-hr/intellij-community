{
  String parentId=startedNodeEvent.getParentId();
  if (parentId == null) {
    logProblem("Parent node id should be defined: " + startedNodeEvent + ".",true);
    return null;
  }
  Node parentNode=myNodeByIdMap.get(parentId);
  if (parentNode == null) {
    logProblem("Parent node is undefined for " + startedNodeEvent + ".",true);
    return null;
  }
  if (parentNode.getState() != State.NOT_RUNNING && parentNode.getState() != State.RUNNING) {
    logProblem("Parent node should be registered or running: " + parentNode + ", "+ startedNodeEvent);
    return null;
  }
  return parentNode;
}
