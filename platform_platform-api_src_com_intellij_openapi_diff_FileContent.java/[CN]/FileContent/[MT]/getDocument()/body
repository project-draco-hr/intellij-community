{
  if (myDocument == null && DiffContentUtil.isTextFile(myFile)) {
    myDocument=ApplicationManager.getApplication().runReadAction(new Computable<Document>(){
      @Override public Document compute(){
        return FileDocumentManager.getInstance().getDocument(myFile);
      }
    }
);
  }
  return myDocument;
}
