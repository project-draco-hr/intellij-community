{
  PsiElement topmostExpression=template.getPsiInfo().getTopmostExpression(context);
  return topmostExpression != null && topmostExpression.getTextRange().getEndOffset() == newOffset && !PsiTreeUtil.hasErrorElements(topmostExpression) && myCondition.value(topmostExpression);
}
