{
  EventDispatcher<CheckboxTreeListener> eventDispatcher=EventDispatcher.create(CheckboxTreeListener.class);
  eventDispatcher.addListener(new CheckboxTreeListener(){
    @Override public void mouseDoubleClicked(    @NotNull CheckedTreeNode node){
      onDoubleClick(node);
    }
    @Override public void nodeStateChanged(    @NotNull CheckedTreeNode node){
      CheckboxTreeBase.this.onNodeStateChanged(node);
    }
    @Override public void beforeNodeStateChanged(    @NotNull CheckedTreeNode node){
      CheckboxTreeBase.this.nodeStateWillChange(node);
    }
  }
);
  CheckboxTreeHelper helper=new CheckboxTreeHelper(checkPolicy,eventDispatcher);
  helper.initTree(this,this,cellRenderer);
  setSelectionRow(0);
  if (root != null) {
    setModel(new DefaultTreeModel(root));
  }
}
