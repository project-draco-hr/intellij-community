{
  try {
    URL url=requestor instanceof AbstractExtensionPointBean ? (((AbstractExtensionPointBean)requestor).getLoaderForClass().getResource(resourceName)) : DecodeDefaultsUtil.getDefaults(requestor,resourceName);
    if (url == null) {
      LOG.error("Cannot read scheme from " + resourceName);
      return;
    }
    Element element=JDOMUtil.load(URLUtil.openStream(url));
    T scheme=convertor.convert(element);
    if (scheme instanceof ExternalizableScheme) {
      String fileName=PathUtilRt.getFileName(url.getPath());
      String extension=getFileExtension(fileName,true);
      ExternalInfo info=new ExternalInfo(fileName.substring(0,fileName.length() - extension.length()),extension);
      info.hash=JDOMUtil.getTreeHash(element,true);
      info.schemeName=scheme.getName();
      ExternalInfo oldInfo=schemeToInfo.put((ExternalizableScheme)scheme,info);
      LOG.assertTrue(oldInfo == null);
    }
    addNewScheme(scheme,false);
  }
 catch (  Throwable e) {
    LOG.error("Cannot read scheme from " + resourceName,e);
  }
}
