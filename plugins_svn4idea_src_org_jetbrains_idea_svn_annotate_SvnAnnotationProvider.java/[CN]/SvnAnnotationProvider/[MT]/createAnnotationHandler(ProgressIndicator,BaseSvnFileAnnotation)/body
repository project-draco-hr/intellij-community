{
  return new ISVNAnnotateHandler(){
    public void handleLine(    Date date,    long revision,    String author,    String line){
    }
    public void handleLine(    final Date date,    final long revision,    final String author,    final String line,    final Date mergedDate,    final long mergedRevision,    final String mergedAuthor,    final String mergedPath,    final int lineNumber) throws SVNException {
      if (progress != null) {
        progress.checkCanceled();
      }
      if (revision == -1)       return;
      CommitInfo info=new CommitInfo.Builder(revision,date,author).build();
      CommitInfo mergeInfo=mergedDate != null && revision > mergedRevision ? new CommitInfo.Builder(mergedRevision,mergedDate,mergedAuthor).build() : null;
      result.setLineInfo(lineNumber,info,mergeInfo);
    }
    public boolean handleRevision(    final Date date,    final long revision,    final String author,    final File contents) throws SVNException {
      if (progress != null) {
        progress.checkCanceled();
      }
      return false;
    }
    public void handleEOF(){
    }
  }
;
}
