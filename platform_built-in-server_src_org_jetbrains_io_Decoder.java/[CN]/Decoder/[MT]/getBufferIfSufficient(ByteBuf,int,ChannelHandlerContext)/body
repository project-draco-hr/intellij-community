{
  if (!input.isReadable()) {
    return null;
  }
  if (cumulation == null) {
    if (input.readableBytes() < requiredLength) {
      cumulation=context.channel().config().getAllocator().buffer(requiredLength);
      cumulation.writeBytes(input);
      return null;
    }
 else {
      return input;
    }
  }
 else {
    if ((cumulation.readableBytes() + input.readableBytes()) < requiredLength) {
      cumulation.writeBytes(input);
      return null;
    }
 else {
      ByteBuf buffer=Unpooled.wrappedBuffer(cumulation,input);
      input.skipBytes(input.readableBytes());
      cumulation=null;
      return buffer;
    }
  }
}
