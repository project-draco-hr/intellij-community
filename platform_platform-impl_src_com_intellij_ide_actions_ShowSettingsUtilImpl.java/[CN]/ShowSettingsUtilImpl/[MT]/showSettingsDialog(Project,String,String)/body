{
  ConfigurableGroup[] group=getConfigurableGroups(project,true);
  group=filterEmptyGroups(group);
  final Configurable configurable2Select=id2Select == null ? null : new ConfigurableVisitor.ByID(id2Select).find(group);
  if (ApplicationManager.getApplication().isInternal() && Registry.is("ide.new.settings.view")) {
    new SettingsDialog(getProject(project),group,configurable2Select,filter).show();
    return;
  }
  final DialogWrapper dialog=getDialog(project,group,configurable2Select);
  new UiNotifyConnector.Once(dialog.getContentPane(),new Activatable.Adapter(){
    @Override public void showNotify(){
      final OptionsEditor editor=(OptionsEditor)((DataProvider)dialog).getData(OptionsEditor.KEY.getName());
      LOG.assertTrue(editor != null);
      editor.select(configurable2Select,filter);
    }
  }
);
  dialog.show();
}
