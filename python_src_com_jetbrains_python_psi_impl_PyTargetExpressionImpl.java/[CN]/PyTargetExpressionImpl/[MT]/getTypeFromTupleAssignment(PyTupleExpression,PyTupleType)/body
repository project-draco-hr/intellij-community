{
  final int count=tupleType.getElementCount();
  final PyExpression[] elements=tuple.getElements();
  if (elements.length == count) {
    final int index=ArrayUtil.indexOf(elements,this);
    if (index >= 0) {
      return tupleType.getElementType(index);
    }
    for (int i=0; i < count; i++) {
      PyExpression element=elements[i];
      while (element instanceof PyParenthesizedExpression) {
        element=((PyParenthesizedExpression)element).getContainedExpression();
      }
      if (element instanceof PyTupleExpression) {
        final PyType elementType=tupleType.getElementType(i);
        if (elementType instanceof PyTupleType) {
          final PyType result=getTypeFromTupleAssignment((PyTupleExpression)element,(PyTupleType)elementType);
          if (result != null) {
            return result;
          }
        }
      }
    }
  }
  return null;
}
