{
  try {
    if (errorConsumer == null) {
      callback.reject(errorMessage);
    }
 else {
      try {
        errorConsumer.consume(errorMessage,errorDetails,callback);
      }
 catch (      Throwable e) {
        try {
          callback.reject(e.getMessage());
        }
  finally {
          MessageManager.LOG.error(e);
        }
      }
    }
  }
 catch (  Throwable e) {
    MessageManager.LOG.error(e);
  }
}
