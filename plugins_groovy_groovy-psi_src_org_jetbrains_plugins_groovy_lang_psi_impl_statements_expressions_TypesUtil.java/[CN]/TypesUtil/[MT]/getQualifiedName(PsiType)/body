{
  if (type instanceof PsiClassType) {
    PsiClass resolved=((PsiClassType)type).resolve();
    if (resolved instanceof PsiAnonymousClass) {
      return getQualifiedName(((PsiAnonymousClass)resolved).getBaseClassType());
    }
    if (resolved != null) {
      return resolved.getQualifiedName();
    }
  }
  return null;
}
