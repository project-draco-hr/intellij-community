{
  if (actualType instanceof PsiIntersectionType) {
    for (    PsiType child : ((PsiIntersectionType)actualType).getConjuncts()) {
      if (canAssign(targetType,child,context,position) == ConversionResult.OK) {
        return ConversionResult.OK;
      }
    }
    return ConversionResult.ERROR;
  }
  if (targetType instanceof PsiIntersectionType) {
    for (    PsiType child : ((PsiIntersectionType)targetType).getConjuncts()) {
      if (canAssign(child,actualType,context,position) != ConversionResult.OK) {
        return ConversionResult.ERROR;
      }
    }
    return ConversionResult.OK;
  }
  final ConversionResult result=areTypesConvertible(targetType,actualType,context,position);
  if (result != null)   return result;
  if (isAssignableWithoutConversions(targetType,actualType,context)) {
    return ConversionResult.OK;
  }
  final PsiManager manager=context.getManager();
  final GlobalSearchScope scope=context.getResolveScope();
  targetType=boxPrimitiveType(targetType,manager,scope);
  actualType=boxPrimitiveType(actualType,manager,scope);
  if (targetType.isAssignableFrom(actualType)) {
    return ConversionResult.OK;
  }
  return ConversionResult.ERROR;
}
