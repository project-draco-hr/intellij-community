{
  System.setProperty(JetBrainsProtocolHandler.class.getName(),url);
  url=url.substring(PROTOCOL.length());
  List<String> urlParts=StringUtil.split(url,"/");
  if (urlParts.size() < 2) {
    System.err.print("Wrong URL: " + PROTOCOL + url);
    return;
  }
  String platformPrefix=urlParts.get(0);
  ourMainParameter=null;
  ourParameters.clear();
  ourCommand=urlParts.get(1);
  if (urlParts.size() > 2) {
    url=url.substring(platformPrefix.length() + 1 + ourCommand.length()+ 1);
    List<String> strings=StringUtil.split(url,"?");
    ourMainParameter=strings.get(0);
    if (strings.size() > 1) {
      List<String> keyValues=StringUtil.split(StringUtil.join(ContainerUtil.subList(strings,1),"?"),"&");
      for (      String keyValue : keyValues) {
        if (keyValue.contains("=")) {
          int ind=keyValue.indexOf('=');
          String key=keyValue.substring(0,ind);
          String value=keyValue.substring(ind + 1);
          if (REQUIRED_PLUGINS_KEY.equals(key)) {
            System.setProperty(key,value);
          }
 else {
            ourParameters.put(key,value);
          }
        }
 else {
          ourParameters.put(keyValue,"");
        }
      }
    }
  }
  initialized=true;
}
