{
  System.setProperty(JetBrainsProtocolHandler.class.getName(),url);
  url=url.substring(PROTOCOL.length());
  String platformPrefix=url.substring(0,url.indexOf('/'));
  url=url.substring(platformPrefix.length() + 1);
  String command=url.substring(0,url.indexOf('/'));
  url=url.substring(command.length() + 1);
  List<String> strings=StringUtil.split(url,"?");
  ourMainParameter=strings.get(0);
  ourCommand=command;
  if (strings.size() > 1) {
    List<String> keyValues=StringUtil.split(StringUtil.join(ContainerUtil.subList(strings,1),"?"),"&");
    for (    String keyValue : keyValues) {
      if (keyValue.contains("=")) {
        int ind=keyValue.indexOf('=');
        String key=keyValue.substring(0,ind);
        String value=keyValue.substring(ind + 1);
        if (REQUIRED_PLUGINS_KEY.equals(key)) {
          System.setProperty(key,value);
        }
 else {
          ourParameters.put(key,value);
        }
      }
 else {
        ourParameters.put(keyValue,"");
      }
    }
  }
  initialized=true;
}
