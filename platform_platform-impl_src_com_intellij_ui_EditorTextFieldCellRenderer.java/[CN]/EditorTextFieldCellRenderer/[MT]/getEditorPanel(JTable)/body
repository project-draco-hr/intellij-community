{
  MyPanel panel=UIUtil.getClientProperty(table,MY_PANEL_PROPERTY);
  if (panel != null) {
    DelegateColorScheme scheme=(DelegateColorScheme)panel.myEditor.getColorsScheme();
    scheme.setDelegate(getColorScheme());
    return panel;
  }
  FileType fileType=ObjectUtils.notNull(getFileType(),FileTypes.PLAIN_TEXT);
  EditorTextField field=new EditorTextField(new MyDocument(),myProject,fileType,false,false);
  field.setSupplementary(true);
  field.setFontInheritedFromLAF(myInheritFontFromLaF);
  field.addNotify();
  EditorEx editor=(EditorEx)ObjectUtils.assertNotNull(field.getEditor());
  editor.setRendererMode(true);
  editor.setColorsScheme(editor.createBoundColorSchemeDelegate(null));
  editor.getSettings().setCaretRowShown(false);
  editor.getScrollPane().setBorder(null);
  panel=new MyPanel(editor);
  Disposer.register(this,panel);
  Disposer.register(this,new Disposable(){
    @Override public void dispose(){
      UIUtil.putClientProperty(table,MY_PANEL_PROPERTY,null);
    }
  }
);
  table.putClientProperty(MY_PANEL_PROPERTY,panel);
  return panel;
}
