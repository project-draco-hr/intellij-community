{
  doTest(new Runnable(){
    @Override public void run(){
      PsiElement element=myFile.findElementAt(myEditor.getCaretModel().getOffset());
      final PsiJavaCodeReferenceElement referenceElement=PsiTreeUtil.getParentOfType(element,PsiJavaCodeReferenceElement.class);
      final PsiClass aClassA=JavaPsiFacade.getInstance(myProject).findClass("p2.A",GlobalSearchScope.moduleScope(myModule));
      assertNotNull(aClassA);
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          try {
            referenceElement.bindToElement(aClassA);
          }
 catch (          IncorrectOperationException e) {
            LOG.error(e);
          }
        }
      }
);
    }
  }
);
}
