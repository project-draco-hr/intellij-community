{
  FilePath filePath=VcsContextFactory.SERVICE.getInstance().createFilePathOn(selectedFile);
  final SVNRevision svnRevision=((SvnRevisionNumber)revisionNumber).getRevision();
  if (!SVNRevision.HEAD.equals(svnRevision)) {
    if (revisionNumber.equals(getCurrentRevision(selectedFile))) {
      return SvnContentRevision.createBaseRevision(myVcs,filePath,svnRevision);
    }
  }
  SVNStatus svnStatus=getFileStatus(new File(selectedFile.getPresentableUrl()),false);
  if (svnStatus != null && svnRevision.equals(svnStatus.getRevision())) {
    return SvnContentRevision.createBaseRevision(myVcs,filePath,svnRevision);
  }
  return SvnContentRevision.createRemote(myVcs,filePath,svnRevision);
}
