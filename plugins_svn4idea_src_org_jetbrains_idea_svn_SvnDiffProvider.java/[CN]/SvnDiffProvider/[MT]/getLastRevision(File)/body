{
  Status svnStatus=getFileStatus(file,true);
  if (svnStatus == null || itemExists(svnStatus) && SVNRevision.UNDEFINED.equals(svnStatus.getRemoteRevision())) {
    final Info info=myVcs.getInfo(file,SVNRevision.HEAD);
    if (info == null || info.getURL() == null) {
      LOG.info("No SVN status returned for " + file.getPath());
      return defaultResult();
    }
    return createResult(info.getCommittedRevision(),true,false);
  }
  if (!itemExists(svnStatus)) {
    return createResult(getLastExistingRevision(file,svnStatus),false,false);
  }
  return createResult(ObjectUtils.notNull(svnStatus.getRemoteRevision(),svnStatus.getRevision()),true,false);
}
