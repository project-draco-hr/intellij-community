{
  Map<VirtualFile,VcsRevisionNumber> result=ContainerUtil.newHashMap();
  Map<String,VirtualFile> items=ContainerUtil.newHashMap();
  List<File> ioFiles=ContainerUtil.newArrayList();
  for (  VirtualFile file : files) {
    File ioFile=VfsUtilCore.virtualToIoFile(file);
    ioFiles.add(ioFile);
    items.put(ioFile.getAbsolutePath(),file);
    if (items.size() == BATCH_INFO_SIZE) {
      collectRevisionsInBatch(result,items,ioFiles);
      items.clear();
      ioFiles.clear();
    }
  }
  collectRevisionsInBatch(result,items,ioFiles);
  return result;
}
