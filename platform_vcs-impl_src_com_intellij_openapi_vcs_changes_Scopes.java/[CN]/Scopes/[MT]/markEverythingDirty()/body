{
  myScopes.clear();
  myEverythingDirty=true;
  final ProjectLevelVcsManager vcsManager=ProjectLevelVcsManager.getInstance(myProject);
  final List<VcsDirectoryMapping> mappings=vcsManager.getDirectoryMappings();
  final LocalFileSystem lfs=LocalFileSystem.getInstance();
  for (  VcsDirectoryMapping mapping : mappings) {
    if (mapping.isDefaultMapping()) {
      takeDirt(DefaultVcsRootPolicy.getInstance(myProject).getDirtyRoots(myGuess));
    }
 else {
      if (mapping.getVcs() != null) {
        final String vcsName=mapping.getVcs();
        final AbstractVcs vcs=vcsManager.findVcsByName(vcsName);
        final VirtualFile file=lfs.findFileByPath(mapping.getDirectory());
        if (vcs != null && file != null) {
          getScope(vcs).addDirtyData(null,Collections.singletonList(VcsUtil.getFilePath(file)));
        }
      }
    }
  }
  takeDirt(DefaultVcsRootPolicy.getInstance(myProject).getDirtyRoots(myGuess));
}
