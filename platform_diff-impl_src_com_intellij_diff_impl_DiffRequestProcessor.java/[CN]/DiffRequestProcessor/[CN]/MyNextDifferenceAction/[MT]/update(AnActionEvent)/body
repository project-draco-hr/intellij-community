{
  if (!ActionPlaces.DIFF_TOOLBAR.equals(e.getPlace())) {
    e.getPresentation().setEnabledAndVisible(true);
    return;
  }
  PrevNextDifferenceIterable iterable=DiffDataKeys.PREV_NEXT_DIFFERENCE_ITERABLE.getData(e.getDataContext());
  if (iterable == null && !isNavigationEnabled()) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  e.getPresentation().setVisible(true);
  if (iterable != null && iterable.canGoNext()) {
    e.getPresentation().setEnabled(true);
    return;
  }
  if (isNavigationEnabled() && hasNextChange()) {
    e.getPresentation().setEnabled(true);
    return;
  }
  e.getPresentation().setEnabled(false);
}
