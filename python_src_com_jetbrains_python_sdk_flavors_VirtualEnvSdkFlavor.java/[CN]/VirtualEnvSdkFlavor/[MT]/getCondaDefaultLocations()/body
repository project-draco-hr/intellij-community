{
  List<VirtualFile> roots=new ArrayList<>();
  final VirtualFile userHome=LocalFileSystem.getInstance().findFileByPath(SystemProperties.getUserHome().replace('\\','/'));
  if (userHome != null) {
    for (    String root : CONDA_DEFAULT_ROOTS) {
      VirtualFile condaFolder=userHome.findChild(root);
      addEnvsFolder(roots,condaFolder);
      if (SystemInfo.isWindows) {
        final VirtualFile appData=userHome.findFileByRelativePath("AppData\\Local\\Continuum\\" + root);
        addEnvsFolder(roots,appData);
        condaFolder=LocalFileSystem.getInstance().findFileByPath("C:\\" + root);
        addEnvsFolder(roots,condaFolder);
      }
 else {
        final String systemWidePath="/opt/anaconda";
        condaFolder=LocalFileSystem.getInstance().findFileByPath(systemWidePath);
        addEnvsFolder(roots,condaFolder);
      }
    }
  }
  return roots;
}
