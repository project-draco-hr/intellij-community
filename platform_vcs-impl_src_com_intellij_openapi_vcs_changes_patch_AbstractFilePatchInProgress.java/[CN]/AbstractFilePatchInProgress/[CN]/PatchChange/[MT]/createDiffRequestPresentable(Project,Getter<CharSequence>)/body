{
  return new DiffRequestPresentableProxy(){
    @NotNull @Override public DiffRequestPresentable init() throws VcsException {
      if (myPatchInProgress.isConflictingChange()) {
        return myPatchInProgress.diffRequestForConflictingChanges(project,PatchChange.this,baseContents);
      }
 else {
        return new ChangeDiffRequestPresentable(project,PatchChange.this);
      }
    }
    @Override public String getPathPresentation(){
      final File ioCurrentBase=myPatchInProgress.getIoCurrentBase();
      return ioCurrentBase == null ? myPatchInProgress.getCurrentPath() : ioCurrentBase.getPath();
    }
  }
;
}
