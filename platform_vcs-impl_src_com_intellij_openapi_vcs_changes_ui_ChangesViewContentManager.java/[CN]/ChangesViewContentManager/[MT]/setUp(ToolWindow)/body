{
  final ContentManager contentManager=toolWindow.getContentManager();
  myContentManagerListener=new MyContentManagerListener();
  contentManager.addContentManagerListener(myContentManagerListener);
  myVcsManager.addVcsListener(myVcsListener);
  Disposer.register(myProject,new Disposable(){
    public void dispose(){
      contentManager.removeContentManagerListener(myContentManagerListener);
      myVcsManager.removeVcsListener(myVcsListener);
    }
  }
);
  loadExtensionTabs();
  myContentManager=contentManager;
  final List<Content> ordered=doPresetOrdering(myAddedContents);
  for (  Content content : ordered) {
    myContentManager.addContent(content);
  }
  myAddedContents.clear();
  if (contentManager.getContentCount() > 0) {
    contentManager.setSelectedContent(contentManager.getContent(0));
  }
  myInitializationWaiter.countDown();
}
