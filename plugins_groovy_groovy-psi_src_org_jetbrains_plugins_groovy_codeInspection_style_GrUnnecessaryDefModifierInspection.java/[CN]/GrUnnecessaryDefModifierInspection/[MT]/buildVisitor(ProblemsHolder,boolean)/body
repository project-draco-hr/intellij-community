{
  return new GroovyPsiElementVisitor(new GroovyElementVisitor(){
    @Override public void visitModifierList(    GrModifierList modifierList){
      PsiElement parent=modifierList.getParent();
      if (!(parent instanceof GrMethod) && !(parent instanceof GrParameter) && !(parent instanceof GrVariableDeclaration))       return;
      PsiElement modifier=modifierList.getModifier(GrModifier.DEF);
      if (modifier == null)       return;
      if (parent instanceof GrMethod && ((GrMethod)parent).getReturnTypeElementGroovy() != null || parent instanceof GrVariable && ((GrVariable)parent).getTypeElementGroovy() != null || parent instanceof GrVariableDeclaration && ((GrVariableDeclaration)parent).getTypeElementGroovy() != null) {
        holder.registerProblem(modifier,GroovyInspectionBundle.message("unnecessary.modifier.description",GrModifier.DEF),ProblemHighlightType.LIKE_UNUSED_SYMBOL,FIX);
      }
    }
  }
);
}
