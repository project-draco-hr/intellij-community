{
  XDebugSessionTab tab=((XDebugSessionImpl)session).getSessionTab();
  if (tab != null) {
    RunnerLayoutUi ui=tab.getUi();
    ContentManager contentManager=ui.getContentManager();
    Content content=findContent(contentManager,XDebuggerBundle.message("debugger.session.tab.watches.title"));
    if (content != null) {
      contentManager.removeContent(content,true);
    }
    content=findContent(contentManager,XDebuggerBundle.message("debugger.session.tab.console.content.name"));
    if (content != null) {
      ExecutionConsole console=session.getDebugProcess().createConsole();
      PythonDebugLanguageConsoleView view=(PythonDebugLanguageConsoleView)console;
      Presentation presentation=view.getSwitchConsoleActionPresentation();
      ToggleAction action=new ToggleAction(presentation.getText(),presentation.getDescription(),presentation.getIcon()){
        @Override public boolean isSelected(        AnActionEvent e){
          return !view.isPrimaryConsoleEnabled();
        }
        @Override public void setSelected(        AnActionEvent e,        boolean state){
          view.enableConsole(!state);
        }
      }
;
      content.setActions(new DefaultActionGroup(action),ActionPlaces.DEBUGGER_TOOLBAR,view.getPreferredFocusableComponent());
    }
    patchLeftToolbar(session,ui);
  }
}
