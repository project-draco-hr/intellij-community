{
  if (checkCache(request,channel,lastModified)) {
    return null;
  }
  HttpResponse response=new DefaultHttpResponse(HttpVersion.HTTP_1_1,HttpResponseStatus.OK);
  response.headers().add(CONTENT_TYPE,getContentType(path));
  addCommonHeaders(response);
  response.headers().set(HttpHeaderNames.CACHE_CONTROL,"private, must-revalidate");
  HttpHeaders.setDateHeader(response,HttpHeaderNames.LAST_MODIFIED,new Date(lastModified));
  return response;
}
