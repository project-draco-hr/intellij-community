{
  final ArrayList<String> args=new ArrayList<String>();
  args.add(sdk.getHomePath());
  final String versionString=sdk.getVersionString();
  if (versionString == null || !versionString.toLowerCase().contains("jython")) {
    args.add("-u");
  }
  args.add(FileUtil.toSystemDependentName(PythonHelpersLocator.getHelperPath(PYDEV_PYDEVCONSOLE_PY)));
  for (  int port : ports) {
    args.add(String.valueOf(port));
  }
  return new CommandLineArgumentsProvider(){
    @Override public String[] getArguments(){
      return ArrayUtil.toStringArray(args);
    }
    @Override public boolean passParentEnvs(){
      return false;
    }
    @Override public Map<String,String> getAdditionalEnvs(){
      return addDefaultEnvironments(sdk,environmentVariables,getProject());
    }
  }
;
}
