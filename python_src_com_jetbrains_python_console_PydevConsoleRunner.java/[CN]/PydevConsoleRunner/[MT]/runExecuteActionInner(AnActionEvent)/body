{
  try {
    Thread.sleep(300);
  }
 catch (  InterruptedException e) {
  }
  final Editor editor=getLanguageConsole().getCurrentEditor();
  final Document document=editor.getDocument();
  final String lastLine=document.getText().substring(document.getLineStartOffset(document.getLineCount() - 1));
  if (myInMultilineStringState != null) {
    if (lastLine.contains(myInMultilineStringState)) {
      myInMultilineStringState=null;
      super.runExecuteActionInner(actionEvent);
      myConsoleView.getConsole().setLanguage(PythonLanguage.getInstance());
      return;
    }
    typeInEditor(actionEvent,editor);
    return;
  }
 else {
    if (lastLine.contains(DOUBLE_QUOTE_MULTILINE)) {
      myInMultilineStringState=DOUBLE_QUOTE_MULTILINE;
    }
 else     if (lastLine.contains(SINGLE_QUOTE_MULTILINE)) {
      myInMultilineStringState=SINGLE_QUOTE_MULTILINE;
    }
    if (myInMultilineStringState != null) {
      myConsoleView.getConsole().setLanguage(PlainTextLanguage.INSTANCE);
      typeInEditor(actionEvent,editor);
      return;
    }
  }
  if (lastLine.endsWith("\\")) {
    typeInEditor(actionEvent,editor);
    return;
  }
  super.runExecuteActionInner(actionEvent);
}
