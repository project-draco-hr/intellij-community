{
  new Task.Backgroundable(getProject(),"Restarting console",true){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          closeCommunication();
        }
      }
);
      myProcessHandler.waitFor();
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          PydevConsoleRunner.this.run();
        }
      }
);
    }
  }
.queue();
}
