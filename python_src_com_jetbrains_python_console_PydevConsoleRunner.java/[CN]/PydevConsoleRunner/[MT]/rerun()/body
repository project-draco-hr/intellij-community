{
  new Task.Backgroundable(getProject(),"Restarting Console",true){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      if (myProcessHandler != null) {
        UIUtil.invokeLaterIfNeeded(new Runnable(){
          @Override public void run(){
            closeCommunication();
          }
        }
);
        myProcessHandler.waitFor();
      }
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          PydevConsoleRunner.this.run();
        }
      }
);
    }
  }
.queue();
}
