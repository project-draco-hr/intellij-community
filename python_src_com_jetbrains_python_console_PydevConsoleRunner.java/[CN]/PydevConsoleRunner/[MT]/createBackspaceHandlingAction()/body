{
  final AnAction upAction=new AnAction(){
    @Override public void actionPerformed(    final AnActionEvent e){
      new WriteCommandAction(getLanguageConsole().getProject(),getLanguageConsole().getFile()){
        protected void run(        final Result result) throws Throwable {
          String text=getLanguageConsole().getEditorDocument().getText();
          String newText=text.substring(0,text.length() - myConsoleExecuteActionHandler.getPythonIndent());
          getLanguageConsole().getEditorDocument().setText(newText);
          getLanguageConsole().getConsoleEditor().getCaretModel().moveToOffset(newText.length());
        }
      }
.execute();
    }
    @Override public void update(    final AnActionEvent e){
      e.getPresentation().setEnabled(myConsoleExecuteActionHandler.getCurrentIndentSize() >= myConsoleExecuteActionHandler.getPythonIndent() && isIndentSubstring(getLanguageConsole().getEditorDocument().getText()));
    }
  }
;
  upAction.registerCustomShortcutSet(KeyEvent.VK_BACK_SPACE,0,null);
  upAction.getTemplatePresentation().setVisible(false);
  return upAction;
}
