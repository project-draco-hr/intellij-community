{
  final AnAction upAction=new AnAction(){
    @Override public void actionPerformed(    final AnActionEvent e){
      new WriteCommandAction(getConsoleView().getProject(),getConsoleView().getFile()){
        @Override protected void run(        @NotNull final Result result) throws Throwable {
          String text=getConsoleView().getEditorDocument().getText();
          String newText=text.substring(0,text.length() - myConsoleExecuteActionHandler.getPythonIndent());
          getConsoleView().getEditorDocument().setText(newText);
          getConsoleView().getConsoleEditor().getCaretModel().moveToOffset(newText.length());
        }
      }
.execute();
    }
    @Override public void update(    final AnActionEvent e){
      e.getPresentation().setEnabled(myConsoleExecuteActionHandler.getCurrentIndentSize() >= myConsoleExecuteActionHandler.getPythonIndent() && isIndentSubstring(getConsoleView().getEditorDocument().getText()));
    }
  }
;
  upAction.registerCustomShortcutSet(KeyEvent.VK_BACK_SPACE,0,null);
  upAction.getTemplatePresentation().setVisible(false);
  return upAction;
}
