{
  if (PySdkUtil.isRemote(mySdk)) {
    PythonRemoteInterpreterManager manager=PythonRemoteInterpreterManager.getInstance();
    if (manager != null) {
      try {
        return createRemoteConsoleProcess(manager,myCommandLineArgumentsProvider.getArguments(),myCommandLineArgumentsProvider.getAdditionalEnvs());
      }
 catch (      final RemoteInterpreterException e) {
        throw new ExecutionException(e.getMessage(),e);
      }
    }
    throw new PythonRemoteInterpreterManager.PyRemoteInterpreterExecutionException();
  }
 else {
    myCommandLine=myCommandLineArgumentsProvider.getCommandLineString();
    final Process server=Runner.createProcess(getWorkingDir(),myCommandLineArgumentsProvider.getAdditionalEnvs(),myCommandLineArgumentsProvider.getArguments());
    try {
      myPydevConsoleCommunication=new PydevConsoleCommunication(getProject(),myPorts[0],server,myPorts[1]);
    }
 catch (    Exception e) {
      throw new ExecutionException(e.getMessage());
    }
    return server;
  }
}
