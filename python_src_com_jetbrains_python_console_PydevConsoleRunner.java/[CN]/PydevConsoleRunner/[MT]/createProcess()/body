{
  if (PySdkUtil.isRemote(mySdk)) {
    PythonRemoteInterpreterManager manager=PythonRemoteInterpreterManager.getInstance();
    if (manager != null) {
      UsageTrigger.trigger(CONSOLE_FEATURE + ".remote");
      return createRemoteConsoleProcess(manager,myGeneralCommandLine.getParametersList().getArray(),myGeneralCommandLine.getEnvironment(),myGeneralCommandLine.getWorkDirectory());
    }
    throw new PythonRemoteInterpreterManager.PyRemoteInterpreterExecutionException();
  }
 else {
    myCommandLine=myGeneralCommandLine.getCommandLineString();
    Map<String,String> envs=myGeneralCommandLine.getEnvironment();
    EncodingEnvironmentUtil.setLocaleEnvironmentIfMac(envs,myGeneralCommandLine.getCharset());
    UsageTrigger.trigger(CONSOLE_FEATURE + ".local");
    final Process server=myGeneralCommandLine.createProcess();
    try {
      myPydevConsoleCommunication=new PydevConsoleCommunication(getProject(),myPorts[0],server,myPorts[1]);
    }
 catch (    Exception e) {
      throw new ExecutionException(e.getMessage());
    }
    return server;
  }
}
