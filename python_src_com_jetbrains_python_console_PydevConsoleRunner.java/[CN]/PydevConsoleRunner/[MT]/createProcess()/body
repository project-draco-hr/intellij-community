{
  if (PySdkUtil.isRemote(mySdk)) {
    PythonRemoteInterpreterManager manager=PythonRemoteInterpreterManager.getInstance();
    if (manager != null) {
      return createRemoteConsoleProcess(manager,myCommandLineArgumentsProvider.getArguments(),myCommandLineArgumentsProvider.getAdditionalEnvs());
    }
    throw new PythonRemoteInterpreterManager.PyRemoteInterpreterExecutionException();
  }
 else {
    myCommandLine=myCommandLineArgumentsProvider.getCommandLineString();
    Map<String,String> envs=myCommandLineArgumentsProvider.getAdditionalEnvs();
    if (envs != null) {
      EncodingEnvironmentUtil.setLocaleEnvironmentIfMac(envs,EncodingProjectManager.getInstance(getProject()).getDefaultCharset());
    }
    Process server=ProcessRunner.createProcess(getWorkingDir(),envs,myCommandLineArgumentsProvider.getArguments());
    try {
      myPydevConsoleCommunication=new PydevConsoleCommunication(getProject(),myPorts[0],server,myPorts[1]);
    }
 catch (    Exception e) {
      throw new ExecutionException(e.getMessage());
    }
    return server;
  }
}
