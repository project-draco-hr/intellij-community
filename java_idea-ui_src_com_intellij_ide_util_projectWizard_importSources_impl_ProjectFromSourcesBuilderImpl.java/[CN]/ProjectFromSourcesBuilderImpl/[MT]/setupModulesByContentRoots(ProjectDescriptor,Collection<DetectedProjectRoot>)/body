{
  if (projectDescriptor.getModules().isEmpty()) {
    List<ModuleDescriptor> modules=new ArrayList<ModuleDescriptor>();
    for (    DetectedProjectRoot root : roots) {
      if (root instanceof DetectedContentRoot) {
        modules.add(new ModuleDescriptor(root.getDirectory(),((DetectedContentRoot)root).getModuleType(),Collections.<DetectedProjectRoot>emptyList()));
      }
    }
    projectDescriptor.setModules(modules);
  }
}
