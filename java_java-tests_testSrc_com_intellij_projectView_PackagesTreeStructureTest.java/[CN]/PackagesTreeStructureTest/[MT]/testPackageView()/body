{
  ModuleManagerImpl.getInstanceImpl(myProject).setModuleGroupPath(myModule,new String[]{"Group"});
  final VirtualFile srcFile=getSrcDirectory().getVirtualFile();
  if (srcFile.findChild("empty") == null) {
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        try {
          srcFile.createChildDirectory(this,"empty");
        }
 catch (        IOException e) {
          fail(e.getLocalizedMessage());
        }
      }
    }
);
  }
  doTest(true,true,"-Project\n" + " -Group: Group\n" + "  -Module\n"+ "   -PsiPackage: com.package1\n"+ "    Class1.java\n"+ "    Class2.java\n"+ "    Class4.java\n"+ "    emptyClassFile.class\n"+ "    Form1.form\n"+ "    Form1.java\n"+ "    Form2.form\n"+ "   PsiPackage: empty\n"+ "   -PsiPackage: java\n"+ "    Class1.java\n"+ "   -PsiPackage: javax.servlet\n"+ "    Class1.java\n"+ "   -Libraries\n"+ "    -PsiPackage: java\n"+ "     +PsiPackage: awt\n"+ "     +PsiPackage: beans.beancontext\n"+ "     +PsiPackage: io\n"+ "     +PsiPackage: lang\n"+ "     +PsiPackage: net\n"+ "     +PsiPackage: rmi\n"+ "     +PsiPackage: security\n"+ "     +PsiPackage: sql\n"+ "     +PsiPackage: util\n"+ "    -PsiPackage: javax.swing\n"+ "     +PsiPackage: table\n"+ "     AbstractButton.class\n"+ "     Icon.class\n"+ "     JButton.class\n"+ "     JComponent.class\n"+ "     JDialog.class\n"+ "     JFrame.class\n"+ "     JLabel.class\n"+ "     JPanel.class\n"+ "     JScrollPane.class\n"+ "     JTable.class\n"+ "     SwingConstants.class\n"+ "     SwingUtilities.class\n"+ "    -PsiPackage: META-INF\n"+ "     MANIFEST.MF\n"+ "     MANIFEST.MF\n"+ "    -PsiPackage: org\n"+ "     +PsiPackage: intellij.lang.annotations\n"+ "     +PsiPackage: jetbrains.annotations\n"+ "",5);
  doTest(false,true,"-Project\n" + " -PsiPackage: com.package1\n" + "  Class1.java\n"+ "  Class2.java\n"+ "  Class4.java\n"+ "  emptyClassFile.class\n"+ "  Form1.form\n"+ "  Form1.java\n"+ "  Form2.form\n"+ " PsiPackage: empty\n"+ " -PsiPackage: java\n"+ "  Class1.java\n"+ " -PsiPackage: javax.servlet\n"+ "  Class1.java\n"+ " -Libraries\n"+ "  -PsiPackage: java\n"+ "   +PsiPackage: awt\n"+ "   +PsiPackage: beans.beancontext\n"+ "   +PsiPackage: io\n"+ "   +PsiPackage: lang\n"+ "   +PsiPackage: net\n"+ "   +PsiPackage: rmi\n"+ "   +PsiPackage: security\n"+ "   +PsiPackage: sql\n"+ "   +PsiPackage: util\n"+ "  -PsiPackage: javax.swing\n"+ "   +PsiPackage: table\n"+ "   AbstractButton.class\n"+ "   Icon.class\n"+ "   JButton.class\n"+ "   JComponent.class\n"+ "   JDialog.class\n"+ "   JFrame.class\n"+ "   JLabel.class\n"+ "   JPanel.class\n"+ "   JScrollPane.class\n"+ "   JTable.class\n"+ "   SwingConstants.class\n"+ "   SwingUtilities.class\n"+ "  -PsiPackage: META-INF\n"+ "   MANIFEST.MF\n"+ "   MANIFEST.MF\n"+ "  -PsiPackage: org\n"+ "   +PsiPackage: intellij.lang.annotations\n"+ "   +PsiPackage: jetbrains.annotations\n",3);
  doTest(true,false,"-Project\n" + " -Group: Group\n" + "  -Module\n"+ "   -PsiPackage: com.package1\n"+ "    Class1.java\n"+ "    Class2.java\n"+ "    Class4.java\n"+ "    emptyClassFile.class\n"+ "    Form1.form\n"+ "    Form1.java\n"+ "    Form2.form\n"+ "   PsiPackage: empty\n"+ "   -PsiPackage: java\n"+ "    Class1.java\n"+ "   -PsiPackage: javax.servlet\n"+ "    Class1.java\n",4);
  doTest(false,false,"-Project\n" + " -PsiPackage: com.package1\n" + "  Class1.java\n"+ "  Class2.java\n"+ "  Class4.java\n"+ "  emptyClassFile.class\n"+ "  Form1.form\n"+ "  Form1.java\n"+ "  Form2.form\n"+ " PsiPackage: empty\n"+ " -PsiPackage: java\n"+ "  Class1.java\n"+ " -PsiPackage: javax.servlet\n"+ "  Class1.java\n",3);
}
