{
  TabbedContent tabbedContent=ContentUtilEx.findTabbedContent(toolWindow.getContentManager(),TAB_NAME);
  if (tabbedContent != null) {
    return String.valueOf(tabbedContent.getTabs().size() + 1);
  }
 else {
    List<Content> contents=ContainerUtil.filter(toolWindow.getContentManager().getContents(),new Condition<Content>(){
      @Override public boolean value(      Content content){
        return TAB_NAME.equals(content.getUserData(Content.TAB_GROUP_NAME_KEY));
      }
    }
);
    return String.valueOf(contents.size() + 1);
  }
}
