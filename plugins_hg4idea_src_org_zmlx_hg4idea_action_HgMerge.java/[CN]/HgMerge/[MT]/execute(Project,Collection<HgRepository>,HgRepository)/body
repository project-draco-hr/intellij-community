{
  final HgMergeDialog mergeDialog=new HgMergeDialog(project,repos,selectedRepo);
  mergeDialog.show();
  if (mergeDialog.isOK()) {
    final String targetValue=StringUtil.escapeBackSlashes(mergeDialog.getTargetValue());
    final VirtualFile repoRoot=mergeDialog.getRepository().getRoot();
    new Task.Backgroundable(project,"Merging changes..."){
      @Override public void run(      @NotNull ProgressIndicator indicator){
        try {
          executeMerge(project,repoRoot,targetValue);
          markDirtyAndHandleErrors(project,repoRoot);
        }
 catch (        HgCommandException e) {
          handleException(project,e);
        }
      }
    }
.queue();
  }
}
