{
  UpdatedFiles updatedFiles=UpdatedFiles.create();
  HgMergeCommand hgMergeCommand=new HgMergeCommand(project,repo);
  hgMergeCommand.setRevision(targetValue);
  try {
    new HgHeadMerger(project,hgMergeCommand).merge(repo);
    new HgConflictResolver(project,updatedFiles).resolve(repo);
  }
 catch (  VcsException e) {
    if (e.isWarning()) {
      VcsNotifier.getInstance(project).notifyWarning("Warning during merge",e.getMessage());
    }
 else {
      VcsNotifier.getInstance(project).notifyError("Exception during merge",e.getMessage());
    }
  }
}
