{
  debug("resetting %s",paths);
  List<ZipFile> toClose=ContainerUtil.newSmartList();
  paths=ContainerUtil.map(paths,new Function<String,String>(){
    @Override public String fun(    String path){
      return toCanonicalPath(path);
    }
  }
);
synchronized (ourLock) {
    for (    String path : paths) {
      CacheRecord record=ourPathCache.remove(path);
      if (record != null) {
        ourFileCache.remove(record.file);
        if (record.count > 0) {
          ourQueue.put(record.file,record.count);
        }
 else {
          toClose.add(record.file);
        }
      }
    }
  }
  close(toClose);
}
