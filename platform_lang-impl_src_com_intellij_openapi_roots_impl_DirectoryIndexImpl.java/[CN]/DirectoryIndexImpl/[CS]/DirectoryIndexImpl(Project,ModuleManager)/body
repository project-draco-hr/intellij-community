{
  myProject=project;
  myConnection=project.getMessageBus().connect(project);
  subscribeToFileChanges();
  markContentRootsForRefresh(moduleManager);
  Disposer.register(project,new Disposable(){
    @Override public void dispose(){
      myDisposed=true;
      myRootIndex=null;
    }
  }
);
}
