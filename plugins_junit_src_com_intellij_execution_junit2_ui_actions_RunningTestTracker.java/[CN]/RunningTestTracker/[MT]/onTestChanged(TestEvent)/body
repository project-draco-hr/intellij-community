{
  if (event instanceof StateChangedEvent) {
    final TestProxy proxy=event.getSource();
    final boolean isRunning=isRunningState(proxy);
    if (isRunning) {
      if (proxy.isLeaf()) {
        myLastRan=proxy;
      }
      if (myLastSelected == proxy) {
        myLastSelected=null;
      }
    }
 else     if (proxy == myLastRan) {
      myLastRan=null;
    }
    myTrackingPolicy.applyTo(proxy);
  }
}
