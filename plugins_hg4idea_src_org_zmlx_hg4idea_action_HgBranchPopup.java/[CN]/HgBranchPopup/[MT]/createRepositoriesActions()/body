{
  DefaultActionGroup popupGroup=new DefaultActionGroup(null,false);
  popupGroup.addSeparator("Repositories");
  for (  VirtualFile repository : HgUtil.getHgRepositories(myProject)) {
    HgRepository repo=HgRepositoryImpl.getFullInstance(repository,myProject,myProject);
    popupGroup.add(new RootAction<HgRepository>(repo,null,new HgBranchPopupActions(repo.getProject(),repo).createActions(null),HgUtil.getDisplayableBranchText(repo),repo.getCurrentBranch()));
  }
  return popupGroup;
}
