{
  if (!channel.isOpen()) {
    return channel.newFailedFuture(new ClosedChannelException());
  }
  return channel.writeAndFlush(new TextWebSocketFrame(message));
}
