{
  if (Patches.JDK_BUG_ID_7162125) {
    File fontFile=findFileForFont(font,true);
    if (fontFile == null && font.getStyle() != Font.PLAIN)     fontFile=findFileForFont(font.deriveFont(Font.PLAIN),true);
    if (fontFile == null)     fontFile=findFileForFont(font,false);
    if (fontFile == null)     return font;
    LOG.info(font + " located at " + fontFile);
    try {
      font=Font.createFont(Font.TRUETYPE_FONT,fontFile).deriveFont(font.getStyle(),font.getSize());
    }
 catch (    Exception e) {
      LOG.warn("Couldn't load font",e);
      return font;
    }
  }
  return font.deriveFont(Collections.singletonMap(TextAttribute.LIGATURES,TextAttribute.LIGATURES_ON));
}
