{
  if (myFontMetrics == null) {
    final Graphics graphics=UIUtil.createImage(1,1,BufferedImage.TYPE_INT_RGB).getGraphics();
    EditorUIUtil.setupAntialiasing(graphics);
    graphics.setFont(myFont);
    myFontMetrics=graphics.getFontMetrics();
    for (char c=0; c < 128; c++) {
      charWidth[c]=FontLayoutService.getInstance().charWidth(myFontMetrics,c);
    }
  }
  return myFontMetrics;
}
