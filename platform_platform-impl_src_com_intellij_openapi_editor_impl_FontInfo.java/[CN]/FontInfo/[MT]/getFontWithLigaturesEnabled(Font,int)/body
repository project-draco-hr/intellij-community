{
  if (Patches.JDK_BUG_ID_7162125) {
    String familyName=font.getFamily();
    File fontFile=findFileForFont(familyName,fontStyle);
    if (fontFile == null && fontStyle != Font.PLAIN)     fontFile=findFileForFont(familyName,Font.PLAIN);
    if (fontFile == null)     fontFile=findFileForFont(familyName,-1);
    if (fontFile == null)     return font;
    LOG.info(font + " located at " + fontFile);
    try {
      font=Font.createFont(Font.TRUETYPE_FONT,fontFile).deriveFont(fontStyle,font.getSize());
    }
 catch (    Exception e) {
      LOG.warn("Couldn't load font",e);
      return font;
    }
  }
  return font.deriveFont(Collections.singletonMap(TextAttribute.LIGATURES,TextAttribute.LIGATURES_ON));
}
