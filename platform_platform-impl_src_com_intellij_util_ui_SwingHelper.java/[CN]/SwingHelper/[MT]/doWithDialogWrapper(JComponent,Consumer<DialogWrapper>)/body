{
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      if (component.getClientProperty(DIALOG_RESIZED_TO_FIT_TEXT) != null) {
        return;
      }
      component.putClientProperty(DIALOG_RESIZED_TO_FIT_TEXT,true);
      DialogWrapper dialogWrapper=DialogWrapper.findInstance(component);
      if (dialogWrapper != null) {
        consumer.consume(dialogWrapper);
      }
 else {
        UiNotifyConnector.doWhenFirstShown(component,new Runnable(){
          @Override public void run(){
            DialogWrapper dialogWrapper=DialogWrapper.findInstance(component);
            if (dialogWrapper != null) {
              consumer.consume(dialogWrapper);
            }
          }
        }
);
      }
    }
  }
);
}
