{
  TextFieldWithHistoryWithBrowseButton textFieldWithHistoryWithBrowseButton=new TextFieldWithHistoryWithBrowseButton();
  TextFieldWithHistory textFieldWithHistory=textFieldWithHistoryWithBrowseButton.getChildComponent();
  textFieldWithHistory.setHistorySize(-1);
  textFieldWithHistory.setMinimumAndPreferredWidth(0);
  if (historyProvider != null) {
    addHistoryOnExpansion(textFieldWithHistory,historyProvider);
    final List<String> strings=historyProvider.produce();
    if (strings.size() >= 1) {
      textFieldWithHistory.setText(strings.get(0));
    }
  }
  installFileCompletionAndBrowseDialog(project,textFieldWithHistoryWithBrowseButton,browseDialogTitle,fileChooserDescriptor);
  return textFieldWithHistoryWithBrowseButton;
}
