{
  if (components.length == 0)   return;
  doWithDialogWrapper(components[0],new Consumer<DialogWrapper>(){
    @Override public void consume(    final DialogWrapper dialogWrapper){
      if (dialogWrapper instanceof SettingsDialog || dialogWrapper instanceof SingleConfigurableEditor) {
        for (        Component component : components) {
          if (component instanceof TextFieldWithHistoryWithBrowseButton) {
            setPreferredWidthToFitText((TextFieldWithHistoryWithBrowseButton)component);
          }
 else           if (component instanceof TextFieldWithBrowseButton) {
            setPreferredWidthToFitText((TextFieldWithBrowseButton)component);
          }
 else           if (component instanceof JTextField) {
            setPreferredWidthToFitText((JTextField)component);
          }
        }
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          @Override public void run(){
            adjustDialogSizeToFitPreferredSize(dialogWrapper);
          }
        }
,ModalityState.any());
      }
    }
  }
);
}
