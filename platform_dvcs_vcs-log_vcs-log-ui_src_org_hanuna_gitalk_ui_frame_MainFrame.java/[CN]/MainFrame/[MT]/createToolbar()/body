{
  AnAction hideBranchesAction=new DumbAwareAction("Collapse linear branches","Collapse linear branches",GitLogIcons.SPIDER){
    @Override public void actionPerformed(    AnActionEvent e){
      myVcsLog_controller.hideAll();
    }
  }
;
  AnAction showBranchesAction=new DumbAwareAction("Expand all branches","Expand all branches",GitLogIcons.WEB){
    @Override public void actionPerformed(    AnActionEvent e){
      myVcsLog_controller.showAll();
    }
  }
;
  RefreshAction refreshAction=new RefreshAction("Refresh","Refresh",AllIcons.Actions.Refresh){
    @Override public void actionPerformed(    AnActionEvent e){
      myVcsLog_controller.refresh();
    }
    @Override public void update(    AnActionEvent e){
      e.getPresentation().setEnabled(true);
    }
  }
;
  AnAction showFullPatchAction=new ToggleAction("Show full patch","Expand all branches even if they occupy a lot of space",AllIcons.Actions.Expandall){
    @Override public boolean isSelected(    AnActionEvent e){
      return !myVcsLog_controller.areLongEdgesHidden();
    }
    @Override public void setSelected(    AnActionEvent e,    boolean state){
      myVcsLog_controller.setLongEdgeVisibility(state);
    }
  }
;
  refreshAction.registerShortcutOn(mainPanel);
  DefaultActionGroup toolbarGroup=new DefaultActionGroup(hideBranchesAction,showBranchesAction,showFullPatchAction,refreshAction);
  return ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,toolbarGroup,true).getComponent();
}
