{
  if (element.getContainingFile() == currentFile) {
    int offset=element.getTextOffset();
    PsiElement leaf=currentFile.findElementAt(offset);
    if (leaf != null && PsiTreeUtil.isAncestor(element,leaf,false)) {
      Project project=element.getProject();
      IdeDocumentHistory.getInstance(project).includeCurrentCommandAsNavigation();
      new OpenFileDescriptor(project,currentFile.getViewProvider().getVirtualFile(),offset).navigateIn(currentEditor);
      return;
    }
  }
  Navigatable navigatable=element instanceof Navigatable ? (Navigatable)element : EditSourceUtil.getDescriptor(element);
  if (navigatable != null && navigatable.canNavigate()) {
    navigatable.navigate(true);
  }
}
