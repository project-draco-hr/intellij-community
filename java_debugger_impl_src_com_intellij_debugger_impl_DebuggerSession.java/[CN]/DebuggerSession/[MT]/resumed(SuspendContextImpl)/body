{
  SuspendContextImpl context=getProcess().getSuspendManager().getPausedContext();
  ThreadReferenceProxyImpl steppingThread=null;
  if (context != null && suspendContext != null && suspendContext.getSuspendPolicy() == EventRequest.SUSPEND_EVENT_THREAD && isSteppingThrough(suspendContext.getThread())) {
    steppingThread=suspendContext.getThread();
  }
  final DebuggerContextImpl debuggerContext=context != null ? DebuggerContextImpl.createDebuggerContext(DebuggerSession.this,context,steppingThread != null ? steppingThread : context.getThread(),null) : null;
  DebuggerInvocationUtil.invokeLater(getProject(),new Runnable(){
    @Override public void run(){
      if (debuggerContext != null) {
        getContextManager().setState(debuggerContext,State.PAUSED,Event.CONTEXT,getDescription(debuggerContext));
      }
 else {
        getContextManager().setState(SESSION_EMPTY_CONTEXT,State.RUNNING,Event.CONTEXT,null);
      }
    }
  }
);
}
