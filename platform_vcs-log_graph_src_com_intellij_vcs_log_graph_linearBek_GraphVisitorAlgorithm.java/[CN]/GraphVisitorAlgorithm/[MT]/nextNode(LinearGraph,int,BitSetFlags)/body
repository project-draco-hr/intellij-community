{
  List<Integer> downNodes=getDownNodes(graph,currentNode);
  if (myBackwards)   Collections.reverse(downNodes);
  for (  int downNode : downNodes) {
    if (!visited.get(downNode)) {
      boolean canGoThere=true;
      List<Integer> upNodes=getUpNodes(graph,downNode);
      for (      int upNode : upNodes) {
        if (!visited.get(upNode)) {
          canGoThere=false;
          break;
        }
      }
      if (canGoThere) {
        return downNode;
      }
    }
  }
  return NODE_NOT_FOUND;
}
