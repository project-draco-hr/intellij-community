{
  if (file == null || file instanceof PsiCodeFragment)   return true;
  return file.getViewProvider().isPhysical() && ScratchFileService.getInstance().getRootType(file.getVirtualFile()) == null;
}
