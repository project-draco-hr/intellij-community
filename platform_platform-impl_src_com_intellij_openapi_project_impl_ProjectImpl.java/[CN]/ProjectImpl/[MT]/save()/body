{
  if (ApplicationManagerEx.getApplicationEx().isDoNotSave()) {
    return;
  }
  if (!mySavingInProgress.compareAndSet(false,true)) {
    return;
  }
  try {
    try {
      saveProjectName();
    }
 catch (    Throwable e) {
      LOG.error("Unable to store project name",e);
    }
    StoreUtil.save(ServiceKt.getStateStore(this),this);
  }
  finally {
    mySavingInProgress.set(false);
    ApplicationManager.getApplication().getMessageBus().syncPublisher(ProjectSaved.TOPIC).saved(this);
  }
}
