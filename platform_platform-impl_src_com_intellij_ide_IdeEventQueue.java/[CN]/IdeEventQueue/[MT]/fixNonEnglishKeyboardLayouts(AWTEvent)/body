{
  if (!(e instanceof KeyEvent))   return e;
  KeyboardSettingsExternalizable externalizable=KeyboardSettingsExternalizable.getInstance();
  if (!Registry.is("ide.non.english.keyboard.layout.fix") || externalizable == null || !externalizable.isNonEnglishKeyboardSupportEnabled())   return e;
  KeyEvent ke=(KeyEvent)e;
switch (ke.getID()) {
case KeyEvent.KEY_PRESSED:
    break;
case KeyEvent.KEY_RELEASED:
  break;
}
int keyCodeFromChar=CharToVKeyMap.get(ke.getKeyChar());
if (keyCodeFromChar == ke.getKeyCode() || keyCodeFromChar == KeyEvent.VK_UNDEFINED) {
return e;
}
ke.setKeyCode(keyCodeFromChar);
return ke;
}
