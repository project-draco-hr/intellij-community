{
  final Project project=module.getProject();
  final ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(project);
  ToolWindow window=toolWindowManager.getToolWindow(consoleName);
  if (window == null) {
    window=toolWindowManager.registerToolWindow(consoleName,true,ToolWindowAnchor.BOTTOM);
  }
  window.activate(null);
  final ContentManager contentManager=window.getContentManager();
  contentManager.removeAllContents(true);
  final CommandConsole console=CommandConsole.createConsole(module,consoleName,commandList);
  final Content content=new ContentImpl(console.getComponent(),"",true);
  contentManager.addContent(content);
  showHiddenCommandWorkAround(console);
  ArgumentHintLayer.attach(console);
  return console;
}
