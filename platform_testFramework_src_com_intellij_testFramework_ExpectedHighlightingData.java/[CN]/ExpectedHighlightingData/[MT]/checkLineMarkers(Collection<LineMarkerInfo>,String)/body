{
  String fileName=myFile == null ? "" : myFile.getName() + ": ";
  String failMessage="";
  for (  LineMarkerInfo info : markerInfos) {
    if (!containsLineMarker(info,myLineMarkerInfos.values())) {
      if (!failMessage.isEmpty())       failMessage+='\n';
      failMessage+=fileName + "Extra line marker highlighted " + rangeString(text,info.startOffset,info.endOffset)+ ": '"+ info.getLineMarkerTooltip()+ "'";
    }
  }
  for (  LineMarkerInfo expectedLineMarker : myLineMarkerInfos.values()) {
    if (!markerInfos.isEmpty() && !containsLineMarker(expectedLineMarker,markerInfos)) {
      if (!failMessage.isEmpty())       failMessage+='\n';
      failMessage+=fileName + "Line marker was not highlighted " + rangeString(text,expectedLineMarker.startOffset,expectedLineMarker.endOffset)+ ": '"+ expectedLineMarker.getLineMarkerTooltip()+ "'";
    }
  }
  if (!failMessage.isEmpty())   Assert.fail(failMessage);
}
