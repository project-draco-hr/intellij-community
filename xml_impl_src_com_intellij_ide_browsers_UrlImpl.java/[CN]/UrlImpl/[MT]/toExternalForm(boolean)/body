{
  if (parameters == null || !skipQueryAndFragment) {
    if (raw != null) {
      return raw;
    }
  }
 else   if (externalFormWithoutParameters != null) {
    return externalFormWithoutParameters;
  }
  String result=toJavaUriWithoutParameters().toASCIIString();
  if (skipQueryAndFragment) {
    externalFormWithoutParameters=result;
    if (parameters == null) {
      raw=externalFormWithoutParameters;
    }
  }
 else {
    if (parameters != null) {
      result+=parameters;
    }
    raw=result;
  }
  return result;
}
