{
  if (PsiType.NULL.equals(lType) || PsiType.NULL.equals(rType)) {
    return false;
  }
  if (opCode == JavaTokenType.EQEQ || opCode == JavaTokenType.NE) {
    return lType instanceof PsiPrimitiveType && rType instanceof PsiClassType || lType instanceof PsiClassType && rType instanceof PsiPrimitiveType;
  }
  if (opCode == JavaTokenType.PLUS) {
    if ((lType instanceof PsiClassType && lType.equalsToText(CommonClassNames.JAVA_LANG_STRING)) || (rType instanceof PsiClassType && rType.equalsToText(CommonClassNames.JAVA_LANG_STRING))) {
      return false;
    }
  }
  return lType instanceof PsiClassType || rType instanceof PsiClassType;
}
