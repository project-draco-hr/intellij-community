{
  int iterationCount=0;
  if (targetClass == null || getContextPsiClass() == null) {
    throwEvaluateException(DebuggerBundle.message("evaluation.error.invalid.expression",name));
  }
  try {
    PsiClass aClass=getContextPsiClass();
    while (aClass != null && !aClass.equals(targetClass)) {
      iterationCount++;
      aClass=getOuterClass(aClass);
    }
  }
 catch (  Exception e) {
    throw new EvaluateRuntimeException(EvaluateExceptionUtil.createEvaluateException(e));
  }
  return iterationCount;
}
