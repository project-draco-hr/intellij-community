{
  int lastParam=declaredParams.length - 1;
  if (lastParam >= 0 && declaredParams[lastParam].isVarArgs() && argumentEvaluators.length > lastParam) {
    if (!TypeConversionUtil.isNullType(actualArgumentExpressions[lastParam].getType())) {
      return argumentEvaluators;
    }
    if (argumentEvaluators.length - lastParam == 1 && actualArgumentExpressions[lastParam].getType() instanceof PsiArrayType) {
      return argumentEvaluators;
    }
    PsiEllipsisType declaredParamType=(PsiEllipsisType)methodResolveSubstitutor.substitute(declaredParams[lastParam].getType());
    ArrayInitializerEvaluator varargArrayEvaluator=new ArrayInitializerEvaluator(Arrays.copyOfRange(argumentEvaluators,lastParam,argumentEvaluators.length));
    NewArrayInstanceEvaluator evaluator=new NewArrayInstanceEvaluator(new TypeEvaluator(JVMNameUtil.getJVMQualifiedName(declaredParamType.toArrayType())),null,varargArrayEvaluator);
    Evaluator[] res=new Evaluator[declaredParams.length];
    System.arraycopy(argumentEvaluators,0,res,0,lastParam);
    res[lastParam]=new DisableGC(evaluator);
    return res;
  }
  return argumentEvaluators;
}
