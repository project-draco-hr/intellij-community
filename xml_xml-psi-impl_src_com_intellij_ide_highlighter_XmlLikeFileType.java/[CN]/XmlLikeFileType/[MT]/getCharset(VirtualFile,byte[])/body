{
  Trinity<Charset,CharsetToolkit.GuessedEncoding,byte[]> guessed=LoadTextUtil.guessFromContent(file,content,content.length);
  String charset=guessed != null && guessed.first != null ? guessed.first.name() : XmlCharsetDetector.extractXmlEncodingFromProlog(content);
  return charset == null ? CharsetToolkit.UTF8 : charset;
}
