{
  final Collection<PsiReference> refs=ReferencesSearch.search(psiElement).findAll();
  for (  PsiReference ref : refs) {
    final PsiElement element=ref.getElement();
    if (element instanceof PyTargetExpression) {
      final PyTargetExpression target=(PyTargetExpression)element;
      final PyAssignmentStatement parent=PsiTreeUtil.getParentOfType(target,PyAssignmentStatement.class);
      if (parent != null && parent.getTargets().length == 1) {
        final PyExpression value=parent.getAssignedValue();
        if (value != null)         toInvert.add(mySmartPointerManager.createSmartPsiElementPointer(value));
      }
    }
 else     if (element.getParent() instanceof PyPrefixExpression) {
      toInvert.add(mySmartPointerManager.createSmartPsiElementPointer(element.getParent()));
    }
 else     if (element instanceof PyReferenceExpression) {
      final PyReferenceExpression refExpr=(PyReferenceExpression)element;
      toInvert.add(mySmartPointerManager.createSmartPsiElementPointer(refExpr));
    }
  }
  if (psiElement instanceof PyNamedParameter) {
    final PyExpression defaultValue=((PyNamedParameter)psiElement).getDefaultValue();
    if (defaultValue != null)     toInvert.add(mySmartPointerManager.createSmartPsiElementPointer(defaultValue));
  }
}
