{
  final ArrayList<HgFile> deletes=new ArrayList<>();
  for (  FilePath file : filesToDelete) {
    if (file.isDirectory()) {
      continue;
    }
    VirtualFile root=VcsUtil.getVcsRootFor(myProject,file);
    if (root != null) {
      deletes.add(new HgFile(root,file));
    }
  }
  if (!deletes.isEmpty()) {
    new HgRemoveCommand(myProject).executeInCurrentThread(deletes);
  }
  for (  HgFile file : deletes) {
    dirtyScopeManager.fileDirty(file.toFilePath());
  }
}
