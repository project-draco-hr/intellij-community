{
  Collection<String> notReloadableComponents;
  AccessToken token=WriteAction.start();
  try {
    notReloadableComponents=store.reload(causes);
  }
 catch (  Throwable e) {
    Messages.showWarningDialog(ProjectBundle.message("project.reload.failed",e.getMessage()),ProjectBundle.message("project.reload.failed.title"));
    return ReloadComponentStoreStatus.ERROR;
  }
 finally {
    token.finish();
  }
  if (ContainerUtil.isEmpty(notReloadableComponents)) {
    return ReloadComponentStoreStatus.SUCCESS;
  }
  return askToRestart(store,notReloadableComponents,causes) ? ReloadComponentStoreStatus.RESTART_REQUIRED : ReloadComponentStoreStatus.RESTART_CANCELLED;
}
