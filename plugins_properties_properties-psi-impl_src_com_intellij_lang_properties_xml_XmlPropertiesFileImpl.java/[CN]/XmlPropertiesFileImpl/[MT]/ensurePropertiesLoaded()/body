{
  while (myFileModificationStamp != myFile.getModificationStamp() || myPropertiesMap == null) {
    myFileModificationStamp=myFile.getModificationStamp();
    MostlySingularMultiMap<String,IProperty> propertiesMap=new MostlySingularMultiMap<String,IProperty>();
    XmlTag rootTag=myFile.getRootTag();
    final List<IProperty> propertiesOrder=new ArrayList<IProperty>();
    if (rootTag != null) {
      XmlTag[] entries=rootTag.findSubTags("entry");
      for (      XmlTag entry : entries) {
        XmlProperty property=new XmlProperty(entry,this);
        propertiesOrder.add(property);
        propertiesMap.add(property.getKey(),property);
      }
    }
    final boolean isAlphaSorted=PropertiesImplUtil.isAlphaSorted(propertiesOrder);
    myAlphaSorted=isAlphaSorted;
    myProperties=propertiesOrder;
    myPropertiesMap=propertiesMap;
  }
}
