{
  final PsiElement[] elements=e.getData(LangDataKeys.PSI_ELEMENT_ARRAY);
  if (elements == null)   return;
  final List<File> pycFiles=new ArrayList<File>();
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    @Override public void run(){
      for (      PsiElement element : elements) {
        PsiDirectory dir=(PsiDirectory)element;
        collectPycFiles(new File(dir.getVirtualFile().getPath()),pycFiles);
      }
      FileUtil.asyncDelete(pycFiles);
    }
  }
,"Cleaning up .pyc files...",false,e.getProject());
  final StatusBar statusBar=WindowManager.getInstance().getIdeFrame(e.getProject()).getStatusBar();
  statusBar.setInfo("Deleted " + pycFiles.size() + " bytecode file"+ (pycFiles.size() != 1 ? "s" : ""));
}
