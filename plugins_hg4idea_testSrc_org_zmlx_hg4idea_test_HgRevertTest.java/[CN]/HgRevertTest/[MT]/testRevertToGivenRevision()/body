{
  fillFile(myProjectDir,new String[]{"file.txt"},"initial contents");
  runHgOnProjectRepo("add",".");
  runHgOnProjectRepo("commit","-m","initial contents");
  fillFile(myProjectDir,new String[]{"file.txt"},"new contents");
  runHgOnProjectRepo("commit","-m","new contents");
  HgRevertCommand revertCommand=new HgRevertCommand(myProject);
  revertCommand.execute(myRepo.getDir(),Collections.singleton(new File(myProjectDir,"file.txt").getPath()),HgRevisionNumber.getLocalInstance("0"),false);
  HgCatCommand catCommand=new HgCatCommand(myProject);
  HgCommandResult result=catCommand.execute(getHgFile("file.txt"),HgRevisionNumber.getLocalInstance("0"),Charset.defaultCharset());
  assertNotNull(result);
  assertEquals(result.getRawOutput(),"initial contents");
}
