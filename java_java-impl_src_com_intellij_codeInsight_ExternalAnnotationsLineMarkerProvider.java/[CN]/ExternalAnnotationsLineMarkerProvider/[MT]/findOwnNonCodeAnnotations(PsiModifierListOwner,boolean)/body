{
  List<PsiAnnotation> result=ContainerUtil.newArrayList();
  Project project=element.getProject();
  PsiAnnotation[] externalAnnotations=ExternalAnnotationsManager.getInstance(project).findExternalAnnotations(element);
  if (externalAnnotations != null) {
    for (    PsiAnnotation annotation : externalAnnotations) {
      if (isVisibleAnnotation(annotation)) {
        result.add(annotation);
      }
    }
  }
  if (includeSourceInferred || !isSourceCode(element)) {
    for (    PsiAnnotation annotation : InferredAnnotationsManager.getInstance(project).findInferredAnnotations(element)) {
      if (isVisibleAnnotation(annotation)) {
        result.add(annotation);
      }
    }
  }
  return result;
}
