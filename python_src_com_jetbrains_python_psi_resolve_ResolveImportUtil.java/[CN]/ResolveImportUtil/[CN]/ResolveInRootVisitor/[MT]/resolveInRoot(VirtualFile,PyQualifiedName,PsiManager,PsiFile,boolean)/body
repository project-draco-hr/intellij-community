{
  PsiElement module=root.isDirectory() ? psiManager.findDirectory(root) : psiManager.findFile(root);
  module=patchModule(module,qualifiedName);
  if (module == null)   return null;
  for (  String component : qualifiedName.getComponents()) {
    if (component == null) {
      module=null;
      break;
    }
    module=resolveChild(module,component,foothold_file,root,false,checkForPackage);
  }
  return module;
}
