{
  final Module module=ModuleUtil.findModuleForPsiElement(elt);
  if (module != null) {
    visitRoots(module,visitor);
  }
 else {
    final PsiFile elt_psifile=elt.getContainingFile();
    if (elt_psifile != null) {
      final VirtualFile elt_vfile=elt_psifile.getVirtualFile();
      if (elt_vfile != null) {
        for (        OrderEntry entry : ProjectRootManager.getInstance(elt.getProject()).getFileIndex().getOrderEntriesForFile(elt_vfile)) {
          if (!visitOrderEntryRoots(visitor,entry))           break;
        }
      }
    }
  }
}
