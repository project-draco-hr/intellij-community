{
  final PsiElement parentDir=PyUtil.turnInitIntoDir(parent);
  if (parentDir instanceof PsiDirectory) {
    final PsiElement resolved=resolveInDirectory(referencedName,containingFile,(PsiDirectory)parentDir,fileOnly,checkForPackage);
    if (resolved != null) {
      return resolved;
    }
    if (parent instanceof PsiFile) {
      return resolveForeignImports((PsiFile)parent,referencedName);
    }
  }
  return null;
}
