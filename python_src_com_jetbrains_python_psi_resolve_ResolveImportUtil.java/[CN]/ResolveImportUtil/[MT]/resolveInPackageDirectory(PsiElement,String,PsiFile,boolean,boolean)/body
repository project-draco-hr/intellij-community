{
  final PsiElement parentDir=PyUtil.turnInitIntoDir(parent);
  if (parentDir instanceof PsiDirectory) {
    final List<RatedResolveResult> resolved=resolveInDirectory(referencedName,containingFile,(PsiDirectory)parentDir,fileOnly,checkForPackage);
    if (!resolved.isEmpty()) {
      return resolved;
    }
    if (parent instanceof PsiFile) {
      return ResolveResultList.to(resolveForeignImports((PsiFile)parent,referencedName));
    }
  }
  return Collections.emptyList();
}
