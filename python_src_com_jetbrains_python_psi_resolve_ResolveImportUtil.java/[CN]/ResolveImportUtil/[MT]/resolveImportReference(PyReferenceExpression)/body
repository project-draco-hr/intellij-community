{
  if (importRef == null)   return null;
  final String referencedName=importRef.getReferencedName();
  if (referencedName == null)   return null;
  PyReferenceExpression source=null;
  if (importRef.getParent() instanceof PyImportElement) {
    PyImportElement parent=(PyImportElement)importRef.getParent();
    if (parent.getParent() instanceof PyFromImportStatement) {
      PyFromImportStatement stmt=(PyFromImportStatement)parent.getParent();
      source=stmt.getImportSource();
      if (source == null)       return null;
    }
  }
  PsiElement result;
  if (source != null) {
    result=resolvePythonImport2(source,referencedName);
  }
 else   result=resolvePythonImport2(importRef,null);
  if (result != null) {
    return result;
  }
  return resolveForeignImport(importRef,resolveImportReference(source));
}
