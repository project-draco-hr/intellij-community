{
  PsiFileSystemItem srcfile=symbol instanceof PsiFileSystemItem ? ((PsiFileSystemItem)symbol).getParent() : symbol.getContainingFile();
  if (srcfile == null) {
    return null;
  }
  if (srcfile instanceof PsiFile && symbol instanceof PsiNamedElement && !(symbol instanceof PsiFileSystemItem)) {
    PsiDirectory dir=((PsiFile)srcfile).getContainingDirectory();
    if (dir != null) {
      PsiFile initPy=dir.findFile(PyNames.INIT_DOT_PY);
      if (initPy instanceof PyFile && symbol.equals(((PyFile)initPy).findExportedName(((PsiNamedElement)symbol).getName()))) {
        return findShortestImportableQName(foothold,dir.getVirtualFile());
      }
    }
  }
  VirtualFile virtualFile=srcfile.getVirtualFile();
  if (virtualFile != null) {
    return findShortestImportableQName(foothold,virtualFile);
  }
  return null;
}
