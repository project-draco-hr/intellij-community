{
  PsiFile file=importStatement.getContainingFile().getOriginalFile();
  String name=qName.getComponents().get(0);
  final List<PsiElement> candidates=importStatement.resolveImportSourceCandidates();
  List<PsiElement> resultList=new ArrayList<PsiElement>();
  for (  PsiElement candidate : candidates) {
    if (!candidate.isValid()) {
      throw new PsiInvalidElementAccessException(candidate,"Got an invalid candidate from resolveImportSourceCandidates(): " + candidate.getClass());
    }
    if (candidate instanceof PsiDirectory) {
      candidate=PyUtil.getPackageElement((PsiDirectory)candidate,importStatement);
    }
    PsiElement result=resolveChild(candidate,name,file,false,true);
    if (result != null) {
      if (!result.isValid()) {
        throw new PsiInvalidElementAccessException(result,"Got an invalid candidate from resolveChild(): " + result.getClass());
      }
      resultList.add(result);
    }
  }
  if (!resultList.isEmpty()) {
    return rateResults(resultList);
  }
  return Collections.emptyList();
}
