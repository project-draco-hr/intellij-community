{
  ResolveResultList ret=new ResolveResultList();
  for (  PsiElement target : targets) {
    if (target instanceof PsiDirectory) {
      target=PyUtil.getPackageElement((PsiDirectory)target,null);
    }
    if (target != null) {
      int rate=RatedResolveResult.RATE_HIGH;
      if (target instanceof PyFile) {
        VirtualFile vFile=((PyFile)target).getVirtualFile();
        if (vFile != null && vFile.getLength() > 0) {
          rate+=100;
        }
        for (        PyResolveResultRater rater : Extensions.getExtensions(PyResolveResultRater.EP_NAME)) {
          rate+=rater.getRate(target);
        }
      }
      ret.poke(target,rate);
    }
  }
  return ret;
}
