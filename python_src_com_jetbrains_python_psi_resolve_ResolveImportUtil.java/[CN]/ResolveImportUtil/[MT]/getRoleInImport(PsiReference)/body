{
  PsiElement parent=PsiTreeUtil.getParentOfType(reference.getElement(),PyImportElement.class,PyFromImportStatement.class);
  if (parent instanceof PyFromImportStatement)   return ROLE_IN_IMPORT.AS_MODULE;
  if (parent instanceof PyImportElement) {
    PsiElement statement=parent.getParent();
    if (statement instanceof PyImportStatement) {
      return ROLE_IN_IMPORT.AS_MODULE;
    }
 else     if (statement instanceof PyFromImportStatement) {
      PyFromImportStatement importer=(PyFromImportStatement)statement;
      if (importer.getImportSource() == null && importer.getRelativeLevel() > 0) {
        return ROLE_IN_IMPORT.AS_MODULE;
      }
 else {
        return ROLE_IN_IMPORT.AS_NAME;
      }
    }
  }
  return ROLE_IN_IMPORT.NONE;
}
