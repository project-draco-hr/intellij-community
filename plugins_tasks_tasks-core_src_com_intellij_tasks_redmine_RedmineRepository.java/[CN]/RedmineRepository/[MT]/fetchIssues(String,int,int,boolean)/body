{
  URIBuilder builder=new URIBuilder(getRestApiUrl("issues.json")).addParameter("offset",String.valueOf(offset)).addParameter("limit",String.valueOf(limit)).addParameter("status_is",withClosed ? "*" : "open");
  if (StringUtil.isNotEmpty(query)) {
    builder.addParameter("fields[]","subject").addParameter("operators[subject]","~").addParameter("values[subject][]",query);
  }
  if (myCurrentProject != null && myCurrentProject != UNSPECIFIED_PROJECT) {
    builder.addParameter("project_id",String.valueOf(myCurrentProject.getId()));
  }
  if (isUseApiKeyAuthentication()) {
    builder.addParameter("key",myAPIKey);
  }
  HttpClient client=getHttpClient();
  HttpGet method=new HttpGet(builder.toString());
  return client.execute(method,new GsonSingleObjectDeserializer<RedmineResponseWrapper.IssuesWrapper>(GSON,RedmineResponseWrapper.IssuesWrapper.class)).getIssues();
}
