{
  if (!needModify(parent)) {
    return children;
  }
  Collection<AbstractTreeNode> modifiedChildren=super.modify(parent,children,settings);
  for (  AbstractTreeNode node : children) {
    Project project=node.getProject();
    if (project == null) {
      continue;
    }
    if (node.getValue() instanceof PsiDirectory) {
      String name=((PsiDirectory)node.getValue()).getName();
      if ("zip".equals(FileUtilRt.getExtension(name))) {
        modifiedChildren.add(node);
        continue;
      }
    }
    if (node instanceof PsiFileNode) {
      PsiFileNode fileNode=(PsiFileNode)node;
      VirtualFile virtualFile=fileNode.getVirtualFile();
      if (virtualFile == null) {
        continue;
      }
      if (StudyUtils.getTaskFile(project,virtualFile) != null || StudyUtils.isTaskDescriptionFile(virtualFile.getName())) {
        continue;
      }
      PsiFile psiFile=((PsiFileNode)node).getValue();
      modifiedChildren.add(new CCStudentInvisibleFileNode(project,psiFile,settings));
    }
  }
  return modifiedChildren;
}
