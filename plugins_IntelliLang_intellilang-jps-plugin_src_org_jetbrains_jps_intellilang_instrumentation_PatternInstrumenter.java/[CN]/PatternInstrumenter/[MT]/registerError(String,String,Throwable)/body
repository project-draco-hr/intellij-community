{
  if (myPostponedError == null) {
    Throwable err=e.getCause();
    if (err == null) {
      err=e;
    }
    final StringBuilder message=new StringBuilder();
    message.append("Operation '").append(operationName).append("' failed for ").append(myClassName).append(".").append(methodName).append("(): ");
    final String errMessage=err.getMessage();
    if (errMessage != null) {
      message.append(errMessage);
    }
    final ByteArrayOutputStream out=new ByteArrayOutputStream();
    err.printStackTrace(new PrintStream(out));
    message.append('\n').append(out.toString());
    myPostponedError=new RuntimeException(message.toString(),err);
  }
  if (myInstrumented) {
    processPostponedErrors();
  }
}
