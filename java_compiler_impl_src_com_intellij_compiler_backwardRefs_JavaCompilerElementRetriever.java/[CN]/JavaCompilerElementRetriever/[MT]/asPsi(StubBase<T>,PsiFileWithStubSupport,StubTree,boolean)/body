{
  if (foreign) {
    final T cachedPsi=(stub).getCachedPsi();
    if (cachedPsi != null)     return cachedPsi;
    final ASTNode ast=file.findTreeForStub(tree,stub);
    return ast != null ? (T)ast.getPsi() : null;
  }
  return stub.getPsi();
}
