{
  final DefaultRepositorySystemSession session=MavenRepositorySystemUtils.newSession();
  if (progressConsumer != ProgressConsumer.DEAF) {
    session.setTransferListener((TransferListener)Proxy.newProxyInstance(session.getClass().getClassLoader(),new Class[]{TransferListener.class},new InvocationHandler(){
      public Object invoke(      Object proxy,      Method method,      Object[] args) throws Throwable {
        final Object event=args[0];
        if (event instanceof TransferEvent) {
          progressConsumer.consume(event.toString());
        }
        return null;
      }
    }
));
  }
  session.setLocalRepositoryManager(ourSystem.newLocalRepositoryManager(session,new LocalRepository(localRepositoryPath)));
  session.setReadOnly();
  mySession=session;
}
