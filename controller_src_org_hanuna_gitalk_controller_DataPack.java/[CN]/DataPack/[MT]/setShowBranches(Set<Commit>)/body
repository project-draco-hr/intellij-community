{
  Set<Commit> notAddedVisibleCommits=new HashSet<Commit>();
  List<Commit> showCommits=new ArrayList<Commit>();
  for (  Commit commit : commits) {
    if (startedCommit.contains(commit) || notAddedVisibleCommits.contains(commit)) {
      showCommits.add(commit);
      notAddedVisibleCommits.remove(commit);
      CommitData data=commit.getData();
      if (data != null) {
        for (        Commit parent : data.getParents()) {
          notAddedVisibleCommits.add(parent);
        }
      }
    }
  }
  graph=GraphBuilder.build(Collections.unmodifiableList(showCommits));
  printCellModel=new GraphPrintCellModelImpl(graph);
}
