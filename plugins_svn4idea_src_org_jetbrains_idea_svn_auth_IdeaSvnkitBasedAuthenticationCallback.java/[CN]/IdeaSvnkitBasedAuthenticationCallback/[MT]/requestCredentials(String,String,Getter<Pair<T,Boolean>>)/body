{
  T result;
  Object data=SvnConfiguration.RUNTIME_AUTH_CACHE.getDataWithLowerCheck(type,realm);
  String key=SvnConfiguration.AuthStorage.getKey(type,realm);
  if (data != null && !myRequestedCredentials.contains(key)) {
    result=(T)data;
    myRequestedCredentials.add(key);
  }
 else {
    Pair<T,Boolean> userData=fromUserProvider.get();
    result=userData.first;
    if (result != null && userData.second) {
      myVcs.getSvnConfiguration().acknowledge(type,realm,result);
      myRequestedCredentials.add(key);
    }
  }
  return result;
}
