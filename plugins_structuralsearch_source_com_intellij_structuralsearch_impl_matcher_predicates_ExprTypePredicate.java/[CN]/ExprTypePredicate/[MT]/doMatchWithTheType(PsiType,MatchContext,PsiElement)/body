{
  if (type instanceof PsiClassType) {
    PsiClass clazz=((PsiClassType)type).resolve();
    if (clazz != null)     return checkClass(clazz,context);
  }
  if (type != null) {
    final String presentableText=type.getPresentableText();
    boolean result=delegate.doMatch(presentableText,context,matchedNode);
    if (!result && type instanceof PsiArrayType && ((PsiArrayType)type).getComponentType() instanceof PsiClassType) {
      PsiClass clazz=((PsiClassType)((PsiArrayType)type).getComponentType()).resolve();
      if (clazz != null) {
        result=delegate.doMatch(clazz.getQualifiedName() + "[]",context,matchedNode);
      }
    }
    return result;
  }
 else {
    return false;
  }
}
