{
  final GlobalSearchScope searchScope=mySuitesBundle.getSearchScope(rootPackage.getProject());
  final PsiPackage[] subPackages=ApplicationManager.getApplication().runReadAction(new Computable<PsiPackage[]>(){
    public PsiPackage[] compute(){
      return rootPackage.getSubPackages(searchScope);
    }
  }
);
  for (  final PsiPackage aPackage : subPackages) {
    processSubPackage(aPackage,children);
  }
}
