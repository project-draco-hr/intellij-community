{
  PsiElement element=file.findElementAt(offset);
  if (element == null || element instanceof PsiWhiteSpace) {
    return null;
  }
  PsiReference currentRef=file.getViewProvider().findReferenceAt(offset,file.getLanguage());
  if (currentRef == null)   currentRef=file.getViewProvider().findReferenceAt(offset);
  if (currentRef instanceof URLReference || currentRef instanceof DependentNSReference) {
    return currentRef.getCanonicalText();
  }
  return null;
}
