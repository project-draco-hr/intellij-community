{
  HashMap<String,ArrayList<Configurable>> map=new HashMap<String,ArrayList<Configurable>>();
  for (  Configurable configurable : configurables) {
    String groupId=null;
    if (configurable instanceof ConfigurableWrapper) {
      groupId=((ConfigurableWrapper)configurable).getGroupId();
    }
    ArrayList<Configurable> list=map.get(groupId);
    if (list == null) {
      map.put(groupId,list=new ArrayList<Configurable>());
    }
    list.add(configurable);
  }
  ArrayList<ConfigurableGroup> groups=new ArrayList<ConfigurableGroup>(map.size());
  groups.add(new MixedConfigurableGroup("appearance",map));
  groups.add(new MixedConfigurableGroup("editor",map));
  groups.add(new MixedConfigurableGroup("project",map));
  groups.add(new MixedConfigurableGroup("build",map));
  groups.add(new MixedConfigurableGroup("language",map));
  groups.add(new MixedConfigurableGroup("tools",map));
  ConfigurableGroup other=new MixedConfigurableGroup(null,map);
  for (  Entry<String,ArrayList<Configurable>> entry : map.entrySet()) {
    groups.add(new MixedConfigurableGroup(entry.getKey(),entry.getValue()));
  }
  groups.add(other);
  return groups.toArray(new ConfigurableGroup[groups.size()]);
}
