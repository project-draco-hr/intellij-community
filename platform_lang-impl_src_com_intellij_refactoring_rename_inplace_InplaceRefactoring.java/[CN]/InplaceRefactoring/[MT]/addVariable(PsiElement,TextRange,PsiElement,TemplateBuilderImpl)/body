{
  if (element == selectedElement) {
    builder.replaceElement(element,getRangeToRename(element),PRIMARY_VARIABLE_NAME,createLookupExpression(myElementToRename),true);
  }
 else   if (textRange != null) {
    builder.replaceElement(element,textRange,OTHER_VARIABLE_NAME,PRIMARY_VARIABLE_NAME,false);
  }
 else {
    builder.replaceElement(element,getRangeToRename(element),OTHER_VARIABLE_NAME,PRIMARY_VARIABLE_NAME,false);
  }
}
