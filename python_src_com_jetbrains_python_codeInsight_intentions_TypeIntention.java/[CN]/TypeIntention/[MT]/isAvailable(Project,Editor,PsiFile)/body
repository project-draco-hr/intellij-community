{
  updateText(false);
  PsiElement elementAt=PyUtil.findNonWhitespaceAtOffset(file,editor.getCaretModel().getOffset());
  if (elementAt == null)   return false;
  if (isAvailableForReturn(elementAt))   return true;
  final PyExpression problemElement=getProblemElement(elementAt);
  if (problemElement == null)   return false;
  if (PsiTreeUtil.getParentOfType(problemElement,PyLambdaExpression.class) != null) {
    return false;
  }
  return isTypeUndefined(problemElement);
}
