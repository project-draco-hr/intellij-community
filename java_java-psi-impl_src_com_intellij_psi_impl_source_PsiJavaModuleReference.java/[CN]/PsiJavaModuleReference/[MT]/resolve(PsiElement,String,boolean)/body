{
  if (StringUtil.isEmpty(refText))   return null;
  CachedValuesManager manager=CachedValuesManager.getManager(refOwner.getProject());
  Key<ParameterizedCachedValue<PsiJavaModule,Pair<String,Boolean>>> key=incompleteCode ? K_COMPLETE : K_INCOMPLETE;
  return manager.getParameterizedCachedValue(refOwner,key,new ParameterizedCachedValueProvider<PsiJavaModule,Pair<String,Boolean>>(){
    @Nullable @Override public Result<PsiJavaModule> compute(    Pair<String,Boolean> p){
      Collection<PsiJavaModule> modules=Resolver.findModules(refOwner.getContainingFile(),p.first,p.second);
      PsiJavaModule module=modules.size() == 1 ? modules.iterator().next() : null;
      Project project=refOwner.getProject();
      return Result.create(module,JavaModuleFileChangeTracker.getInstance(project),ProjectRootModificationTracker.getInstance(project));
    }
  }
,false,pair(refText,incompleteCode));
}
