{
  StudyUtils.updateAction(e);
  final Project project=e.getProject();
  if (project != null) {
    StudyEditor studyEditor=StudyUtils.getSelectedStudyEditor(project);
    StudyState studyState=new StudyState(studyEditor);
    if (!studyState.isValid()) {
      e.getPresentation().setEnabledAndVisible(false);
    }
    TaskFile taskFile=studyState.getTaskFile();
    if (taskFile == null || taskFile.getAnswerPlaceholders().isEmpty()) {
      e.getPresentation().setEnabledAndVisible(false);
    }
  }
}
