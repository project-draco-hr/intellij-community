{
  return new Function.Mono<TreeTraversal.GuidedIt<Integer>>(){
    @Override public TreeTraversal.GuidedIt<Integer> fun(    TreeTraversal.GuidedIt<Integer> it){
      return it.setGuide(new Consumer<TreeTraversal.GuidedIt<Integer>>(){
        @Override public void consume(        TreeTraversal.GuidedIt<Integer> it){
          if (traversal == TreeTraversal.PRE_ORDER_DFS) {
            it.queueNext(it.curChild).result(it.curChild);
          }
 else           if (traversal == TreeTraversal.POST_ORDER_DFS) {
            it.queueNext(it.curChild).result(it.curChild == null ? it.curParent : null);
          }
 else           if (traversal == TreeTraversal.PLAIN_BFS) {
            it.queueLast(it.curChild).result(it.curChild);
          }
        }
      }
);
    }
  }
;
}
