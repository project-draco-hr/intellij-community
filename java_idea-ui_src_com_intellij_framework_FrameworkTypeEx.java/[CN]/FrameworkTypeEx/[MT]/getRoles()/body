{
  FrameworkGroup<?> parentGroup=getParentGroup();
  if (parentGroup == null) {
    String id=getUnderlyingFrameworkTypeId();
    if (id != null) {
      FrameworkSupportInModuleProvider provider=FrameworkSupportUtil.findProvider(id);
      if (provider != null)       return provider.getRoles();
    }
    return FrameworkRole.UNKNOWN;
  }
 else {
    FrameworkRole role=parentGroup.getRole();
    return null == role ? FrameworkRole.UNKNOWN : new FrameworkRole[]{role};
  }
}
