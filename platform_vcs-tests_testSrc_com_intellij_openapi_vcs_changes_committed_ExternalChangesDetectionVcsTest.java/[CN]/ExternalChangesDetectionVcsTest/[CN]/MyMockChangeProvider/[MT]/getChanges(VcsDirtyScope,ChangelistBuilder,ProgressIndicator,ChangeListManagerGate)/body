{
  for (  FilePath path : dirtyScope.getDirtyFiles()) {
    builder.processUnversionedFile(path.getVirtualFile());
  }
  final Processor<VirtualFile> processor=new Processor<VirtualFile>(){
    @Override public boolean process(    final VirtualFile vf){
      builder.processUnversionedFile(vf);
      return true;
    }
  }
;
  for (  FilePath dir : dirtyScope.getRecursivelyDirtyDirectories()) {
    VfsUtil.processFilesRecursively(dir.getVirtualFile(),processor);
  }
}
