{
  listOwner=BaseExternalAnnotationsManager.preferCompiledElement(listOwner);
  if (ORG_JETBRAINS_ANNOTATIONS_CONTRACT.equals(annotationFQN) && listOwner instanceof PsiMethod) {
    PsiAnnotation anno=getHardcodedContractAnnotation((PsiMethod)listOwner);
    if (anno != null) {
      return anno;
    }
  }
  if (ignoreInference(listOwner,annotationFQN)) {
    return null;
  }
  PsiAnnotation fromBytecode=ProjectBytecodeAnalysis.getInstance(myProject).findInferredAnnotation(listOwner,annotationFQN);
  if (fromBytecode != null) {
    return fromBytecode;
  }
  if (listOwner instanceof PsiMethod) {
    if (ORG_JETBRAINS_ANNOTATIONS_CONTRACT.equals(annotationFQN)) {
      return getInferredContractAnnotation((PsiMethod)listOwner);
    }
    if ((AnnotationUtil.NOT_NULL.equals(annotationFQN) || AnnotationUtil.NULLABLE.equals(annotationFQN))) {
      PsiAnnotation anno=getInferredNullityAnnotation((PsiMethod)listOwner);
      return anno == null ? null : annotationFQN.equals(anno.getQualifiedName()) ? anno : null;
    }
  }
  return null;
}
