{
  listOwner=BaseExternalAnnotationsManager.preferCompiledElement(listOwner);
  List<PsiAnnotation> result=ContainerUtil.newArrayList();
  PsiAnnotation[] fromBytecode=ProjectBytecodeAnalysis.getInstance(listOwner.getProject()).findInferredAnnotations(listOwner);
  for (  PsiAnnotation annotation : fromBytecode) {
    if (!ORG_JETBRAINS_ANNOTATIONS_CONTRACT.equals(annotation.getQualifiedName()) || canHaveContract(listOwner)) {
      result.add(annotation);
    }
  }
  if (canHaveContract(listOwner)) {
    ContainerUtil.addIfNotNull(result,getInferredContractAnnotation((PsiMethod)listOwner));
  }
  return result.isEmpty() ? PsiAnnotation.EMPTY_ARRAY : result.toArray(new PsiAnnotation[result.size()]);
}
