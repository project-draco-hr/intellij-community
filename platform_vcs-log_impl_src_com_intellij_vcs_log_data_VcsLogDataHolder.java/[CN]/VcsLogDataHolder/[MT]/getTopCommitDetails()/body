{
  final Collection<TimedVcsCommit> topCommits=getTopCommits();
  return ContainerUtil.mapNotNull(topCommits,new Function<TimedVcsCommit,VcsFullCommitDetails>(){
    @Nullable @Override public VcsFullCommitDetails fun(    TimedVcsCommit commit){
      Hash hash=commit.getHash();
      VcsFullCommitDetails details=myTopCommitsDetailsCache.get(hash);
      if (details != null) {
        return details;
      }
      LOG.error("No details were stored for commit " + hash,new Attachment("details_cache.txt",myTopCommitsDetailsCache.toString()),new Attachment("top_commits.txt",topCommits.toString()));
      return null;
    }
  }
);
}
