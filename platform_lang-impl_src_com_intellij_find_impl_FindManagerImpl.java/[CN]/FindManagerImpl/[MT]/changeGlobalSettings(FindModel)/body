{
  String stringToFind=findModel.getStringToFind();
  FindInProjectSettings findInProjectSettings=FindInProjectSettings.getInstance(myProject);
  if (!StringUtil.isEmpty(stringToFind)) {
    findInProjectSettings.addStringToFind(stringToFind);
  }
  if (!findModel.isMultipleFiles()) {
    setFindWasPerformed();
  }
  if (findModel.isReplaceState()) {
    findInProjectSettings.addStringToReplace(findModel.getStringToReplace());
  }
  if (findModel.isMultipleFiles() && !findModel.isProjectScope() && findModel.getDirectoryName() != null) {
    findInProjectSettings.addDirectory(findModel.getDirectoryName());
    myFindInProjectModel.setWithSubdirectories(findModel.isWithSubdirectories());
  }
  FindSettings.getInstance().setShowResultsInSeparateView(findModel.isOpenInNewTab());
}
