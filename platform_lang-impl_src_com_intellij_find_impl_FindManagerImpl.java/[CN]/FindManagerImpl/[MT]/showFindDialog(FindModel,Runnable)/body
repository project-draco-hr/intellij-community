{
  final Consumer<FindModel> handler=new Consumer<FindModel>(){
    @Override public void consume(    FindModel findModel){
      changeGlobalSettings(findModel);
      okHandler.run();
    }
  }
;
  if (myFindDialog == null || Disposer.isDisposed(myFindDialog.getDisposable())) {
    myFindDialog=new FindDialog(myProject,model,handler){
      @Override protected void dispose(){
        super.dispose();
        myFindDialog=null;
      }
    }
;
    myFindDialog.setModal(true);
  }
 else   if (myFindDialog.getModel().isReplaceState() != model.isReplaceState()) {
    myFindDialog.setModel(model);
    myFindDialog.setOkHandler(handler);
    return;
  }
  myFindDialog.show();
}
