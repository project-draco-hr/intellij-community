{
  boolean isWordStart;
  if (startOffset != 0) {
    boolean previousCharacterIsIdentifier=Character.isJavaIdentifierPart(text.charAt(startOffset - 1)) && (startOffset <= 1 || text.charAt(startOffset - 2) != '\\');
    boolean previousCharacterIsWhitespace=Character.isWhitespace(text.charAt(startOffset - 1));
    boolean firstCharacterIsIdentifier=Character.isJavaIdentifierPart(text.charAt(startOffset));
    isWordStart=!firstCharacterIsIdentifier && (previousCharacterIsIdentifier || previousCharacterIsWhitespace) || firstCharacterIsIdentifier && !previousCharacterIsIdentifier;
  }
 else {
    isWordStart=true;
  }
  boolean isWordEnd;
  if (endOffset != text.length()) {
    boolean nextCharacterIsIdentifier=Character.isJavaIdentifierPart(text.charAt(endOffset));
    boolean nextCharacterIsWhitespace=Character.isWhitespace(text.charAt(endOffset));
    boolean lastSearchedCharacterIsIdentifier=endOffset > 0 && Character.isJavaIdentifierPart(text.charAt(endOffset - 1));
    isWordEnd=lastSearchedCharacterIsIdentifier && !nextCharacterIsIdentifier || !lastSearchedCharacterIsIdentifier && (nextCharacterIsIdentifier || nextCharacterIsWhitespace);
  }
 else {
    isWordEnd=true;
  }
  return isWordStart && isWordEnd;
}
