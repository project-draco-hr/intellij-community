{
  myIsRunningAction=true;
  try {
    ActionManagerEx actionManager=ActionManagerEx.getInstanceEx();
    AnAction action=actionManager.getAction(myActionId);
    DataContext context=DataManager.getInstance().getDataContext(IdeFocusManager.findInstance().getFocusOwner());
    AnActionEvent anActionEvent=AnActionEvent.createFromAnAction(action,event,ActionPlaces.MAIN_MENU,context);
    action.update(anActionEvent);
    if (!anActionEvent.getPresentation().isEnabled())     return false;
    actionManager.fireBeforeActionPerformed(action,anActionEvent.getDataContext(),anActionEvent);
    action.actionPerformed(anActionEvent);
    actionManager.fireAfterActionPerformed(action,anActionEvent.getDataContext(),anActionEvent);
    return true;
  }
  finally {
    myIsRunningAction=false;
  }
}
