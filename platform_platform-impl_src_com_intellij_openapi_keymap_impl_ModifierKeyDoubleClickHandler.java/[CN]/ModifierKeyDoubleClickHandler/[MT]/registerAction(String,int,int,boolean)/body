{
  final MyDispatcher dispatcher=new MyDispatcher(actionId,modifierKeyCode,actionKeyCode,skipIfActionHasShortcut);
  MyDispatcher oldDispatcher=myDispatchers.put(actionId,dispatcher);
  IdeEventQueue.getInstance().addDispatcher(dispatcher,dispatcher);
  myActionManagerEx.addAnActionListener(dispatcher,dispatcher);
  if (oldDispatcher != null) {
    Disposer.dispose(oldDispatcher);
  }
}
