{
  if (SystemInfo.isMac && modifierKeyCode == KeyEvent.VK_CONTROL) {
    modifierKeyCode=KeyEvent.VK_META;
  }
  final MyDispatcher dispatcher=new MyDispatcher(actionId,modifierKeyCode,actionKeyCode);
  IdeEventQueue.EventDispatcher oldDispatcher=myDispatchers.put(actionId,dispatcher);
  IdeEventQueue.getInstance().addDispatcher(dispatcher,null);
  if (oldDispatcher != null) {
    IdeEventQueue.getInstance().removeDispatcher(oldDispatcher);
  }
}
