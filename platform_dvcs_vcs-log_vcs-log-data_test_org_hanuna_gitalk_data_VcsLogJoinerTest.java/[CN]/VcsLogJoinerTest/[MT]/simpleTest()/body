{
  String[] INITIAL={"4|-a2|-a1","3|-b1|-a","2|-a1|-a","1|-a|-"};
  List<TimeCommitParents> fullLog=CommitParser.log(INITIAL);
  List<? extends TimeCommitParents> firstBlock=CommitParser.log("5|-f|-b1","6|-e|-a2");
  Collection<Ref> refs=Arrays.asList(ref("master","e"),ref("release","f"));
  List<TimeCommitParents> expected=CommitParser.log(ArrayUtil.mergeArrays(new String[]{"6|-e|-a2","5|-f|-b1"},INITIAL));
  List<? extends TimeCommitParents> result=new VcsLogJoiner().addCommits(fullLog,firstBlock,refs);
  assertEquals(expected,result);
}
