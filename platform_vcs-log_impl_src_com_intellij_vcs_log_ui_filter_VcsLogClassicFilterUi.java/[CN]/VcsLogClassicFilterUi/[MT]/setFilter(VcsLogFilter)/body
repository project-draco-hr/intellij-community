{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (filter instanceof VcsLogBranchFilter) {
    myBranchFilterModel.setFilter((VcsLogBranchFilter)filter);
  }
 else   if (filter instanceof VcsLogStructureFilter) {
    myStructureFilterModel.setFilter(new VcsLogFileFilter((VcsLogStructureFilter)filter,null));
  }
  JComponent toolbar=myUi.getToolbar();
  toolbar.revalidate();
  toolbar.repaint();
}
