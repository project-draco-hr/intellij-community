{
  if (equivalenceDescriptor.getConstants().size() > 0) {
    return null;
  }
  final List<SingleChildDescriptor> singleChildren=equivalenceDescriptor.getSingleChildDescriptors();
  final List<MultiChildDescriptor> multiChildren=equivalenceDescriptor.getMultiChildDescriptors();
  final List<PsiElement[]> codeBlocks=equivalenceDescriptor.getCodeBlocks();
  if (singleChildren.size() + multiChildren.size() + codeBlocks.size() != 1) {
    return null;
  }
  if (singleChildren.size() > 0) {
    final SingleChildDescriptor descriptor=singleChildren.get(0);
    final PsiElement child=descriptor.getElement();
    if (child != null) {
      final SingleChildDescriptor.MyType type=descriptor.getType();
      if (type == SingleChildDescriptor.MyType.DEFAULT) {
        return child;
      }
 else       if (type == SingleChildDescriptor.MyType.CHILDREN || type == SingleChildDescriptor.MyType.CHILDREN_IN_ANY_ORDER) {
        return getOnlyNonLexicalChild(child);
      }
    }
  }
 else   if (multiChildren.size() > 0) {
    final MultiChildDescriptor descriptor=multiChildren.get(0);
    final PsiElement[] children=descriptor.getElements();
    if (children != null && children.length == 1 && descriptor.getType() != MultiChildDescriptor.MyType.OPTIONALLY) {
      return children[0];
    }
  }
 else   if (codeBlocks.size() > 0) {
    final PsiElement[] codeBlock=codeBlocks.get(0);
    if (codeBlock != null && codeBlock.length == 1) {
      return codeBlock[0];
    }
  }
  return null;
}
