{
  if (element == null) {
    return null;
  }
  if (descriptor == null) {
    final EquivalenceDescriptorProvider provider=EquivalenceDescriptorProvider.getInstance(element);
    if (provider != null) {
      descriptor=provider.buildDescriptor(element);
    }
  }
  if (descriptor != null) {
    final PsiElement onlyChild=getOnlyChildFromDescriptor(descriptor,filter);
    return onlyChild != null ? onlyChild : element;
  }
  return getOnlyChild(element,filter);
}
