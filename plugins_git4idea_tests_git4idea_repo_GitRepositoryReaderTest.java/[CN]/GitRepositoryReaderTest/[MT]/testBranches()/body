{
  Collection<GitRemote> remotes=GitConfig.read(myPlatformFacade,new File(myGitDir,"config")).parseRemotes();
  GitBranchesCollection branchesCollection=myRepositoryReader.readBranches(remotes);
  GitLocalBranch currentBranch=myRepositoryReader.readCurrentBranch();
  Collection<? extends GitBranch> localBranches=branchesCollection.getLocalBranches();
  Collection<? extends GitBranch> remoteBranches=branchesCollection.getRemoteBranches();
  assertEqualBranches(readCurrentBranch(myTempDir),currentBranch);
  assertBranches(localBranches,readBranches(myTempDir,true));
  assertBranches(remoteBranches,readBranches(myTempDir,false));
}
