{
  if (!PsiUtil.isLanguageLevel7OrHigher(expression) || !TypeUtils.expressionHasTypeOrSubtype(expression,"java.lang.AutoCloseable")) {
    return;
  }
  final PsiVariable variable=ResourceInspection.getVariable(expression);
  if (variable instanceof PsiResourceVariable) {
    return;
  }
  if (ResourceInspection.isResourceEscapingFromMethod(variable,expression)) {
    return;
  }
  registerError(expression,expression);
}
