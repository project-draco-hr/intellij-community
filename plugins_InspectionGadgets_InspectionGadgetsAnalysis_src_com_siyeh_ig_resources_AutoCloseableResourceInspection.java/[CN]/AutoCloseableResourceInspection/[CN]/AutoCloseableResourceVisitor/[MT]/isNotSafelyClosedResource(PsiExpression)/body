{
  if (!PsiUtil.isLanguageLevel7OrHigher(expression) || !TypeUtils.expressionHasTypeOrSubtype(expression,"java.lang.AutoCloseable")) {
    return false;
  }
  final PsiVariable variable=ResourceInspection.getVariable(expression);
  return !(variable instanceof PsiResourceVariable) && !ResourceInspection.isResourceEscapingFromMethod(variable,expression);
}
