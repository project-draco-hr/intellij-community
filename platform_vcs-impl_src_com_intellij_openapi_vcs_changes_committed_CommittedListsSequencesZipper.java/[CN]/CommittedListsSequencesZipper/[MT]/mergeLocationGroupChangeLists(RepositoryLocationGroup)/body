{
  List<CommittedChangeList> result=ContainerUtil.newArrayList();
  List<CommittedChangeList> equalLists=ContainerUtil.newArrayList();
  CommittedChangeList previousList=null;
  for (  CommittedChangeList list : Iterables.mergeSorted(collectChangeLists(group.getLocations()),myComparator)) {
    if (previousList != null && myComparator.compare(previousList,list) != 0) {
      result.add(zip(group,equalLists));
      equalLists.clear();
    }
    equalLists.add(list);
    previousList=list;
  }
  if (!equalLists.isEmpty()) {
    result.add(zip(group,equalLists));
  }
  return result;
}
