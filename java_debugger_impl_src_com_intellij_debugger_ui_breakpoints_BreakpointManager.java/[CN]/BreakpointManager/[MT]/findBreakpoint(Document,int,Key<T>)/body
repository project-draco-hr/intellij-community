{
  for (  BreakpointWithHighlighter breakpointWithHighlighter : myDocumentBreakpoints.get(document)) {
    if (breakpointWithHighlighter.isAt(document,offset) && (category == null || category.equals(breakpointWithHighlighter.getCategory()))) {
      return (T)breakpointWithHighlighter;
    }
  }
  for (  final Breakpoint breakpoint : getBreakpoints()) {
    if (breakpoint instanceof BreakpointWithHighlighter && ((BreakpointWithHighlighter)breakpoint).isAt(document,offset)) {
      if (category == null || category.equals(breakpoint.getCategory())) {
        return (T)breakpoint;
      }
    }
  }
  return null;
}
