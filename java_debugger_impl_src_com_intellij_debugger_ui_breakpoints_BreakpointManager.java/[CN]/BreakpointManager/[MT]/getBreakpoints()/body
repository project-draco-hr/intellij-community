{
  if (myBreakpointsListForIteration == null) {
    myBreakpointsListForIteration=new ArrayList<Breakpoint>(myBreakpoints.size());
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      @Override public void run(){
        for (        XBreakpoint<?> xBreakpoint : getXBreakpointManager().getAllBreakpoints()) {
          if (isJavaType(xBreakpoint)) {
            Breakpoint breakpoint=myBreakpoints.get(xBreakpoint);
            if (breakpoint == null) {
              breakpoint=getJavaBreakpoint(xBreakpoint);
              myBreakpoints.put(xBreakpoint,breakpoint);
            }
          }
        }
      }
    }
);
    myBreakpointsListForIteration.addAll(myBreakpoints.values());
  }
  return myBreakpointsListForIteration;
}
