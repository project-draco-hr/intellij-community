{
  int keyCode=e.getKeyCode();
  final int selColumn=columnModel.getSelectionModel().getAnchorSelectionIndex();
  boolean treeHasFocus=selColumn == -1 || selColumn >= 0 && isTreeColumn(selColumn);
  boolean oneRowSelected=getSelectedRowCount() == 1;
  int rowToSelect=-1;
  if (treeHasFocus && oneRowSelected && ((keyCode == KeyEvent.VK_LEFT) || (keyCode == KeyEvent.VK_RIGHT))) {
    TreePath selectionPath=myTree.getSelectionPath();
    myTree._processKeyEvent(e);
    if (myTree.isExpanded(selectionPath)) {
      myTree.setSelectionPath(selectionPath);
    }
 else     if (keyCode == KeyEvent.VK_LEFT) {
      rowToSelect=myTree.getRowForPath(myTree.getSelectionPath());
      if (!getScrollableTracksViewportHeight()) {
        int visibleYPosition=getVisibleRect().y;
        final Rectangle cellRect=getCellRect(rowToSelect,0,false);
        int selectedRowYPosition=cellRect.y;
        if (selectedRowYPosition < visibleYPosition) {
          scrollRectToVisible(cellRect);
        }
      }
    }
  }
 else {
    super.processKeyEvent(e);
  }
  if (rowToSelect > -1) {
    getSelectionModel().setSelectionInterval(rowToSelect,rowToSelect);
  }
}
