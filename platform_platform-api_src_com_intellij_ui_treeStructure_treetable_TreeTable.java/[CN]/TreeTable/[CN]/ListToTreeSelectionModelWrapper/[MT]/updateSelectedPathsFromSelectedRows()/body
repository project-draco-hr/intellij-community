{
  if (!updatingListSelectionModel) {
    updatingListSelectionModel=true;
    try {
      int min=listSelectionModel.getMinSelectionIndex();
      int max=listSelectionModel.getMaxSelectionIndex();
      clearSelection();
      if (min != -1 && max != -1) {
        List<TreePath> selectionPaths=new ArrayList<TreePath>();
        for (int counter=min; counter <= max; counter++) {
          if (listSelectionModel.isSelectedIndex(counter)) {
            TreePath selPath=myTree.getPathForRow(counter);
            if (selPath != null) {
              selectionPaths.add(selPath);
            }
          }
        }
        if (!selectionPaths.isEmpty()) {
          addSelectionPaths(selectionPaths.toArray(new TreePath[selectionPaths.size()]));
        }
      }
    }
  finally {
      updatingListSelectionModel=false;
    }
  }
}
