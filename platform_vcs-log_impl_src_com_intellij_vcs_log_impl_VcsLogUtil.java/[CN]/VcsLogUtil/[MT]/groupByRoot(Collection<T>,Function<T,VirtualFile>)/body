{
  MultiMap<VirtualFile,T> map=new MultiMap<VirtualFile,T>(){
    @NotNull @Override protected Map<VirtualFile,Collection<T>> createMap(){
      return new TreeMap<VirtualFile,Collection<T>>(new Comparator<VirtualFile>(){
        @Override public int compare(        @NotNull VirtualFile o1,        @NotNull VirtualFile o2){
          return o1.getPresentableUrl().compareTo(o2.getPresentableUrl());
        }
      }
);
    }
  }
;
  for (  T item : items) {
    map.putValue(rootGetter.fun(item),item);
  }
  return map;
}
