{
  if (filterCollection.getStructureFilter() == null)   return Collections.emptySet();
  Collection<FilePath> files=filterCollection.getStructureFilter().getFiles();
  return new HashSet<FilePath>(ContainerUtil.filter(files,new Condition<FilePath>(){
    @Override public boolean value(    FilePath filePath){
      VirtualFile virtualFile=filePath.getVirtualFile();
      return root.equals(virtualFile) || FileUtil.isAncestor(VfsUtilCore.virtualToIoFile(root),filePath.getIOFile(),false);
    }
  }
));
}
