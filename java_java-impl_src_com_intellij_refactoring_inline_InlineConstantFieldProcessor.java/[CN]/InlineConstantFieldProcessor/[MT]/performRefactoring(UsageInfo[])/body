{
  PsiExpression initializer=InlineConstantFieldHandler.getInitializer(myField);
  LOG.assertTrue(initializer != null);
  initializer=normalize(initializer);
  final Set<PsiAssignmentExpression> assignments=new HashSet<>();
  for (  UsageInfo info : usages) {
    if (info instanceof UsageFromJavaDoc)     continue;
    if (info instanceof NonCodeUsageInfo)     continue;
    final PsiElement element=info.getElement();
    if (element == null)     continue;
    try {
      if (element instanceof PsiExpression) {
        inlineExpressionUsage((PsiExpression)element,initializer,assignments);
      }
 else {
        PsiImportStaticStatement importStaticStatement=PsiTreeUtil.getParentOfType(element,PsiImportStaticStatement.class);
        LOG.assertTrue(importStaticStatement != null,element.getText());
        importStaticStatement.delete();
      }
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
    }
  }
  for (  PsiAssignmentExpression assignment : assignments) {
    assignment.delete();
  }
  if (!myInlineThisOnly) {
    try {
      myField.delete();
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
    }
  }
}
