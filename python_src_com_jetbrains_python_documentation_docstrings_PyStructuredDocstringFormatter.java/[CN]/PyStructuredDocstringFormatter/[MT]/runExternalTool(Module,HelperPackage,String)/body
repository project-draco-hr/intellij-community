{
  final Sdk sdk=PythonSdkType.findPython2Sdk(module);
  if (sdk == null)   return null;
  final String sdkHome=sdk.getHomePath();
  if (sdkHome == null)   return null;
  final Charset charset=EncodingProjectManager.getInstance(module.getProject()).getDefaultCharset();
  final ByteBuffer encoded=charset.encode(docstring);
  final byte[] data=new byte[encoded.limit()];
  encoded.get(data);
  final Map<String,String> env=new HashMap<String,String>();
  PythonEnvUtil.setPythonDontWriteBytecode(env);
  final GeneralCommandLine commandLine=formatter.newCommandLine(sdkHome,Lists.<String>newArrayList());
  LOG.debug("Command for launching docstring formatter: " + commandLine.getCommandLineString());
  final ProcessOutput output=PySdkUtil.getProcessOutput(commandLine,new File(sdkHome).getParent(),env,5000,data,false);
  if (!output.checkSuccess(LOG)) {
    return null;
  }
  return output.getStdout();
}
