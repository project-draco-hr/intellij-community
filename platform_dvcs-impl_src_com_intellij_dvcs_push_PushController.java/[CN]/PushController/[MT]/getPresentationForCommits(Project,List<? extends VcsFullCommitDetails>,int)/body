{
  Function<VcsFullCommitDetails,DefaultMutableTreeNode> commitToNode=new Function<VcsFullCommitDetails,DefaultMutableTreeNode>(){
    @Override public DefaultMutableTreeNode fun(    VcsFullCommitDetails commit){
      return new VcsFullCommitDetailsNode(project,commit);
    }
  }
;
  List<DefaultMutableTreeNode> childrenToShown=new ArrayList<DefaultMutableTreeNode>();
  for (int i=0; i < commits.size(); ++i) {
    if (i >= commitsNum) {
      final VcsLinkedText moreCommitsLink=new VcsLinkedText("<a href='loadMore'>...</a>",new VcsLinkListener(){
        @Override public void hyperlinkActivated(        @NotNull DefaultMutableTreeNode sourceNode){
          addMoreCommits((RepositoryNode)sourceNode);
        }
      }
);
      childrenToShown.add(new TextWithLinkNode(moreCommitsLink));
      break;
    }
    childrenToShown.add(commitToNode.fun(commits.get(i)));
  }
  return childrenToShown;
}
