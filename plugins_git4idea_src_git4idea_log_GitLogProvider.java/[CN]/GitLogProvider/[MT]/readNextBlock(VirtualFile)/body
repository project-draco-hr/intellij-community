{
  List<GitCommit> history=GitHistoryUtils.history(myProject,root,"HEAD","--branches","--remotes","--tags","--date-order","--encoding=UTF-8","--full-history","--sparse","--max-count=" + VcsLogProvider.COMMIT_BLOCK_SIZE);
  return ContainerUtil.map(history,new Function<GitCommit,CommitParents>(){
    @Override public CommitParents fun(    GitCommit gitCommit){
      return new SimpleCommitParents(Hash.build(gitCommit.getHash().toString()),ContainerUtil.map(gitCommit.getParents(),new Function<git4idea.Hash,Hash>(){
        @Override public Hash fun(        git4idea.Hash hash){
          return Hash.build(hash.toString());
        }
      }
));
    }
  }
);
}
