{
  if (!isRepositoryReady(root)) {
    return Collections.emptyList();
  }
  String[] params={"HEAD","--branches","--remotes","--tags","--encoding=UTF-8","--full-history","--sparse","--max-count=" + commitCount};
  if (ordered) {
    params=ArrayUtil.append(params,"--date-order");
  }
  return GitHistoryUtils.history(myProject,root,params);
}
