{
  if (!isRepositoryReady(root)) {
    return Collections.emptyList();
  }
  List<String> parameters=new ArrayList<String>(GitHistoryUtils.LOG_ALL);
  parameters.add("--sparse");
  return GitHistoryUtils.readCommits(myProject,root,userRegistry,parameters);
}
