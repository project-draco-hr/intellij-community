{
  super(false);
  setTitle("Manage Project Templates");
  final ProjectTemplate[] templates=new ArchivedTemplatesFactory().createTemplates(ProjectTemplatesFactory.CUSTOM_GROUP,new WizardContext(null));
  myTemplatesList=new JBList(new CollectionListModel<ProjectTemplate>(Arrays.asList(templates)){
    @Override public void remove(    int index){
      ProjectTemplate template=getElementAt(index);
      super.remove(index);
      if (template instanceof LocalArchivedTemplate) {
        FileUtil.delete(new File(((LocalArchivedTemplate)template).getArchivePath().getPath()));
      }
    }
  }
);
  myTemplatesList.setEmptyText("No user-defined project templates");
  myTemplatesList.setPreferredSize(JBUI.size(300,100));
  myTemplatesList.setCellRenderer(new ColoredListCellRenderer(){
    @Override protected void customizeCellRenderer(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      append(((ProjectTemplate)value).getName());
    }
  }
);
  myTemplatesList.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      ProjectTemplate template=getSelectedTemplate();
      myDescriptionPane.setText(template == null ? null : template.getDescription());
    }
  }
);
  myPanel=new JPanel(new BorderLayout(0,5));
  myPanel.add(ToolbarDecorator.createDecorator(myTemplatesList).disableUpDownActions().createPanel());
  myDescriptionPane=new JTextPane();
  myDescriptionPane.setPreferredSize(JBUI.size(300,50));
  Messages.installHyperlinkSupport(myDescriptionPane);
  myPanel.add(ScrollPaneFactory.createScrollPane(myDescriptionPane,ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED),BorderLayout.SOUTH);
  if (templates.length > 0) {
    myTemplatesList.setSelectedValue(templates[0],true);
  }
  init();
}
