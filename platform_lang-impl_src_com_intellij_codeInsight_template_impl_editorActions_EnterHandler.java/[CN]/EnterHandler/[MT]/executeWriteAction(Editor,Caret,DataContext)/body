{
  Project project=CommonDataKeys.PROJECT.getData(dataContext);
  if (project != null) {
    PsiDocumentManager.getInstance(project).commitDocument(editor.getDocument());
    TemplateManagerImpl templateManager=(TemplateManagerImpl)TemplateManager.getInstance(project);
    if (templateManager != null && templateManager.startTemplate(editor,TemplateSettings.ENTER_CHAR)) {
      return;
    }
  }
  myOriginalHandler.execute(editor,caret,dataContext);
}
