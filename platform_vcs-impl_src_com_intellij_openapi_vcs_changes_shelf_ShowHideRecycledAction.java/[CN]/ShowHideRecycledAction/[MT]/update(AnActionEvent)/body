{
  super.update(e);
  final Project project=getEventProject(e);
  final Presentation presentation=e.getPresentation();
  presentation.setEnabledAndVisible(project != null);
  if (project != null) {
    final boolean fromContextMenu=ShelvedChangesViewManager.SHELF_CONTEXT_MENU.equals(e.getPlace());
    presentation.setText(ShelveChangesManager.getInstance(project).isShowRecycled() && !fromContextMenu ? "Hide Already Unshelved" : "Show Already Unshelved");
    presentation.setIcon(fromContextMenu ? null : AllIcons.Nodes.DisabledPointcut);
  }
}
