{
  myProgressIndicator=null;
  for (  GlobalInspectionContextExtension extension : myExtensions.values()) {
    extension.cleanup();
  }
  for (  Tools tools : myTools.values()) {
    for (    ScopeToolState state : tools.getTools()) {
      InspectionToolWrapper toolWrapper=state.getTool();
      toolWrapper.cleanup();
    }
  }
  myTools.clear();
  EntryPointsManager entryPointsManager=EntryPointsManager.getInstance(getProject());
  if (entryPointsManager != null) {
    entryPointsManager.cleanup();
  }
  if (myRefManager != null) {
    ((RefManagerImpl)myRefManager).cleanup();
    myRefManager=null;
    if (myCurrentScope != null) {
      myCurrentScope.invalidate();
      myCurrentScope=null;
    }
  }
}
