{
  PsiElement sibling=superClass.getPrevSibling();
  final String white=sibling != null ? "\n" + sibling.getText() + "    " : "\n    ";
  final StringBuilder builder=new StringBuilder("class ");
  if (preparedClassName != null) {
    builder.append(preparedClassName).append(":");
  }
 else {
    builder.append("Foo").append(":\n");
  }
  boolean hasChanges=false;
  for (  PyElement element : elements) {
    final String name=element.getName();
    if (name != null && (up || superClass.findMethodByName(name,false) == null)) {
      builder.append(white).append(element.getText()).append("\n");
      hasChanges=true;
    }
  }
  return ignoreNoChanges || hasChanges ? builder.toString() : null;
}
