{
  if (elements.length == 0)   return;
  final Project project=superClass.getProject();
  final String text=prepareClassText(superClass,elements,up,false,null);
  if (text == null)   return;
  final PyClass newClass=PythonLanguage.getInstance().getElementGenerator().createFromText(project,PyClass.class,text);
  if (superClass.getStatementList().getStatements().length != 0) {
    final PsiElement firstStatement=superClass.getStatementList().getFirstChild();
    final ASTNode node=newClass.getStatementList().getNode();
    for (    ASTNode child : node.getChildren(null)) {
      PyPsiUtils.addBeforeInParent(firstStatement,child.getPsi());
    }
    PyPsiUtils.addBeforeInParent(firstStatement,newClass.getLastChild().getPrevSibling());
    PyPsiUtils.addBeforeInParent(firstStatement,newClass.getLastChild());
  }
 else {
    superClass.getStatementList().replace(newClass.getStatementList());
  }
}
