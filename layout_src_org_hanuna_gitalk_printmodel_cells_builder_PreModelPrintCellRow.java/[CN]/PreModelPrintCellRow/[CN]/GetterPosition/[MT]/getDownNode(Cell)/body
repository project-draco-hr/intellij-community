{
  if (cell.getClass() == NodeCell.class) {
    return ((NodeCell)cell).getNode();
  }
 else {
    if (cell.getClass() != EdgeCell.class) {
      throw new IllegalStateException();
    }
    Edge edge=((EdgeCell)cell).getEdge();
    return edge.getDownNode();
  }
}
