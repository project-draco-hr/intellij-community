{
  if (context.getParameterOwner() != arglist) {
    context.removeHint();
    return;
  }
  List<PyExpression> flat_args=PyUtil.flattenedParensAndLists(arglist.getArguments());
  int alleged_cursor_offset=context.getOffset();
  final TextRange argListTextRange=arglist.getTextRange();
  if (!argListTextRange.contains(alleged_cursor_offset) && arglist.getText().endsWith(")")) {
    context.removeHint();
    return;
  }
  PsiFile file=context.getFile();
  CharSequence chars=file.getViewProvider().getContents();
  int offset=-1;
  for (  PyExpression arg : flat_args) {
    TextRange range=arg.getTextRange();
    int left=CharArrayUtil.shiftBackward(chars,range.getStartOffset() - 1," \t\r\n");
    int right=CharArrayUtil.shiftForwardCarefully(chars,range.getEndOffset()," \t\r\n");
    if (arg.getParent() instanceof PyListLiteralExpression || arg.getParent() instanceof PyTupleExpression) {
      right=CharArrayUtil.shiftForward(chars,range.getEndOffset()," \t\r\n])");
    }
    if (left <= alleged_cursor_offset && right >= alleged_cursor_offset) {
      offset=range.getStartOffset();
      break;
    }
  }
  context.setCurrentParameter(offset);
}
