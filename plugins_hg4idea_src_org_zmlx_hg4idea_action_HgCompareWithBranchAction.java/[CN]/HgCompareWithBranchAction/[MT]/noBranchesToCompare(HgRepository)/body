{
  final Map<String,LinkedHashSet<Hash>> branches=repository.getBranches();
  if (branches.size() > 1)   return false;
  final Hash currentRevisionHash=getCurrentHash(repository);
  final Collection<HgNameWithHashInfo> other_bookmarks=getOtherBookmarks(repository,currentRevisionHash);
  if (!other_bookmarks.isEmpty())   return false;
  return currentRevisionHash.equals(getHeavyBranchMainHash(repository,repository.getCurrentBranch()));
}
