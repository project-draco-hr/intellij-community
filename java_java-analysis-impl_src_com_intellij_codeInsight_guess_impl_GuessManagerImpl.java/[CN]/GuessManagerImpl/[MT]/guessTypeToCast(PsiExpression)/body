{
  LinkedHashSet<PsiType> types=new LinkedHashSet<PsiType>();
  ContainerUtil.addIfNotNull(getControlFlowExpressionType(expr),types);
  addExprTypesWhenContainerElement(types,expr);
  addExprTypesByDerivedClasses(types,expr);
  return types.toArray(PsiType.createArray(types.size()));
}
