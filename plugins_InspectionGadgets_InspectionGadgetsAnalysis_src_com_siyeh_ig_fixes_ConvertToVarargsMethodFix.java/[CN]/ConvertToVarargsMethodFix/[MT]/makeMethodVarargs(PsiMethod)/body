{
  final PsiParameterList parameterList=method.getParameterList();
  if (parameterList.getParametersCount() == 0) {
    return;
  }
  final PsiParameter[] parameters=parameterList.getParameters();
  final PsiParameter lastParameter=parameters[parameters.length - 1];
  final PsiType type=lastParameter.getType();
  if (!(type instanceof PsiArrayType)) {
    return;
  }
  final PsiArrayType arrayType=(PsiArrayType)type;
  final PsiType componentType=arrayType.getComponentType();
  final PsiElementFactory factory=JavaPsiFacade.getElementFactory(method.getProject());
  final PsiType ellipsisType=PsiEllipsisType.createEllipsis(componentType,type.getAnnotations());
  final PsiTypeElement newTypeElement=factory.createTypeElement(ellipsisType);
  final PsiTypeElement typeElement=lastParameter.getTypeElement();
  if (typeElement != null) {
    typeElement.replace(newTypeElement);
  }
}
