{
  String methodName=prototype.getName();
  String visibility=VisibilityUtil.getVisibilityModifier(prototype.getModifierList());
  String modifiers=(visibility == PsiModifier.PACKAGE_LOCAL ? "" : visibility + " ");
  PsiType type=substitutor.substitute(prototype.getReturnType());
  String signature=modifiers + (type == null ? "" : type.getPresentableText() + " ") + methodName;
  String parameters=PsiFormatUtil.formatMethod(prototype,substitutor,PsiFormatUtilBase.SHOW_PARAMETERS,PsiFormatUtilBase.SHOW_NAME);
  String overrideSignature=" @Override " + signature;
  LookupElementBuilder element=LookupElementBuilder.create(prototype,signature).withLookupString(methodName).withLookupString(signature).withLookupString(overrideSignature).withInsertHandler(insertHandler).appendTailText(parameters,false).appendTailText(" {...}",true).withTypeText(typeText).withIcon(icon);
  if (prototype.isDeprecated()) {
    element=element.setStrikeout(true);
  }
  element.putUserData(GENERATE_ELEMENT,true);
  return element;
}
