{
  if (IdeaTestUtil.COVERAGE_ENABLED_BUILD)   return;
  PsiClass testA=findTestA(getModule2());
  JUnitConfiguration configuration=createConfiguration(testA);
  JUnitConfigurable editor=new JUnitConfigurable(myProject);
  try {
    Configurable configurable=new RunConfigurationConfigurableAdapter(editor,configuration);
    configurable.reset();
    final EditorTextFieldWithBrowseButton component=((LabeledComponent<EditorTextFieldWithBrowseButton>)editor.getTestLocation(JUnitConfigurationModel.CLASS)).getComponent();
    assertEquals(testA.getQualifiedName(),component.getText());
    PsiClass otherTest=findClass(getModule2(),"test2.Test2");
    component.setText(otherTest.getQualifiedName());
    configurable.apply();
    assertEquals(otherTest.getName(),configuration.getName());
    String specialName="My name";
    configuration.setName(specialName);
    configurable.reset();
    component.setText(testA.getQualifiedName());
    configurable.apply();
    assertEquals(specialName,configuration.getName());
  }
  finally {
    Disposer.dispose(editor);
  }
}
