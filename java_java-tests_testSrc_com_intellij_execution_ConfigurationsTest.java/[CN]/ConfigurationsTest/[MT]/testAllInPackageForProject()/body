{
  addModule("module5");
  addDependency(getModule1(),getModule2());
  addDependency(getModule2(),getModule3());
  String[][] outputs=new String[4][];
  for (int i=0; i < 4; i++) {
    outputs[i]=addOutputs(getModule(i),i + 1);
  }
  PsiPackage defaultPackage=JavaPsiFacade.getInstance(myProject).findPackage("");
  JUnitConfiguration configuration=createJUnitConfiguration(defaultPackage,AllInPackageConfigurationProducer.class,new MapDataContext());
  configuration.getPersistentData().setScope(TestSearchScope.WHOLE_PROJECT);
  JavaParameters javaParameters=checkCanRun(configuration);
  String classPath=javaParameters.getClassPath().getPathsString();
  assertEquals(-1,classPath.indexOf(JarFileSystem.PROTOCOL_PREFIX));
  assertEquals(-1,classPath.indexOf(LocalFileSystem.PROTOCOL_PREFIX));
  for (int i=0; i < 4; i++) {
    checkContains(classPath,outputs[i][0]);
    checkContains(classPath,outputs[i][1]);
  }
}
