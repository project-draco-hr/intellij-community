{
synchronized (myLock) {
    if (Boolean.valueOf(element.getAttributeValue(OVERRIDES_ATTR_NAME))) {
      if (getActionOrStub(id) == null) {
        throw new RuntimeException(element.getName() + " '" + id+ "' doesn't override anything");
      }
      AnAction prev=replaceAction(id,action,pluginId);
      if (action instanceof DefaultActionGroup && prev instanceof DefaultActionGroup) {
        if (Boolean.valueOf(element.getAttributeValue(KEEP_CONTENT_ATTR_NAME))) {
          ((DefaultActionGroup)action).copyFromGroup((DefaultActionGroup)prev);
        }
      }
    }
 else {
      registerAction(id,action,pluginId,element.getAttributeValue(PROJECT_TYPE));
    }
  }
}
