{
synchronized (myLock) {
    AnAction action;
    Object o=myId2Action.get(id);
    if (o == null) {
      return null;
    }
    if (o instanceof AnAction) {
      action=(AnAction)o;
    }
 else {
      action=((Map<ProjectType,AnAction>)o).get(projectType);
    }
    if (!canReturnStub && action instanceof ActionStub) {
      action=convert((ActionStub)action);
    }
    return action;
  }
}
