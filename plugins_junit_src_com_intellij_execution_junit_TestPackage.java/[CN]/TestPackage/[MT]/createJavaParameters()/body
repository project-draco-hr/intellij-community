{
  final JavaParameters javaParameters=super.createJavaParameters();
  final JUnitConfiguration.Data data=getConfiguration().getPersistentData();
  final Project project=getConfiguration().getProject();
  final DumbService dumbService=DumbService.getInstance(project);
  try {
    dumbService.setAlternativeResolveEnabled(true);
    final SourceScope sourceScope=data.getScope().getSourceScope(getConfiguration());
    if (sourceScope == null || !JUnitUtil.isJUnit5(sourceScope.getLibrariesScope(),project)) {
      getClassFilter(data);
    }
  }
  finally {
    dumbService.setAlternativeResolveEnabled(false);
  }
  createTempFiles(javaParameters);
  createServerSocket(javaParameters);
  return javaParameters;
}
