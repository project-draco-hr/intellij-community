{
  for (  final HgRepository repository : myRepositories) {
    try {
      HgCommandResult result=new HgBranchCreateCommand(myProject,repository.getRoot(),name).executeInCurrentThread();
      repository.update();
      if (HgErrorUtil.hasErrorsInCommandExecution(result)) {
        new HgCommandResultNotifier(myProject).notifyError(result,"Creation failed","Branch creation [" + name + "] failed");
      }
    }
 catch (    HgCommandException exception) {
      HgErrorUtil.handleException(myProject,"Can't create new branch: ",exception);
    }
  }
}
