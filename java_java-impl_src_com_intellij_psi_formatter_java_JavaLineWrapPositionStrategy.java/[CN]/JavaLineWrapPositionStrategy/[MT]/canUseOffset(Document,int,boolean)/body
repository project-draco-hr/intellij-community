{
  CharSequence chars=document.getCharsSequence();
  char charAtOffset=chars.charAt(offset);
  if (charAtOffset == '.') {
    if (offset > 0) {
      char charBefore=chars.charAt(offset - 1);
      if (charBefore == '.' || Character.isDigit(charBefore)) {
        return false;
      }
    }
    if (offset + 1 < chars.length()) {
      char charAfter=chars.charAt(offset + 1);
      if (charAfter == '.' || Character.isDigit(charAfter)) {
        return false;
      }
    }
  }
  if (isInsideJDLinkTag(document,offset) || isInsideHrefTag(document,offset)) {
    return false;
  }
  return true;
}
