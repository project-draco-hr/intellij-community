{
  MappingEntry[] entries=null;
  if (absoluteLocalPathToSourceIndex != null && sourceFile.isInLocalFileSystem()) {
    entries=sourceMap.sourceIndexToMappings[absoluteLocalPathToSourceIndex.get(sourceFile.getPath())];
    if (entries == null) {
      String sourceFileCanonicalPath=sourceFile.getCanonicalPath();
      if (sourceFileCanonicalPath != null) {
        entries=sourceMap.sourceIndexToMappings[absoluteLocalPathToSourceIndex.get(sourceFileCanonicalPath)];
      }
    }
  }
  if (entries == null) {
    int index=canonicalizedSourcesMap.get(Urls.newFromVirtualFile(sourceFile).trimParameters());
    if (index != -1) {
      return sourceMap.sourceIndexToMappings[index];
    }
    for (int i=0; i < canonicalizedSources.length; i++) {
      Url url=canonicalizedSources[i];
      if (Urls.equalsIgnoreParameters(url,sourceFile)) {
        return sourceMap.sourceIndexToMappings[i];
      }
      VirtualFile canonicalFile=sourceFile.getCanonicalFile();
      if (canonicalFile != null && !canonicalFile.equals(sourceFile) && Urls.equalsIgnoreParameters(url,canonicalFile)) {
        return sourceMap.sourceIndexToMappings[i];
      }
    }
  }
  return entries;
}
