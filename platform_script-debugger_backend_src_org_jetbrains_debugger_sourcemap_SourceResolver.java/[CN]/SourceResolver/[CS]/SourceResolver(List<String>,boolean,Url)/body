{
  rawSources=sources;
  canonicalizedSources=new Url[sources.size()];
  canonicalizedSourcesMap=SystemInfo.isFileSystemCaseSensitive ? new ObjectIntHashMap<Url>(canonicalizedSources.length) : new ObjectIntHashMap<Url>(canonicalizedSources.length,Urls.getCaseInsensitiveUrlHashingStrategy());
  for (int i=0; i < sources.size(); i++) {
    Url url=canonicalizeUrl(sources.get(i),baseFileUrl,trimFileScheme,i);
    canonicalizedSources[i]=url;
    canonicalizedSourcesMap.put(url,i);
  }
}
