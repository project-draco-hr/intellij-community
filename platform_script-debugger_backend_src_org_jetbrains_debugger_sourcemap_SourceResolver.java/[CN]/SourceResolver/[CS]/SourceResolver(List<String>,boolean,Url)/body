{
  rawSources=sources;
  canonicalizedSources=new Url[sources.size()];
  canonicalizedSourcesMap=SystemInfo.isFileSystemCaseSensitive ? new ObjectIntHashMap<Url>(canonicalizedSources.length) : new ObjectIntHashMap<Url>(canonicalizedSources.length,Urls.getCaseInsensitiveUrlHashingStrategy());
  nameToSourceIndex=createStringIntMap(-1);
  for (int i=0; i < sources.size(); i++) {
    String rawSource=sources.get(i);
    Url url=canonicalizeUrl(rawSource,baseFileUrl,trimFileScheme,i);
    canonicalizedSources[i]=url;
    canonicalizedSourcesMap.put(url,i);
    if (PathUtilRt.isValidFileName(rawSource)) {
      nameToSourceIndex.put(rawSource,i);
    }
  }
}
