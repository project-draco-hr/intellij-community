{
  while (true) {
    if (!nodes.hasNext() || !nodes2.hasNext()) {
      return !nodes.hasNext() && !nodes2.hasNext();
    }
    skipIfNeccessary(nodes,nodes2);
    skipIfNeccessary(nodes2,nodes);
    if (!nodes.hasNext() || !nodes2.hasNext()) {
      return !nodes.hasNext() && !nodes2.hasNext();
    }
    if (!match(nodes.current(),nodes2.current())) {
      return false;
    }
    nodes.advance();
    nodes2.advance();
  }
}
