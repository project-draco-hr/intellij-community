{
  GlobalSearchScope scope=myLibraryScopes.get(modulesLibraryIsUsedIn);
  if (scope != null) {
    return scope;
  }
  GlobalSearchScope newScope=modulesLibraryIsUsedIn.length == 0 ? myLibrariesOnlyScope : new LibraryRuntimeClasspathScope(myProject,modulesLibraryIsUsedIn);
  return ConcurrencyUtil.cacheOrGet(myLibraryScopes,modulesLibraryIsUsedIn,newScope);
}
