{
  final JpsModule module=getModule();
  int fingerprint=getDependenciesFingerprint();
  for (  JavaSourceRootDescriptor root : pd.getBuildRootIndex().getTargetRoots(this,null)) {
    fingerprint+=FileUtil.fileHashCode(root.getRootFile());
  }
  final LanguageLevel level=JpsJavaExtensionService.getInstance().getLanguageLevel(module);
  if (level != null) {
    fingerprint+=level.name().hashCode();
  }
  final JpsJavaCompilerConfiguration config=JpsJavaExtensionService.getInstance().getOrCreateCompilerConfiguration(module.getProject());
  final String bytecodeTarget=config.getByteCodeTargetLevel(module.getName());
  if (bytecodeTarget != null) {
    fingerprint+=bytecodeTarget.hashCode();
  }
  final CompilerEncodingConfiguration encodingConfig=pd.getEncodingConfiguration();
  final String encoding=encodingConfig.getPreferredModuleEncoding(module);
  if (encoding != null) {
    fingerprint+=encoding.hashCode();
  }
  out.write(Integer.toHexString(fingerprint));
}
