{
  createChanges();
  HgPushCommand pushCommand=new HgPushCommand(myProject,myChildRepo,myRepository.getPath());
  pushCommand.execute(new HgCommandResultHandler(){
    @Override public void process(    @Nullable HgCommandResult result){
      if (result == null) {
        return;
      }
      assertTrue(result.getExitValue() == HgPusher.PUSH_SUCCEEDED_EXIT_VALUE);
      assertTrue(HgPusher.getNumberOfPushedCommits(result) == 1);
    }
  }
);
}
