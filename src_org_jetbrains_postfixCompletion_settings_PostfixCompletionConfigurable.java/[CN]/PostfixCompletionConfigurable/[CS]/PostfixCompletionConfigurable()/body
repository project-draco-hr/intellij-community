{
  PostfixCompletionSettings settings=PostfixCompletionSettings.getInstance();
  if (settings == null) {
    throw new RuntimeException("Can't retrieve postfix template settings");
  }
  myTemplatesSettings=settings;
  myTemplatesListPanel=new PostfixTemplatesListPanel(Arrays.asList(PostfixTemplate.EP_NAME.getExtensions()));
  myTemplatesListPanelContainer.setLayout(new BorderLayout());
  myTemplatesListPanelContainer.add(myTemplatesListPanel.getComponent(),BorderLayout.CENTER);
  myPluginEnabledCheckbox.addChangeListener(new ChangeListener(){
    @Override public void stateChanged(    ChangeEvent e){
      myCompletionEnabledCheckbox.setEnabled(myPluginEnabledCheckbox.isSelected());
      if (myTemplatesListPanel != null) {
        myTemplatesListPanel.setEnabled(myPluginEnabledCheckbox.isSelected());
      }
    }
  }
);
}
