{
  if (myPanel == null) {
    PostfixTemplatesService templatesService=PostfixTemplatesService.getInstance();
    final List<TemplateProviderInfo> templates=templatesService != null ? templatesService.getAllTemplates() : Collections.<TemplateProviderInfo>emptyList();
    PostfixCompletionSettings templatesSettings=PostfixCompletionSettings.getInstance();
    if (templatesSettings == null) {
      LOG.error("Can't retrieve postfix template settings");
      return null;
    }
    myPanel=new PostfixTemplatesListPanel(templates);
  }
  return myPanel.getComponent();
}
