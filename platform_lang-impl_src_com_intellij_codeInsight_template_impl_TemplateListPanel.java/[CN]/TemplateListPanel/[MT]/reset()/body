{
  myTemplateOptions.clear();
  myTemplateContext.clear();
  TemplateSettings templateSettings=TemplateSettings.getInstance();
  List<TemplateGroup> groups=getSortedGroups(templateSettings);
  initTemplates(groups,templateSettings.getLastSelectedTemplateGroup(),templateSettings.getLastSelectedTemplateKey());
  myExpandByDefaultPanel.setSelectedChar(templateSettings.getDefaultShortcutChar());
  UiNotifyConnector.doWhenFirstShown(this,new Runnable(){
    @Override public void run(){
      updateTemplateDetails(false,false);
    }
  }
);
  myUpdateNeeded=true;
}
