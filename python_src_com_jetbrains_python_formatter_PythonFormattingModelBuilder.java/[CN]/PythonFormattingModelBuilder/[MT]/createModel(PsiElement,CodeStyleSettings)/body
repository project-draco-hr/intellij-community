{
  if (DUMP_FORMATTING_AST) {
    ASTNode fileNode=element.getContainingFile().getNode();
    System.out.println("AST tree for " + element.getContainingFile().getName() + ":");
    printAST(fileNode,0);
  }
  final CommonCodeStyleSettings codeStyleSettings=settings.getCommonSettings(PythonLanguage.getInstance());
  final PyBlock block=new PyBlock(element.getNode(),null,Indent.getNoneIndent(),null,codeStyleSettings,createSpacingBuilder(settings));
  if (DUMP_FORMATTING_AST) {
    FormattingModelDumper.dumpFormattingModel(block,2,System.out);
  }
  return FormattingModelProvider.createFormattingModelForPsiFile(element.getContainingFile(),block,settings);
}
