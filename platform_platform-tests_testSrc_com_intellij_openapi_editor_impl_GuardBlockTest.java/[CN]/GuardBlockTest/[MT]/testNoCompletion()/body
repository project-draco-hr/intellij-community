{
  String text="abc abd a<caret> abx";
  myFixture.configureByText("x.txt",text);
  int offset=myFixture.getEditor().getCaretModel().getOffset();
  createGuard(offset - 1,myFixture.getFile().getTextLength()).setGreedyToRight(true);
  assertNull(myFixture.completeBasic());
  myFixture.checkResult(text);
  myFixture.performEditorAction(IdeActions.ACTION_HIPPIE_BACKWARD_COMPLETION);
  assertNull(LookupManager.getInstance(getProject()).getActiveLookup());
  myFixture.checkResult(text);
  myFixture.getEditor().getCaretModel().moveToOffset(myFixture.getFile().getTextLength());
  assertNull(myFixture.completeBasic());
  myFixture.checkResult("abc abd a abx<caret>");
  myFixture.getEditor().getCaretModel().moveToOffset(offset - 1);
  assertNotNull(myFixture.completeBasic());
}
