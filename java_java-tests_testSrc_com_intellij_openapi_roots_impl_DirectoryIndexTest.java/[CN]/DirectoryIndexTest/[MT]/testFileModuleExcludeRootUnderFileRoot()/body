{
  ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
  VirtualFile fileRoot=myRootVFile.createChildData(this,"fileRoot.txt");
  PsiTestUtil.addContentRoot(myModule,fileRoot);
  checkInfo(fileRoot,myModule,false,false,"",null);
  assertTrue(fileIndex.isInContent(fileRoot));
  assertIteratedContent(fileIndex,Arrays.asList(fileRoot),null);
  PsiTestUtil.addExcludedRoot(myModule,fileRoot);
  assertFalse(fileIndex.isInContent(fileRoot));
  checkInfoNull(fileRoot);
  assertIteratedContent(fileIndex,null,Arrays.asList(fileRoot));
  PsiTestUtil.removeExcludedRoot(myModule,fileRoot);
  checkInfo(fileRoot,myModule,false,false,"",null);
  assertTrue(fileIndex.isInContent(fileRoot));
  assertIteratedContent(fileIndex,Arrays.asList(fileRoot),null);
}
