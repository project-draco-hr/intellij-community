{
  DirectoryInfo info=checkInfoNotNull(dir);
  assertEquals(module,info.getModule());
  if (moduleSourceRootType != null) {
    assertTrue(info.isInModuleSource());
    assertEquals(moduleSourceRootType,myIndex.getSourceRootType(info));
  }
 else {
    assertFalse(info.isInModuleSource());
  }
  assertEquals(isInLibrary,info.hasLibraryClassRoot());
  assertEquals(isInLibrarySource,info.isInLibrarySource());
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
  if (dir.isDirectory()) {
    assertEquals(packageName,fileIndex.getPackageNameByDirectory(dir));
  }
  assertEquals(Arrays.toString(info.getOrderEntries()),modulesOfOrderEntries.length,info.getOrderEntries().length);
  for (  Module aModule : modulesOfOrderEntries) {
    OrderEntry found=info.findOrderEntryWithOwnerModule(aModule);
    assertNotNull("not found: " + aModule,found);
  }
}
