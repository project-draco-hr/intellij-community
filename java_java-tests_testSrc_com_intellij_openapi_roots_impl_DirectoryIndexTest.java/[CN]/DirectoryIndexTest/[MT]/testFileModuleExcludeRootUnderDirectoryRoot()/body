{
  VirtualFile fileExcludeRoot=mySrcDir1.createChildData(this,"fileExcludeRoot.txt");
  assertTrue(myFileIndex.isInContent(fileExcludeRoot));
  assertTrue(myFileIndex.isInSource(fileExcludeRoot));
  assertIteratedContent(myFileIndex,Arrays.asList(fileExcludeRoot),null);
  PsiTestUtil.addExcludedRoot(myModule,fileExcludeRoot);
  assertFalse(myFileIndex.isInContent(fileExcludeRoot));
  assertFalse(myFileIndex.isInSource(fileExcludeRoot));
  assertExcluded(fileExcludeRoot,myModule);
  assertIteratedContent(myFileIndex,null,Arrays.asList(fileExcludeRoot));
  PsiTestUtil.removeExcludedRoot(myModule,fileExcludeRoot);
  assertTrue(myFileIndex.isInContent(fileExcludeRoot));
  assertTrue(myFileIndex.isInSource(fileExcludeRoot));
  assertIteratedContent(myFileIndex,Arrays.asList(fileExcludeRoot),null);
}
