{
  VirtualFile[] actualDirs=myIndex.getDirectoriesByPackageName(packageName,includeLibrarySources).toArray(VirtualFile.EMPTY_ARRAY);
  assertNotNull(actualDirs);
  assertOrderedEquals(actualDirs,expectedDirs);
  for (  VirtualFile dir : expectedDirs) {
    String actualName=myIndex.getPackageName(dir);
    assertEquals("Invalid package name for dir " + dir + ": "+ packageName,packageName,actualName);
  }
}
