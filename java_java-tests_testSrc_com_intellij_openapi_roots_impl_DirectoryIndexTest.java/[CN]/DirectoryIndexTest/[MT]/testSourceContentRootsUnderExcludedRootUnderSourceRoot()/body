{
  VirtualFile excluded=createChildDirectory(myModule2Dir,"excluded");
  PsiTestUtil.addExcludedRoot(myModule2,excluded);
  VirtualFile excludedFile=createChildData(excluded,"excluded.txt");
  VirtualFile contentRoot=createChildDirectory(excluded,"content");
  PsiTestUtil.addContentRoot(myModule2,contentRoot);
  checkInfo(contentRoot,myModule2,false,false,null,null);
  VirtualFile sourceRoot=createChildDirectory(excluded,"src");
  PsiTestUtil.addSourceRoot(myModule2,sourceRoot);
  VirtualFile sourceFile=createChildData(sourceRoot,"source.txt");
  assertEquals(myModule2Dir,assertInProject(sourceRoot).getContentRoot());
  checkInfo(sourceRoot,myModule2,false,false,"",JavaSourceRootType.SOURCE,myModule2,myModule3);
  VirtualFile contentSourceRoot=createChildDirectory(excluded,"content-src");
  VirtualFile contentSourceFile=createChildData(contentSourceRoot,"content-source.txt");
  PsiTestUtil.addSourceContentToRoots(myModule2,contentSourceRoot);
  checkInfo(contentSourceRoot,myModule2,false,false,"",JavaSourceRootType.SOURCE,myModule2,myModule3);
  assertIteratedContent(myModule2,Arrays.asList(sourceFile,contentSourceFile,sourceRoot,contentSourceRoot),Arrays.asList(excludedFile,myExcludeDir));
}
