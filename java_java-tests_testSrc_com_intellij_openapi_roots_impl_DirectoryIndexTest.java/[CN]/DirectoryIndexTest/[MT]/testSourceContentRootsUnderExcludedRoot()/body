{
  VirtualFile contentRoot=createChildDirectory(myExcludeDir,"content");
  PsiTestUtil.addContentRoot(myModule2,contentRoot);
  checkInfo(contentRoot,myModule2,false,false,null,null,myModule2,myModule3);
  VirtualFile excludedFile=createChildData(myExcludeDir,"excluded.txt");
  VirtualFile sourceRoot=createChildDirectory(myExcludeDir,"src");
  VirtualFile sourceFile=createChildData(sourceRoot,"source.txt");
  PsiTestUtil.addSourceRoot(myModule2,sourceRoot);
  assertEquals(myModule2Dir,assertInProject(sourceRoot).getContentRoot());
  checkInfo(sourceRoot,myModule2,false,false,"",JavaSourceRootType.SOURCE,myModule2,myModule3);
  VirtualFile contentSourceRoot=createChildDirectory(myExcludeDir,"content-src");
  VirtualFile contentSourceFile=createChildData(sourceRoot,"content-source.txt");
  PsiTestUtil.addSourceContentToRoots(myModule2,contentSourceRoot);
  checkInfo(contentSourceRoot,myModule2,false,false,"",JavaSourceRootType.SOURCE,myModule2,myModule3);
  assertIteratedContent(myModule2,Arrays.asList(sourceFile,contentSourceFile,sourceRoot,contentSourceRoot),Arrays.asList(excludedFile,myExcludeDir));
}
