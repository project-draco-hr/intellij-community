{
  Edge edge=hideShowBranch.hideBranchOver(cell);
  if (edge != null) {
    selectController.clearSelect();
    Node up=edge.getUpNode();
    Node down=edge.getDownNode();
    Interval old=new Interval(up.getRowIndex(),down.getRowIndex());
    graph.showBranch(edge);
    Interval upd=new Interval(up.getRowIndex(),down.getRowIndex());
    cellModel.update(Replace.buildFromChangeInterval(old.from(),old.to(),upd.from(),upd.to()));
    return upd.from();
  }
  NodeInterval nodeInterval=hideShowBranch.branchInterval(cell);
  if (nodeInterval != null) {
    selectController.clearSelect();
    Interval old=new Interval(nodeInterval.getUp().getRowIndex(),nodeInterval.getDown().getRowIndex());
    graph.hideBranch(nodeInterval.getUp(),nodeInterval.getDown());
    Interval upd=new Interval(nodeInterval.getUp().getRowIndex(),nodeInterval.getDown().getRowIndex());
    cellModel.update(Replace.buildFromChangeInterval(old.from(),old.to(),upd.from(),upd.to()));
    return upd.from();
  }
  return -1;
}
