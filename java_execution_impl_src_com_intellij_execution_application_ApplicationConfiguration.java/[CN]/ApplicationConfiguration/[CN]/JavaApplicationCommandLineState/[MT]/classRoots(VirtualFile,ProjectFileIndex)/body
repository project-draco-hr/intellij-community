{
  if (index.isInSourceContent(file)) {
    Module module=index.getModuleForFile(file);
    if (module != null) {
      return Stream.of(OrderEnumerator.orderEntries(module).runtimeOnly().withoutSdk().withoutLibraries().withoutDepModules().getClassesRoots());
    }
  }
 else {
    VirtualFile root=index.getClassRootForFile(file);
    if (root != null) {
      return Stream.of(root);
    }
  }
  return Stream.empty();
}
