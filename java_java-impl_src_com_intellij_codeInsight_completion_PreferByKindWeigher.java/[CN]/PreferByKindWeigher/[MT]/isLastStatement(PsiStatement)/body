{
  if (statement == null || !(statement.getParent() instanceof PsiCodeBlock)) {
    return true;
  }
  PsiStatement[] siblings=((PsiCodeBlock)statement.getParent()).getStatements();
  PsiStatement lastOne=siblings[siblings.length - 1];
  if (statement == lastOne) {
    return true;
  }
  if (siblings.length >= 2 && statement == siblings[siblings.length - 2] && lastOne instanceof PsiExpressionStatement) {
    int start=statement.getTextRange().getStartOffset();
    int end=lastOne.getTextRange().getStartOffset();
    return !StringUtil.contains(statement.getContainingFile().getViewProvider().getContents(),start,end,'\n');
  }
  return false;
}
