{
  final Component component=e.getComponent();
  if (e.isTemporary() || !component.isShowing()) {
    return;
  }
  if (component instanceof JTextComponent) {
    UIUtil.addUndoRedoActions((JTextComponent)component);
  }
  setFocusedComponentImpl(component,e);
  setNearestFocusableComponent(component.getParent());
}
