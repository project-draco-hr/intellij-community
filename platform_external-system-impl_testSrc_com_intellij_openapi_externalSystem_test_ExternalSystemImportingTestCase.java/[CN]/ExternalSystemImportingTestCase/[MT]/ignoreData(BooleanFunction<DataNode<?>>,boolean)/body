{
  final ExternalProjectInfo externalProjectInfo=ProjectDataManager.getInstance().getExternalProjectData(myProject,getExternalSystemId(),getCurrentExternalProjectSettings().getExternalProjectPath());
  assertNotNull(externalProjectInfo);
  final DataNode<ProjectData> projectDataNode=externalProjectInfo.getExternalProjectStructure();
  assertNotNull(projectDataNode);
  final Collection<DataNode<?>> nodes=ExternalSystemApiUtil.findAllRecursively(projectDataNode,booleanFunction);
  for (  DataNode<?> node : nodes) {
    ExternalSystemApiUtil.visit(node,new Consumer<DataNode<?>>(){
      @Override public void consume(      DataNode dataNode){
        dataNode.setIgnored(ignored);
      }
    }
);
  }
  ServiceManager.getService(ProjectDataManager.class).importData(projectDataNode,myProject,true);
}
