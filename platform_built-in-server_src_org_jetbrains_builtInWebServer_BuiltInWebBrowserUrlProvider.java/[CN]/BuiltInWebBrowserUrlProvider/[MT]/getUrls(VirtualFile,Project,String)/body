{
  if (currentAuthority != null && !compareAuthority(currentAuthority)) {
    return Collections.emptyList();
  }
  PathInfo info=WebServerPathToFileManager.getInstance(project).getPathInfo(file);
  if (info == null) {
    return Collections.emptyList();
  }
  int effectiveBuiltInServerPort=BuiltInServerOptions.getInstance().getEffectiveBuiltInServerPort();
  String path=info.getPath();
  String authority=currentAuthority == null ? "localhost:" + effectiveBuiltInServerPort : currentAuthority;
  String query="?" + BuiltInWebServerKt.TOKEN_PARAM_NAME + "="+ BuiltInWebServerKt.acquireToken();
  List<Url> urls=new SmartList<>(Urls.newHttpUrl(authority,'/' + project.getName() + '/'+ path,query));
  String path2=info.getRootLessPathIfPossible();
  if (path2 != null) {
    urls.add(Urls.newHttpUrl(authority,'/' + project.getName() + '/'+ path2,query));
  }
  int defaultPort=BuiltInServerManager.getInstance().getPort();
  if (currentAuthority == null && defaultPort != effectiveBuiltInServerPort) {
    String defaultAuthority="localhost:" + defaultPort;
    urls.add(Urls.newHttpUrl(defaultAuthority,'/' + project.getName() + '/'+ path,query));
    if (path2 != null) {
      urls.add(Urls.newHttpUrl(defaultAuthority,'/' + project.getName() + '/'+ path2,query));
    }
  }
  return urls;
}
