{
  if (file instanceof HttpVirtualFile) {
    return Urls.newFromVirtualFile(file);
  }
 else {
    return ContainerUtil.getFirstItem(getUrls(file,request.getProject(),null,request.isAppendAccessToken()));
  }
}
