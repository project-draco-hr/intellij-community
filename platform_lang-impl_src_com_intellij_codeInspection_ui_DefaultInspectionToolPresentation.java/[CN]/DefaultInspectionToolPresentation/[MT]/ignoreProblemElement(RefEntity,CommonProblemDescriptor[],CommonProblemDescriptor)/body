{
  if (newDescriptors != null && newDescriptors.length == 0) {
    newDescriptors=null;
  }
  if (newDescriptors == null) {
    getProblemElements().remove(refEntity);
  }
 else {
    getProblemElements().put(refEntity,newDescriptors);
  }
  CommonProblemDescriptor[] oldIgnored=getIgnoredElements().getOrDefault(refEntity,CommonProblemDescriptor.EMPTY_ARRAY);
  CommonProblemDescriptor[] update=new CommonProblemDescriptor[oldIgnored.length + 1];
  System.arraycopy(oldIgnored,0,update,0,oldIgnored.length);
  update[update.length - 1]=toIgnore;
  getIgnoredElements().put(refEntity,update);
}
