{
  final List<SourceFolder> sourceFolders=ContainerUtilRt.newArrayList(entry.getSourceFolders());
  for (  final SourceFolder sourceFolder : sourceFolders) {
    final String path=VirtualFileManager.extractPath(sourceFolder.getUrl());
    if (!retainedContentFolders.contains(path)) {
      entry.removeSourceFolder(sourceFolder);
    }
  }
  final List<ExcludeFolder> excludeFolders=ContainerUtilRt.newArrayList(entry.getExcludeFolders());
  for (  final ExcludeFolder excludeFolder : excludeFolders) {
    final String path=VirtualFileManager.extractPath(excludeFolder.getUrl());
    if (!(excludeFolder instanceof ExcludedOutputFolder) && !retainedContentFolders.contains(path)) {
      entry.removeExcludeFolder(excludeFolder);
    }
  }
}
