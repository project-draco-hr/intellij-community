{
  final List<SourceFolder> sourceFolders=new ArrayList<SourceFolder>(Arrays.asList(entry.getSourceFolders()));
  for (  final SourceFolder sourceFolder : sourceFolders) {
    final String path=VirtualFileManager.extractPath(sourceFolder.getUrl());
    if (!retainedContentFolders.contains(path)) {
      entry.removeSourceFolder(sourceFolder);
    }
  }
  final List<ExcludeFolder> excludeFolders=new ArrayList<ExcludeFolder>(Arrays.asList(entry.getExcludeFolders()));
  for (  final ExcludeFolder excludeFolder : excludeFolders) {
    final String path=VirtualFileManager.extractPath(excludeFolder.getUrl());
    if (!retainedContentFolders.contains(path)) {
      entry.removeExcludeFolder(excludeFolder);
    }
  }
}
