{
  if (toImport.isEmpty()) {
    return;
  }
  MultiMap<DataNode<ModuleData>,DataNode<ContentRootData>> byModule=ExternalSystemApiUtil.groupBy(toImport,ModuleData.class);
  for (  Map.Entry<DataNode<ModuleData>,Collection<DataNode<ContentRootData>>> entry : byModule.entrySet()) {
    Module module=entry.getKey().getUserData(AbstractModuleDataService.MODULE_KEY);
    module=module != null ? module : modelsProvider.findIdeModule(entry.getKey().getData());
    if (module == null) {
      LOG.warn(String.format("Can't import content roots. Reason: target module (%s) is not found at the ide. Content roots: %s",entry.getKey(),entry.getValue()));
      continue;
    }
    importData(modelsProvider,entry.getValue(),module);
  }
}
