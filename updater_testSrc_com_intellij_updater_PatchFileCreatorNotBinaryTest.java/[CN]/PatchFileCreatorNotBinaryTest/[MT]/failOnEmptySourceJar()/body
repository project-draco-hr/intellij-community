{
  final File sourceJar=new File(myOlderDir,"lib/empty.jar");
  if (sourceJar.exists())   sourceJar.delete();
  assertTrue(sourceJar.createNewFile());
  try {
    final File targetJar=new File(myNewerDir,"lib/empty.jar");
    FileUtil.copy(new File(myNewerDir,"lib/annotations.jar"),targetJar);
    try {
      createPatch();
      fail("Should have failed to create a patch from empty .jar");
    }
 catch (    IOException e) {
      final String reason=e.getMessage();
      assertEquals("Corrupted source file: " + sourceJar,reason);
    }
 finally {
      targetJar.delete();
    }
  }
  finally {
    sourceJar.delete();
  }
}
