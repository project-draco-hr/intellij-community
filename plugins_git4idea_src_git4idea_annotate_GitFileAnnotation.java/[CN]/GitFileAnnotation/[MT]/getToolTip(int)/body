{
  LineInfo lineInfo=getLineInfo(lineNumber);
  if (lineInfo == null)   return null;
  GitRevisionNumber revisionNumber=lineInfo.getRevisionNumber();
  VcsFileRevision fileRevision=null;
  if (myRevisions != null && myRevisionMap != null && myRevisionMap.contains(revisionNumber)) {
    fileRevision=myRevisions.get(myRevisionMap.get(revisionNumber));
  }
  String commitMessage=fileRevision != null ? fileRevision.getCommitMessage() : lineInfo.getSubject() + "\n...";
  return GitBundle.message("annotation.tool.tip",revisionNumber.asString(),lineInfo.getAuthor(),DateFormatUtil.formatDateTime(lineInfo.getDate()),commitMessage);
}
