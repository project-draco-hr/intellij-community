{
  return new PreviousFileRevisionProvider(){
    @Nullable @Override public VcsFileRevision getPreviousRevision(    int lineNumber){
      LineInfo lineInfo=getLineInfo(lineNumber);
      return lineInfo != null ? lineInfo.getPreviousFileRevision() : null;
    }
    @Nullable @Override public VcsFileRevision getLastRevision(){
      if (myBaseRevision instanceof GitRevisionNumber) {
        return new GitFileRevision(myProject,VcsUtil.getFilePath(myFile),(GitRevisionNumber)myBaseRevision);
      }
 else {
        return ContainerUtil.getFirstItem(getRevisions());
      }
    }
  }
;
}
