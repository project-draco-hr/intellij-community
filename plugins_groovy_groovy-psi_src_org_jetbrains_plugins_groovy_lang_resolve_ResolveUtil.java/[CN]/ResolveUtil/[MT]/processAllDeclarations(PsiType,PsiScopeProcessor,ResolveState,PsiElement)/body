{
  type=TypesUtil.boxPrimitiveType(type,place.getManager(),place.getResolveScope());
  if (type instanceof PsiClassType) {
    final PsiClassType.ClassResolveResult resolveResult=((PsiClassType)type).resolveGenerics();
    final PsiClass psiClass=resolveResult.getElement();
    final PsiSubstitutor substitutor=state.get(PsiSubstitutor.KEY);
    state=state.put(PsiSubstitutor.KEY,substitutor.putAll(resolveResult.getSubstitutor()));
    if (psiClass != null) {
      if (!processClassDeclarations(psiClass,processor,state,null,place))       return false;
    }
  }
  if (ResolveUtilKt.processNonCodeMembers(state)) {
    if (!processCategoryMembers(place,processor,state))     return false;
    if (!processNonCodeMembers(type,processor,place,state))     return false;
  }
  return true;
}
