{
  if (scope instanceof GrClosableBlock && nonCodeProcessor != null) {
    if (!((GrClosableBlock)scope).processClosureDeclarations(plainProcessor,nonCodeProcessor,state,lastParent,place))     return false;
  }
 else {
    if (scope instanceof PsiClass) {
      if (!processClassDeclarations((PsiClass)scope,plainProcessor,state,lastParent,place))       return false;
    }
 else {
      if (!scope.processDeclarations(plainProcessor,state,lastParent,place))       return false;
    }
    if (scope instanceof GrTypeDefinition || scope instanceof GrClosableBlock) {
      if (!processStaticImports(plainProcessor,place.getContainingFile(),state,place))       return false;
    }
  }
  if (nonCodeProcessor != null) {
    if (!processScopeNonCodeMembers(place,lastParent,nonCodeProcessor,scope,state))     return false;
  }
  return true;
}
