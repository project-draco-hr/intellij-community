{
  int decorationStyle=getWindowDecorationStyle();
  if (decorationStyle == JRootPane.FRAME) {
    createActions();
    myMenuBar=createMenuBar();
    if (myRootPane instanceof IdeRootPane) {
      myIdeMenu=new IdeMenuBar(ActionManagerEx.getInstanceEx(),DataManager.getInstance());
      add(myIdeMenu);
    }
    add(myMenuBar);
    createButtons();
    add(myIconifyButton);
    add(myToggleButton);
    add(myCloseButton);
  }
 else   if (decorationStyle == JRootPane.PLAIN_DIALOG || decorationStyle == JRootPane.INFORMATION_DIALOG || decorationStyle == JRootPane.ERROR_DIALOG || decorationStyle == JRootPane.COLOR_CHOOSER_DIALOG || decorationStyle == JRootPane.FILE_CHOOSER_DIALOG || decorationStyle == JRootPane.QUESTION_DIALOG || decorationStyle == JRootPane.WARNING_DIALOG) {
    createActions();
    createButtons();
    add(myCloseButton);
  }
}
