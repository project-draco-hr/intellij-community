{
  super.addNotify();
  uninstallListeners();
  myWindow=SwingUtilities.getWindowAncestor(this);
  if (myWindow != null) {
    if (myWindow instanceof Frame) {
      setState(((Frame)myWindow).getExtendedState());
    }
 else {
      setState(0);
    }
    setActive(myWindow.isActive());
    installListeners();
    updateSystemIcon();
  }
}
