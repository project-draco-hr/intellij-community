{
  boolean leftToRight=(myWindow == null) ? getRootPane().getComponentOrientation().isLeftToRight() : myWindow.getComponentOrientation().isLeftToRight();
  int w=getWidth();
  int x;
  int y=3;
  int spacing;
  int buttonHeight;
  int buttonWidth;
  if (myCloseButton != null && myCloseButton.getIcon() != null) {
    buttonHeight=myCloseButton.getIcon().getIconHeight();
    buttonWidth=myCloseButton.getIcon().getIconWidth();
  }
 else {
    buttonHeight=IMAGE_HEIGHT;
    buttonWidth=IMAGE_WIDTH;
  }
  x=leftToRight ? w : 0;
  spacing=5;
  x=leftToRight ? spacing : w - buttonWidth - spacing;
  if (myMenuBar != null) {
    myMenuBar.setBounds(x,y,buttonWidth,buttonHeight);
  }
  x=leftToRight ? w : 0;
  spacing=4;
  x+=leftToRight ? -spacing - buttonWidth : spacing;
  if (myCloseButton != null) {
    myCloseButton.setBounds(x,y,buttonWidth,buttonHeight);
  }
  if (!leftToRight)   x+=buttonWidth;
  if (getWindowDecorationStyle() == JRootPane.FRAME) {
    if (Toolkit.getDefaultToolkit().isFrameStateSupported(Frame.MAXIMIZED_BOTH)) {
      if (myToggleButton.getParent() != null) {
        spacing=10;
        x+=leftToRight ? -spacing - buttonWidth : spacing;
        myToggleButton.setBounds(x,y,buttonWidth,buttonHeight);
        if (!leftToRight) {
          x+=buttonWidth;
        }
      }
    }
    if (myIconifyButton != null && myIconifyButton.getParent() != null) {
      spacing=2;
      x+=leftToRight ? -spacing - buttonWidth : spacing;
      myIconifyButton.setBounds(x,y,buttonWidth,buttonHeight);
      if (!leftToRight) {
        x+=buttonWidth;
      }
    }
  }
}
