{
  int w=getWidth();
  int h=getHeight();
  int x;
  int spacing;
  int buttonHeight=JBUI.scale(29);
  int buttonWidth=JBUI.scale(45);
  spacing=JBUI.scale(5);
  x=spacing;
  if (myMenuBar != null) {
    myMenuBar.setBounds(x,(h - JBUI.scale(16)) / 2,JBUI.scale(16),JBUI.scale(16));
  }
  int systemIconSize=mySystemIcon == null ? JBUI.scale(16) : mySystemIcon.getWidth(null);
  x=buttonHeight - systemIconSize + systemIconSize + systemIconSize / 2;
  if (myIdeMenu != null) {
    final Dimension size=myIdeMenu.getPreferredSize();
    myIdeMenu.setBounds(x,(h - size.height) / 2,size.width,size.height);
  }
  x=w;
  spacing=0;
  x-=spacing + buttonWidth;
  if (myCloseButton != null) {
    myCloseButton.setBounds(x,(h - buttonHeight) / 2,buttonWidth,buttonHeight);
  }
  if (getWindowDecorationStyle() == JRootPane.FRAME) {
    if (Toolkit.getDefaultToolkit().isFrameStateSupported(Frame.MAXIMIZED_BOTH)) {
      if (myToggleButton.getParent() != null) {
        x-=spacing + buttonWidth;
        myToggleButton.setBounds(x,(h - buttonHeight) / 2,buttonWidth,buttonHeight);
      }
    }
    if (myIconifyButton != null && myIconifyButton.getParent() != null) {
      x-=spacing + buttonWidth;
      myIconifyButton.setBounds(x,(h - buttonHeight) / 2,buttonWidth,buttonHeight);
    }
  }
  x-=spacing + buttonWidth;
  myHelpButton.setBounds(x,(h - buttonHeight) / 2,buttonWidth,buttonHeight);
}
