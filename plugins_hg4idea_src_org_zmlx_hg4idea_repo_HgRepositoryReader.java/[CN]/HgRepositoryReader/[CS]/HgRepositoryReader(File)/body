{
  myHgDir=hgDir;
  RepositoryUtil.assertFileExists(myHgDir,".hg directory not found in " + myHgDir);
  File branchesFile=new File(new File(myHgDir,"cache"),"branchheads-served");
  myBranchHeadsFile=branchesFile.exists() ? branchesFile : new File(new File(myHgDir,"cache"),"branchheads");
  myCurrentBranch=new File(myHgDir,"branch");
}
