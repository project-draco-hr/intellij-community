{
  List<HgNameWithHashInfo> branches=new ArrayList<HgNameWithHashInfo>();
  if (!isFresh() && myBranchHeadsFile.exists()) {
    String[] branchesWithHeads=RepositoryUtil.tryLoadFile(myBranchHeadsFile).split("\n");
    for (int i=1; i < branchesWithHeads.length; ++i) {
      Matcher matcher=HASH_NAME.matcher(branchesWithHeads[i]);
      if (matcher.matches()) {
        String name=matcher.group(2);
        branches.add(new HgNameWithHashInfo(name,myVcsObjectsFactory.createHash(matcher.group(1))));
      }
    }
  }
  return branches;
}
