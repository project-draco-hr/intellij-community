{
  myElement=element;
  myProject=project;
  final PsiNamedElement parent=PsiTreeUtil.getParentOfType(myElement,PyFile.class,PyClass.class);
  if (parent instanceof PyFile) {
    final List<PyFunction> functions=((PyFile)parent).getTopLevelFunctions();
    myFunction=new Function<String,Boolean>(){
      public Boolean fun(      @NotNull final String s){
        for (        PyFunction function : functions) {
          if (s.equals(function.getName())) {
            return false;
          }
        }
        return true;
      }
    }
;
  }
 else   if (parent instanceof PyClass) {
    myFunction=new Function<String,Boolean>(){
      public Boolean fun(      @NotNull final String s){
        return ((PyClass)parent).findMethodByName(s,true) == null;
      }
    }
;
  }
 else {
    myFunction=null;
  }
}
