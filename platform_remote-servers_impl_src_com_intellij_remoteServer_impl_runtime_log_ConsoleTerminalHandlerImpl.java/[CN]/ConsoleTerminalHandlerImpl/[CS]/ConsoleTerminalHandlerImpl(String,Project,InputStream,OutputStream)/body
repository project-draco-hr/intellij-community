{
  super(presentableName);
  myLoggingHandler=new LoggingHandlerImpl(presentableName,project);
  myLoggingHandler.attachToProcess(new ProcessHandler(){
    @Override protected void destroyProcessImpl(){
    }
    @Override protected void detachProcessImpl(){
    }
    @Override public boolean detachIsDefault(){
      return false;
    }
    @Nullable @Override public OutputStream getProcessInput(){
      return terminalInput;
    }
  }
);
  Disposer.register(this,myLoggingHandler);
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      BufferedReader outputReader=new BufferedReader(new InputStreamReader(terminalOutput));
      try {
        while (!isClosed()) {
          String line=outputReader.readLine();
          if (line == null) {
            break;
          }
          myLoggingHandler.print(line + "\n");
        }
      }
 catch (      IOException e) {
        LOG.debug(e);
      }
 finally {
        try {
          outputReader.close();
        }
 catch (        IOException ignored) {
        }
      }
    }
  }
);
}
