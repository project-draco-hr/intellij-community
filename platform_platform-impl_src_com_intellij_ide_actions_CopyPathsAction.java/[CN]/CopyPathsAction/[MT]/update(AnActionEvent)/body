{
  VirtualFile[] files=CommonDataKeys.VIRTUAL_FILE_ARRAY.getData(event.getDataContext());
  int num=files != null ? files.length : 0;
  Presentation presentation=event.getPresentation();
  presentation.setEnabled(num > 0);
  presentation.setVisible(num > 0 || !ActionPlaces.isPopupPlace(event.getPlace()));
  presentation.setText(IdeBundle.message(num == 1 ? "action.copy.path" : "action.copy.paths"));
}
