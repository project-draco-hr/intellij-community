{
  if (projectCategory == null)   return;
  ModuleBuilder builder=myBuilders.get(projectCategory);
  JComponent panel=builder.getCustomOptionsPanel(this);
  String card;
  if (panel != null) {
    card=builder.getBuilderId();
    if (!myCards.add(card)) {
      myOptionsPanel.add(panel,card);
    }
  }
 else {
    card=FRAMEWORKS_CARD;
    List<FrameworkSupportInModuleProvider> providers=new ArrayList<FrameworkSupportInModuleProvider>();
    for (    FrameworkSupportInModuleProvider framework : FrameworkSupportUtil.getAllProviders()) {
      if (matchFramework(projectCategory,framework)) {
        providers.add(framework);
      }
    }
    myFrameworksPanel.setProviders(providers);
    for (    FrameworkSupportInModuleProvider provider : providers) {
      if (ArrayUtil.contains(provider.getFrameworkType().getId(),projectCategory.getAssociatedFrameworkIds())) {
        CheckedTreeNode treeNode=myFrameworksPanel.findNodeFor(provider);
        treeNode.setChecked(true);
      }
    }
  }
  ((CardLayout)myOptionsPanel.getLayout()).show(myOptionsPanel,card);
}
