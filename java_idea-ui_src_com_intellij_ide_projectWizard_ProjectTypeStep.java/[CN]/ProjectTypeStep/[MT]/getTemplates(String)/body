{
  ProjectTemplateEP[] extensions=ProjectTemplateEP.EP_NAME.getExtensions();
  return ContainerUtil.mapNotNull(extensions,new NullableFunction<ProjectTemplateEP,ProjectCategory>(){
    @Nullable @Override public ProjectCategory fun(    ProjectTemplateEP ep){
      if (!projectType.equals(ep.projectType)) {
        return null;
      }
      ClassLoader classLoader=ep.getLoaderForClass();
      URL url=classLoader.getResource(ep.templatePath);
      return url == null ? null : new TemplateBasedProjectType(new LocalArchivedTemplate(url,classLoader));
    }
  }
);
}
