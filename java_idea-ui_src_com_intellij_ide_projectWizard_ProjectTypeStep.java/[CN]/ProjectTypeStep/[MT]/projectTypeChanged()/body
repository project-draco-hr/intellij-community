{
  TemplatesGroup group=getSelectedGroup();
  if (group == null)   return;
  Collection<ProjectTemplate> templates=myTemplatesMap.get(group);
  String card=DEFAULT_CARD;
  if (templates.size() == 1) {
    ModuleBuilder builder=myBuilders.get(templates.iterator().next());
    JComponent panel=builder.getCustomOptionsPanel(this);
    if (panel != null) {
      card=builder.getBuilderId();
      if (myCards.add(card)) {
        myOptionsPanel.add(panel,card);
      }
    }
  }
  myTemplatesList.setModel(new CollectionListModel(templates));
  myTemplatesList.setSelectedIndex(0);
  ((CardLayout)myOptionsPanel.getLayout()).show(myOptionsPanel,card);
  updateSelection();
}
