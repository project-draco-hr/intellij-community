{
  String card=GROUP_CARD;
  if (object instanceof ProjectCategory) {
    final ProjectCategory projectCategory=(ProjectCategory)object;
    ModuleBuilder builder=myBuilders.get(projectCategory);
    JComponent panel=builder.getCustomOptionsPanel(new Disposable(){
      @Override public void dispose(){
        disposeUIResources();
      }
    }
);
    if (panel != null) {
      card=builder.getBuilderId();
      if (myCards.add(card)) {
        myOptionsPanel.add(panel,card);
      }
    }
 else {
      card=FRAMEWORKS_CARD;
      List<FrameworkSupportInModuleProvider> allProviders=FrameworkSupportUtil.getProviders(builder);
      List<FrameworkSupportInModuleProvider> matched=ContainerUtil.filter(allProviders,new Condition<FrameworkSupportInModuleProvider>(){
        @Override public boolean value(        FrameworkSupportInModuleProvider provider){
          return matchFramework(projectCategory,provider);
        }
      }
);
      myFrameworksPanel.setProviders(matched);
      for (      FrameworkSupportInModuleProvider provider : matched) {
        if (ArrayUtil.contains(provider.getFrameworkType().getId(),projectCategory.getAssociatedFrameworkIds())) {
          CheckedTreeNode treeNode=myFrameworksPanel.findNodeFor(provider);
          treeNode.setChecked(true);
        }
      }
    }
  }
 else   if (object instanceof TemplatesGroup) {
    myGroupDescriptionLabel.setText(((TemplatesGroup)object).getDescription());
  }
  ((CardLayout)myOptionsPanel.getLayout()).show(myOptionsPanel,card);
}
