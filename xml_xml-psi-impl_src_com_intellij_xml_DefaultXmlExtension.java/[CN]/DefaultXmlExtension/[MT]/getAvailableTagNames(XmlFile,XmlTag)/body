{
  final Set<String> namespaces=new HashSet<String>(Arrays.asList(context.knownNamespaces()));
  final List<XmlSchemaProvider> providers=XmlSchemaProvider.getAvailableProviders(file);
  for (  XmlSchemaProvider provider : providers) {
    namespaces.addAll(provider.getAvailableNamespaces(file,null));
  }
  List<String> nsInfo=new ArrayList<String>();
  List<XmlElementDescriptor> descriptors=TagNameVariantCollector.getTagDescriptors(context,namespaces,nsInfo);
  final List<TagInfo> set=new ArrayList<TagInfo>();
  for (int i=0; i < descriptors.size(); i++) {
    XmlElementDescriptor descriptor=descriptors.get(i);
    String name=descriptor.getName(context);
    final int pos=name.indexOf(':');
    final String s=pos >= 0 ? name.substring(pos + 1) : name;
    set.add(new TagInfo(name,nsInfo.get(i),descriptors.get(i).getDeclaration()));
  }
  return set;
}
