{
  if (!isAssignment(thenBranch,thenAssignment) || !isAssignment(elseBranch,elseAssignment)) {
    return false;
  }
  final PsiExpressionStatement thenExpressionStatement=(PsiExpressionStatement)thenBranch;
  final PsiAssignmentExpression thenExpression=(PsiAssignmentExpression)thenExpressionStatement.getExpression();
  final PsiExpressionStatement elseExpressionStatement=(PsiExpressionStatement)elseBranch;
  final PsiAssignmentExpression elseExpression=(PsiAssignmentExpression)elseExpressionStatement.getExpression();
  final IElementType thenTokenType=thenExpression.getOperationTokenType();
  if (!thenTokenType.equals(elseExpression.getOperationTokenType())) {
    return false;
  }
  final PsiExpression thenLhs=thenExpression.getLExpression();
  final PsiExpression elseLhs=elseExpression.getLExpression();
  return EquivalenceChecker.getCanonicalPsiEquivalence().expressionsAreEquivalent(thenLhs,elseLhs);
}
