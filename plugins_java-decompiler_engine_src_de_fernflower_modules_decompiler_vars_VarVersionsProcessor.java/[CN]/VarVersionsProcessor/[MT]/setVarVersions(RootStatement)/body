{
  StructMethod mt=(StructMethod)DecompilerContext.getProperty(DecompilerContext.CURRENT_METHOD);
  SSAConstructorSparseEx ssa=new SSAConstructorSparseEx();
  ssa.splitVariables(root,mt);
  FlattenStatementsHelper flatthelper=new FlattenStatementsHelper();
  DirectGraph dgraph=flatthelper.buildDirectGraph(root);
  mergePhiVersions(ssa,dgraph);
  typeproc=new VarTypeProcessor();
  typeproc.calculateVarTypes(root,dgraph);
  simpleMerge(typeproc,dgraph,mt);
  eliminateNonJavaTypes(typeproc);
  setNewVarIndices(typeproc,dgraph);
}
