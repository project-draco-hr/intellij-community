{
  try {
    Method method=KeyEvent.class.getMethod("getExtendedKeyCode");
    if (!method.isAccessible()) {
      method.setAccessible(true);
    }
    return (Integer)method.invoke(event);
  }
 catch (  Exception exception) {
    return event.getKeyCode();
  }
}
