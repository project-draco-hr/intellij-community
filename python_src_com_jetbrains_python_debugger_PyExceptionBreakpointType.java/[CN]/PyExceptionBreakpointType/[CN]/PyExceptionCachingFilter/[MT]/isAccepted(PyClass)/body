{
  final VirtualFile virtualFile=pyClass.getContainingFile().getVirtualFile();
  if (virtualFile == null) {
    return false;
  }
  final int key=pyClass.hashCode();
  final Pair<WeakReference<PyClass>,Boolean> pair=processedElements.get(key);
  boolean isException;
  if (pair == null || pair.first.get() != pyClass) {
    isException=ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
      @Override public Boolean compute(){
        return PyUtil.isExceptionClass(pyClass);
      }
    }
);
    processedElements.put(key,Pair.create(new WeakReference<PyClass>(pyClass),isException));
  }
 else {
    isException=pair.second;
  }
  return isException;
}
