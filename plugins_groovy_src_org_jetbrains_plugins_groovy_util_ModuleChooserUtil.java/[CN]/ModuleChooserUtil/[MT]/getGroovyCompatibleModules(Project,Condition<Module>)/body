{
  ArrayList<Module> result=new ArrayList<Module>();
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    if (condition.value(module)) {
      final Sdk sdk=ModuleRootManager.getInstance(module).getSdk();
      if (sdk != null && sdk.getSdkType() instanceof JavaSdkType) {
        result.add(module);
      }
    }
  }
  return result;
}
