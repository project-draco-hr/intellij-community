{
  boolean empty=start == end;
  TextAttributes attributes=empty || resolved ? null : getTextAttributes(type,editor,ignored);
  TextAttributes stripeAttributes=empty || resolved ? null : getStripeTextAttributes(type,editor);
  RangeHighlighter highlighter=editor.getMarkupModel().addRangeHighlighter(start,end,DEFAULT_LAYER,attributes,area);
  installGutterRenderer(highlighter,type,ignored,resolved);
  if (stripeAttributes == null)   return Collections.singletonList(highlighter);
  RangeHighlighter stripeHighlighter=editor.getMarkupModel().addRangeHighlighter(start,end,STRIPE_LAYER,stripeAttributes,area);
  return ContainerUtil.list(highlighter,stripeHighlighter);
}
