{
  List<RangeHighlighter> list=new ArrayList<>();
  if (!inserted.isEmpty() && !deleted.isEmpty()) {
    list.addAll(createLineMarker(editor,deleted.start,TextDiffType.DELETED,SeparatorPlacement.TOP));
    list.addAll(createHighlighter(editor,deleted.start,deleted.end,TextDiffType.DELETED,ignored));
    list.addAll(createHighlighter(editor,inserted.start,inserted.end,TextDiffType.INSERTED,ignored));
    list.addAll(createLineMarker(editor,inserted.end - 1,TextDiffType.INSERTED,SeparatorPlacement.BOTTOM));
  }
 else   if (!inserted.isEmpty()) {
    list.addAll(createLineMarker(editor,inserted.start,TextDiffType.INSERTED,SeparatorPlacement.TOP));
    list.addAll(createHighlighter(editor,inserted.start,inserted.end,TextDiffType.INSERTED,ignored));
    list.addAll(createLineMarker(editor,inserted.end - 1,TextDiffType.INSERTED,SeparatorPlacement.BOTTOM));
  }
 else   if (!deleted.isEmpty()) {
    list.addAll(createLineMarker(editor,deleted.start,TextDiffType.DELETED,SeparatorPlacement.TOP));
    list.addAll(createHighlighter(editor,deleted.start,deleted.end,TextDiffType.DELETED,ignored));
    list.addAll(createLineMarker(editor,deleted.end - 1,TextDiffType.DELETED,SeparatorPlacement.BOTTOM));
  }
  return list;
}
