{
  try {
    String baseName="/refactoring/pushdown/" + getTestName(true);
    myFixture.configureByFile(baseName + ".before.py");
    final PyClass clazz=findClass(className);
    final PyElement member=findMember(className,memberName);
    final PyPushDownProcessor processor=new PyPushDownProcessor(myFixture.getProject(),clazz,Collections.singleton(new PyMemberInfo(member)));
    new WriteCommandAction.Simple(myFixture.getProject()){
      @Override protected void run() throws Throwable {
        processor.run();
      }
    }
.execute();
    myFixture.checkResultByFile(baseName + ".after.py");
  }
 catch (  Exception e) {
    if (expectedError == null)     throw e;
    assertEquals(expectedError,e.getMessage());
  }
}
