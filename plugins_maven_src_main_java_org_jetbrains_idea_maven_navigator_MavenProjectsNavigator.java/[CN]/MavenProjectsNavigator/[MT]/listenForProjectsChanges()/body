{
  myProjectsManager.addProjectsTreeListener(new MyProjectsListener());
  myShortcutsManager.addListener(new MavenShortcutsManager.Listener(){
    public void shortcutsUpdated(){
      scheduleStructureRequest(new Runnable(){
        public void run(){
          myStructure.updateGoals();
        }
      }
);
    }
  }
);
  myTasksManager.addListener(new MavenTasksManager.Listener(){
    public void compileTasksChanged(){
      scheduleStructureRequest(new Runnable(){
        public void run(){
          myStructure.updateGoals();
        }
      }
);
    }
  }
);
  RunManagerEx.getInstanceEx(myProject).addRunManagerListener(new RunManagerAdapter(){
    public void beforeRunTasksChanged(){
      scheduleStructureRequest(new Runnable(){
        public void run(){
          myStructure.updateGoals();
        }
      }
);
    }
  }
);
  MavenRunner.getInstance(myProject).getSettings().addListener(new MavenRunnerSettings.Listener(){
    @Override public void skipTestsChanged(){
      scheduleStructureRequest(new Runnable(){
        public void run(){
          myStructure.updateGoals();
        }
      }
);
    }
  }
);
  ((RunManagerEx)RunManager.getInstance(myProject)).addRunManagerListener(new RunManagerAdapter(){
    private void changed(){
      scheduleStructureRequest(new Runnable(){
        public void run(){
          myStructure.updateRunConfigurations();
        }
      }
);
    }
    @Override public void runConfigurationAdded(    @NotNull RunnerAndConfigurationSettings settings){
      changed();
    }
    @Override public void runConfigurationRemoved(    @NotNull RunnerAndConfigurationSettings settings){
      changed();
    }
    @Override public void runConfigurationChanged(    @NotNull RunnerAndConfigurationSettings settings){
      changed();
    }
  }
);
}
