{
  final Presentation presentation=e.getPresentation();
  List<AnAction> selectedElements=getSelectedElements(e);
  boolean hasProject=false;
  boolean hasGroup=false;
  for (  AnAction element : selectedElements) {
    if (element instanceof ReopenProjectAction) {
      hasProject=true;
    }
    if (element instanceof ProjectGroupActionGroup) {
      hasGroup=true;
    }
    if (hasGroup && hasProject) {
      e.getPresentation().setEnabled(false);
      return;
    }
  }
  if (ActionPlaces.WELCOME_SCREEN.equals(e.getPlace())) {
    presentation.setEnabledAndVisible(true);
    if (selectedElements.size() == 1 && selectedElements.get(0) instanceof ProjectGroupActionGroup) {
      presentation.setText("Open All Projects in Group");
    }
 else {
      presentation.setText("Open Selected");
    }
  }
 else {
    presentation.setEnabledAndVisible(false);
  }
}
