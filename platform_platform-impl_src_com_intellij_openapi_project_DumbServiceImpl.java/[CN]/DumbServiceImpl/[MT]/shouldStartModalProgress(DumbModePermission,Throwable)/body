{
  DumbModePermission permission=schedulerPermission != null ? schedulerPermission : getEdtPermission();
  if (permission == null) {
    LOG.info("Dumb mode not permitted in modal environment; see DumbService.allowStartingDumbModeInside documentation",trace);
  }
 else   if (permission == DumbModePermission.MAY_START_MODAL) {
    LOG.debug("Starting modal dumb mode, caused by the following trace",trace);
  }
  return permission != DumbModePermission.MAY_START_BACKGROUND;
}
