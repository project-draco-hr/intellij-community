{
  boolean wasSmart=!isDumb();
synchronized (myRunWhenSmartQueue) {
    myState.set(State.RUNNING_DUMB_TASKS);
  }
  myDumbStart=trace;
  myDumbStartTransaction=contextTransaction;
  myModificationCount++;
  if (wasSmart) {
    try {
      myPublisher.enteredDumbMode();
    }
 catch (    Throwable e) {
      LOG.error(e);
    }
  }
}
