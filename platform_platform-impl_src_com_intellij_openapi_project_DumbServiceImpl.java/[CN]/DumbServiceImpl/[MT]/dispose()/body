{
  ApplicationManager.getApplication().assertIsDispatchThread();
  myUpdatesQueue.clear();
  myQueuedEquivalences.clear();
  myRunWhenSmartQueue.clear();
  for (  DumbModeTask task : new ArrayList<>(myProgresses.keySet())) {
    cancelTask(task);
    Disposer.dispose(task);
  }
}
