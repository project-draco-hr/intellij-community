{
  InputContext instance=InputContext.getInstance();
  Class<? extends InputContext> instanceClass=instance.getClass();
  Class<?> superclass=instanceClass.getSuperclass();
  if (superclass.getName().equals("sun.awt.im.InputContext")) {
    try {
      Object inputMethodLocator=ReflectionUtil.getField(superclass,instance,null,"inputMethodLocator");
      Locale locale=ReflectionUtil.getField(inputMethodLocator.getClass(),inputMethodLocator,Locale.class,"locale");
      return locale.getLanguage().toUpperCase(Locale.getDefault());
    }
 catch (    Exception ignored) {
    }
  }
  return null;
}
