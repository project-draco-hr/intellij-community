{
  if (SystemInfo.isJetbrainsJvm && Registry.is("force.subpixel.hinting")) {
    g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_LCD_HRGB);
    int registryLcdContrastValue=Registry.intValue("lcd.contrast.value");
    if (registryLcdContrastValue == THEME_BASED_TEXT_LCD_CONTRAST) {
      if (isUnderDarcula()) {
        registryLcdContrastValue=BEST_DARK_LCD_CONTRAST;
      }
 else {
        registryLcdContrastValue=BEST_LIGHT_LCD_CONTRAST;
      }
    }
    if (registryLcdContrastValue < 140) {
      LOG.warn("Wrong value of text LCD contrast " + registryLcdContrastValue);
      registryLcdContrastValue=140;
    }
 else     if (registryLcdContrastValue > 250) {
      LOG.warn("Wrong value of text LCD contrast " + registryLcdContrastValue);
      registryLcdContrastValue=250;
    }
    g2d.setRenderingHint(RenderingHints.KEY_TEXT_LCD_CONTRAST,registryLcdContrastValue);
  }
}
