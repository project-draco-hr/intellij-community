{
  GraphicsConfig config=GraphicsUtil.setupAAPainting(g);
  Stroke oldStroke=g.getStroke();
  try {
    float thickness=0.7f;
    g.setStroke(new BasicStroke(thickness));
    double height=1;
    double cycle=4 * height;
    final double wavedAt=rectangle.y + rectangle.height - thickness - height;
    GeneralPath wavePath=new GeneralPath();
    wavePath.moveTo(rectangle.x,wavedAt - Math.cos(rectangle.x * 2 * Math.PI / cycle) * height);
    for (int x=rectangle.x + 1; x < rectangle.x + rectangle.width; x++) {
      wavePath.lineTo(x,wavedAt - Math.cos(x * 2 * Math.PI / cycle) * height);
    }
    g.draw(wavePath);
  }
  finally {
    config.restore();
    g.setStroke(oldStroke);
  }
}
