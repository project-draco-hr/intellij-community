{
  Graphics2D g2d=(Graphics2D)g;
  Toolkit tk=Toolkit.getDefaultToolkit();
  Map map=(Map)tk.getDesktopProperty("awt.font.desktophints");
  if (map != null) {
    g2d.addRenderingHints(map);
    if (Registry.is("force.subpixel.hinting")) {
      g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_LCD_HRGB);
      g2d.setRenderingHint(RenderingHints.KEY_TEXT_LCD_CONTRAST,Registry.intValue("lcd.contrast.value"));
    }
  }
}
