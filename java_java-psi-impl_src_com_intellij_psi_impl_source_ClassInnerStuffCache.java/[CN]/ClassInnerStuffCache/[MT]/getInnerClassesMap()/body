{
  PsiClass[] classes=getInnerClasses();
  if (classes.length == 0)   return Collections.emptyMap();
  Map<String,PsiClass> cachedInners=new THashMap<String,PsiClass>();
  for (  PsiClass psiClass : classes) {
    String name=psiClass.getName();
    if (name == null) {
      Logger.getInstance(ClassInnerStuffCache.class).error(psiClass);
    }
 else     if (!(psiClass instanceof ExternallyDefinedPsiElement) || !cachedInners.containsKey(name)) {
      cachedInners.put(name,psiClass);
    }
  }
  return cachedInners;
}
