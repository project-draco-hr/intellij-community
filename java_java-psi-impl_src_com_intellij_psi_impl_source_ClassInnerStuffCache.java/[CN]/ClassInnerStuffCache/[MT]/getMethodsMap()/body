{
  PsiMethod[] methods=getMethods();
  if (methods.length == 0)   return Collections.emptyMap();
  Map<String,List<PsiMethod>> collectedMethods=ContainerUtil.newHashMap();
  for (  PsiMethod method : methods) {
    List<PsiMethod> list=collectedMethods.get(method.getName());
    if (list == null) {
      collectedMethods.put(method.getName(),list=ContainerUtil.newSmartList());
    }
    list.add(method);
  }
  Map<String,PsiMethod[]> cachedMethods=ContainerUtil.newTroveMap();
  for (  Map.Entry<String,List<PsiMethod>> entry : collectedMethods.entrySet()) {
    List<PsiMethod> list=entry.getValue();
    cachedMethods.put(entry.getKey(),list.toArray(new PsiMethod[list.size()]));
  }
  return cachedMethods;
}
