{
  while (true) {
    Statement newclosure=null;
switch (closure.type) {
case Statement.TYPE_SEQUENCE:
      Statement last=closure.getStats().getLast();
    if (isOkClosure(closure,source,last)) {
      newclosure=last;
    }
  break;
case Statement.TYPE_IF:
IfStatement ifclosure=(IfStatement)closure;
if (isOkClosure(closure,source,ifclosure.getIfstat())) {
newclosure=ifclosure.getIfstat();
}
 else if (isOkClosure(closure,source,ifclosure.getElsestat())) {
newclosure=ifclosure.getElsestat();
}
break;
case Statement.TYPE_TRYCATCH:
for (Statement st : closure.getStats()) {
if (isOkClosure(closure,source,st)) {
newclosure=st;
break;
}
}
break;
case Statement.TYPE_SYNCRONIZED:
Statement body=((SynchronizedStatement)closure).getBody();
if (isOkClosure(closure,source,body)) {
newclosure=body;
}
}
if (newclosure == null) {
break;
}
closure=newclosure;
}
return closure;
}
