{
  FoldedBlock newFolding;
  List<FoldedBlock> result=new ArrayList<FoldedBlock>(3);
  newFolding=createRange(starts,ends,expandSuggester.isExpanded(starts,ends));
  if (newFolding != null)   result.add(newFolding);
  for (int i=0; i < myCount; i++) {
    starts[i]+=range;
    ends[i]-=range;
  }
  newFolding=createRange(starts,ends,expandSuggester.isExpanded(starts,ends));
  if (newFolding != null)   result.add(newFolding);
  for (int i=0; i < myCount; i++) {
    starts[i]+=2 * range;
    ends[i]-=2 * range;
  }
  newFolding=createRange(starts,ends,expandSuggester.isExpanded(starts,ends));
  if (newFolding != null)   result.add(newFolding);
  if (result.size() > 0) {
    FoldedBlock[] block=ContainerUtil.toArray(result,new FoldedBlock[result.size()]);
    for (    FoldedBlock folding : block) {
      folding.installHighlighter(block);
    }
    myFoldings.add(block);
  }
}
