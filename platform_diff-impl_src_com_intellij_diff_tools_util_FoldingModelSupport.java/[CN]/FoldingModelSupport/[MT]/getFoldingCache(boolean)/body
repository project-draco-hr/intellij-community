{
  return ApplicationManager.getApplication().runReadAction(new Computable<FoldingCache>(){
    @Override public FoldingCache compute(){
      List<FoldedRangeState>[] result=new List[myCount];
      for (int i=0; i < myCount; i++) {
        result[i]=getFoldedRanges(i);
      }
      return new FoldingCache(result,defaultState);
    }
  }
);
}
