{
  ApplicationManager.getApplication().assertIsDispatchThread();
  final ProgressIndicatorBase indicator=new ProgressIndicatorBase();
  Task.Backgroundable task=new Task.Backgroundable(handler.getProject(),"Finding Usages"){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      final UsageSearcher usageSearcher=createUsageSearcher(primaryElements,secondaryElements,handler,findUsagesOptions,null);
      usageSearcher.generate(processor);
    }
  }
;
  ((ProgressManagerImpl)ProgressManager.getInstance()).runProcessWithProgressAsynchronously(task,indicator,onComplete);
  return indicator;
}
