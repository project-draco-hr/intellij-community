{
  final SVNURL becameUrl;
  SVNURL wasUrl;
  try {
    becameUrl=SVNURL.parseURIEncoded(SVNPathUtil.append(myRepositoryRoot,path));
    wasUrl=becameUrl;
    if (change instanceof ExternallyRenamedChange && change.getBeforeRevision() != null) {
      String originUrl=((ExternallyRenamedChange)change).getOriginUrl();
      if (originUrl != null) {
        wasUrl=SVNURL.parseURIEncoded(SVNPathUtil.append(myRepositoryRoot,originUrl));
      }
    }
  }
 catch (  SVNException e) {
    LOG.info(e);
    return;
  }
  final FilePath filePath=ChangesUtil.getFilePath(change);
  final Change additional=new Change(createPropertyRevision(filePath,change.getBeforeRevision(),wasUrl),createPropertyRevision(filePath,change.getAfterRevision(),becameUrl));
  change.addAdditionalLayerElement(SvnChangeProvider.PROPERTY_LAYER,additional);
}
