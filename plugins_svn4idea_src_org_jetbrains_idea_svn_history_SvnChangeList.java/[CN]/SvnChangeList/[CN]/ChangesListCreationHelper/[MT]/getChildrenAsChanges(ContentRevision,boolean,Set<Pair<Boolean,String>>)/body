{
  final List<Change> result=new ArrayList<Change>();
  final String path=getRelativePath(contentRevision);
  SVNRevision revisionNumber=SVNRevision.create(getRevision(isBefore));
  final SVNLogClient client=myVcs.createLogClient();
  client.doList(myRepository.getLocation().appendPath(path,true),revisionNumber,revisionNumber,true,new ISVNDirEntryHandler(){
    public void handleDirEntry(    final SVNDirEntry dirEntry) throws SVNException {
      final String childPath=path + '/' + dirEntry.getRelativePath();
      if (!duplicates.contains(Pair.create(isBefore,childPath))) {
        final ContentRevision contentRevision=createRevision(childPath,isBefore,SVNNodeKind.DIR.equals(dirEntry.getKind()));
        result.add(new Change(isBefore ? contentRevision : null,isBefore ? null : contentRevision));
      }
    }
  }
);
  return result;
}
