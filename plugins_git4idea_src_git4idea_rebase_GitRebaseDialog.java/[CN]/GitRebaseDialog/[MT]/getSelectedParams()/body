{
  String selectedBranch=(String)myBranchComboBox.getSelectedItem();
  String branch=myCurrentBranch != null && !myCurrentBranch.getName().equals(selectedBranch) ? selectedBranch : null;
  String from=GitUIUtil.getTextField(myFromComboBox).getText();
  String onto=GitUIUtil.getTextField(myOntoComboBox).getText();
  String upstream;
  String newBase;
  if (isEmptyOrSpaces(from)) {
    upstream=onto;
    newBase=null;
  }
 else {
    upstream=from;
    newBase=onto;
  }
  return new GitRebaseParams(branch,newBase,upstream,myInteractiveCheckBox.isSelected(),myPreserveMergesCheckBox.isSelected());
}
