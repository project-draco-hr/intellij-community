{
  List<ChainedCallChunk> methodCall=splitMethodCallOnChunksByDots(nodes);
  myWrap=getNewWrap(mySettings.WRAP_FIRST_METHOD_IN_CALL_CHAIN);
  myChainedCallsAlignment=getNewAlignment();
  Wrap wrapToUse=null;
  Alignment alignmentToUse=null;
  List<Block> blocks=new ArrayList<Block>();
  for (  ChainedCallChunk currentCallChunk : methodCall) {
    if (isMethodCall(currentCallChunk)) {
      wrapToUse=myWrap;
      alignmentToUse=shouldAlignMethod(currentCallChunk,methodCall) ? myChainedCallsAlignment : null;
    }
 else     if (wrapToUse != null) {
      wrapToUse=null;
      alignmentToUse=null;
      myChainedCallsAlignment=getNewAlignment();
      myWrap=getNewWrap(mySettings.WRAP_FIRST_METHOD_IN_CALL_CHAIN);
    }
    SyntheticBlockBuilder builder=new SyntheticBlockBuilder(mySettings,myJavaSettings);
    blocks.add(builder.create(currentCallChunk.nodes,wrapToUse,alignmentToUse));
  }
  return blocks;
}
