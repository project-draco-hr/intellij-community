{
  lastValue=value;
  myEditor=EditorFactory.getInstance().createEditor(new DocumentImpl(value.toString()),myProject,PythonFileType.INSTANCE,false);
  JComponent editorComponent=myEditor.getContentComponent();
  editorComponent.addKeyListener(new KeyListener(){
    @Override public void keyTyped(    KeyEvent e){
    }
    @Override public void keyPressed(    KeyEvent e){
    }
    @Override public void keyReleased(    KeyEvent e){
      if (e.getKeyCode() == KeyEvent.VK_ENTER && e.getModifiers() == 0) {
        doOKAction();
      }
    }
  }
);
  editorComponent.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),"escapeStroke");
  editorComponent.getActionMap().put("escapeStroke",new AbstractAction(){
    @Override public void actionPerformed(    ActionEvent e){
      cancelEditing();
    }
  }
);
  return editorComponent;
}
