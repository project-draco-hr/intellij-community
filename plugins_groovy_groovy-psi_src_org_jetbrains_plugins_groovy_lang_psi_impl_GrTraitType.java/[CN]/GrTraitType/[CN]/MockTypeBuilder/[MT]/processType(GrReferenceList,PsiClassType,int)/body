{
  PsiClass resolved=type.resolve();
  if (resolved != null) {
    String qname=resolved.getQualifiedName();
    StringBuilder buffer=new StringBuilder();
    buffer.append(qname);
    int parameterCount=type.getParameterCount();
    if (parameterCount > 0) {
      buffer.append('<');
      for (int i=0; i < parameterCount; i++) {
        buffer.append("T").append(parameterOffset + i).append(',');
      }
      buffer.replace(buffer.length() - 1,buffer.length(),">");
    }
    GrCodeReferenceElement ref=factory.createCodeReferenceElementFromText(buffer.toString());
    clause.add(ref);
  }
}
