{
  final Set<PsiType> flattened=flatten(types.toArray(createArray(types.size())),new LinkedHashSet<PsiType>(){
    @Override public boolean add(    PsiType type){
      remove(type);
      return super.add(type);
    }
  }
);
  final PsiType[] conjuncts=flattened.toArray(createArray(flattened.size()));
  if (conjuncts.length == 1)   return conjuncts[0];
  return new GrTraitType(conjuncts);
}
