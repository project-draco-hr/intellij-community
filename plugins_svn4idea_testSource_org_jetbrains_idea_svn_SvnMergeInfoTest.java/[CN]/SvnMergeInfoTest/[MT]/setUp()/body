{
  super.setUp();
  myBranchVcsRoot=new File(myTempDirFixture.getTempDirPath(),"branch");
  myBranchVcsRoot.mkdir();
  myProjectLevelVcsManager=(ProjectLevelVcsManagerImpl)ProjectLevelVcsManager.getInstance(myProject);
  myProjectLevelVcsManager.setDirectoryMapping(myBranchVcsRoot.getAbsolutePath(),SvnVcs.VCS_NAME);
  VirtualFile vcsRoot=LocalFileSystem.getInstance().findFileByIoFile(myBranchVcsRoot);
  RootUrlInfo root=new RootUrlInfo(SVNURL.parseURIEncoded(myRepoUrl),SVNURL.parseURIEncoded(myRepoUrl + "/branch"),WorkingCopyFormat.ONE_DOT_SIX,vcsRoot,vcsRoot,null);
  myWCInfo=new WCInfo(root,true,SVNDepth.INFINITY);
  myOneShotMergeInfoHelper=new OneShotMergeInfoHelper(myProject,myWCInfo,myRepoUrl + "/trunk");
  SvnConfiguration.getInstance(myProject).CHECK_NESTED_FOR_QUICK_MERGE=true;
}
