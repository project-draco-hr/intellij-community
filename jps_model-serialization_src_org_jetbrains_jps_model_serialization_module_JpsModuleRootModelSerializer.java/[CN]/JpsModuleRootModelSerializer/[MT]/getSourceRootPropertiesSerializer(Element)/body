{
  String typeAttribute=sourceElement.getAttributeValue(SOURCE_ROOT_TYPE_ATTRIBUTE);
  if (typeAttribute == null) {
    typeAttribute=Boolean.parseBoolean(sourceElement.getAttributeValue(IS_TEST_SOURCE_ATTRIBUTE)) ? JAVA_TEST_ROOT_TYPE_ID : JAVA_SOURCE_ROOT_TYPE_ID;
  }
  for (  JpsModelSerializerExtension extension : JpsModelSerializerExtension.getExtensions()) {
    for (    JpsModuleSourceRootPropertiesSerializer<?> serializer : extension.getModuleSourceRootPropertiesSerializers()) {
      if (serializer.getTypeId().equals(typeAttribute)) {
        return serializer;
      }
    }
  }
  LOG.warn("Unknown module source root type " + typeAttribute);
  return JpsJavaModelSerializerExtension.JAVA_SOURCE_ROOT_PROPERTIES_SERIALIZER;
}
