{
  Set<FilePath> result=new THashSet<FilePath>();
  FilePath path=VcsDataKeys.FILE_PATH.getData(myContext);
  if (path != null) {
    result.add(path);
  }
  FilePath[] paths=VcsDataKeys.FILE_PATH_ARRAY.getData(myContext);
  if (paths != null) {
    for (    FilePath filePath : paths) {
      if (!result.contains(filePath)) {
        result.add(filePath);
      }
    }
  }
  VirtualFile[] selectedFiles=getSelectedFiles();
  for (  VirtualFile selectedFile : selectedFiles) {
    FilePath filePath=VcsUtil.getFilePath(selectedFile);
    result.add(filePath);
  }
  File[] selectedIOFiles=getSelectedIOFiles();
  if (selectedIOFiles != null) {
    for (    File selectedFile : selectedIOFiles) {
      FilePath filePath=VcsUtil.getFilePath(selectedFile);
      if (filePath != null) {
        result.add(filePath);
      }
    }
  }
  return result.toArray(new FilePath[result.size()]);
}
