{
  VirtualFile[] fileArray=CommonDataKeys.VIRTUAL_FILE_ARRAY.getData(myContext);
  if (fileArray != null) {
    return filterLocalFiles(fileArray);
  }
  VirtualFile virtualFile=CommonDataKeys.VIRTUAL_FILE.getData(myContext);
  if (virtualFile != null && isLocal(virtualFile)) {
    return new VirtualFile[]{virtualFile};
  }
  return VirtualFile.EMPTY_ARRAY;
}
