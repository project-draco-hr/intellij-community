{
  if (!myShared.isEmpty()) {
    final Collection<RunnerAndConfigurationSettings> sharedConfigurations=getSharedConfigurations();
    final List<RunnerAndConfigurationSettings> canNotBeShared=new ArrayList<RunnerAndConfigurationSettings>();
    final Iterator<RunnerAndConfigurationSettings> iterator=sharedConfigurations.iterator();
    while (iterator.hasNext()) {
      final RunnerAndConfigurationSettings configuration=iterator.next();
      if (!myRunManager.isConfigurationShared(configuration)) {
        iterator.remove();
        canNotBeShared.add(configuration);
      }
    }
    if (!canNotBeShared.isEmpty()) {
      canNotBeShared.addAll(getLocalConfigurations());
      setStartupConfigurations(sharedConfigurations,canNotBeShared);
    }
  }
}
