{
  final Ref<T> result=Ref.create();
  submitTransactionAndWait(kind,new Runnable(){
    @Override public void run(){
      result.set(transaction.compute());
    }
  }
);
  return result.get();
}
