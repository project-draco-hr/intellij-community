{
  if (retValue == null)   return false;
  PsiType type=retValue.getType();
  if (PsiType.NULL.equals(type)) {
    return true;
  }
  if (type instanceof PsiCapturedWildcardType) {
    type=((PsiCapturedWildcardType)type).getUpperBound();
  }
  if (type instanceof PsiClassType) {
    final PsiClass resolvedClass=((PsiClassType)type).resolve();
    if (InheritanceUtil.isInheritorOrSelf(resolvedClass,iterable,true)) {
      final boolean isCollection=InheritanceUtil.isInheritorOrSelf(resolvedClass,collection,true);
      iterableReturnValues.add(Pair.create(retValue,isCollection));
      return true;
    }
  }
  return false;
}
