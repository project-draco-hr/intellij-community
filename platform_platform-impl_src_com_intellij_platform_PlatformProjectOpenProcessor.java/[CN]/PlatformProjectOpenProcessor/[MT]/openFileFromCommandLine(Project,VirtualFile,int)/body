{
  StartupManager.getInstance(project).registerPostStartupActivity(new DumbAwareRunnable(){
    @Override public void run(){
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          if (!project.isDisposed() && file.isValid() && !file.isDirectory()) {
            if (line > 0) {
              new OpenFileDescriptor(project,file,line - 1,0).navigate(true);
            }
 else {
              new OpenFileDescriptor(project,file).navigate(true);
            }
          }
        }
      }
,ModalityState.NON_MODAL);
    }
  }
);
}
