{
  final List<Info> infos=ContainerUtil.newArrayList();
synchronized (myProcMap) {
    for (    Info o : myProcMap.values()) {
      if (o.handler != null)       infos.add(o);
    }
  }
  if (infos.isEmpty())   return;
  Future<?> future=ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      destroyProcessesImpl(infos);
      if (wait) {
        for (        Info o : infos) {
          o.handler.waitFor();
        }
      }
    }
  }
);
  if (wait) {
    try {
      future.get();
    }
 catch (    InterruptedException ignored) {
    }
catch (    java.util.concurrent.ExecutionException e) {
      LOG.warn(e);
    }
  }
}
