{
  LicensingFacade facade=LicensingFacade.getInstance();
  if (facade != null) {
    mySubscribtionLicense=facade.isSubscriptionLicense();
    if (!channel.getLicensing().equals(UpdateChannel.LICENSING_EAP)) {
      Boolean paidUpgrade=facade.isPaidUpgrade(channel.getMajorVersion(),build.getReleaseDate());
      if (paidUpgrade == Boolean.TRUE) {
        myPaidUpgrade=true;
        myLicenseInfo=IdeBundle.message("updates.channel.key.needed",channel.getEvalDays());
      }
 else       if (paidUpgrade == Boolean.FALSE) {
        myLicenseInfo=IdeBundle.message("updates.channel.existing.key");
      }
    }
 else {
      myLicenseInfo=IdeBundle.message("updates.channel.bundled.key");
    }
  }
}
