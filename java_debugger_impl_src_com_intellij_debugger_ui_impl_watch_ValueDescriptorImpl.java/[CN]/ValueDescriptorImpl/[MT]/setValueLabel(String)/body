{
  label=myFullValue ? label : DebuggerUtilsEx.truncateString(label);
  Value value=myValueReady ? getValue() : null;
  NodeRendererImpl lastRenderer=(NodeRendererImpl)getLastRenderer();
  EvaluationContextImpl evalContext=myStoredEvaluationContext;
  String labelId=myValueReady && evalContext != null && lastRenderer != null && !evalContext.getSuspendContext().isResumed() ? lastRenderer.getIdLabel(value,evalContext.getDebugProcess()) : null;
  String rawLabelId=value instanceof ObjectReference ? value.type().name() : labelId;
  if (rawLabelId != null && label.length() > rawLabelId.length() && label.startsWith(rawLabelId) && "@[".indexOf(label.charAt(rawLabelId.length())) > -1 && !CommonClassNames.JAVA_LANG_STRING.equals(rawLabelId) && !CommonClassNames.JAVA_LANG_STRING_BUILDER.equals(rawLabelId) && !CommonClassNames.JAVA_LANG_STRING_BUFFER.equals(rawLabelId)) {
    label=StringUtil.trimStart(label,rawLabelId);
  }
  myValueText=label;
  myIdLabel=isShowIdLabel() ? labelId : null;
}
