{
  final MyChecker checker=new MyChecker(e);
  if (!checker.isEnabled())   return;
  final String markText=SvnBundle.message("action.mark.tree.conflict.resolved.confirmation.title");
  final int result=Messages.showYesNoDialog(checker.getProject(),SvnBundle.message("action.mark.tree.conflict.resolved.confirmation.text"),markText,Messages.getQuestionIcon());
  if (result == Messages.YES) {
    final Ref<VcsException> exception=new Ref<>();
    ProgressManager.getInstance().run(new Task.Backgroundable(checker.getProject(),markText,true){
      public void run(      @NotNull ProgressIndicator indicator){
        final ConflictedSvnChange change=checker.getChange();
        final FilePath path=change.getTreeConflictMarkHolder();
        SvnVcs vcs=SvnVcs.getInstance(checker.getProject());
        try {
          vcs.getFactory(path.getIOFile()).createConflictClient().resolve(path.getIOFile(),Depth.EMPTY,false,false,true);
        }
 catch (        VcsException e) {
          exception.set(e);
        }
        VcsDirtyScopeManager.getInstance(checker.getProject()).filePathsDirty(getDistinctFiles(change),null);
      }
    }
);
    if (!exception.isNull()) {
      AbstractVcsHelper.getInstance(checker.getProject()).showError(exception.get(),markText);
    }
  }
}
