{
  LightRef.LightClassHierarchyElementDef hierarchyElement=ref instanceof LightRef.LightClassHierarchyElementDef ? (LightRef.LightClassHierarchyElementDef)ref : ((LightRef.LightMember)ref).getOwner();
  TIntHashSet set=new TIntHashSet();
  final LightRef.NamedLightRef[] hierarchy=getWholeHierarchy(hierarchyElement,checkBaseClassAmbiguity);
  if (hierarchy == null)   return null;
  for (  LightRef.NamedLightRef aClass : hierarchy) {
    final LightRef overriderUsage=aClass.override(aClass.getName());
    addUsages(overriderUsage,set);
  }
  return set;
}
