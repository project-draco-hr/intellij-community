{
  Module module=super.commitModule(project,model);
  if (module != null) {
    final VirtualFile baseDir=project.getBaseDir();
    studyProjectGenerator.generateProject(project,baseDir);
    final FileTemplate template=FileTemplateManager.getInstance(project).getInternalTemplate("test_helper.py");
    StartupManager.getInstance(project).runWhenProjectIsInitialized(new Runnable(){
      @Override public void run(){
        final PsiDirectory projectDir=PsiManager.getInstance(project).findDirectory(baseDir);
        if (projectDir != null) {
          try {
            FileTemplateUtil.createFromTemplate(template,"test_helper.py",null,projectDir);
          }
 catch (          Exception e) {
            LOG.error("Failed to create test_helper",e);
          }
        }
      }
    }
);
  }
  return module;
}
