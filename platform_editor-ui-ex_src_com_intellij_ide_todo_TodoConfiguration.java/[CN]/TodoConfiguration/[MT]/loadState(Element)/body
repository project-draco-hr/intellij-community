{
  List<TodoPattern> patternsList=new SmartList<TodoPattern>();
  List<TodoFilter> filtersList=new SmartList<TodoFilter>();
  for (  Element child : element.getChildren()) {
    if (ELEMENT_PATTERN.equals(child.getName())) {
      TodoPattern pattern=new TodoPattern(TodoAttributesUtil.createDefault());
      pattern.readExternal(child,TodoAttributesUtil.getDefaultColorSchemeTextAttributes());
      patternsList.add(pattern);
    }
 else     if (ELEMENT_FILTER.equals(child.getName())) {
      TodoFilter filter=new TodoFilter();
      filter.readExternal(child,patternsList);
      filtersList.add(filter);
    }
  }
  doSetTodoPatterns(patternsList.toArray(new TodoPattern[patternsList.size()]),false);
  if (!(filtersList.isEmpty() && myTodoFilters.length == 0)) {
    setTodoFilters(filtersList.toArray(new TodoFilter[filtersList.size()]));
  }
}
