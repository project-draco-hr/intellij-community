{
  Module module=ApplicationManager.getApplication().runWriteAction(new Computable<Module>(){
    @Override public Module compute(){
      try {
        LocalFileSystem.getInstance().refreshIoFiles(Collections.singletonList(moduleFile));
        return ModuleManager.getInstance(myProject).loadModule(moduleFile.getAbsolutePath());
      }
 catch (      Exception e) {
        LOG.error(e);
        return null;
      }
    }
  }
);
  myModulesToDispose.add(module);
  return module;
}
