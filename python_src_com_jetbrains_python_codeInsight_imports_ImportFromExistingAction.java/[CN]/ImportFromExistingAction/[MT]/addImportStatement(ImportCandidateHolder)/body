{
  final Project project=myTarget.getProject();
  final PyElementGenerator gen=PyElementGenerator.getInstance(project);
  AddImportHelper.ImportPriority priority=AddImportHelper.getImportPriority(myTarget,item.getFile());
  if (isRoot(item.getFile())) {
    AddImportHelper.addImportStatement(myTarget.getContainingFile(),myName,null,priority);
  }
 else {
    String qualifiedName=item.getPath().toString();
    if (myUseQualifiedImport) {
      AddImportHelper.addImportStatement(myTarget.getContainingFile(),qualifiedName,null,priority);
      String qual_name;
      if (item.getAsName() != null)       qual_name=item.getAsName();
 else       qual_name=qualifiedName;
      myTarget.replace(gen.createExpressionFromText(LanguageLevel.forElement(myTarget),qual_name + "." + myName));
    }
 else {
      AddImportHelper.addImportFrom(myTarget.getContainingFile(),myTarget,qualifiedName,myName,null,priority);
    }
  }
}
