{
  final Project project=myTarget.getProject();
  final PyElementGenerator gen=PyElementGenerator.getInstance(project);
  AddImportHelper.ImportPriority priority=AddImportHelper.getImportPriority(myTarget,item.getFile());
  if (isRoot(project,item.getFile())) {
    AddImportHelper.addImportStatement(myTarget.getContainingFile(),myName,null,priority);
  }
 else   if (myUseQualifiedImport) {
    AddImportHelper.addImportStatement(myTarget.getContainingFile(),item.getPath(),null,priority);
    String qual_name;
    if (item.getAsName() != null)     qual_name=item.getAsName();
 else     qual_name=item.getPath();
    myTarget.replace(gen.createExpressionFromText(qual_name + "." + myName));
  }
 else {
    AddImportHelper.addImportFrom(myTarget.getContainingFile(),item.getPath(),myName,priority);
  }
}
