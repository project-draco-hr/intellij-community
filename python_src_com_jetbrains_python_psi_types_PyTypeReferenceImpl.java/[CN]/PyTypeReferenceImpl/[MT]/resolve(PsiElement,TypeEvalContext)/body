{
  Set<PyTypeReferenceImpl> seen=new HashSet<PyTypeReferenceImpl>();
  seen.add(this);
  PyType resolved;
  PyTypeReferenceImpl current=this;
  while (true) {
    resolved=current.resolveStep(null,typeEvalContext);
    if (!(resolved instanceof PyTypeReferenceImpl))     break;
    current=(PyTypeReferenceImpl)resolved;
    if (seen.contains(current))     return null;
    seen.add(current);
  }
  return resolved;
}
