{
  int stackIndex=0;
  stackForDFS[0]=nodeIndex;
  while (stackIndex >= 0) {
    int currentNodeIndex=stackForDFS[stackIndex];
    boolean firstVisit=myLayoutIndex[currentNodeIndex] == 0;
    if (firstVisit)     myLayoutIndex[currentNodeIndex]=currentLayoutIndex;
    int childWithoutLayoutIndex=-1;
    for (    int childNodeIndex : myGraph.getDownNodes(currentNodeIndex)) {
      if (childNodeIndex != SomeGraph.NOT_LOAD_COMMIT && myLayoutIndex[childNodeIndex] == 0) {
        childWithoutLayoutIndex=childNodeIndex;
        break;
      }
    }
    if (childWithoutLayoutIndex == -1) {
      stackIndex--;
      if (firstVisit)       currentLayoutIndex++;
    }
 else {
      stackIndex++;
      stackForDFS[stackIndex]=childWithoutLayoutIndex;
    }
  }
}
