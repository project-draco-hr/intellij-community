{
  doTest(new PerformAction(){
    @Override public void performAction(    final VirtualFile rootDir,    final VirtualFile rootAfter) throws Exception {
      GlobalSearchScope scope=GlobalSearchScope.allScope(myProject);
      PsiClass superClass=myJavaFacade.findClass("Super",scope);
      if (superClass == null)       superClass=myJavaFacade.findClass("p1.Super",scope);
      assertNotNull("Class Super not found",superClass);
      PsiClass target1=myJavaFacade.findClass("Test",scope);
      PsiClass target2=myJavaFacade.findClass("Test1",scope);
      new InlineSuperClassRefactoringProcessor(myProject,null,superClass,DocCommentPolicy.ASIS,target1,target2).run();
    }
  }
);
}
