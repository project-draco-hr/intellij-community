{
  return new WriteCommandAction<VirtualFile>(project){
    @Override protected void run(    @NotNull Result<VirtualFile> result) throws Throwable {
      VirtualFile file=parent.createChildData(this,name);
      if (content != null) {
        file.setBinaryContent(CharsetToolkit.getUtf8Bytes(content));
      }
      result.setResult(file);
    }
  }
.execute().throwException().getResultObject();
}
