{
  final Collection<String> suggestions;
  if (templateIsType) {
    suggestions=NameSuggesterUtil.generateNamesByType(templateName);
  }
 else {
    suggestions=NameSuggesterUtil.generateNames(templateName);
  }
  for (  String name : suggestions) {
    if (isValidNewName(name,scopeAnchor)) {
      return name;
    }
  }
  final String shortestName=ContainerUtil.getFirstItem(suggestions);
  return appendNumberUntilValid(shortestName,scopeAnchor);
}
