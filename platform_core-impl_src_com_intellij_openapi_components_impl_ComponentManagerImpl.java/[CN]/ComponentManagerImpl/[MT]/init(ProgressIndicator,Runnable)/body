{
  try {
    ArrayList<ComponentConfig> componentConfigs=new ArrayList<ComponentConfig>();
    registerComponents(componentConfigs);
    myComponentsRegistry=new ComponentsRegistry(componentConfigs);
    if (componentsRegistered != null) {
      componentsRegistered.run();
    }
    if (indicator != null) {
      indicator.setIndeterminate(false);
    }
    createComponents(indicator);
  }
  finally {
    myComponentsCreated=true;
  }
}
