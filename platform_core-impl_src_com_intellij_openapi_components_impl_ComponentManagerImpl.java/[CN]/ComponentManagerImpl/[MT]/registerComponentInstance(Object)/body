{
  myInstantiatedComponentCount++;
  if (instance instanceof com.intellij.openapi.Disposable) {
    Disposer.register(this,(com.intellij.openapi.Disposable)instance);
  }
  if (!(instance instanceof BaseComponent)) {
    return;
  }
  BaseComponent baseComponent=(BaseComponent)instance;
  String componentName=baseComponent.getComponentName();
  if (myNameToComponent.containsKey(componentName)) {
    BaseComponent loadedComponent=myNameToComponent.get(componentName);
    if (!instance.equals(loadedComponent)) {
      LOG.error("Component name collision: " + componentName + " "+ (loadedComponent == null ? "null" : loadedComponent.getClass())+ " and "+ instance.getClass());
    }
  }
 else {
    myNameToComponent.put(componentName,baseComponent);
  }
  myBaseComponents.add(baseComponent);
}
