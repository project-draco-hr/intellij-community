{
  Document document=FileDocumentManager.getInstance().getCachedDocument(file);
  if (document != null) {
    return document.getImmutableCharSequence();
  }
  ClassFileDecompilers.Decompiler decompiler=ClassFileDecompilers.find(file);
  if (decompiler instanceof ClassFileDecompilers.Light) {
    try {
      return ((ClassFileDecompilers.Light)decompiler).getText(file);
    }
 catch (    ClassFileDecompilers.Light.CannotDecompileException e) {
      LOG.warn("decompiler: " + decompiler.getClass(),e);
    }
  }
  return ClsFileImpl.decompile(file);
}
