{
  Lexer lexer=highlighter.getHighlightingLexer();
  lexer.start(text,0,text.length(),0);
  IElementType tokenType;
  while ((tokenType=lexer.getTokenType()) != null) {
    TextAttributesKey[] keys=highlighter.getTokenHighlights(tokenType);
    ConsoleViewContentType type=keys.length == 0 ? ConsoleViewContentType.NORMAL_OUTPUT : ConsoleViewContentType.getConsoleViewType(ColorCache.keys.get(Arrays.asList(keys)));
    console.print(lexer.getTokenText(),type);
    lexer.advance();
  }
}
