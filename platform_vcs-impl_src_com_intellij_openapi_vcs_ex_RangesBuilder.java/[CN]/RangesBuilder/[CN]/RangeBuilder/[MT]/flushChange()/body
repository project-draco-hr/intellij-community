{
  if (change == null)   return;
  for (  InnerRange range : innerRanges) {
    range.shift(myCurrentShift);
  }
  innerRanges.trimToSize();
  change=TrimUtil.expand(myVcs,myCurrent,change.start1,change.start2,change.end1,change.end2);
  int currentLine1=myCurrentShift + change.start2;
  int currentLine2=myCurrentShift + change.end2;
  int vcsLine1=myVcsShift + change.start1;
  int vcsLine2=myVcsShift + change.end1;
  myRanges.add(new Range(currentLine1,currentLine2,vcsLine1,vcsLine2,innerRanges));
  change=null;
  innerRanges=null;
}
