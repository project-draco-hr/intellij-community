{
  if (subType != null && superType != null) {
    if (!PyTypeChecker.match(superType,subType,context,substitutions)) {
      final String superName=PythonDocumentationProvider.getTypeName(superType,context);
      String expected=String.format("'%s'",superName);
      if (PyTypeChecker.hasGenerics(superType,context)) {
        final Ref<PyType> subst=PyTypeChecker.substitute(superType,substitutions,context);
        if (subst != null) {
          expected=String.format("'%s' (matched generic type '%s')",PythonDocumentationProvider.getTypeName(subst.get(),context),superName);
        }
      }
      final String msg=String.format("Expected type %s, got '%s' instead",expected,PythonDocumentationProvider.getTypeName(subType,context));
      if (registerPoblem) {
        registerProblem(node,msg);
      }
      return msg;
    }
  }
  return null;
}
