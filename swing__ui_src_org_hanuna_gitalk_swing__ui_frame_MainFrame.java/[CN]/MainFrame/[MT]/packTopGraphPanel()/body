{
  topPanel.setLayout(new BoxLayout(topPanel,BoxLayout.LINE_AXIS));
  topPanel.setMaximumSize(new Dimension(10000,10));
  JButton hideButton=new JButton("Hide");
  hideButton.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      ui_controller.hideAll();
    }
  }
);
  topPanel.add(hideButton);
  JButton showButton=new JButton("Show");
  showButton.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      ui_controller.showAll();
    }
  }
);
  topPanel.add(showButton);
  final JCheckBox visibleLongEdges=new JCheckBox("Show full patch",false);
  visibleLongEdges.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      ui_controller.setLongEdgeVisibility(visibleLongEdges.isSelected());
    }
  }
);
  refTable.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent e){
      if (refTable.keyPressed(e)) {
        ui_controller.updateVisibleBranches();
        refTable.updateUI();
      }
    }
  }
);
  topPanel.add(visibleLongEdges);
  topPanel.add(Box.createHorizontalGlue());
  JButton expand=new JButton("Expand");
  expand.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      refTable.expandAll();
    }
  }
);
  topPanel.add(expand);
  JButton collapse=new JButton("Collapse");
  collapse.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      refTable.collapseAll();
    }
  }
);
  topPanel.add(collapse);
}
