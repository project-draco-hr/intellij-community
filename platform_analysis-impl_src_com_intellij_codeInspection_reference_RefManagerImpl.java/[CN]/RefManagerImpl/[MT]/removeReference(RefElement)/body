{
  final PsiElement element=refElem.getElement();
  final RefManagerExtension extension=element != null ? getExtension(element.getLanguage()) : null;
  if (extension != null) {
    extension.removeReference(refElem);
  }
synchronized (myRefTable) {
    if (element != null && myRefTable.remove(createAnchor(element)) != null)     return;
    for (    Map.Entry<PsiAnchor,RefElement> entry : myRefTable.entrySet()) {
      RefElement value=entry.getValue();
      PsiAnchor anchor=entry.getKey();
      if (value == refElem) {
        myRefTable.remove(anchor);
        break;
      }
    }
  }
}
