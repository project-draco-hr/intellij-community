{
  PsiDirectory lessonDir=directory.getParent();
  if (lessonDir == null || !lessonDir.getName().contains(EduNames.LESSON)) {
    return false;
  }
  Lesson lesson=course.getLesson(lessonDir.getName());
  if (lesson == null) {
    return false;
  }
  Task task=lesson.getTask(directory.getName());
  if (task == null) {
    return false;
  }
  String newName=Messages.showInputDialog(project,"Enter new name","Rename " + getFolderName(),null);
  if (newName == null) {
    return false;
  }
  task.setName(newName);
  return true;
}
