{
  if (project == null) {
    return null;
  }
  final GradleProjectSettings settings=GradleSettings.getInstance(project).getLinkedProjectSettings(linkedProjectPath);
  if (settings == null) {
    return null;
  }
  final String gradleJvm=settings.getGradleJvm();
  final Sdk sdk;
  try {
    sdk=ExternalSystemJdkUtil.getJdk(project,gradleJvm);
  }
 catch (  ExternalSystemJdkException e) {
    throw new ExternalSystemJdkException(String.format("Invalid Gradle JDK configuration found. <a href='%s'>Open Gradle Settings</a> \n",OpenExternalSystemSettingsCallback.ID),linkedProjectPath,e,OpenExternalSystemSettingsCallback.ID);
  }
  if (sdk == null && gradleJvm != null) {
    throw new ExternalSystemJdkException(String.format("Invalid Gradle JDK configuration found. <a href='%s'>Open Gradle Settings</a> \n",OpenExternalSystemSettingsCallback.ID),linkedProjectPath,null,OpenExternalSystemSettingsCallback.ID);
  }
  return sdk;
}
