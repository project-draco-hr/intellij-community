{
  if (project == null) {
    return null;
  }
  GradleProjectSettings settings=GradleSettings.getInstance(project).getLinkedProjectSettings(linkedProjectPath);
  if (settings == null || settings.getDistributionType() == null) {
    return null;
  }
  String gradleHome=settings.getDistributionType() == DistributionType.WRAPPED ? GradleLocalSettings.getInstance(project).getGradleHome(linkedProjectPath) : settings.getGradleHome();
  return getGradleHome(settings.getDistributionType(),linkedProjectPath,gradleHome);
}
