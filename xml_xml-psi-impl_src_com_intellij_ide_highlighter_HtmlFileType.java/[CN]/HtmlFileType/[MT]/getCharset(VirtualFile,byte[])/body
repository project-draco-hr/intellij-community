{
  Trinity<Charset,CharsetToolkit.GuessedEncoding,byte[]> guessed=LoadTextUtil.guessFromContent(file,content,content.length);
  String charset=guessed != null && guessed.first != null ? guessed.first.name() : XmlCharsetDetector.extractXmlEncodingFromProlog(content);
  if (charset != null)   return charset;
  @NonNls String strContent;
  try {
    strContent=new String(content,"ISO-8859-1");
  }
 catch (  UnsupportedEncodingException e) {
    return null;
  }
  Charset c=HtmlUtil.detectCharsetFromMetaTag(strContent);
  return c == null ? null : c.name();
}
