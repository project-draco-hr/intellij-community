{
  Assert.assertTrue(wc1.isDirectory());
  final File file=FileUtil.createTempFile(wc1,"file",".txt");
  final VirtualFile vf=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(file);
  Assert.assertNotNull(vf);
  final ArrayList<VirtualFile> files=new ArrayList<>();
  files.add(vf);
  final List<VcsException> exceptions=myVcs.getCheckinEnvironment().scheduleUnversionedFilesForAddition(files);
  Assert.assertTrue(exceptions.isEmpty());
  final Change change=new Change(null,new CurrentContentRevision(VcsUtil.getFilePath(vf)));
  final List<VcsException> commit=myVcs.getCheckinEnvironment().commit(Collections.singletonList(change),"commit");
  Assert.assertTrue(commit.isEmpty());
  ++myExpectedCreds;
  ++myExpectedCert;
  return file;
}
