{
  List<IdeaPluginDescriptor> result=new ArrayList<IdeaPluginDescriptor>();
  Set<String> addedPluginIds=new HashSet<String>();
  for (  String host : getPluginHosts()) {
    List<IdeaPluginDescriptor> plugins=loadPlugins(host,null,indicator);
    for (    IdeaPluginDescriptor plugin : plugins) {
      if (addedPluginIds.add(plugin.getPluginId().getIdString())) {
        result.add(plugin);
      }
    }
  }
  return result;
}
