{
  return new GutterIconRenderer(){
    @NotNull @Override public Icon getIcon(){
      return icon;
    }
    public boolean isNavigateAction(){
      return true;
    }
    @Nullable @Override public AnAction getClickAction(){
      return new DumbAwareAction(){
        @Override public void actionPerformed(        AnActionEvent e){
          if (myViewer.isStateIsOutOfDate())           return;
          if (!myViewer.isEditable(sourceSide.other(),true))           return;
          final Project project=e.getProject();
          final Document document=myViewer.getDocument(sourceSide.other());
          DiffUtil.executeWriteCommand(document,project,"Replace change",new Runnable(){
            @Override public void run(){
              myViewer.replaceChange(UnifiedDiffChange.this,sourceSide);
              myViewer.scheduleRediff();
            }
          }
);
          myViewer.rediff();
        }
      }
;
    }
    @Override public boolean equals(    Object obj){
      return obj == this;
    }
    @Override public int hashCode(){
      return System.identityHashCode(this);
    }
    @Nullable @Override public String getTooltipText(){
      return tooltipText;
    }
  }
;
}
