{
  final List<NameValuePair> parameters=new ArrayList<>();
  if (password.isEmpty())   return null;
  parameters.add(new BasicNameValuePair("client_id",ourClientId));
  parameters.add(new BasicNameValuePair("grant_type","password"));
  parameters.add(new BasicNameValuePair("username",email));
  parameters.add(new BasicNameValuePair("password",password));
  final StepicWrappers.TokenInfo tokenInfo=postCredentials(parameters);
  final StepicUser user=new StepicUser(email,password);
  final StepicUser currentUser=getCurrentUser();
  if (currentUser != null) {
    user.setId(currentUser.getId());
  }
  if (tokenInfo != null) {
    user.setupTokenInfo(tokenInfo);
  }
  return user;
}
