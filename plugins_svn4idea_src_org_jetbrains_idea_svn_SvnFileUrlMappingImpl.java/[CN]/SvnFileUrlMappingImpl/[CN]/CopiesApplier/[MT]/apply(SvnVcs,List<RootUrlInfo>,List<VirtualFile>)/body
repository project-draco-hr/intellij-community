{
  final SvnMapping mapping=new SvnMapping();
  mapping.addAll(roots);
  mapping.reportLonelyRoots(lonelyRoots);
  final SvnMapping filteredMapping=new SvnMapping();
  final List<RootUrlInfo> filtered=new ArrayList<RootUrlInfo>();
  ForNestedRootChecker.filterOutSuperfluousChildren(vcs,roots,filtered);
  filteredMapping.addAll(filtered);
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    @Override public void run(){
      if (myProject.isDisposed())       return;
      boolean mappingsChanged=updateMappings(mapping,filteredMapping);
      notifyRootsReloaded(mappingsChanged);
    }
  }
);
}
