{
  super.visitReferenceExpression(refExpr);
  if (myPolicy.isReferenceAccepted(refExpr)) {
    String name=refExpr.getReferenceName();
    if (name == null)     return;
    if (ControlFlowUtils.isIncOrDecOperand(refExpr)) {
      final InstructionImpl i=new ReadWriteVariableInstruction(name,refExpr,ReadWriteVariableInstruction.READ);
      addNodeAndCheckPending(i);
      addNode(new ReadWriteVariableInstruction(name,refExpr,ReadWriteVariableInstruction.WRITE));
    }
 else {
      final int type=PsiUtil.isLValue(refExpr) ? ReadWriteVariableInstruction.WRITE : ReadWriteVariableInstruction.READ;
      addNodeAndCheckPending(new ReadWriteVariableInstruction(name,refExpr,type));
      if (refExpr.getParent() instanceof GrArgumentList && refExpr.getParent().getParent() instanceof GrCall) {
        addNodeAndCheckPending(new ArgumentInstruction(refExpr));
      }
    }
  }
  if (refExpr.isQualified() && !(refExpr.getParent() instanceof GrCall)) {
    visitCall(refExpr);
  }
}
