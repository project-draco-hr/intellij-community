{
  List<GitRepository> incompleteRepositories=ContainerUtil.newArrayList();
  final GitRepository ongoingRebase=getOngoingRebase();
  if (ongoingRebase != null)   incompleteRepositories.add(ongoingRebase);
  incompleteRepositories.addAll(DvcsUtil.sortRepositories(ContainerUtil.filter(myStatuses.keySet(),new Condition<GitRepository>(){
    @Override public boolean value(    @NotNull GitRepository repository){
      return !repository.equals(ongoingRebase) && myStatuses.get(repository).getType() != GitRebaseStatus.Type.SUCCESS;
    }
  }
)));
  return incompleteRepositories;
}
