{
  return ContainerUtil.map2Map(repositories,new Function<GitRepository,Pair<GitRepository,String>>(){
    @Override public Pair<GitRepository,String> fun(    @NotNull GitRepository repository){
      String currentRevision=findCurrentRevision(repository,branchToCheckout);
      LOG.debug("Current revision in [" + repository.getRoot().getName() + "] is ["+ currentRevision+ "]");
      return Pair.create(repository,currentRevision);
    }
  }
);
}
