{
  Map<GitRepository,String> initialHeadPositions=readInitialHeadPositions(repositories);
  Map<GitRepository,GitRebaseStatus> initialStatusMap=new TreeMap<GitRepository,GitRebaseStatus>(DvcsUtil.REPOSITORY_COMPARATOR);
  for (  GitRepository repository : repositories) {
    initialStatusMap.put(repository,GitRebaseStatus.notStarted());
  }
  return new GitRebaseSpec(params,initialStatusMap,initialHeadPositions,newSaver(project,indicator),true);
}
