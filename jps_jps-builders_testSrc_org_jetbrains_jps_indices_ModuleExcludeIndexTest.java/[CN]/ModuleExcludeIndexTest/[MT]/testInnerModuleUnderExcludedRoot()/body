{
  File outerRoot=new File(myRoot,"outer");
  File exc=new File(outerRoot,"exc");
  File innerRoot=new File(exc,"inner");
  JpsModule outer=addModule("outer");
  addContentRoot(outer,outerRoot);
  addExcludedRoot(outer,exc);
  JpsModule inner=addModule("inner");
  addContentRoot(inner,innerRoot);
  assertNotExcluded(outerRoot);
  assertNotExcluded(innerRoot);
  assertSameElements(getModuleExcludes(outer),exc,innerRoot);
  assertEmpty(getModuleExcludes(inner));
  ModuleExcludeIndexImpl index=createIndex();
  assertTrue(index.isExcludedFromModule(innerRoot,outer));
  assertFalse(index.isExcludedFromModule(innerRoot,inner));
}
