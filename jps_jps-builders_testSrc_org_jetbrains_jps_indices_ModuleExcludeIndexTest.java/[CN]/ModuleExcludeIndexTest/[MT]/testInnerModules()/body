{
  File outerRoot=new File(myRoot,"outer");
  File inner1Root=new File(outerRoot,"inner1");
  File inner2Root=new File(outerRoot,"inner2");
  JpsModule outer=addModule("outer");
  addContentRoot(outer,outerRoot);
  JpsModule inner1=addModule("inner1");
  JpsModule inner2=addModule("inner2");
  addContentRoot(inner1,inner1Root);
  addContentRoot(inner2,inner2Root);
  assertNotExcluded(outerRoot);
  assertNotExcluded(inner1Root);
  assertNotExcluded(inner2Root);
  assertSameElements(getModuleExcludes(outer),inner1Root,inner2Root);
  assertEmpty(getModuleExcludes(inner1));
  assertEmpty(getModuleExcludes(inner2));
  ModuleExcludeIndexImpl index=createIndex();
  assertTrue(index.isExcludedFromModule(inner1Root,outer));
  assertTrue(index.isExcludedFromModule(inner2Root,outer));
  assertFalse(index.isExcludedFromModule(inner1Root,inner1));
  assertFalse(index.isExcludedFromModule(inner2Root,inner2));
}
