{
  for (  Map.Entry<String,TaskFile> entry : task.getTaskFiles().entrySet()) {
    String name=entry.getKey();
    VirtualFile virtualFile=taskDir.findChild(name);
    if (virtualFile == null) {
      continue;
    }
    if (FileEditorManager.getInstance(project).isFileOpen(virtualFile)) {
      FileEditor fileEditor=FileEditorManager.getInstance(project).getSelectedEditor(virtualFile);
      if (fileEditor instanceof StudyEditor) {
        Editor editor=((StudyEditor)fileEditor).getEditor();
        editor.getMarkupModel().removeAllHighlighters();
        for (        TaskFile taskFile : task.getTaskFiles().values()) {
          StudyUtils.drawPlaceholdersFromOtherSteps(editor,taskFile,task);
        }
        TaskFile currentTaskFile=StudyUtils.getTaskFile(project,virtualFile);
        if (currentTaskFile != null) {
          StudyUtils.drawAllWindows(editor,currentTaskFile,false);
        }
      }
    }
  }
}
