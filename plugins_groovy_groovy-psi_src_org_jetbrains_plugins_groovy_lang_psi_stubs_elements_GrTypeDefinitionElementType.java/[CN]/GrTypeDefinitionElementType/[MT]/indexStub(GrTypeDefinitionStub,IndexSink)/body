{
  if (stub.isAnonymous()) {
    final String baseClassName=stub.getBaseClassName();
    if (baseClassName != null) {
      final String shortName=PsiNameHelper.getShortClassName(baseClassName);
      sink.occurrence(GrAnonymousClassIndex.KEY,shortName);
    }
  }
 else {
    String shortName=stub.getName();
    if (shortName != null) {
      sink.occurrence(JavaStubIndexKeys.CLASS_SHORT_NAMES,shortName);
    }
    final String fqn=stub.getQualifiedName();
    if (fqn != null) {
      sink.occurrence(GrFullClassNameIndex.KEY,fqn.hashCode());
    }
  }
  for (  String annName : stub.getAnnotations()) {
    if (annName != null) {
      sink.occurrence(GrAnnotatedMemberIndex.KEY,annName);
    }
  }
}
