{
  for (  Element schemeElement : state.getChildren(SCHEME_ELEMENT)) {
    boolean isUpdated=false;
    Attribute nameAttr=schemeElement.getAttribute(NAME_ATTR);
    if (nameAttr != null) {
      for (      DefaultColorsScheme oldScheme : mySchemes) {
        if (StringUtil.equals(nameAttr.getValue(),oldScheme.getName())) {
          oldScheme.readExternal(schemeElement);
          isUpdated=true;
        }
      }
    }
    if (!isUpdated) {
      DefaultColorsScheme newScheme=new DefaultColorsScheme();
      newScheme.readExternal(schemeElement);
      mySchemes.add(newScheme);
    }
  }
  mySchemes.add(EmptyColorScheme.INSTANCE);
}
