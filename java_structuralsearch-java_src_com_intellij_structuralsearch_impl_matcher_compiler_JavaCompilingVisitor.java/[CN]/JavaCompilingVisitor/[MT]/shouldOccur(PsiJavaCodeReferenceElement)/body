{
  final CompileContext compileContext=myCompilingVisitor.getContext();
  final PsiElement parent=reference.getParent();
  if (!(parent instanceof PsiReferenceList)) {
    return true;
  }
  final PsiElement grandParent=parent.getParent();
  if (!(grandParent instanceof PsiMethod)) {
    return true;
  }
  final PsiMethod method=(PsiMethod)grandParent;
  if (method.getThrowsList() != parent) {
    return true;
  }
  final String name=method.getName();
  if (!compileContext.getPattern().isTypedVar(name)) {
    return true;
  }
  final SubstitutionHandler handler=(SubstitutionHandler)compileContext.getPattern().getHandler(name);
  return !(handler != null && handler.getMinOccurs() == 0);
}
