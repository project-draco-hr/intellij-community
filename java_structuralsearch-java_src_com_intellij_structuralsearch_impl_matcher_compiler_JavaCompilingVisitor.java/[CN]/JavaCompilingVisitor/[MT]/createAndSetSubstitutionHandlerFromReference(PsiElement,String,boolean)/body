{
  final SubstitutionHandler substitutionHandler=new SubstitutionHandler("__" + referenceText.replace('.','_'),false,classQualifier ? 0 : 1,1,false);
  final boolean caseSensitive=myCompilingVisitor.getContext().getOptions().isCaseSensitiveMatch();
  substitutionHandler.setPredicate(new RegExpPredicate(referenceText.replaceAll("\\.","\\\\."),caseSensitive,null,false,false));
  myCompilingVisitor.getContext().getPattern().setHandler(expr,substitutionHandler);
  return substitutionHandler;
}
