{
  final File file=new File(myProject.getBasePath(),myView.getSchemaSubPath());
  VirtualFile vFile=null;
  if (!file.exists() || (vFile=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(file)) == null) {
    throw new ConfigurationException((!StringUtil.isEmptyOrSpaces(myDisplayName) ? (myDisplayName + ": ") : "") + "Schema file does not exist");
  }
  final String filename=file.getName();
  if (StringUtil.isEmptyOrSpaces(myDisplayName))   throw new ConfigurationException(filename + ": Schema name is empty");
  if (StringUtil.isEmptyOrSpaces(myView.getSchemaSubPath()))   throw new ConfigurationException(filename + ": Schema path is empty");
  final CollectConsumer<String> collectConsumer=new CollectConsumer<>();
  final JsonSchemaService service=JsonSchemaService.Impl.get(myProject);
  if (service != null && !service.isSchemaFile(vFile,collectConsumer)) {
    final String message;
    if (collectConsumer.getResult().isEmpty())     message=filename + ": Can not read JSON schema from file (Unknown reason)";
 else     message=filename + ": Can not read JSON schema from file: " + StringUtil.join(collectConsumer.getResult(),"; ");
    logErrorForUser(message);
    throw new RuntimeConfigurationWarning(message);
  }
}
