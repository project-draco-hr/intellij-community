{
  checkTest(clazz);
  Collection<PsiClass> result=RecursionManager.doPreventingRecursion(clazz,true,new Computable<Collection<PsiClass>>(){
    @Override public Collection<PsiClass> compute(){
      final ArrayList<PsiClass> result=ContainerUtil.newArrayList();
      for (      final AstTransformContributor contributor : EP_NAME.getExtensions()) {
        contributor.collectClasses(clazz,result);
      }
      return result;
    }
  }
);
  return result == null ? Collections.<PsiClass>emptyList() : result;
}
