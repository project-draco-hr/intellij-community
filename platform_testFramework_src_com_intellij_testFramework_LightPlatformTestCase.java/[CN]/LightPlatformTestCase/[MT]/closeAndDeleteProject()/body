{
  if (ourProject != null) {
    ApplicationManager.getApplication().assertWriteAccessAllowed();
    ourApplication.setDataProvider(null);
    ((ProjectImpl)ourProject).setTemporarilyDisposed(false);
    VirtualFile projectFile=((ProjectEx)ourProject).getStateStore().getProjectFile();
    File ioFile=projectFile == null ? null : VfsUtilCore.virtualToIoFile(projectFile);
    if (!ourProject.isDisposed())     Disposer.dispose(ourProject);
    if (ioFile != null) {
      FileUtil.delete(ioFile);
    }
    ProjectManagerEx.getInstanceEx().closeTestProject(ourProject);
    ourProject=null;
    ourPathToKeep=null;
  }
}
