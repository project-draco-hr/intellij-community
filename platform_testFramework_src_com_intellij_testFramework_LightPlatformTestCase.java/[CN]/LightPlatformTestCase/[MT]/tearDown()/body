{
  Project project=getProject();
  CodeStyleSettingsManager.getInstance(project).dropTemporarySettings();
  List<Throwable> errors=checkForSettingsDamage();
  VirtualFilePointerManagerImpl filePointerManager=(VirtualFilePointerManagerImpl)VirtualFilePointerManager.getInstance();
  doTearDown(project,ourApplication,true);
  try {
    super.tearDown();
  }
  finally {
    myThreadTracker.checkLeak();
    InjectedLanguageManagerImpl.checkInjectorsAreDisposed(project);
    filePointerManager.assertPointersAreDisposed();
  }
  CompoundRuntimeException.doThrow(errors);
}
