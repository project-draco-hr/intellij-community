{
  final File brokenMarker=getCorruptionMarkerFile();
  try {
    final ByteArrayOutputStream out=new ByteArrayOutputStream();
    try (PrintStream stream=new PrintStream(out)){
      new Exception().printStackTrace(stream);
      if (reason != null) {
        stream.print("\nReason:\n");
        reason.printStackTrace(stream);
      }
    }
     LOG.info("Creating VFS corruption marker; Trace=\n" + out);
    try (FileWriter writer=new FileWriter(brokenMarker)){
      writer.write("These files are corrupted and must be rebuilt from the scratch on next startup");
    }
   }
 catch (  IOException e) {
  }
}
