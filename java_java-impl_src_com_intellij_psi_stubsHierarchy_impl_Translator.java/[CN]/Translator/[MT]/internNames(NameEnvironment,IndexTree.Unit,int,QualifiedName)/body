{
  ClassDeclaration[] classes=new ClassDeclaration[unit.myDecls.length];
  for (int i=0; i < unit.myDecls.length; i++) {
    classes[i]=processClassDecl(nameEnvironment,fileId,unit.myDecls[i]);
  }
  long[] imports=unit.imports.length == 0 ? Import.EMPTY_ARRAY : new long[unit.imports.length];
  for (int i=0; i < unit.imports.length; i++) {
    imports[i]=processImport(nameEnvironment,unit.imports[i]);
  }
  return new Unit(pkg,imports,classes,unit.myUnitType);
}
