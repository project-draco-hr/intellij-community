{
  PyIfStatement ifStatement=PyElementGenerator.getInstance(project).createFromText(LanguageLevel.getDefault(),PyIfStatement.class,"if True:\n    pass\nelse:    pass\n");
  final PsiElement parent=elements[0].getParent();
  final PyStatementList statementList=ifStatement.getIfPart().getStatementList();
  statementList.addRange(elements[0],elements[elements.length - 1]);
  statementList.deleteChildRange(statementList.getFirstChild(),statementList.getFirstChild());
  ifStatement=(PyIfStatement)parent.addBefore(ifStatement,elements[0]);
  parent.deleteChildRange(elements[0],elements[elements.length - 1]);
  ifStatement=CodeInsightUtilCore.forcePsiPostprocessAndRestoreElement(ifStatement);
  if (ifStatement == null) {
    return null;
  }
  return ifStatement.getTextRange();
}
