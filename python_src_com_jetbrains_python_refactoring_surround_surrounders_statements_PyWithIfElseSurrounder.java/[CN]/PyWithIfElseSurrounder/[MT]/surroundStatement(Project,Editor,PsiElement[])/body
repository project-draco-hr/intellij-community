{
  PyIfStatement ifStatement=PythonLanguage.getInstance().getElementGenerator().createFromText(project,PyIfStatement.class,"if True:\n    \nelse:\n");
  final PsiElement parent=elements[0].getParent();
  ifStatement.getIfPart().addRange(elements[0],elements[elements.length - 1]);
  ifStatement=(PyIfStatement)parent.addBefore(ifStatement,elements[0]);
  parent.deleteChildRange(elements[0],elements[elements.length - 1]);
  ifStatement=CodeInsightUtilBase.forcePsiPostprocessAndRestoreElement(ifStatement);
  if (ifStatement == null) {
    return null;
  }
  return ifStatement.getTextRange();
}
