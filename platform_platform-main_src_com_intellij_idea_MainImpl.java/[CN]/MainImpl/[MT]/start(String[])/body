{
  System.setProperty(PlatformUtilsCore.PLATFORM_PREFIX_KEY,PlatformUtils.getPlatformPrefix(PlatformUtils.COMMUNITY_PREFIX));
  if (!Main.isHeadless()) {
    AppUIUtil.updateFrameClass();
    AppUIUtil.updateWindowIcon(JOptionPane.getRootFrame());
    AppUIUtil.registerBundledFonts();
    boolean isNewConfigFolder=PathManager.ensureConfigFolderExists(true);
    if (isNewConfigFolder) {
      ConfigImportHelper.importConfigsTo(PathManager.getConfigPath());
    }
  }
  if (!StartupUtil.checkStartupPossible(args)) {
    System.exit(Main.STARTUP_IMPOSSIBLE);
  }
  Logger.setFactory(LoggerFactory.getInstance());
  Logger LOG=Logger.getInstance(LOG_CATEGORY);
  StartupUtil.startLogging(LOG);
  System.setProperty("sun.swing.enableImprovedDragGesture","");
  StartupUtil.fixProcessEnvironment(LOG);
  StartupUtil.loadSystemLibraries(LOG);
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      try {
        new IdeaApplication(args).run();
      }
 catch (      PluginManager.StartupAbortedException e) {
        throw e;
      }
catch (      Throwable t) {
        throw new PluginManager.StartupAbortedException(t);
      }
    }
  }
);
}
