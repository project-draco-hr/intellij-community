{
  Intersection result=null;
  if (!ContainerUtil.isEmpty(changeListsToMerge)) {
    final Set<FilePath> pathsToMerge=collectPaths(changeListsToMerge);
    result=getChangesIntersection(localChangeLists,new Condition<Change>(){
      @Override public boolean value(      Change change){
        return notNullAndInSet(ChangesUtil.getBeforePath(change),pathsToMerge) || notNullAndInSet(ChangesUtil.getAfterPath(change),pathsToMerge);
      }
    }
);
  }
  return result;
}
