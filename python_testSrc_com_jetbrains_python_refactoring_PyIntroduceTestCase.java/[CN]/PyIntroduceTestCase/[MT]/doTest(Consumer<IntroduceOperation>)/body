{
  myFixture.configureByFile(getTestName(true) + ".py");
  boolean inplaceEnabled=myFixture.getEditor().getSettings().isVariableInplaceRenameEnabled();
  try {
    myFixture.getEditor().getSettings().setVariableInplaceRenameEnabled(false);
    IntroduceHandler handler=createHandler();
    final IntroduceOperation operation=new IntroduceOperation(myFixture.getProject(),myFixture.getEditor(),myFixture.getFile(),"a",false,false);
    operation.setReplaceAll(true);
    if (customization != null) {
      customization.consume(operation);
    }
    handler.performAction(operation);
    myFixture.checkResultByFile(getTestName(true) + ".after.py");
  }
  finally {
    myFixture.getEditor().getSettings().setVariableInplaceRenameEnabled(inplaceEnabled);
  }
}
