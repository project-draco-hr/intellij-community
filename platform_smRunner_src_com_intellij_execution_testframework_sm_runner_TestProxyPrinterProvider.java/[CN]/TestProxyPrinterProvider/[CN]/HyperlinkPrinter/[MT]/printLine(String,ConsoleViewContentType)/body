{
  Filter.Result result;
  try {
    result=myFilter.applyFilter(line,line.length());
  }
 catch (  Throwable t) {
    throw new RuntimeException("Error while applying " + myFilter + " to '"+ line+ "'",t);
  }
  if (result != null) {
    for (    Filter.ResultItem item : result.getResultItems()) {
      defaultPrint(line.substring(0,item.getHighlightStartOffset()),contentType);
      String linkText=line.substring(item.getHighlightStartOffset(),item.getHighlightEndOffset());
      printHyperlink(linkText,item.getHyperlinkInfo());
      defaultPrint(line.substring(item.getHighlightEndOffset()),contentType);
    }
  }
 else {
    defaultPrint(line,contentType);
  }
}
