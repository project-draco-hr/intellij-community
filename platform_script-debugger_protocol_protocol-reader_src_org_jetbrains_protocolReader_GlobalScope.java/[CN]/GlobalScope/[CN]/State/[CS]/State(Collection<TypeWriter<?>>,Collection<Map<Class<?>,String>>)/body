{
  this.basePackages=basePackages;
  int uniqueCode=0;
  Map<TypeWriter<?>,String> result=new THashMap<>(typeWriters.size());
  for (  TypeWriter<?> handler : typeWriters) {
    String conflict=result.put(handler,Util.TYPE_NAME_PREFIX + Integer.toString(uniqueCode++));
    if (conflict != null) {
      throw new RuntimeException();
    }
  }
  typeToName=result;
}
