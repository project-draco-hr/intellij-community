{
  super(module.getProject(),true);
  myDefaultLibraryPaths=defaultLibraryPaths;
  setTitle(QuickFixBundle.message("add.library.title.dialog",presentableName));
  myProject=module.getProject();
  myUseBundledRadioButton.setText(QuickFixBundle.message("add.library.use.bundled.library.radio.button",presentableName,ApplicationNamesInfo.getInstance().getFullProductName()));
  myCopyLibraryFilesRadioButton.setText(QuickFixBundle.message("add.library.copy.files.to.radio.button",presentableName));
  myCopyToDir.setText(new File(new File(module.getModuleFilePath()).getParent(),"lib").getAbsolutePath());
  myCopyToDir.addBrowseFolderListener(QuickFixBundle.message("add.library.title.choose.folder"),QuickFixBundle.message("add.library.description.choose.folder"),myProject,FileChooserDescriptorFactory.createSingleFolderDescriptor());
  final ItemListener listener=new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      updateButtons();
    }
  }
;
  myUseBundledRadioButton.addItemListener(listener);
  myCopyLibraryFilesRadioButton.addItemListener(listener);
  myCopyToDir.getTextField().getDocument().addDocumentListener(new DocumentAdapter(){
    @Override protected void textChanged(    DocumentEvent e){
      updateButtons();
    }
  }
);
  updateButtons();
  init();
}
