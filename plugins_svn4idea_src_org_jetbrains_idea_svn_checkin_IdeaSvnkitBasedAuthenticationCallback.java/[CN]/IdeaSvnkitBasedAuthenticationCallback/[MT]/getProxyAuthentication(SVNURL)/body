{
  Proxy proxy=getIdeaDefinedProxy(repositoryUrl);
  PasswordAuthentication result=null;
  if (proxy != null) {
    if (myProxyCredentialsWereReturned) {
      showFailedAuthenticateProxy();
    }
 else {
      result=getProxyAuthentication(proxy,repositoryUrl);
      myProxyCredentialsWereReturned=result != null;
    }
  }
  return result;
}
