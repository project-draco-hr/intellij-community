{
  final String templateName=PropertiesComponent.getInstance().getValue(PROJECT_WIZARD_TEMPLATE);
  if (templateName != null) {
    List<ProjectTemplate> list=((CollectionListModel<ProjectTemplate>)myList.getModel()).toList();
    ProjectTemplate template=ContainerUtil.find(list,new Condition<ProjectTemplate>(){
      @Override public boolean value(      ProjectTemplate template){
        return templateName.equals(template.getName());
      }
    }
);
    if (template != null) {
      myList.setSelectedValue(template,true);
    }
  }
  myList.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      ProjectTemplate template=getSelectedTemplate();
      if (template != null) {
        PropertiesComponent.getInstance().setValue(PROJECT_WIZARD_TEMPLATE,template.getName());
      }
    }
  }
);
}
