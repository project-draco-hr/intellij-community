{
  PsiElement sourceFile=PyUtil.turnDirIntoInit(source);
  if (sourceFile instanceof PyFileImpl) {
    seenFileNames.add(importElement.getImportReferenceExpression().getReferencedName());
    PyFileImpl importSourceFile=(PyFileImpl)sourceFile;
    PsiElement res=importSourceFile.findExportedName(refText);
    if (res != null && !(res instanceof PyFile) && !(res instanceof PyImportElement) && PsiTreeUtil.isAncestor(source,res.getContainingFile(),false)) {
      existingImportFile=importSourceFile;
      fix.addImport(res,importSourceFile,importElement);
    }
  }
  return existingImportFile;
}
