{
  List<PsiElement> result=new ArrayList<PsiElement>();
  PsiFile[] files=FilenameIndex.getFilesByName(project,reftext + ".py",scope);
  for (  PsiFile file : files) {
    PsiDirectory parent=file.getParent();
    if (parent != null && (parent.findFile(PyNames.INIT_DOT_PY) != null || ImportFromExistingAction.isRoot(project,parent) || parent == targetFile.getParent())) {
      result.add(file);
    }
  }
  PsiFile[] initFiles=FilenameIndex.getFilesByName(project,PyNames.INIT_DOT_PY,scope);
  for (  PsiFile initFile : initFiles) {
    PsiDirectory parent=initFile.getParent();
    if (parent != null && parent.getName().equals(reftext)) {
      result.add(parent);
    }
  }
  return result;
}
