{
  Set<String> ident_set=new HashSet<String>();
  collectIdentifiers(file,ident_set);
  if (!ident_set.contains(ref_name))   return null;
  String path_name=import_path.join("_");
  if (!ident_set.contains(path_name))   return path_name;
  for (  String prefix : AS_PREFIXES) {
    String variant=prefix + path_name;
    if (!ident_set.contains(variant))     return variant;
  }
  int cnt=1;
  while (cnt < Integer.MAX_VALUE) {
    String variant=path_name + Integer.toString(cnt);
    if (!ident_set.contains(variant))     return variant;
    cnt+=1;
  }
  return "SHOOSHPANCHICK";
}
