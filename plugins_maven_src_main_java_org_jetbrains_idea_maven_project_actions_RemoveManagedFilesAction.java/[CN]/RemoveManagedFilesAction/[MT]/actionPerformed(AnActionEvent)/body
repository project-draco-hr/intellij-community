{
  final DataContext context=e.getDataContext();
  MavenProjectsManager projectsManager=MavenActionUtil.getProjectsManager(context);
  if (projectsManager == null)   return;
  List<VirtualFile> selectedFiles=MavenActionUtil.getMavenProjectsFiles(context);
  List<VirtualFile> removableFiles=new ArrayList<VirtualFile>();
  for (  VirtualFile pomXml : selectedFiles) {
    if (projectsManager.isManagedFile(pomXml)) {
      removableFiles.add(pomXml);
    }
 else {
      notifyUserIfNeeded(context,projectsManager,selectedFiles,pomXml);
    }
  }
  projectsManager.removeManagedFiles(removableFiles);
}
