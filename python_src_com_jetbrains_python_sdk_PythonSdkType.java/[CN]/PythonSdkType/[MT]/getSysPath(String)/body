{
  String working_dir=new File(bin_path).getParent();
  Application application=ApplicationManager.getApplication();
  if (application != null && !application.isUnitTestMode()) {
    final List<String> paths=getSysPathsFromScript(bin_path);
    if (paths == null)     throw new InvalidSdkException("Failed to determine Python's sys.path value");
    return paths;
  }
 else {
    List<String> ret=new ArrayList<String>(1);
    ret.add(working_dir);
    return ret;
  }
}
