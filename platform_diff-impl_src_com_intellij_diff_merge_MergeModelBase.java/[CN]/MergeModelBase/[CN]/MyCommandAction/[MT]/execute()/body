{
  LOG.assertTrue(myCurrentCommand == null);
  myCurrentCommand=this;
  enterBulkChangeUpdateBlock();
  registerUndoRedo(true);
  try {
    myTask.run();
  }
  finally {
    registerUndoRedo(false);
    exitBulkChangeUpdateBlock();
    myCurrentCommand=null;
  }
}
