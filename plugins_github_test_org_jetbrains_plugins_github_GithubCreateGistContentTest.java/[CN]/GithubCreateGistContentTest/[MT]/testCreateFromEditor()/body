{
  VirtualFile file=myProjectRoot.findFileByRelativePath("file.txt");
  assertNotNull(file);
  Editor editor=FileEditorManager.getInstance(myProject).openTextEditor(new OpenFileDescriptor(myProject,file,0),false);
  assertNotNull(editor);
  ((EditorImpl)editor).setCaretActive();
  Map<String,String> expected=new HashMap<String,String>();
  expected.put("file.txt","file.txt content");
  Map<String,String> actual=GithubCreateGistAction.collectContents(myProject,editor,file,null);
  checkEquals(expected,actual);
}
