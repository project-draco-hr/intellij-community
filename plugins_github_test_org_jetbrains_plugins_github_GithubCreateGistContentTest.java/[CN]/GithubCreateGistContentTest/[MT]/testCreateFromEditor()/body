{
  VirtualFile file=myProjectRoot.findFileByRelativePath("file.txt");
  assertNotNull(file);
  Editor editor=FileEditorManager.getInstance(myProject).openTextEditor(new OpenFileDescriptor(myProject,file,0),false);
  assertNotNull(editor);
  ((EditorImpl)editor).setCaretActive();
  List<NamedContent> expected=new ArrayList<NamedContent>();
  expected.add(new NamedContent("file.txt","file.txt content"));
  List<NamedContent> actual=GithubCreateGistAction.collectContents(myProject,editor,file,null);
  checkEquals(expected,actual);
}
