{
  VirtualFile file=myProjectRoot.findFileByRelativePath("file.txt");
  assertNotNull(file);
  Editor editor=FileEditorManager.getInstance(myProject).openTextEditor(new OpenFileDescriptor(myProject,file,0),false);
  assertNotNull(editor);
  ((EditorImpl)editor).setCaretActive();
  List<FileContent> expected=new ArrayList<FileContent>();
  expected.add(new FileContent("file.txt","file.txt content"));
  List<FileContent> actual=GithubCreateGistAction.collectContents(myProject,editor,file,null);
  checkEquals(expected,actual);
}
