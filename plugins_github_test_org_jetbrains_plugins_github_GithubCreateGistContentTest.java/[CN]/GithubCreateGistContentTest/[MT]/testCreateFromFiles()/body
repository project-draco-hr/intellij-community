{
  Map<String,String> expected=new HashMap<String,String>();
  expected.put("file.txt","file.txt content");
  expected.put("file2","file2 content");
  expected.put("file3","file3 content");
  VirtualFile[] files=new VirtualFile[3];
  files[0]=myProjectRoot.findFileByRelativePath("file.txt");
  files[1]=myProjectRoot.findFileByRelativePath("folder/file2");
  files[2]=myProjectRoot.findFileByRelativePath("folder/dir/file3");
  assertNotNull(files[0]);
  assertNotNull(files[1]);
  assertNotNull(files[2]);
  Map<String,String> actual=GithubCreateGistAction.collectContents(myProject,null,null,files);
  checkEquals(expected,actual);
}
