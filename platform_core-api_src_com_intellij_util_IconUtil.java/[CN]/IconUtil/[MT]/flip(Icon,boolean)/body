{
  return new Icon(){
    @Override public void paintIcon(    Component c,    Graphics g,    int x,    int y){
      Graphics2D g2d=(Graphics2D)g.create();
      try {
        AffineTransform transform=AffineTransform.getTranslateInstance(horizontal ? x + getIconWidth() : x,horizontal ? y : y + getIconHeight());
        transform.concatenate(AffineTransform.getScaleInstance(horizontal ? -1 : 1,horizontal ? 1 : -1));
        transform.preConcatenate(g2d.getTransform());
        g2d.setTransform(transform);
        icon.paintIcon(c,g2d,0,0);
      }
  finally {
        g2d.dispose();
      }
    }
    @Override public int getIconWidth(){
      return icon.getIconWidth();
    }
    @Override public int getIconHeight(){
      return icon.getIconHeight();
    }
  }
;
}
