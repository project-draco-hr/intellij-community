{
  int oldtype=edge.getType();
  if (oldtype == newtype) {
    return;
  }
  if (oldtype == StatEdge.TYPE_EXCEPTION || newtype == StatEdge.TYPE_EXCEPTION) {
    throw new RuntimeException("Invalid edge type!");
  }
  removeEdgeDirectInternal(direction,edge,oldtype);
  addEdgeDirectInternal(direction,edge,newtype);
  if (direction == DIRECTION_FORWARD) {
    edge.getDestination().changeEdgeType(DIRECTION_BACKWARD,edge,newtype);
  }
  edge.setType(newtype);
}
