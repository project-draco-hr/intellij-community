{
  final Project project=context.getProject();
  Module module=context.getModule();
  if (module == null) {
    final Collection<IdeaPlugin> plugins=IdeaPluginConverter.getAllPlugins(project);
    return processPlugins(plugins,processor);
  }
  final Collection<IdeaPlugin> modulePlugins=IdeaPluginConverter.getPlugins(project,module.getModuleScope(false));
  if (!processPlugins(modulePlugins,processor))   return false;
  final Collection<IdeaPlugin> dependenciesAndLibs=IdeaPluginConverter.getPlugins(project,module.getModuleWithDependenciesAndLibrariesScope(false));
  return processPlugins(dependenciesAndLibs,processor);
}
