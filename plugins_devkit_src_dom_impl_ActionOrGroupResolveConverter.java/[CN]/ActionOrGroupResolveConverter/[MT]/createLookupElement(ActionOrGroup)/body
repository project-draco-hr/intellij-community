{
  if (actionOrGroup instanceof Action) {
    Action action=(Action)actionOrGroup;
    String msg=action.getId().getStringValue() + " in " + DomUtil.getFile(action)+ " "+ action.isValid()+ " ";
    DomImplUtil.assertValidity(action,msg);
    final PsiElement element=getPsiElement(actionOrGroup);
    if (element == null) {
      throw new IllegalStateException("no PSI: " + msg);
    }
    LookupElementBuilder builder=LookupElementBuilder.create(ObjectUtils.assertNotNull(element),ObjectUtils.assertNotNull(getName(action)));
    final String text=action.getText().getStringValue();
    if (StringUtil.isNotEmpty(text)) {
      String withoutMnemonic=StringUtil.replace(text,"_","");
      builder=builder.withTailText(" \"" + withoutMnemonic + "\"",true);
    }
    return builder;
  }
  return super.createLookupElement(actionOrGroup);
}
