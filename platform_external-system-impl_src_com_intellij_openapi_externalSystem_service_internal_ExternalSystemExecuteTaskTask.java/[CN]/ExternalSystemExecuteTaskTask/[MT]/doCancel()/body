{
  final ExternalSystemFacadeManager manager=ServiceManager.getService(ExternalSystemFacadeManager.class);
  RemoteExternalSystemFacade facade=manager.getFacade(getIdeProject(),getExternalProjectPath(),getExternalSystemId());
  RemoteExternalSystemTaskManager taskManager=facade.getTaskManager();
  setState(ExternalSystemTaskState.CANCELING);
  try {
    taskManager.cancelTask(getId());
  }
  finally {
    setState(ExternalSystemTaskState.CANCELED);
  }
}
