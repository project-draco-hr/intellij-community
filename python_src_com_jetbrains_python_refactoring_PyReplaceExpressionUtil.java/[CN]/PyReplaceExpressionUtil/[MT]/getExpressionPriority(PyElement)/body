{
  int priority=0;
  if (expr instanceof PySubscriptionExpression || expr instanceof PySliceExpression || expr instanceof PyCallExpression)   priority=1;
  if (expr instanceof PyPrefixExpression) {
    final IElementType opType=getOperationType(expr);
    if (opType == PLUS || opType == MINUS || opType == TILDE)     priority=2;
    if (opType == NOT_KEYWORD)     priority=10;
  }
  if (expr instanceof PyBinaryExpression) {
    final IElementType opType=getOperationType(expr);
    if (opType == EXP)     priority=3;
    if (opType == MULT || opType == DIV || opType == PERC)     priority=4;
    if (opType == PLUS || opType == MINUS)     priority=5;
    if (opType == LTLT || opType == GTGT)     priority=6;
    if (opType == AND)     priority=7;
    if (opType == OR)     priority=8;
    if (COMPARISON_OPERATIONS.contains(opType))     priority=9;
    if (opType == AND_KEYWORD)     priority=11;
  }
  if (expr instanceof PyLambdaExpression)   priority=12;
  return -priority;
}
