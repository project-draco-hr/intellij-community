{
switch (state) {
case ALL_LOG_READER:
    throw new IllegalStateException("data was read");
case UNINITIALIZED:
  MyTimer timer=new MyTimer("Read all history");
dataPack=DataPackImpl.buildDataPack(myLogProvider.readNextBlock(root),myLogProvider.readAllRefs(root),indicator,myProject,myCommitDataCache,myLogProvider,root);
timer.print();
state=State.PART_LOG_READER;
break;
case PART_LOG_READER:
List<? extends VcsCommit> nextPart=myLogProvider.readNextBlock(root);
dataPack.appendCommits(nextPart);
break;
default :
throw new IllegalStateException();
}
}
