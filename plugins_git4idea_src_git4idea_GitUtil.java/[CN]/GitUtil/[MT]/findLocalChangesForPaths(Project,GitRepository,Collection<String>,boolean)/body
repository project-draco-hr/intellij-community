{
  List<Change> affectedChanges=new ArrayList<Change>();
  for (  String path : affectedPaths) {
    String absolutePath=relativePaths ? toAbsolute(repository.getRoot(),path) : path;
    VirtualFile file=findRefreshFileOrLog(absolutePath);
    if (file != null) {
      Change change=ChangeListManager.getInstance(project).getChange(file);
      if (change != null) {
        affectedChanges.add(change);
      }
 else {
        LOG.warn("Change is not found for " + file.getPath());
      }
    }
  }
  return affectedChanges;
}
