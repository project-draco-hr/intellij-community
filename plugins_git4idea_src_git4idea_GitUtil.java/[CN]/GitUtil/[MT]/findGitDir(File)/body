{
  File dotGit=new File(rootDir,DOT_GIT);
  if (!dotGit.exists())   return null;
  if (dotGit.isDirectory()) {
    boolean headExists=new File(dotGit,HEAD_FILE).exists();
    return headExists ? dotGit : null;
  }
  String content=DvcsUtil.tryLoadFileOrReturn(dotGit,null,CharsetToolkit.UTF8);
  if (content == null)   return null;
  String pathToDir=parsePathToRepository(content);
  return findSubmoduleRepositoryDir(rootDir.getPath(),pathToDir);
}
