{
  GrExpression[] lValues=tupleExpression.getExpressions();
  if (initializer instanceof GrListOrMap) {
    GrExpression[] initializers=((GrListOrMap)initializer).getInitializers();
    for (int i=0; i < lValues.length; i++) {
      GrExpression lValue=lValues[i];
      if (initializers.length >= i)       break;
      GrExpression rValue=initializers[i];
      checkAssignment(lValue,rValue);
    }
  }
 else {
    PsiType type=initializer.getType();
    PsiType rType=com.intellij.psi.util.PsiUtil.extractIterableTypeParameter(type,false);
    for (    GrExpression lValue : lValues) {
      PsiType lType=lValue.getNominalType();
      if (GroovyRefactoringUtil.isSpreadAssignment(lValue)) {
        final PsiType argType=extractIterableArg(lType);
        if (argType != null && rType != null) {
          checkAssignability(argType,rType,tupleExpression,getExpressionPartToHighlight(lValue));
        }
        return;
      }
      if (lValue instanceof GrReferenceExpression && ((GrReferenceExpression)lValue).resolve() instanceof GrReferenceExpression) {
        return;
      }
      if (lType != null && rType != null) {
        checkAssignability(lType,rType,tupleExpression,getExpressionPartToHighlight(lValue));
      }
    }
  }
}
