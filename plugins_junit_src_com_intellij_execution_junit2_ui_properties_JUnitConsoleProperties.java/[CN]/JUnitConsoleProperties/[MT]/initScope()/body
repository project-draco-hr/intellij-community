{
  final JUnitConfiguration.Data persistentData=myConfiguration.getPersistentData();
  final String testObject=persistentData.TEST_OBJECT;
  if (JUnitConfiguration.TEST_CATEGORY.equals(testObject) || JUnitConfiguration.TEST_PATTERN.equals(testObject) || JUnitConfiguration.TEST_PACKAGE.equals(testObject)) {
    final SourceScope sourceScope=persistentData.getScope().getSourceScope(myConfiguration);
    return sourceScope != null ? sourceScope.getGlobalSearchScope() : GlobalSearchScope.allScope(getProject());
  }
 else {
    return super.initScope();
  }
}
