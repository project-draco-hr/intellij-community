{
  return ObsolescentAsyncResults.consume(value.getProperties(),node,new PairConsumer<List<Variable>,XCompositeNode>(){
    @Override public void consume(    List<Variable> variables,    XCompositeNode node){
      if (value.getType() == ValueType.ARRAY && !(value instanceof ArrayValue)) {
        computeArrayRanges(variables,node);
        return;
      }
      FunctionValue functionValue=value instanceof FunctionValue ? (FunctionValue)value : null;
      if (functionValue != null && functionValue.hasScopes() == ThreeState.NO) {
        functionValue=null;
      }
      remainingChildren=Variables.sortFilterAndAddValueList(variables,node,VariableView.this,XCompositeNode.MAX_CHILDREN_TO_SHOW,functionValue == null);
      if (remainingChildren != null) {
        remainingChildrenOffset=XCompositeNode.MAX_CHILDREN_TO_SHOW;
      }
      if (functionValue != null) {
        node.addChildren(XValueChildrenList.bottomGroup(new FunctionScopesValueGroup(functionValue,context)),isLastChildren);
      }
    }
  }
);
}
