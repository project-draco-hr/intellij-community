{
  TableColumn column=getColumnModel().getColumn(columnToPack);
  int currentWidth=column.getWidth();
  int expandedWidth=getExpandedColumnWidth(columnToPack);
  int newWidth=getColumnModel().getColumnMargin() + (currentWidth >= expandedWidth ? getPreferredHeaderWidth(columnToPack) : expandedWidth);
  setResizingColumn(column);
  column.setWidth(newWidth);
  Dimension tableSize=JBTable.this.getSize();
  tableSize.width+=newWidth - column.getWidth();
  JBTable.this.setSize(tableSize);
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      setResizingColumn(null);
    }
  }
);
}
