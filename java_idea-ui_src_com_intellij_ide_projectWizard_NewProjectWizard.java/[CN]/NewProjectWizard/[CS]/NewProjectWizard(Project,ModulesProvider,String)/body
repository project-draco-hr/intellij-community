{
  super(project == null ? IdeBundle.message("title.new.project") : IdeBundle.message("title.add.module"),project,defaultPath);
  myWizardContext.setNewWizard(true);
  mySequence=new StepSequence();
  ProjectTypeStep projectTypeStep=new ProjectTypeStep(myWizardContext,this,modulesProvider);
  mySequence.addCommonStep(projectTypeStep);
  mySequence.addCommonStep(new ChooseTemplateStep(myWizardContext,projectTypeStep));
  mySequence.addCommonFinishingStep(new ProjectSettingsStep(myWizardContext),null);
  for (  ModuleWizardStep step : mySequence.getAllSteps()) {
    addStep(step);
  }
  init();
}
