{
  if (myIsDisposed || myIsDuringUpdate)   return;
  List<VcsFileRevision> selected=myList.getSelectedObjects();
  if (selected.isEmpty()) {
    myDiffPanel.setRequest(NoDiffRequest.INSTANCE);
  }
 else   if (selected.size() == 1) {
    VcsFileRevision revision=selected.get(0);
    int index=myRevisions.indexOf(revision);
    myDiffPanel.setRequest(createDiffRequest(index + 1,index));
  }
 else {
    VcsFileRevision revision1=selected.get(0);
    VcsFileRevision revision2=selected.get(selected.size() - 1);
    myDiffPanel.setRequest(createDiffRequest(myRevisions.indexOf(revision2) + 1,myRevisions.indexOf(revision1)));
  }
}
