{
  final PsiElement location=context.getPsiLocation();
  final PsiClass aClass=ApplicationConfigurationType.getMainClass(location);
  if (aClass != null && Comparing.equal(JavaExecutionUtil.getRuntimeQualifiedName(aClass),configuration.MAIN_CLASS_NAME)) {
    final VirtualFile scratchFile=configuration.getScratchVirtualFile();
    if (scratchFile != null) {
      final PsiFile containingFile=aClass.getContainingFile();
      if (containingFile != null && scratchFile.equals(containingFile.getVirtualFile())) {
        return true;
      }
    }
  }
  return false;
}
