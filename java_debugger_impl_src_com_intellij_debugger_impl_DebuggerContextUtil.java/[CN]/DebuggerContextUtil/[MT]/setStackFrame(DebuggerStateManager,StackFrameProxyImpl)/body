{
  ApplicationManager.getApplication().assertIsDispatchThread();
  final DebuggerContextImpl context=manager.getContext();
  if (context == null) {
    return;
  }
  final DebuggerSession session=context.getDebuggerSession();
  SuspendContextImpl threadSuspendContext=SuspendManagerUtil.getSuspendContextForThread(context.getSuspendContext(),stackFrame.threadProxy());
  final DebuggerContextImpl newContext=DebuggerContextImpl.createDebuggerContext(session,threadSuspendContext,stackFrame.threadProxy(),stackFrame);
  manager.setState(newContext,session != null ? session.getState() : DebuggerSession.State.DISPOSED,DebuggerSession.Event.REFRESH,null);
}
