{
  MutableCommit commit=cache.pop(data.getHash());
  Commit mainParent=cache.get(data.getMainParentHash());
  Commit secondParent=cache.get(data.getSecondParentHash());
  commit.set(data,mainParent,secondParent,commits.size());
  commits.add(commit);
}
