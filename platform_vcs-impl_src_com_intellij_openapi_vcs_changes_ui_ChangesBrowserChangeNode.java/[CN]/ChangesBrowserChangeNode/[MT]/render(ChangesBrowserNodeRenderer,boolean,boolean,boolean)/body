{
  Change change=getUserObject();
  FilePath filePath=ChangesUtil.getFilePath(change);
  VirtualFile file=filePath.getVirtualFile();
  if (myDecorator != null) {
    myDecorator.preDecorate(change,renderer,renderer.isShowFlatten());
  }
  renderer.appendFileName(file,filePath.getName(),change.getFileStatus().getColor());
  String originText=change.getOriginText(myProject);
  if (originText != null) {
    renderer.append(spaceAndThinSpace() + originText,SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
  if (renderer.isShowFlatten()) {
    FilePath parentPath=filePath.getParentPath();
    if (parentPath != null) {
      renderer.append(spaceAndThinSpace() + FileUtil.getLocationRelativeToUserHome(parentPath.getPath()),SimpleTextAttributes.GRAYED_ATTRIBUTES);
    }
    appendSwitched(renderer,file);
  }
 else   if (getCount() != 1 || getDirectoryCount() != 0) {
    appendSwitched(renderer,file);
    appendCount(renderer);
  }
 else {
    appendSwitched(renderer,file);
  }
  renderer.setIcon(getIcon(change,filePath));
  if (myDecorator != null) {
    myDecorator.decorate(change,renderer,renderer.isShowFlatten());
  }
}
