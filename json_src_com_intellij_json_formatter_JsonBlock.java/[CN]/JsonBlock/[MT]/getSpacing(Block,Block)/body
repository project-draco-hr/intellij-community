{
  final CommonCodeStyleSettings commonSettings=getCommonSettings();
  final IElementType leftChildType=child1 instanceof JsonBlock ? ((JsonBlock)child1).myNode.getElementType() : null;
  final IElementType rightChildType=child2 instanceof JsonBlock ? ((JsonBlock)child2).myNode.getElementType() : null;
  if (leftChildType != null && rightChildType != null) {
    if (JSON_BRACES.contains(leftChildType) ^ JSON_BRACES.contains(rightChildType)) {
      final int numSpaces=commonSettings.SPACE_WITHIN_BRACES ? 1 : 0;
      return Spacing.createDependentLFSpacing(numSpaces,numSpaces,myNode.getTextRange(),commonSettings.KEEP_LINE_BREAKS,commonSettings.KEEP_BLANK_LINES_IN_CODE);
    }
 else     if (JSON_BRACKETS.contains(leftChildType) ^ JSON_BRACKETS.contains(rightChildType)) {
      final int numSpaces=commonSettings.SPACE_WITHIN_BRACKETS ? 1 : 0;
      return Spacing.createDependentLFSpacing(numSpaces,numSpaces,myNode.getTextRange(),commonSettings.KEEP_LINE_BREAKS,commonSettings.KEEP_BLANK_LINES_IN_CODE);
    }
  }
  return mySpacingBuilder.getSpacing(this,child1,child2);
}
