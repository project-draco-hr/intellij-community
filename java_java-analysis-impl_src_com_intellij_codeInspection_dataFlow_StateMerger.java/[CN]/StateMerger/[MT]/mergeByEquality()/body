{
  for (  final DfaMemoryStateImpl state : myStates) {
    ProgressManager.checkCanceled();
    MultiMap<DfaVariableValue,DfaValue> distincts=getDistinctsMap(state);
    for (    DfaVariableValue var : distincts.keySet()) {
      Map<DfaValue,Collection<DfaMemoryStateImpl>> statesByValue=getCompatibleStatesByValue(state,var,distincts);
      if (statesByValue == null) {
        continue;
      }
      final Set<DfaMemoryStateImpl> complementaryStates=findComplementaryStates(var,statesByValue,state);
      if (complementaryStates == null) {
        continue;
      }
      DfaMemoryStateImpl copy=copyWithoutVar(state,var).createCopy();
      complementaryStates.add(state);
      postProcessMergedState(var,copy,complementaryStates);
      return getMergeResult(copy,complementaryStates);
    }
  }
  return null;
}
