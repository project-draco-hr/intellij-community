{
  if (myTagMode && element instanceof XmlTag) {
    return getTagReferences(((XmlTag)element));
  }
  if (element instanceof XmlAttributeValue) {
    final XmlAttribute xmlAttribute=(XmlAttribute)element.getParent();
    if (element.getTextLength() < 2) {
      return PsiReference.EMPTY_ARRAY;
    }
    final XmlTag tag=xmlAttribute.getParent();
    String value=null;
    String bundle=tag.getAttributeValue("bundle");
    if ("key".equals(xmlAttribute.getName())) {
      value=xmlAttribute.getValue();
    }
 else     if (myFallbackKeyName.equals(xmlAttribute.getName())) {
      value=xmlAttribute.getValue();
      final String groupBundle=tag.getAttributeValue(myFallbackGroupName);
      if (groupBundle != null) {
        bundle=groupBundle;
      }
    }
    if (value != null) {
      return new PsiReference[]{new MyPropertyReference(value,xmlAttribute.getValueElement(),bundle)};
    }
  }
  return PsiReference.EMPTY_ARRAY;
}
