{
  final Course course=StudyTaskManager.getInstance(myProject).getCourse();
  if (course != null) {
    final ToolWindow toolWindow=ToolWindowManager.getInstance(myProject).getToolWindow(StudyToolWindowFactory.STUDY_TOOL_WINDOW);
    if (toolWindow != null) {
      toolWindow.getContentManager().removeAllContents(false);
    }
    final ToolWindow progressToolWindow=ToolWindowManager.getInstance(myProject).getToolWindow(StudyProgressToolWindowFactory.ID);
    if (progressToolWindow != null) {
      progressToolWindow.getContentManager().removeAllContents(false);
    }
    KeymapManagerEx keymapManager=KeymapManagerEx.getInstanceEx();
    for (    Keymap keymap : keymapManager.getAllKeymaps()) {
      List<Pair<String,String>> pairs=myDeletedShortcuts.get(keymap);
      if (pairs != null && !pairs.isEmpty()) {
        for (        Pair<String,String> actionShortcut : pairs) {
          keymap.addShortcut(actionShortcut.first,new KeyboardShortcut(KeyStroke.getKeyStroke(actionShortcut.second),null));
        }
      }
    }
  }
  myListener=null;
}
