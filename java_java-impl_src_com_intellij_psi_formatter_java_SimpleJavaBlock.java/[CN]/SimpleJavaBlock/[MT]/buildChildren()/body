{
  myCurrentChild=myNode.getFirstChildNode();
  myCurrentOffset=myStartOffset;
  if (myCurrentOffset == -1) {
    myCurrentOffset=myCurrentChild != null ? myCurrentChild.getTextRange().getStartOffset() : 0;
  }
  final List<Block> result=new ArrayList<Block>();
  myCurrentIndent=null;
  processHeadCommentsAndWhiteSpaces(result);
  calculateReservedAlignments();
  Wrap childWrap=createChildWrap();
  processRemainingChildren(result,childWrap);
  return result;
}
