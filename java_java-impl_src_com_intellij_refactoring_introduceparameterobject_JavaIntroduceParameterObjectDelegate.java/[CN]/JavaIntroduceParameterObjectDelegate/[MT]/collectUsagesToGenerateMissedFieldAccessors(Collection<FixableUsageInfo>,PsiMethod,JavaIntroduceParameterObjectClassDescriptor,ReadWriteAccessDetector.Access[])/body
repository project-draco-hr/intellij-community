{
  final ParameterInfoImpl[] parameterInfos=descriptor.getParamsToMerge();
  final PsiClass existingClass=descriptor.getExistingClass();
  final boolean useExisting=descriptor.isGenerateAccessors() || !(descriptor.isUseExistingClass() && existingClass != null);
  final PsiParameter[] psiParameters=method.getParameterList().getParameters();
  for (int i=0; i < parameterInfos.length; i++) {
    int oldParamIdx=parameterInfos[i].getOldIndex();
    final ReadWriteAccessDetector.Access accessor=accessors[i];
    if (accessor != null) {
      final ParameterInfoImpl parameterInfo=parameterInfos[i];
      final PsiParameter parameter=psiParameters[oldParamIdx];
      final PsiField field=descriptor.getField(parameterInfo);
      final String getter=descriptor.getGetter(parameterInfo);
      if (getter == null) {
        usages.add(new AppendAccessorsUsageInfo(parameter,existingClass,useExisting,parameterInfo,true,field));
      }
      if (accessor == ReadWriteAccessDetector.Access.Write && descriptor.getSetter(parameterInfo) == null) {
        usages.add(new AppendAccessorsUsageInfo(parameter,existingClass,useExisting,parameterInfo,false,field));
      }
    }
  }
}
