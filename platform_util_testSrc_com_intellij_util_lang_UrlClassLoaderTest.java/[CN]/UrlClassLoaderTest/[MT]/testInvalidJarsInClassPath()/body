{
  File sadHill=createTestDir("testInvalidJarsInClassPath");
  try {
    File theGood=createTestJar(createTestFile(sadHill,"1_normal.jar"),"test_res_dir/test_res.txt","-");
    File theBad=createTestFile(sadHill,"2_broken.jar",new String(new char[1024]));
    UrlClassLoader flat=UrlClassLoader.build().urls(theBad.toURI().toURL(),theGood.toURI().toURL()).get();
    assertNotNull(findResource(flat,"/test_res_dir/test_res.txt",false));
    String content=Attributes.Name.MANIFEST_VERSION + ": 1.0\n" + Attributes.Name.CLASS_PATH+ ": "+ theBad.toURI().toURL()+ " "+ theGood.toURI().toURL()+ "\n\n";
    File theUgly=createTestJar(createTestFile(sadHill,"3_classpath.jar"),JarFile.MANIFEST_NAME,content);
    UrlClassLoader recursive=UrlClassLoader.build().urls(theUgly.toURI().toURL()).get();
    assertNotNull(findResource(recursive,"/test_res_dir/test_res.txt",false));
  }
  finally {
    FileUtil.delete(sadHill);
  }
}
