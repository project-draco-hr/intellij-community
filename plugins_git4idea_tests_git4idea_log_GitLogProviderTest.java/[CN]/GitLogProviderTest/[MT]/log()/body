{
  String output=git("log --all --date-order --full-history --sparse --pretty='%H|%P|%ct|%s|%B'");
  final VcsUser defaultUser=getDefaultUser();
  final Function<String,Hash> TO_HASH=new Function<String,Hash>(){
    @Override public Hash fun(    String s){
      return HashImpl.build(s);
    }
  }
;
  return ContainerUtil.map(StringUtil.splitByLines(output),new Function<String,VcsCommitMetadata>(){
    @Override public VcsCommitMetadata fun(    String record){
      String[] items=ArrayUtil.toStringArray(StringUtil.split(record,"|",true,false));
      long time=Long.valueOf(items[2]) * 1000;
      return new VcsCommitMetadataImpl(TO_HASH.fun(items[0]),ContainerUtil.map(items[1].split(" "),TO_HASH),time,myProjectRoot,items[3],defaultUser,items[4],defaultUser,time);
    }
  }
);
}
