{
  myProject.getMessageBus().connect(myProject).subscribe(RunContentManager.TOPIC,new RunContentWithExecutorListener(){
    @Override public void contentSelected(    RunContentDescriptor descriptor,    @NotNull Executor executor){
      if (executor == DefaultDebugExecutor.getDebugExecutorInstance()) {
        DebuggerSession session=getSession(myProject,descriptor.getExecutionConsole());
        if (session != null) {
          getContextManager().setState(session.getContextManager().getContext(),session.getState(),DebuggerSession.EVENT_CONTEXT,null);
        }
 else {
          getContextManager().setState(DebuggerContextImpl.EMPTY_CONTEXT,DebuggerSession.STATE_DISPOSED,DebuggerSession.EVENT_CONTEXT,null);
        }
      }
    }
    @Override public void contentRemoved(    RunContentDescriptor descriptor,    @NotNull Executor executor){
    }
  }
);
}
