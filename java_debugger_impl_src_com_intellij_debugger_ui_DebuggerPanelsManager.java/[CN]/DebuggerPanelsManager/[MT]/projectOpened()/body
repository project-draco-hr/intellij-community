{
  final RunContentManager contentManager=myExecutionManager.getContentManager();
  LOG.assertTrue(contentManager != null,"Content manager is null");
  final RunContentListener myContentListener=new RunContentListener(){
    public void contentSelected(    RunContentDescriptor descriptor){
      DebuggerSession session=getSession(myProject,descriptor.getExecutionConsole());
      if (session != null) {
        getContextManager().setState(session.getContextManager().getContext(),session.getState(),DebuggerSession.EVENT_CONTEXT,null);
      }
 else {
        getContextManager().setState(DebuggerContextImpl.EMPTY_CONTEXT,DebuggerSession.STATE_DISPOSED,DebuggerSession.EVENT_CONTEXT,null);
      }
    }
    public void contentRemoved(    RunContentDescriptor descriptor){
    }
  }
;
  contentManager.addRunContentListener(myContentListener,DefaultDebugExecutor.getDebugExecutorInstance());
  Disposer.register(myProject,new Disposable(){
    public void dispose(){
      contentManager.removeRunContentListener(myContentListener);
    }
  }
);
}
