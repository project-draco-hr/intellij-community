{
  List<Instruction> instructions=new ArrayList<Instruction>();
  for (  Instruction instruction : flow.getInstructions()) {
    final PsiElement element=instruction.getElement();
    if (element != null) {
      if (CodeFragmentUtil.getPosition(element,start,end) == Position.INSIDE) {
        instructions.add(instruction);
      }
    }
  }
  for (  Instruction instruction : flow.getInstructions()) {
    if (instruction instanceof ReadWriteInstruction) {
      final ReadWriteInstruction readWriteInstruction=(ReadWriteInstruction)instruction;
      if (readWriteInstruction.getAccess().isAssertTypeAccess()) {
        boolean innerAssertType=true;
        for (        Instruction next : readWriteInstruction.allSucc()) {
          if (!instructions.contains(next)) {
            innerAssertType=false;
            break;
          }
        }
        if (innerAssertType && !instructions.contains(instruction)) {
          instructions.add(instruction);
        }
      }
    }
  }
  return instructions;
}
