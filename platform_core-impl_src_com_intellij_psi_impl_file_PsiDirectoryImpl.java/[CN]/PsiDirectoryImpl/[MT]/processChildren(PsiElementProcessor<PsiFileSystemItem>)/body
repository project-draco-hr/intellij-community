{
  checkValid();
  ProgressIndicatorProvider.checkCanceled();
  for (  VirtualFile vFile : myFile.getChildren()) {
    boolean isDir=vFile.isDirectory();
    if (processor instanceof PsiFileSystemItemProcessor && !((PsiFileSystemItemProcessor)processor).acceptItem(vFile.getName(),isDir)) {
      continue;
    }
    PsiFileSystemItem item=isDir ? myManager.findDirectory(vFile) : myManager.findFile(vFile);
    if (item != null && !processor.execute(item)) {
      return false;
    }
  }
  return true;
}
