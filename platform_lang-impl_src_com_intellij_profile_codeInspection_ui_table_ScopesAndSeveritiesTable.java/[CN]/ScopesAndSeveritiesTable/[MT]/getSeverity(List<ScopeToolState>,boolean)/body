{
  HighlightSeverity previousValue=null;
  onlyEnabled=onlyEnabled && scopeToolStates.size() != 1;
  for (  final ScopeToolState scopeToolState : scopeToolStates) {
    if (onlyEnabled && !scopeToolState.isEnabled()) {
      continue;
    }
    final HighlightSeverity currentValue=scopeToolState.getLevel().getSeverity();
    if (previousValue == null) {
      previousValue=currentValue;
    }
 else     if (!previousValue.equals(currentValue)) {
      return MIXED_FAKE_SEVERITY;
    }
  }
  return previousValue;
}
