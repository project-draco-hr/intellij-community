{
  if (myTestsBuilt)   return;
  process.addProcessListener(new ProcessAdapter(){
    @Override public void processTerminated(    ProcessEvent event){
      process.removeProcessListener(this);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          myStateInfo.setTerminated(myState);
          if (!myTestsBuilt && myProgressBar.getFraction() == 0.0) {
            myProgressBar.setColor(ColorProgressBar.RED);
            myProgressBar.setFraction(1.0);
            myState.setText(ExecutionBundle.message("junit.running.info.failed.to.start.error.message"));
          }
        }
      }
);
    }
  }
);
}
