{
  myTargetEditor.addDocumentListener(new DocumentAdapter(){
    @Override public void documentChanged(    DocumentEvent e){
      processActiveUserChanges(listener);
    }
  }
);
  myTargetEditor.addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    FocusEvent e){
      processActiveUserChanges(listener);
    }
  }
);
  myTargetEditor.addHierarchyListener(new HierarchyListener(){
    @Override public void hierarchyChanged(    HierarchyEvent e){
      if ((e.getChangeFlags() & HierarchyEvent.SHOWING_CHANGED) != 0) {
        myTargetEditor.getDocument().putUserData(UndoConstants.DONT_RECORD_UNDO,!myTargetEditor.isShowing());
      }
    }
  }
);
}
