{
  myRepository=repository;
  myCurrentTarget=defaultTarget;
  String initialBranch;
  String initialRemote;
  if (defaultTarget == null) {
    initialBranch="";
    initialRemote=NO_REMOTES;
  }
 else {
    initialBranch=getTextFieldText(defaultTarget);
    initialRemote=getRemoteLabelText(defaultTarget.getBranch().getRemote().getName());
  }
  myEditRemoteControl=new ExtraEditControl(){
    @Override public void click(    @NotNull MouseEvent event){
      showRemoteSelector(event);
    }
  }
;
  myTargetTextField=new PushTargetTextField(repository.getProject(),getTargetNames(myRepository),initialBranch);
  myRemoteLabel=new JBLabel(initialRemote);
  setLayout(new BorderLayout());
  setOpaque(false);
  add(myRemoteLabel,BorderLayout.WEST);
  add(myTargetTextField,BorderLayout.CENTER);
  updateTextField();
}
