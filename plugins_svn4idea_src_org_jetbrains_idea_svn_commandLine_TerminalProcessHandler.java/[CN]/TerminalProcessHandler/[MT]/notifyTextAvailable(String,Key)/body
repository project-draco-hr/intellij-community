{
  terminalOutputCapturer.onTextAvailable(new ProcessEvent(this,text),outputType);
  String filteredText=text.replaceAll(CSI_ESCAPE_CODE,"").replaceAll(NON_CSI_ESCAPE_CODE,"");
  filteredText=StringUtil.trimLeading(filteredText);
  if (!StringUtil.isEmpty(filteredText)) {
    StringBuilder lastLine=getLastLineFor(outputType);
    String currentLine=lastLine.append(filteredText).toString();
    lastLine.setLength(0);
    boolean handled=false;
    for (    InteractiveCommandListener listener : myInteractiveListeners) {
      handled|=listener.handlePrompt(currentLine,outputType);
    }
    if (!handled) {
      notify(currentLine,outputType,lastLine);
    }
  }
}
