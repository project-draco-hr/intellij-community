{
  final FileType idl=myFileTypeManager.findFileTypeByName("IDL");
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      myFileTypeManager.associatePattern(idl,"*.xxx");
    }
  }
);
  Element element=myFileTypeManager.getState();
  log(JDOMUtil.writeElement(element));
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      myFileTypeManager.removeAssociatedExtension(idl,"xxx");
    }
  }
);
  myFileTypeManager.clearForTests();
  myFileTypeManager.initStandardFileTypes();
  myFileTypeManager.loadState(element);
  myFileTypeManager.initComponent();
  FileType extensions=myFileTypeManager.getFileTypeByExtension("xxx");
  assertEquals("IDL",extensions.getName());
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      myFileTypeManager.removeAssociatedExtension(idl,"xxx");
    }
  }
);
}
