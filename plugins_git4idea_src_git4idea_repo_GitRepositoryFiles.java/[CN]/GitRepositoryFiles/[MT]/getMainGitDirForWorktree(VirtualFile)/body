{
  LocalFileSystem lfs=LocalFileSystem.getInstance();
  VirtualFile commonDir=lfs.refreshAndFindFileByPath(gitDir.getPath() + "/commondir");
  if (commonDir == null)   return null;
  String pathToMain;
  try {
    pathToMain=VfsUtilCore.loadText(commonDir).trim();
  }
 catch (  IOException e) {
    LOG.error("Couldn't load " + commonDir,e);
    return null;
  }
  VirtualFile mainDir=gitDir.findFileByRelativePath(pathToMain);
  if (mainDir != null)   return mainDir;
  return lfs.refreshAndFindFileByPath(pathToMain);
}
