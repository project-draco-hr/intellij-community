{
  if (myTemplatesListPanel != null) {
    Map<String,Boolean> newTemplatesState=ContainerUtil.newHashMap();
    for (    Map.Entry<String,Boolean> entry : myTemplatesListPanel.getState().entrySet()) {
      Boolean value=entry.getValue();
      if (value != null && !value) {
        newTemplatesState.put(entry.getKey(),entry.getValue());
      }
    }
    myTemplatesSettings.setTemplatesState(newTemplatesState);
    myTemplatesSettings.setPostfixTemplatesEnabled(myPostfixTemplatesEnabled.isSelected());
    myTemplatesSettings.setTemplatesCompletionEnabled(myCompletionEnabledCheckbox.isSelected());
    myTemplatesSettings.setShortcut(stringToShortcut((String)myShortcutComboBox.getSelectedItem()));
  }
}
