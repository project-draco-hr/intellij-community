{
  final CodeStyleSettings settings=CodeStyleSettingsManager.getSettings(getProject());
  settings.ELSE_ON_NEW_LINE=true;
  settings.CATCH_ON_NEW_LINE=myCatchOnNewLine;
  configureByFile(BASE_PATH + getTestName(false) + ".java");
  final PsiClass psiClass=PsiTreeUtil.getParentOfType(getFile().findElementAt(getEditor().getSelectionModel().getLeadSelectionOffset()),PsiClass.class);
  assertNotNull(psiClass);
  boolean success=performExtractMethod(true,true,getEditor(),getFile(),getProject(),false,null,false,null,psiClass.getContainingClass());
  assertTrue(success);
  checkResultByFile(BASE_PATH + getTestName(false) + "_after.java");
}
