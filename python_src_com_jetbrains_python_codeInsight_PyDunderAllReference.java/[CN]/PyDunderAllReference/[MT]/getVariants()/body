{
  final List<PsiElement> result=new ArrayList<PsiElement>();
  PyFile containingFile=(PyFile)getElement().getContainingFile().getOriginalFile();
  final List<String> dunderAll=containingFile.getDunderAll();
  containingFile.processDeclarations(new PsiScopeProcessor(){
    @Override public boolean execute(    PsiElement element,    ResolveState state){
      if (element instanceof PsiNamedElement && !(element instanceof LightNamedElement)) {
        final String name=((PsiNamedElement)element).getName();
        if (name != null && PyUtil.getInitialUnderscores(name) == 0 && (dunderAll == null || !dunderAll.contains(name))) {
          result.add(element);
        }
      }
      return true;
    }
    @Override public <T>T getHint(    Key<T> hintKey){
      return null;
    }
    @Override public void handleEvent(    Event event,    @Nullable Object associated){
    }
  }
,ResolveState.initial(),null,containingFile);
  return ArrayUtil.toObjectArray(result);
}
