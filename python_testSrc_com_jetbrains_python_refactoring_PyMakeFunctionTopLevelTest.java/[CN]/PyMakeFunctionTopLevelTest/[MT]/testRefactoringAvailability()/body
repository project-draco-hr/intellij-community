{
  myFixture.configureByFile(getTestName(true) + ".py");
  final PsiFile file=myFixture.getFile();
  moveByText("func");
  assertFalse(isActionEnabled());
  moveByText("local");
  assertTrue(isActionEnabled());
  myFixture.getEditor().getCaretModel().moveCaretRelatively(-3,0,false,false,false);
  final PsiElement tokenAtCaret=file.findElementAt(myFixture.getCaretOffset());
  assertNotNull(tokenAtCaret);
  assertEquals(tokenAtCaret.getNode().getElementType(),PyTokenTypes.DEF_KEYWORD);
  assertTrue(isActionEnabled());
  moveByText("method");
  assertTrue(isActionEnabled());
  moveByText("static_method");
  assertFalse(isActionEnabled());
  moveByText("class_method");
  assertFalse(isActionEnabled());
  moveByText("overridden_method");
  assertFalse(isActionEnabled());
  moveByText("upper");
  assertFalse(isActionEnabled());
  moveByText("property");
  assertFalse(isActionEnabled());
  moveByText("__magic__");
  assertFalse(isActionEnabled());
}
