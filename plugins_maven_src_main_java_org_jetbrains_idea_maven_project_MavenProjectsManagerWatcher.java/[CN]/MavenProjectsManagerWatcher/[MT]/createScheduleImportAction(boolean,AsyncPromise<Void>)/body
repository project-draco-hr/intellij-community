{
  return new Runnable(){
    @Override public void run(){
      if (myProject.isDisposed())       return;
      if (forceImportAndResolve || myManager.getImportingSettings().isImportAutomatically()) {
        myManager.scheduleImportAndResolve().done(new Consumer<List<Module>>(){
          @Override public void consume(          List<Module> modules){
            promise.setResult(null);
          }
        }
);
      }
    }
  }
;
}
