{
synchronized (myLock) {
    if (myCurrentlyActiveConnections >= CachingSvnRepositoryPool.ourMaxTotal) {
      waitForFreeConnections();
    }
  }
  final Set<CachingSvnRepositoryPool> copy=new HashSet<>();
synchronized (myLock) {
    if (myCurrentlyOpenedConnections >= CachingSvnRepositoryPool.ourMaxTotal) {
      copy.addAll(mySet);
    }
  }
  for (  CachingSvnRepositoryPool pool : copy) {
    pool.closeInactive();
  }
synchronized (myLock) {
    waitForFreeConnections();
  }
}
