{
  JBColor color=JBColor.RED;
  if (myResolveStatus) {
    color=JBColor.GREEN;
  }
  final TextAttributes ta=EditorColorsManager.getInstance().getGlobalScheme().getAttributes(EditorColors.LIVE_TEMPLATE_ATTRIBUTES);
  ta.setEffectColor(color);
  final int startOffset=e.getDocument().getLineStartOffset(myLine) + myStartOffsetInLine;
  RangeHighlighter rh=e.getMarkupModel().addRangeHighlighter(startOffset,startOffset + myOffsetInLine,HighlighterLayer.LAST + 1,ta,HighlighterTargetArea.EXACT_RANGE);
  setOffsets(rh.getStartOffset(),rh.getEndOffset());
  if (drawSelection) {
    e.getSelectionModel().setSelection(startOffset,startOffset + myOffsetInLine);
    e.getCaretModel().moveToOffset(startOffset);
  }
  rh.setGreedyToLeft(true);
  rh.setGreedyToRight(true);
}
