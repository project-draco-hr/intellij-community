{
  forEach(new PairProcessor<OrderEntry,List<OrderEnumerationHandler>>(){
    @Override public boolean process(    OrderEntry orderEntry,    List<OrderEnumerationHandler> customHandlers){
      if (myRecursively && orderEntry instanceof ModuleSourceOrderEntry) {
        final Module module=((ModuleSourceOrderEntry)orderEntry).getRootModel().getModule();
        return processor.process(module);
      }
      if (orderEntry instanceof ModuleOrderEntry && (!myRecursively || !shouldProcessRecursively(customHandlers))) {
        final Module module=((ModuleOrderEntry)orderEntry).getModule();
        if (module != null) {
          return processor.process(module);
        }
      }
      return true;
    }
  }
);
}
