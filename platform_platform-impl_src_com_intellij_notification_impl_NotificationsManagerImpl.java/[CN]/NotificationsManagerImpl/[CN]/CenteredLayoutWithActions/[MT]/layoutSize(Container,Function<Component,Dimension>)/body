{
  Dimension titleSize=myTitleComponent == null ? new Dimension() : size.fun(myTitleComponent);
  Dimension centeredSize=myCenteredComponent == null ? new Dimension() : size.fun(myCenteredComponent);
  int height=titleSize.height;
  if (height > 0 && centeredSize.height > 0) {
    height+=myVerticalGap;
  }
  height+=centeredSize.height;
  Dimension actionSize=myActionPanel == null ? new Dimension() : size.fun(myActionPanel);
  int expandHeight=myExpandAction == null || myLayoutData.showMinSize ? 0 : size.fun(myExpandAction).height;
  int bottomHeight=Math.max(actionSize.height,expandHeight);
  if (height > 0 && bottomHeight > 0) {
    height+=myVerticalGap;
  }
  height+=bottomHeight;
  int width=centeredSize.width;
  if (width < titleSize.width || width < actionSize.width) {
    width=330;
  }
  Dimension result=new Dimension(width,height);
  JBInsets.addTo(result,parent.getInsets());
  return result;
}
