{
  super();
  SSLContext ctx=SSLContext.getInstance("TLS");
  TrustManager[] tms;
  KeyManager[] kms;
  try {
    String caCertPath=System.getProperty(SSL_CA_CERT_PATH);
    String clientCertPath=System.getProperty(SSL_CLIENT_CERT_PATH);
    String clientKeyPath=System.getProperty(SSL_CLIENT_KEY_PATH);
    boolean trustEverybody=StringUtilRt.parseBoolean(System.getProperty(SSL_TRUST_EVERYBODY),false);
    tms=trustEverybody ? new TrustManager[]{new MyTrustEverybodyManager()} : caCertPath == null ? new TrustManager[]{} : new TrustManager[]{new MyTrustManager(caCertPath)};
    kms=clientCertPath != null && clientKeyPath != null ? new KeyManager[]{new MyKeyManager(clientCertPath,clientKeyPath)} : new KeyManager[]{};
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  ctx.init(kms,tms,null);
  myFactory=ctx.getSocketFactory();
}
