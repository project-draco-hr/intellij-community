{
  myCaCertPath=caCertPath;
  KeyStore ks=createStore();
  TrustManagerFactory tmf=TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
  tmf.init(ks);
  for (  TrustManager tm : tmf.getTrustManagers()) {
    if (tm instanceof X509TrustManager) {
      trustManager=(X509TrustManager)tm;
      break;
    }
  }
  if (trustManager == null) {
    throw new RuntimeException("No X509TrustManager found");
  }
}
