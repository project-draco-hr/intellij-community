{
  serverCertFile=System.getProperty(SSL_CA_CERT_PATH);
  InputStream inStream=new FileInputStream(serverCertFile);
  CertificateFactory cf=CertificateFactory.getInstance("X.509");
  X509Certificate ca=(X509Certificate)cf.generateCertificate(inStream);
  inStream.close();
  KeyStore ks=KeyStore.getInstance(KeyStore.getDefaultType());
  ks.load(null);
  ks.setCertificateEntry(UUID.randomUUID().toString(),ca);
  TrustManagerFactory tmf=TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
  tmf.init(ks);
  for (  TrustManager tm : tmf.getTrustManagers()) {
    if (tm instanceof X509TrustManager) {
      trustManager=(X509TrustManager)tm;
      break;
    }
  }
  if (trustManager == null) {
    throw new RuntimeException("No X509TrustManager found");
  }
}
