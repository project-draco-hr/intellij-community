{
  LOG.info("Detecting Buildout facet for " + source.getPath());
  if (existentFacetConfigurations.size() > 0) {
    LOG.info("Buildout facet already exists");
    return null;
  }
  final VirtualFile baseDir=source.getParent();
  final VirtualFile runner=BuildoutFacet.getRunner(baseDir);
  if (runner != null) {
    final File script=BuildoutFacet.findScript(null,"buildout",baseDir);
    if (script != null) {
      BuildoutFacetConfiguration configuration=new BuildoutFacetConfiguration(script.getName());
      configuration.setScriptName(script.getPath());
      final VirtualFile scriptVFile=LocalFileSystem.getInstance().findFileByIoFile(script);
      if (scriptVFile != null) {
        configuration.setPaths(BuildoutFacet.extractBuildoutPaths(scriptVFile));
      }
 else {
        LOG.info("Could not find virtual file for buildout script " + script);
      }
      return configuration;
    }
 else {
      LOG.info("No buildout script found");
    }
  }
 else {
    LOG.info("No runner script found");
  }
  return null;
}
