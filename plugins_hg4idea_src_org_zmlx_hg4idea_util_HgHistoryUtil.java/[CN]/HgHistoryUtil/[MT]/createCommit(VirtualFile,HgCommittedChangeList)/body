{
  final VcsLogObjectsFactory factory=ServiceManager.getService(VcsLogObjectsFactory.class);
  HgRevisionNumber revNumber=(HgRevisionNumber)record.getRevisionNumber();
  List<Hash> parents=ContainerUtil.map(revNumber.getParents(),new Function<HgRevisionNumber,Hash>(){
    @Override public Hash fun(    HgRevisionNumber parent){
      return factory.createHash(parent.getChangeset());
    }
  }
);
  return factory.createFullDetails(factory.createHash(revNumber.getChangeset()),parents,record.getCommitDate().getTime(),root,revNumber.getSubject(),revNumber.getAuthor(),"",revNumber.getCommitMessage(),record.getCommitterName(),"",record.getCommitDate().getTime(),ContainerUtil.newArrayList(record.getChanges()));
}
