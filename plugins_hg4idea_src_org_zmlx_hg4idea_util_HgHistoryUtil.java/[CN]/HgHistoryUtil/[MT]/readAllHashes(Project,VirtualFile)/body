{
  return ContainerUtil.map(getCommittedChangeList(project,root,-1,false,""),new Function<HgCommittedChangeList,TimedVcsCommit>(){
    @Override public TimedVcsCommit fun(    HgCommittedChangeList record){
      HgRevisionNumber revNumber=(HgRevisionNumber)record.getRevisionNumber();
      List<Hash> parents=new SmartList<Hash>();
      for (      HgRevisionNumber parent : revNumber.getParents()) {
        parents.add(HashImpl.build(parent.getChangeset()));
      }
      return ServiceManager.getService(VcsLogObjectsFactory.class).createTimedCommit(HashImpl.build(revNumber.getChangeset()),parents,record.getCommitDate().getTime());
    }
  }
);
}
