{
  final VcsLogObjectsFactory factory=ServiceManager.getService(project,VcsLogObjectsFactory.class);
  List<HgCommittedChangeList> result=getCommittedChangeList(project,root,limit,false,parameters);
  return ContainerUtil.mapNotNull(result,new Function<HgCommittedChangeList,VcsCommitMetadata>(){
    @Override public VcsCommitMetadata fun(    HgCommittedChangeList record){
      HgRevisionNumber revNumber=(HgRevisionNumber)record.getRevisionNumber();
      return factory.createCommitMetadata(factory.createHash(revNumber.getChangeset()),getParentHashes(factory,revNumber),record.getCommitDate().getTime(),root,revNumber.getSubject(),revNumber.getAuthor(),revNumber.getEmail(),revNumber.getCommitMessage(),record.getCommitterName(),"",record.getCommitDate().getTime());
    }
  }
);
}
