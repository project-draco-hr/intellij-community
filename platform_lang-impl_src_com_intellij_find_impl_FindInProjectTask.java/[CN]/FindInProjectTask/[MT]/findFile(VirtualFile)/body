{
  PsiFile psiFile=myPsiManager.findFile(virtualFile);
  if (psiFile != null && !(psiFile instanceof PsiBinaryFile)) {
    PsiFile sourceFile=(PsiFile)psiFile.getNavigationElement();
    if (sourceFile != null)     psiFile=sourceFile;
    if (psiFile.getFileType().isBinary()) {
      psiFile=null;
    }
  }
  VirtualFile sourceVirtualFile=PsiUtilCore.getVirtualFile(psiFile);
  if (psiFile == null || psiFile.getFileType().isBinary() || sourceVirtualFile == null) {
    return null;
  }
  return Pair.createNonNull(psiFile,sourceVirtualFile);
}
