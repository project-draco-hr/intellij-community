{
  Language language=file.getLanguage();
  CodeStyleSettingsProvider languageSettingsProvider=getSettingsProvider(language);
  if (languageSettingsProvider == null) {
    LOG.info("No code style settings provider found for " + language);
  }
  CodeStyleSettings settings=CodeStyleSettingsManager.getSettings(project);
  if (languageSettingsProvider instanceof CodeFragmentSettingProvider) {
    CodeFragmentSettingProvider fragmentSettingProvider=(CodeFragmentSettingProvider)languageSettingsProvider;
    JComponent viewer=fragmentSettingProvider.createSettingsForSelectedFragment(editor,settings,settings);
    DialogWrapper dialog=new FragmentCodeStyleSettingsDialog(project,viewer);
    dialog.show();
  }
}
