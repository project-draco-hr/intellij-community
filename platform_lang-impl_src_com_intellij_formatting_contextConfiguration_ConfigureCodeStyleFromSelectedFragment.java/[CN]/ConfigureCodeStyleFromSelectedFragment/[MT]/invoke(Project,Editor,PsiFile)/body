{
  Language language=file.getLanguage();
  CodeStyleSettingsProvider languageSettingsProvider=getSettingsProvider(language);
  if (languageSettingsProvider == null) {
    LOG.info("No code style settings provider found for " + language);
  }
  CodeStyleSettings settings=CodeStyleSettingsManager.getSettings(project);
  if (languageSettingsProvider instanceof CodeFragmentSettingProvider) {
    CodeFragmentSettingProvider fragmentSettingProvider=(CodeFragmentSettingProvider)languageSettingsProvider;
    TabbedLanguageCodeStylePanel fragment=fragmentSettingProvider.createSettingsForSelectedFragment(editor,settings,settings.clone());
    DialogWrapper dialog=new FragmentCodeStyleSettingsDialog(project,fragment,settings);
    dialog.show();
  }
}
