{
  JBList stepsList=robot().finder().findByType(target(),JBList.class);
  JListFixture stepsFixture=new JListFixture(robot(),stepsList);
  if (!stepsFixture.contents()[0].equals("Make")) {
    throw new IllegalStateException("There should be only only one make step, 'Make'.");
  }
  stepsFixture.clickItem(0);
  JPanel beforeRunStepsPanel=robot().finder().find(target(),ClassNameMatcher.forClass("com.intellij.execution.impl.BeforeRunStepsPanel",JPanel.class,true));
  ActionButtonFixture.findByText("Remove",robot(),beforeRunStepsPanel).click();
  ActionButtonFixture.findByText("Add",robot(),beforeRunStepsPanel).click();
  JBList popupList=robot().finder().find(target(),ClassNameMatcher.forClass("com.intellij.ui.popup.list.ListPopupImpl$MyList",JBList.class,true));
  click(popupList,"Gradle-aware Make");
  Dialog gradleMakeDialog=robot().finder().find(DialogMatcher.withTitle("Select Gradle Task").andShowing());
  robot().click(robot().finder().find(gradleMakeDialog,JButtonMatcher.withText("OK")));
}
