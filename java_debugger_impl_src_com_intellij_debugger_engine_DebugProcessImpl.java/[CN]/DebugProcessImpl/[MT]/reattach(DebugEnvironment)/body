{
  ApplicationManager.getApplication().assertIsDispatchThread();
  ((XDebugSessionImpl)getXdebugProcess().getSession()).reset();
  myState.set(STATE_INITIAL);
  myRequestManager.processDetached(this,false);
  myConnection=environment.getRemoteConnection();
  getManagerThread().restartIfNeeded();
  createVirtualMachine(environment.getSessionName(),environment.isPollConnection());
}
