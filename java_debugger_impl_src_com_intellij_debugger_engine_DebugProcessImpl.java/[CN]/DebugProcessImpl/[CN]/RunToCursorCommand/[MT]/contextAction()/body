{
  showStatusText(DebuggerBundle.message("status.run.to.cursor"));
  cancelRunToCursorBreakpoint();
  if (myRunToCursorBreakpoint == null) {
    return;
  }
  if (myIgnoreBreakpoints) {
    final BreakpointManager breakpointManager=DebuggerManagerEx.getInstanceEx(myProject).getBreakpointManager();
    breakpointManager.disableBreakpoints(DebugProcessImpl.this);
  }
  applyThreadFilter(getContextThread());
  final SuspendContextImpl context=getSuspendContext();
  myRunToCursorBreakpoint.setSuspendPolicy(context.getSuspendPolicy() == EventRequest.SUSPEND_EVENT_THREAD ? DebuggerSettings.SUSPEND_THREAD : DebuggerSettings.SUSPEND_ALL);
  DebugProcessImpl debugProcess=context.getDebugProcess();
  myRunToCursorBreakpoint.createRequest(debugProcess);
  DebugProcessImpl.this.myRunToCursorBreakpoint=myRunToCursorBreakpoint;
  if (debugProcess.getRequestsManager().getWarning(myRunToCursorBreakpoint) != null) {
    DebuggerInvocationUtil.swingInvokeLater(myProject,new Runnable(){
      @Override public void run(){
        SourcePosition position=myRunToCursorBreakpoint.getSourcePosition();
        String name=position != null ? position.getFile().getName() : "<No File>";
        Messages.showErrorDialog(DebuggerBundle.message("error.running.to.cursor.no.executable.code",name,myRunToCursorBreakpoint.getLineIndex() + 1),UIUtil.removeMnemonic(ActionsBundle.actionText(XDebuggerActions.RUN_TO_CURSOR)));
      }
    }
);
  }
  super.contextAction();
}
