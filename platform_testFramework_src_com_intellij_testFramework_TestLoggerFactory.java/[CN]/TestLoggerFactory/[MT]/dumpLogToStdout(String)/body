{
  File ideaLog=new File(getTestLogDir(),"idea.log");
  if (ideaLog.exists()) {
    try {
      long length=ideaLog.length();
      String logText;
      if (length > LOG_SEEK_WINDOW) {
        RandomAccessFile file=new RandomAccessFile(ideaLog,"r");
        try {
          file.seek(length - LOG_SEEK_WINDOW);
          byte[] bytes=new byte[(int)LOG_SEEK_WINDOW];
          int read=file.read(bytes);
          logText=new String(bytes,0,read);
        }
  finally {
          file.close();
        }
      }
 else {
        logText=FileUtil.loadFile(ideaLog);
      }
      Pattern logStart=Pattern.compile("[0-9\\-, :\\[\\]]+(DEBUG|INFO|ERROR) - ");
      System.out.println("\n\nIdea Log:");
      for (      String line : StringUtil.splitByLines(logText.substring(Math.max(0,logText.lastIndexOf(testStartMarker))))) {
        Matcher matcher=logStart.matcher(line);
        int lineStart=matcher.lookingAt() ? matcher.end() : 0;
        System.out.println(line.substring(lineStart));
      }
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
}
