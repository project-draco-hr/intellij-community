{
  File f=File.createTempFile("test","tmp");
  assertTrue(f.exists());
  long millis=0;
  FileWriter fw=new FileWriter(f);
  try {
    fw.write("test");
    millis=System.currentTimeMillis();
    Utils.delete(f);
  }
 catch (  IOException e) {
    millis=System.currentTimeMillis() - millis;
    assertEquals("Cannot delete file " + f.getAbsolutePath(),e.getMessage());
    assertTrue("Utils.delete took " + millis + " ms, which is less than the expected 100 ms.",millis >= 100);
    return;
  }
 finally {
    fw.close();
    f.delete();
  }
  assertFalse("Utils.delete did not fail with the expected IOException on Windows.",mIsWindows);
}
