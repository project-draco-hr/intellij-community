{
  if (!shouldSuggestCast(parameters))   return;
  PsiElement position=parameters.getPosition();
  PsiElement parenthesisOwner=getParenthesisOwner(position);
  final boolean overwrite=parenthesisOwner instanceof PsiTypeCastExpression;
  for (  final ExpectedTypeInfo info : JavaSmartCompletionContributor.getExpectedTypes(parameters)) {
    PsiType type=info.getDefaultType();
    if (type instanceof PsiWildcardType) {
      type=((PsiWildcardType)type).getBound();
    }
    if (type == null || type == PsiType.VOID) {
      continue;
    }
    if (type instanceof PsiPrimitiveType) {
      final PsiType castedType=getCastedExpressionType(parenthesisOwner);
      if (castedType != null && !(castedType instanceof PsiPrimitiveType)) {
        final PsiClassType boxedType=((PsiPrimitiveType)type).getBoxedType(position);
        if (boxedType != null) {
          type=boxedType;
        }
      }
    }
    result.addElement(createSmartCastElement(parameters,overwrite,type));
  }
}
