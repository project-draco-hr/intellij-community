{
  if (parenthesisOwner instanceof PsiTypeCastExpression) {
    final PsiExpression operand=((PsiTypeCastExpression)parenthesisOwner).getOperand();
    return operand == null ? null : operand.getType();
  }
  if (parenthesisOwner instanceof PsiParenthesizedExpression) {
    PsiElement next=parenthesisOwner.getNextSibling();
    while (next != null && (next instanceof PsiEmptyExpressionImpl || next instanceof PsiErrorElement || next instanceof PsiWhiteSpace)) {
      next=next.getNextSibling();
    }
    if (next instanceof PsiExpression) {
      return ((PsiExpression)next).getType();
    }
  }
  return null;
}
