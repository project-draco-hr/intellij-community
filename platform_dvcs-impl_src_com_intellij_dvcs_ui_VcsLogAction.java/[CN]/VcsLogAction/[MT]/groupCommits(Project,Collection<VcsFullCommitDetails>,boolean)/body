{
  MultiMap<Repo,VcsFullCommitDetails> map=MultiMap.create();
  for (  VcsFullCommitDetails commit : commits) {
    Repo root=getRepositoryForRoot(project,commit.getRoot());
    if (root == null) {
      if (!fromUpdate) {
        VcsNotifier.getInstance(project).notifyWeakError("Can not perform action on commit " + commit.getId().toShortString() + " from root "+ commit.getRoot().getName());
      }
      return null;
    }
    map.putValue(root,commit);
  }
  return map;
}
