{
  final Project project=e.getRequiredData(CommonDataKeys.PROJECT);
  VcsLog log=e.getRequiredData(VcsLogDataKeys.VCS_LOG);
  log.requestSelectedDetails(new Consumer<Set<VcsFullCommitDetails>>(){
    @Override public void consume(    Set<VcsFullCommitDetails> details){
      MultiMap<Repo,VcsFullCommitDetails> grouped=groupCommits(project,details);
      if (grouped == null)       return;
      actionPerformed(project,grouped);
    }
  }
,null);
}
