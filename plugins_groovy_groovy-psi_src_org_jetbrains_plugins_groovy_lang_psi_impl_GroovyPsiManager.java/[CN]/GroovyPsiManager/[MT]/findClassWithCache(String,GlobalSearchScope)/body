{
  Map<GlobalSearchScope,PsiClass> map=myClassCache.get(fqName);
  if (map == null) {
    map=ContainerUtil.newConcurrentMap();
    myClassCache.put(fqName,map);
  }
  PsiClass cached=map.get(resolveScope);
  if (cached != null) {
    return cached;
  }
  PsiClass result=JavaPsiFacade.getInstance(myProject).findClass(fqName,resolveScope);
  if (result != null) {
    map.put(resolveScope,result);
  }
  return result;
}
