{
  final PsiType[] argumentTypes=expression.getArgumentList().getExpressionTypes();
  final PsiType methodReturnType=expression.getType();
  if (methodReturnType == null) {
    return null;
  }
  final PsiMethod method=expression.resolveMethod();
  if (method == null) {
    return null;
  }
  final PsiParameter[] expectedParameters=method.getParameterList().getParameters();
  if (argumentTypes.length != expectedParameters.length) {
    return null;
  }
  final JavaResolveResult result=expression.getMethodExpression().advancedResolve(false);
  final PsiSubstitutor methodSubstitutor=result.getSubstitutor();
  return validate(argumentTypes,methodReturnType,methodSubstitutor,expression);
}
