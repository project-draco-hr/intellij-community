{
  final PsiFile containingFile=element.getContainingFile();
  if (!(containingFile instanceof PyFile)) {
    return null;
  }
  List<PsiElement> parents=new ArrayList<PsiElement>();
  PyDocStringOwner container=PsiTreeUtil.getParentOfType(element,PyDocStringOwner.class);
  while (container != null) {
    if (container instanceof PyFile) {
      break;
    }
    parents.add(0,container);
    container=PsiTreeUtil.getParentOfType(container,PyDocStringOwner.class);
  }
  for (  PsiElement parent : parents) {
    if (parent instanceof PyFunction) {
      return parent;
    }
  }
  if (parents.size() > 0) {
    return parents.get(parents.size() - 1);
  }
  return element.getContainingFile();
}
