{
  setShortcutSet(shortcutSet);
  if (component != null) {
    @SuppressWarnings("unchecked") List<AnAction> actionList=(List<AnAction>)component.getClientProperty(ourClientProperty);
    if (actionList == null) {
      actionList=new SmartList<AnAction>();
      component.putClientProperty(ourClientProperty,actionList);
    }
    if (!actionList.contains(this)) {
      actionList.add(this);
    }
    if (parentDisposable != null) {
      Disposer.register(parentDisposable,new Disposable(){
        @Override public void dispose(){
          unregisterCustomShortcutSet(component);
        }
      }
);
    }
  }
}
