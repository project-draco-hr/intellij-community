{
  try {
    VirtualFile file=fileContent.getFile();
    Project project=fileContent.getProject();
    byte[] content=fileContent.getContent();
    final ClsStubBuilderFactory[] factories=Extensions.getExtensions(ClsStubBuilderFactory.EP_NAME);
    for (    ClsStubBuilderFactory factory : factories) {
      if (!factory.isInnerClass(file) && factory.canBeProcessed(file,content)) {
        PsiFileStub stub=factory.buildFileStub(file,content,project);
        if (stub != null)         return stub;
      }
    }
    if (!fileContent.getFileName().contains("$")) {
      LOG.info("No stub built for file " + fileContent);
    }
    return null;
  }
 catch (  ClsFormatException e) {
    return null;
  }
}
