{
  int version=STUB_VERSION;
  final ClsStubBuilderFactory[] factories=Extensions.getExtensions(ClsStubBuilderFactory.EP_NAME);
  Arrays.sort(factories,new Comparator<ClsStubBuilderFactory>(){
    @Override public int compare(    ClsStubBuilderFactory o1,    ClsStubBuilderFactory o2){
      return o1.getClass().getName().compareTo(o2.getClass().getName());
    }
  }
);
  for (  ClsStubBuilderFactory factory : factories) {
    version=version * 31 + factory.getStubVersion() + factory.getClass().getName().hashCode();
  }
  return version;
}
