{
  int version=STUB_VERSION;
  List<ClassFileDecompilers.Decompiler> decompilers=ContainerUtil.newArrayList(ClassFileDecompilers.EP_NAME.getExtensions());
  Collections.sort(decompilers,CLASS_NAME_COMPARATOR);
  for (  ClassFileDecompilers.Decompiler decompiler : decompilers) {
    if (decompiler instanceof Full) {
      version=version * 31 + ((Full)decompiler).getStubBuilder().getStubVersion() + decompiler.getClass().getName().hashCode();
    }
  }
  List<ClsStubBuilderFactory> factories=ContainerUtil.newArrayList(Extensions.getExtensions(ClsStubBuilderFactory.EP_NAME));
  Collections.sort(factories,CLASS_NAME_COMPARATOR);
  for (  ClsStubBuilderFactory factory : factories) {
    version=version * 31 + factory.getStubVersion() + factory.getClass().getName().hashCode();
  }
  return version;
}
