{
  Collection<Deployment> deployments=new ConnectionTask<Collection<Deployment>>("Loading existing applications list",true,true){
    @Override protected void run(    final ServerConnection<DC> connection,    final Semaphore semaphore,    final AtomicReference<Collection<Deployment>> result){
      connection.connectIfNeeded(new ServerConnector.ConnectionCallback<DC>(){
        @Override public void connected(        @NotNull ServerRuntimeInstance<DC> serverRuntimeInstance){
          connection.computeDeployments(new Runnable(){
            @Override public void run(){
              result.set(connection.getDeployments());
              semaphore.up();
            }
          }
);
        }
        @Override public void errorOccurred(        @NotNull String errorMessage){
          runtimeErrorOccurred(errorMessage);
          semaphore.up();
        }
      }
);
    }
    @Override protected Collection<Deployment> run(    SR serverRuntimeInstance) throws ServerRuntimeException {
      return null;
    }
  }
.perform();
  if (deployments == null) {
    return;
  }
  JComboBox existingComboBox=getExistingComboBox();
  existingComboBox.removeAllItems();
  for (  Deployment deployment : deployments) {
    existingComboBox.addItem(deployment.getName());
  }
}
