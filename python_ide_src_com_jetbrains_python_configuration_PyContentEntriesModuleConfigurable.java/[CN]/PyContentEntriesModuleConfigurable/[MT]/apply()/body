{
  if (myEditor == null)   return;
  final boolean editorWasModified=myEditor.isModified();
  myEditor.apply();
  if (editorWasModified) {
    DumbService.allowStartingDumbModeInside(MAY_START_BACKGROUND,new Runnable(){
      @Override public void run(){
        ApplicationManager.getApplication().runWriteAction(new Runnable(){
          @Override public void run(){
            myModifiableModel.commit();
          }
        }
);
      }
    }
);
    resetEditor();
  }
}
