{
  PyExpressionStatement statement=PsiTreeUtil.getParentOfType(expression,PyExpressionStatement.class);
  if (statement != null) {
    if (statement.getExpression() == expression && expression.getUserData(PyReplaceExpressionUtil.SELECTION_BREAKS_AST_NODE) == null) {
      statement.delete();
      return null;
    }
  }
  return PyReplaceExpressionUtil.replaceExpression(expression,newExpression);
}
