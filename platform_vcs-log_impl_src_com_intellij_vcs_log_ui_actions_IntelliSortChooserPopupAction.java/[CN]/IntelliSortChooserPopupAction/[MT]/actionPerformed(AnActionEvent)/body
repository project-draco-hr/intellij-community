{
  final VcsLogUi logUI=e.getRequiredData(VcsLogDataKeys.VCS_LOG_UI);
  ActionGroup settingsGroup=new DefaultActionGroup(ContainerUtil.map(PermanentGraph.SortType.values(),new Function<PermanentGraph.SortType,AnAction>(){
    @Override public AnAction fun(    PermanentGraph.SortType sortType){
      return new SelectIntelliSortTypeAction(logUI,sortType);
    }
  }
));
  ListPopup popup=JBPopupFactory.getInstance().createActionGroupPopup(null,settingsGroup,e.getDataContext(),JBPopupFactory.ActionSelectionAid.MNEMONICS,true,ToolWindowContentUi.POPUP_PLACE);
  Component component=e.getInputEvent().getComponent();
  if (component instanceof ActionButtonComponent) {
    popup.showUnderneathOf(component);
  }
 else {
    popup.showInCenterOf(component);
  }
}
