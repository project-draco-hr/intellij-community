{
  final JTextArea textArea=new JTextArea(getRawCellText());
  textArea.setLineWrap(true);
  textArea.setEditable(true);
  textArea.setBorder(BorderFactory.createLineBorder(JBColor.lightGray));
  textArea.setBackground(Gray._247);
  textArea.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      if (e.getClickCount() == 1) {
        setEditing(true);
        final Container parent=getParent();
        parent.repaint();
        if (parent instanceof IpnbFilePanel) {
          ((IpnbFilePanel)parent).setSelectedCell(IpnbEditablePanel.this);
          textArea.requestFocus();
        }
      }
    }
  }
);
  textArea.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent e){
      if (e.getKeyCode() == KeyEvent.VK_ESCAPE) {
        setEditing(false);
        final Container parent=getParent();
        if (parent instanceof IpnbFilePanel) {
          parent.repaint();
          UIUtil.requestFocus((IpnbFilePanel)parent);
        }
      }
    }
  }
);
  return textArea;
}
