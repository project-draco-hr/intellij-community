{
  myLexer.start(fileText);
  WordOccurrence occurrence=new WordOccurrence(fileText,0,0,null);
  IElementType type;
  while ((type=myLexer.getTokenType()) != null) {
    if (myProcessAsWordTokenSet.contains(type)) {
      occurrence.init(fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.CODE);
      processor.process(occurrence);
    }
 else     if (myIdentifierTokenSet.contains(type)) {
      if (!stripWords(processor,fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.CODE,occurrence,false))       return;
    }
 else     if (myCommentTokenSet.contains(type)) {
      if (!stripWords(processor,fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.COMMENTS,occurrence,false))       return;
    }
 else     if (myLiteralTokenSet.contains(type)) {
      if (!stripWords(processor,fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.LITERALS,occurrence,myMayHaveFileRefsInLiterals))       return;
    }
 else     if (!mySkipCodeContextTokenSet.contains(type)) {
      if (!stripWords(processor,fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.CODE,occurrence,false))       return;
    }
    myLexer.advance();
  }
}
