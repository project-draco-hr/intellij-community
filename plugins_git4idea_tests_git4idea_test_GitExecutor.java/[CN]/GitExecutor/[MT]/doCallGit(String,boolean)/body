{
  List<String> split=splitCommandInParameters(command);
  split.add(0,PathHolder.GIT_EXECUTABLE);
  File workingDir=ourCurrentDir();
  debug("[" + workingDir.getName() + "] # git "+ command);
  for (int attempt=0; attempt < MAX_RETRIES; attempt++) {
    String stdout;
    try {
      stdout=run(workingDir,split,ignoreNonZeroExitCode);
      if (!isIndexLockFileError(stdout)) {
        return stdout;
      }
    }
 catch (    ExecutionException e) {
      stdout=e.getOutput();
      if (!isIndexLockFileError(stdout)) {
        throw e;
      }
    }
    LOG.info("Index lock file error, attempt #" + attempt + ": "+ stdout);
  }
  throw new RuntimeException("fatal error during execution of Git command: $command");
}
