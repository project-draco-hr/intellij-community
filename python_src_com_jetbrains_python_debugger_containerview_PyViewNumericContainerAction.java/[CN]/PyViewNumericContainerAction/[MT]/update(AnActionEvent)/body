{
  TreePath[] paths=getSelectedPaths(e.getDataContext());
  if (paths != null) {
    if (paths.length > 1) {
      e.getPresentation().setVisible(false);
      return;
    }
    XValueNodeImpl node=getSelectedNode(e.getDataContext());
    if (node != null && node.getValueContainer() instanceof PyDebugValue && node.isComputed()) {
      PyDebugValue debugValue=(PyDebugValue)node.getValueContainer();
      String nodeType=debugValue.getType();
      if ("ndarray".equals(nodeType)) {
        e.getPresentation().setText("View as Array");
        e.getPresentation().setVisible(true);
      }
 else       if (("DataFrame".equals(nodeType))) {
        e.getPresentation().setText("View as DataFrame");
        e.getPresentation().setVisible(true);
      }
 else {
        e.getPresentation().setVisible(false);
      }
    }
 else {
      e.getPresentation().setVisible(false);
    }
  }
}
