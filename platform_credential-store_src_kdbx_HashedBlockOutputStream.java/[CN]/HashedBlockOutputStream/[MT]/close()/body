{
  if (isClosed) {
    throw new EOFException();
  }
  flush();
  writeInt(nextSequenceNumber);
  outputStream.write(ZERO_HASH);
  writeInt(0);
  isClosed=true;
  outputStream.flush();
  outputStream.close();
}
