{
  VirtualFile moduleRoot=new TempFiles(myFilesToDelete).createTempVDir();
  ModuleRootModificationUtil.addContentRoot(getModule(),moduleRoot.getPath());
  GlobalSearchScope projectScope=GlobalSearchScope.projectScope(getProject());
  assertFalse(projectScope.isSearchInLibraries());
  assertTrue(projectScope.isSearchInModuleContent(getModule()));
  assertTrue(projectScope.contains(moduleRoot));
  GlobalSearchScope notProjectScope=GlobalSearchScope.notScope(projectScope);
  assertTrue(notProjectScope.isSearchInLibraries());
  assertFalse(notProjectScope.isSearchInModuleContent(getModule()));
  assertFalse(notProjectScope.contains(moduleRoot));
  GlobalSearchScope allScope=GlobalSearchScope.allScope(getProject());
  assertTrue(allScope.isSearchInLibraries());
  assertTrue(allScope.isSearchInModuleContent(getModule()));
  assertTrue(allScope.contains(moduleRoot));
  GlobalSearchScope notAllScope=GlobalSearchScope.notScope(allScope);
  assertFalse(notAllScope.isSearchInLibraries());
  assertFalse(notAllScope.isSearchInModuleContent(getModule()));
  assertFalse(notAllScope.contains(moduleRoot));
}
