{
  StringBuffer modifiedIdentifier=new StringBuffer(identifier.length());
  if (!Character.isJavaIdentifierStart(identifier.charAt(0)) && identifier.charAt(0) != '/') {
    modifiedIdentifier.append('_');
  }
  for (int i=0; i < identifier.length(); i++) {
    char ch=identifier.charAt(i);
    if (ch == '/') {
      modifiedIdentifier.append('.');
    }
 else     if (Character.isJavaIdentifierPart(ch) && ch != '_') {
      modifiedIdentifier.append(ch);
    }
 else     if (ch == '.') {
      modifiedIdentifier.append('_');
    }
 else {
      modifiedIdentifier.append(mangleChar(ch));
    }
  }
  if (JavaPsiFacade.getInstance(project).getNameHelper().isKeyword(modifiedIdentifier.toString())) {
    modifiedIdentifier.append('_');
  }
  return modifiedIdentifier.toString();
}
