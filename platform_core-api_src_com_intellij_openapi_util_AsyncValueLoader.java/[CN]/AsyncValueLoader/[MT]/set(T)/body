{
  AsyncResult<T> oldValue=ref.getAndSet(AsyncResult.done(result));
  if (oldValue != null) {
    rejectAndDispose(oldValue);
  }
}
