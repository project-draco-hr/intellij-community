{
  VfsUtilCore.visitChildrenRecursively(f,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull VirtualFile f){
      if (isVersioned(f)) {
        myVcs.created(f.getPath(),f.isDirectory());
      }
      return true;
    }
    @Nullable @Override public Iterable<VirtualFile> getChildrenIterable(    @NotNull VirtualFile f){
      return myGateway.isVersioned(f,true) ? IdeaGateway.loadAndIterateChildren(f) : IdeaGateway.iterateDBChildren(f);
    }
  }
);
}
