{
  if (element.getTextLength() == 0) {
    return;
  }
  IElementType type=element.getElementType();
  if (type == JSTokenTypes.IDENTIFIER) {
    TextRange range=element.getTextRange();
    myTokens.add(new AnonymToken(IDENTIFIER_TYPE,range.getStartOffset(),range.getEndOffset()));
    return;
  }
  if (type == JSTokenTypes.LBRACE || type == JSTokenTypes.RBRACE) {
    PsiElement parent=element.getParent();
    if (parent instanceof JSBlockStatement) {
      JSStatement[] statements=((JSBlockStatement)parent).getStatements();
      if (statements != null && statements.length == 1) {
        parent=parent.getParent();
        if (parent instanceof JSIfStatement || parent instanceof JSLoopStatement) {
          return;
        }
      }
    }
  }
  TextRange range=element.getTextRange();
  myTokens.add(new TextToken(element.getText().hashCode(),range.getStartOffset(),range.getEndOffset()));
}
