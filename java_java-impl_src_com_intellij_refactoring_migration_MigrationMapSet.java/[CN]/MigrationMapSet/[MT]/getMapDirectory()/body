{
  File dir=new File(PathManager.getConfigPath() + File.separator + "migration");
  if (!dir.exists()) {
    if (!dir.mkdir()) {
      LOG.error("cannot create directory: " + dir.getAbsolutePath());
      return null;
    }
    for (    PredefinedMigrationProvider provider : Extensions.getExtensions(PredefinedMigrationProvider.EP_NAME)) {
      URL migrationMap=provider.getMigrationMap();
      copyMap(dir,migrationMap,new File(migrationMap.getFile()).getName());
    }
    for (    String defaultTemplate : DEFAULT_MAPS) {
      URL url=MigrationMapSet.class.getResource(defaultTemplate);
      LOG.assertTrue(url != null);
      String fileName=defaultTemplate.substring(defaultTemplate.lastIndexOf("/") + 1);
      copyMap(dir,url,fileName);
    }
  }
  return dir;
}
