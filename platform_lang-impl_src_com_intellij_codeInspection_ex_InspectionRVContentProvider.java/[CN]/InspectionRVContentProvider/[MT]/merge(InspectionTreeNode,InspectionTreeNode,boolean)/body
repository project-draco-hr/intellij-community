{
  if (merge) {
    final Collection<InspectionTreeNode> children=parent.getChildren();
    for (    InspectionTreeNode current : children) {
      if (child.getClass() != current.getClass()) {
        continue;
      }
      if (current instanceof InspectionPackageNode) {
        if (((InspectionPackageNode)current).getPackageName().compareTo(((InspectionPackageNode)child).getPackageName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
 else       if (current instanceof RefElementNode) {
        if (((RefElementNode)current).getRefElement().getName().compareTo(((RefElementNode)child).getRefElement().getName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
 else       if (current instanceof InspectionNode) {
        if (((InspectionNode)current).getToolWrapper().getShortName().compareTo(((InspectionNode)child).getToolWrapper().getShortName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
 else       if (current instanceof InspectionModuleNode) {
        if (current.getName().compareTo(child.getName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
    }
  }
  add(child,parent);
}
