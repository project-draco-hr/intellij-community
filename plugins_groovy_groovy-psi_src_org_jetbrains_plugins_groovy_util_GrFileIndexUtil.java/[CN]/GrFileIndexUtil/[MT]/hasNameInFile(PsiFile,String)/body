{
  if (file.getVirtualFile() == null || DumbService.isDumb(file.getProject())) {
    return StringUtil.contains(file.getViewProvider().getContents(),name);
  }
  GlobalSearchScope scope=GlobalSearchScope.fileScope(file);
  return !FileBasedIndex.getInstance().getContainingFiles(IdIndex.NAME,new IdIndexEntry(name,true),scope).isEmpty();
}
