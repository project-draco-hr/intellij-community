{
  Point location=null;
  Dimension size=null;
  Integer extendedState=null;
synchronized (myStateMap) {
    WindowState state=myStateMap.get(getKey(screen,key));
    boolean visible=isVisible(state);
    if (!visible) {
      state=myStateMap.get(key);
      visible=isVisible(state);
    }
    if (visible) {
      location=state.myLocation;
      size=state.mySize;
      extendedState=state.myState;
    }
  }
  if (location == null && size == null) {
    location=getDefaultLocationOn(screen,key);
    size=getDefaultSizeOn(screen,key);
    if (!isVisible(location,size)) {
      return false;
    }
    extendedState=getDefaultExtendedStateOn(screen,key);
  }
  Frame frame=component instanceof Frame ? (Frame)component : null;
  if (frame != null) {
    frame.setExtendedState(Frame.NORMAL);
  }
  Rectangle bounds=component.getBounds();
  if (location != null) {
    bounds.setLocation(location);
  }
  if (size != null) {
    bounds.setSize(size);
  }
  component.setBounds(bounds);
  if (!Patches.JDK_BUG_ID_8007219 && frame != null && FrameState.isMaximized(extendedState)) {
    frame.setExtendedState(Frame.MAXIMIZED_BOTH);
  }
  return true;
}
