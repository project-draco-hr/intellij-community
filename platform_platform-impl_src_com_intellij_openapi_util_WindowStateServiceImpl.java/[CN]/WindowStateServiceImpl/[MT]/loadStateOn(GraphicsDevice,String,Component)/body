{
  Point location=null;
  Dimension size=null;
  boolean maximized=false;
synchronized (myStateMap) {
    WindowState state=getOn(screen,key,WindowState.class);
    if (state != null) {
      location=state.myLocation;
      size=state.mySize;
      maximized=state.myMaximized;
    }
  }
  if (location == null && size == null) {
    location=getDefaultLocationOn(screen,key);
    size=getDefaultSizeOn(screen,key);
    if (!isVisible(location,size)) {
      return false;
    }
    maximized=getDefaultMaximizedOn(screen,key);
  }
  Frame frame=component instanceof Frame ? (Frame)component : null;
  if (frame != null && Frame.NORMAL != frame.getExtendedState()) {
    frame.setExtendedState(Frame.NORMAL);
  }
  Rectangle bounds=component.getBounds();
  if (location != null) {
    bounds.setLocation(location);
  }
  if (size != null) {
    bounds.setSize(size);
  }
  component.setBounds(bounds);
  if (!Patches.JDK_BUG_ID_8007219 && maximized && frame != null) {
    frame.setExtendedState(Frame.MAXIMIZED_BOTH);
  }
  return true;
}
