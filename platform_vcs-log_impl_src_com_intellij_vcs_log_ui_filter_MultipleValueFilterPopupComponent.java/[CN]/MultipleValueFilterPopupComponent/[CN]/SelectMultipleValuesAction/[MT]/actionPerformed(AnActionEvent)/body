{
  Project project=e.getProject();
  if (project == null) {
    return;
  }
  Filter filter=myFilterModel.getFilter();
  List<String> values=filter == null ? Collections.emptyList() : myFilterModel.getFilterValues(filter);
  final MultilinePopupBuilder popupBuilder=new MultilinePopupBuilder(project,myVariants,getPopupText(values),supportsNegativeValues());
  JBPopup popup=popupBuilder.createPopup();
  popup.addListener(new JBPopupAdapter(){
    @Override public void onClosed(    LightweightWindowEvent event){
      if (event.isOk()) {
        List<String> selectedValues=popupBuilder.getSelectedValues();
        if (selectedValues.isEmpty()) {
          myFilterModel.setFilter(null);
        }
 else {
          myFilterModel.setFilter(myFilterModel.createFilter(selectedValues));
          rememberValuesInSettings(selectedValues);
        }
      }
    }
  }
);
  popup.showUnderneathOf(MultipleValueFilterPopupComponent.this);
}
