{
  handler.addListener(new GitHandlerListenerBase(handler,operationName){
    protected String getErrorText(){
      String text=handler.getStderr();
      if (text.length() == 0) {
        text=handler.getStdout();
      }
      return text;
    }
  }
);
  final ProgressManager manager=ProgressManager.getInstance();
  manager.runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      runInCurrentThread(handler,manager.getProgressIndicator(),true,operationTitle);
    }
  }
,operationTitle,false,handler.project());
  if (!handler.isStarted() || handler.getExitCode() != 0) {
    return null;
  }
  return handler.getStdout();
}
