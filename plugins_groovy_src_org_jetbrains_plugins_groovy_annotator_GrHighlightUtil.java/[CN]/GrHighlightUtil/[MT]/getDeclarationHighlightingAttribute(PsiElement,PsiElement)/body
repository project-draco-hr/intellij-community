{
  if (refElement != null && isReferenceWithLiteralName(refElement))   return null;
  if (resolved instanceof PsiField || resolved instanceof GrVariable && ResolveUtil.isScriptField((GrVariable)resolved)) {
    boolean isStatic=((PsiVariable)resolved).hasModifierProperty(PsiModifier.STATIC);
    return isStatic ? DefaultHighlighter.STATIC_FIELD : DefaultHighlighter.INSTANCE_FIELD;
  }
 else   if (resolved instanceof GrAccessorMethod) {
    boolean isStatic=((GrAccessorMethod)resolved).hasModifierProperty(PsiModifier.STATIC);
    return isStatic ? DefaultHighlighter.STATIC_PROPERTY_REFERENCE : DefaultHighlighter.INSTANCE_PROPERTY_REFERENCE;
  }
 else   if (resolved instanceof PsiMethod) {
    if (isMethodWithLiteralName((PsiMethod)resolved))     return null;
    if (((PsiMethod)resolved).isConstructor()) {
      if (refElement != null) {
        if (refElement.getNode().getElementType() == GroovyTokenTypes.kTHIS || refElement.getNode().getElementType() == GroovyTokenTypes.kSUPER) {
          return null;
        }
 else {
          return DefaultHighlighter.CONSTRUCTOR_CALL;
        }
      }
 else {
        return DefaultHighlighter.CONSTRUCTOR_DECLARATION;
      }
    }
 else {
      boolean isStatic=((PsiMethod)resolved).hasModifierProperty(PsiModifier.STATIC);
      if (GroovyPropertyUtils.isSimplePropertyAccessor((PsiMethod)resolved)) {
        return isStatic ? DefaultHighlighter.STATIC_PROPERTY_REFERENCE : DefaultHighlighter.INSTANCE_PROPERTY_REFERENCE;
      }
 else {
        if (refElement != null) {
          return isStatic ? DefaultHighlighter.STATIC_METHOD_ACCESS : DefaultHighlighter.METHOD_CALL;
        }
 else {
          return DefaultHighlighter.METHOD_DECLARATION;
        }
      }
    }
  }
 else   if (resolved instanceof PsiTypeParameter) {
    return DefaultHighlighter.TYPE_PARAMETER;
  }
 else   if (resolved instanceof PsiClass) {
    if (((PsiClass)resolved).isAnnotationType()) {
      return DefaultHighlighter.ANNOTATION;
    }
 else {
      return DefaultHighlighter.CLASS_REFERENCE;
    }
  }
 else   if (resolved instanceof GrParameter) {
    boolean reassigned=isReassigned((GrParameter)resolved);
    return reassigned ? DefaultHighlighter.REASSIGNED_PARAMETER : DefaultHighlighter.PARAMETER;
  }
 else   if (resolved instanceof GrVariable) {
    boolean reassigned=isReassigned((GrVariable)resolved);
    return reassigned ? DefaultHighlighter.REASSIGNED_LOCAL_VARIABLE : DefaultHighlighter.LOCAL_VARIABLE;
  }
 else   if (resolved instanceof GrLabeledStatement) {
    return DefaultHighlighter.LABEL;
  }
  return null;
}
