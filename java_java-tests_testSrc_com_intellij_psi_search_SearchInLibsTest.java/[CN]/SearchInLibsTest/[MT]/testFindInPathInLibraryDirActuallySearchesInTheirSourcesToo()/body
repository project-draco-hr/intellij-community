{
  FindModel model=new FindModel();
  final PsiClass aClass=myJavaFacade.findClass("LibraryClass1");
  assertNotNull(aClass);
  model.setDirectoryName(aClass.getContainingFile().getContainingDirectory().getVirtualFile().getPath());
  model.setCaseSensitive(true);
  model.setCustomScope(false);
  model.setStringToFind("LibraryClass1");
  model.setProjectScope(false);
  List<UsageInfo> usages=new ArrayList<UsageInfo>();
  FindInProjectUtil.findUsages(model,aClass.getContainingFile().getContainingDirectory(),getProject(),new CommonProcessors.CollectProcessor<UsageInfo>(usages),FindInProjectUtil.setupProcessPresentation(getProject(),false,FindInProjectUtil.setupViewPresentation(false,model)));
  assertEquals(2,usages.size());
}
