{
  super.visitConditionalExpression(expression);
  if (PsiUtil.isLanguageLevel8OrHigher(expression) && PsiPolyExpressionUtil.isPolyExpression(expression)) {
    final PsiExpression thenExpression=expression.getThenExpression();
    final PsiExpression elseExpression=expression.getElseExpression();
    if (thenExpression != null && elseExpression != null) {
      final PsiType conditionalType=expression.getType();
      if (conditionalType != null) {
        final PsiExpression[] sides=new PsiExpression[]{thenExpression,elseExpression};
        for (        PsiExpression side : sides) {
          final PsiType sideType=side.getType();
          if (sideType != null && !TypeConversionUtil.isAssignable(conditionalType,sideType)) {
            myHolder.add(HighlightUtil.checkAssignability(conditionalType,sideType,side,side));
          }
        }
      }
    }
  }
}
