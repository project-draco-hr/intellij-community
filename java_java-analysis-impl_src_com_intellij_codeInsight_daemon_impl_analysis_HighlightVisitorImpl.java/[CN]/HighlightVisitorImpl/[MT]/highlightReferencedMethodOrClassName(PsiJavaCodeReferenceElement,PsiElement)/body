{
  PsiElement parent=element.getParent();
  if (parent instanceof PsiReferenceExpression || parent instanceof PsiJavaCodeReferenceElement) {
    return;
  }
  final TextAttributesScheme colorsScheme=myHolder.getColorsScheme();
  if (parent instanceof PsiMethodCallExpression) {
    PsiMethod method=((PsiMethodCallExpression)parent).resolveMethod();
    PsiElement methodNameElement=element.getReferenceNameElement();
    if (method != null && methodNameElement != null && !(methodNameElement instanceof PsiKeyword)) {
      myHolder.add(HighlightNamesUtil.highlightMethodName(method,methodNameElement,false,colorsScheme));
      myHolder.add(HighlightNamesUtil.highlightClassNameInQualifier(element,colorsScheme));
    }
  }
 else   if (parent instanceof PsiConstructorCall) {
    try {
      PsiMethod method=((PsiConstructorCall)parent).resolveConstructor();
      PsiMember methodOrClass=method != null ? method : resolved instanceof PsiClass ? (PsiClass)resolved : null;
      if (methodOrClass != null) {
        final PsiElement referenceNameElement=element.getReferenceNameElement();
        if (referenceNameElement != null) {
          TextRange range=new TextRange(element.getTextRange().getStartOffset(),referenceNameElement.getTextRange().getEndOffset());
          myHolder.add(HighlightNamesUtil.highlightMethodName(methodOrClass,referenceNameElement,range,colorsScheme,false));
        }
      }
    }
 catch (    IndexNotReadyException ignored) {
    }
  }
 else   if (parent instanceof PsiImportStatement && ((PsiImportStatement)parent).isOnDemand()) {
    myHolder.add(HighlightNamesUtil.highlightClassName(null,element,colorsScheme));
  }
 else   if (resolved instanceof PsiClass) {
    final PsiElement qualifier=element.getQualifier();
    boolean hasNameHighlighting=qualifier instanceof PsiJavaCodeReferenceElement && ((PsiJavaCodeReferenceElement)qualifier).getTypeParameters().length > 0;
    final PsiElement referenceNameElement=element.getReferenceNameElement();
    final List<PsiElement> toHighlight=new ArrayList<>();
    if (hasNameHighlighting && referenceNameElement != null) {
      toHighlight.add(referenceNameElement);
      toHighlight.addAll(PsiTreeUtil.findChildrenOfType(element,PsiJavaCodeReferenceElement.class));
    }
 else {
      toHighlight.add(element);
    }
    for (    PsiElement psiElement : toHighlight) {
      myHolder.add(HighlightNamesUtil.highlightClassName((PsiClass)resolved,psiElement,colorsScheme));
    }
  }
}
