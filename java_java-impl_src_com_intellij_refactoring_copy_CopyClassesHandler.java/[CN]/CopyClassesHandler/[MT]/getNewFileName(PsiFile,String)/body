{
  if (name != null) {
    if (file instanceof PsiClassOwner) {
      for (      final PsiClass psiClass : ((PsiClassOwner)file).getClasses()) {
        if (!isSynthetic(psiClass)) {
          return name + "." + file.getViewProvider().getVirtualFile().getExtension();
        }
      }
    }
    return name;
  }
  return file.getName();
}
