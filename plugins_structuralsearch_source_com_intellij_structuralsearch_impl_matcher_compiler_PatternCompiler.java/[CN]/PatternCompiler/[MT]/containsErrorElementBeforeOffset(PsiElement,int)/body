{
  final boolean[] result={false};
  element.accept(new PsiRecursiveElementWalkingVisitor(){
    @Override public void visitElement(    PsiElement element){
      super.visitElement(element);
      if (element instanceof PsiErrorElement && element.getTextRange().getStartOffset() <= offset) {
        result[0]=true;
      }
    }
  }
);
  return result[0];
}
