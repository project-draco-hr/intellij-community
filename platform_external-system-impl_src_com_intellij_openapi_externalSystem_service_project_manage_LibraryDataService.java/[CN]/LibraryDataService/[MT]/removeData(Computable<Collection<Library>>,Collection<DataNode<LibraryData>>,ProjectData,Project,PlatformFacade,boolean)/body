{
  final Collection<Library> toRemove=toRemoveComputable.compute();
  if (toRemove.isEmpty()) {
    return;
  }
  platformFacade.updateLibraryTable(project,new Consumer<LibraryTable.ModifiableModel>(){
    @Override public void consume(    LibraryTable.ModifiableModel model){
      for (      Library library : toRemove) {
        String libraryName=library.getName();
        if (libraryName != null) {
          Library libraryToRemove=model.getLibraryByName(libraryName);
          if (libraryToRemove != null) {
            model.removeLibrary(libraryToRemove);
          }
        }
      }
    }
  }
);
}
