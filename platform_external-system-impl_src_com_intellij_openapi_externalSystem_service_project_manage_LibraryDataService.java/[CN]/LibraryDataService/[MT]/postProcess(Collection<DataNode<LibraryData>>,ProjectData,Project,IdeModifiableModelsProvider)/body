{
  if (projectData == null)   return;
  final List<Library> orphanIdeLibraries=ContainerUtil.newSmartList();
  final LibraryTable.ModifiableModel librariesModel=modelsProvider.getModifiableProjectLibrariesModel();
  for (  Library library : librariesModel.getLibraries()) {
    if (!ExternalSystemApiUtil.isExternalSystemLibrary(library,projectData.getOwner()))     continue;
    if (isOrphanProjectLibrary(library,modelsProvider)) {
      orphanIdeLibraries.add(library);
    }
  }
  for (  Library library : orphanIdeLibraries) {
    String libraryName=library.getName();
    if (libraryName != null) {
      Library libraryToRemove=librariesModel.getLibraryByName(libraryName);
      if (libraryToRemove != null) {
        librariesModel.removeLibrary(libraryToRemove);
      }
    }
  }
}
