{
  LanguageParserDefinitions.INSTANCE.addExplicitExtension(RegExpLanguage.INSTANCE,new RegExpParserDefinition());
  PsiTestUtil.removeAllRoots(myModule,IdeaTestUtil.getMockJdk18());
  configureByText(JavaFileType.INSTANCE,getJavaText(regExp,flags));
  final PsiFile regexpFile=setUpRegexpInjectionAndGetRegexpFile();
  for (  String text : matching) {
    assertTrue("Text '" + text + "' should match",CheckRegExpForm.isMatchingTextTest(regexpFile,text));
  }
  for (  String text : nonMatching) {
    assertFalse("Text '" + text + "' should not match",CheckRegExpForm.isMatchingTextTest(regexpFile,text));
  }
}
