{
  Project project=getProject();
  List<String> filePaths=Arrays.asList(args).subList(1,args.length);
  List<VirtualFile> files=findFiles(filePaths,currentDirectory);
  DiffRequest request;
  if (files.size() == 3) {
    request=DiffRequestFactory.getInstance().createFromFiles(project,files.get(0),files.get(2),files.get(1));
  }
 else {
    request=DiffRequestFactory.getInstance().createFromFiles(project,files.get(0),files.get(1));
  }
  DiffManagerEx.getInstance().showDiffBuiltin(project,request,DiffDialogHints.MODAL);
}
