{
  final List<T> list=new ArrayList<T>();
  final List<T> applicableList=new ArrayList<T>();
  for (  Map.Entry<PsiClass,Collection<T>> methodEntry : mySuggestions.entrySet()) {
    registerMember(methodEntry.getKey(),methodEntry.getValue(),list,applicableList);
  }
  for (  Map.Entry<PsiClass,Collection<T>> deprecatedMethod : myDeprecated.entrySet()) {
    registerMember(deprecatedMethod.getKey(),deprecatedMethod.getValue(),list,applicableList);
  }
  List<T> result=applicableList.isEmpty() ? list : applicableList;
  for (int i=result.size() - 1; i >= 0; i--) {
    ProgressManager.checkCanceled();
    T method=result.get(i);
    if (StaticImportMethodFix.isExcluded(method)) {
      result.remove(i);
    }
  }
  Collections.sort(result,new PsiProximityComparator(myPlace));
  return result;
}
