{
  Runnable wrappedRunnable=new Runnable(){
    @Override public void run(){
      if (isGlobalUndoAction())       CommandProcessor.getInstance().markCurrentCommandAsGlobal(getProject());
      runnable.run();
    }
  }
;
  CommandProcessor.getInstance().executeCommand(getProject(),wrappedRunnable,getCommandName(),getGroupID(),getUndoConfirmationPolicy(),shouldRecordActionForActiveDocument());
}
