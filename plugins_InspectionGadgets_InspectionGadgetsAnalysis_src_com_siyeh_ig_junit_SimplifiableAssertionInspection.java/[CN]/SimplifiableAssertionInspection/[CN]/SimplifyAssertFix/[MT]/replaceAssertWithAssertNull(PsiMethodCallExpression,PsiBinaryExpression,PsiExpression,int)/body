{
  final PsiExpression lhs=binaryExpression.getLOperand();
  PsiExpression rhs=binaryExpression.getROperand();
  if (rhs == null) {
    return;
  }
  final IElementType tokenType=binaryExpression.getOperationTokenType();
  if (!(lhs instanceof PsiLiteralExpression) && rhs instanceof PsiLiteralExpression) {
    rhs=lhs;
  }
  @NonNls final StringBuilder newExpression=new StringBuilder();
  final PsiReferenceExpression methodExpression=callExpression.getMethodExpression();
  @NonNls final String methodName=methodExpression.getReferenceName();
  @NonNls final String memberName;
  if ("assertFalse".equals(methodName) ^ tokenType.equals(JavaTokenType.NE)) {
    memberName="assertNotNull";
  }
 else {
    memberName="assertNull";
  }
  compoundMethodCall(callExpression,memberName,message,positionIndex,rhs.getText(),newExpression);
  PsiReplacementUtil.replaceExpressionAndShorten(callExpression,newExpression.toString());
}
