{
  List<LookupElement> variants=new ArrayList<LookupElement>();
  try {
    final List<PydevCompletionVariant> completions=myCommunication.getCompletions(myPrefix);
    for (    PydevCompletionVariant completion : completions) {
      final PsiManager manager=myElement.getManager();
      final String name=completion.getName();
      final int type=completion.getType();
      LookupElementBuilder builder=LookupElementBuilder.create(new PydevConsoleElement(manager,name,completion.getDescription())).setIcon(PyCodeCompletionImages.getImageForType(type));
      final String args=completion.getArgs();
      if (!StringUtil.isEmptyOrSpaces(args)) {
        builder=builder.setTailText(args);
      }
      if (type == IToken.TYPE_FUNCTION || args.endsWith(")")) {
        builder=builder.setInsertHandler(ParenthesesInsertHandler.WITH_PARAMETERS);
      }
      variants.add(builder);
    }
  }
 catch (  Exception e) {
  }
  return variants.toArray();
}
