{
  List<ProcessInfo> processList=ContainerUtil.newArrayList();
  CSVReader reader=new CSVReader(new BufferedReader(new InputStreamReader(stream)));
  try {
    String[] next;
    do {
      try {
        next=reader.readNext();
        if (next != null) {
          int pid=Integer.parseInt(next[1]);
          String name=next[0] + " - " + next[next.length - 1];
          processList.add(new ProcessInfo(pid,name));
        }
      }
 catch (      IOException e) {
        break;
      }
    }
 while (next != null);
  }
  finally {
    reader.close();
  }
  return processList.isEmpty() ? ProcessInfo.EMPTY_ARRAY : processList.toArray(new ProcessInfo[processList.size()]);
}
