{
  final ShowSettingsUtil settingsUtil=ShowSettingsUtil.getInstance();
  final ErrorsConfigurable errorsConfigurable;
  if (!canChooseDifferentProfile) {
    errorsConfigurable=new ProjectInspectionToolsConfigurable(InspectionProfileManager.getInstance(),InspectionProjectProfileManager.getInstance(project));
  }
 else {
    errorsConfigurable=ErrorsConfigurable.SERVICE.createConfigurable(project);
  }
  return settingsUtil.editConfigurable(project,errorsConfigurable,new Runnable(){
    @Override public void run(){
      errorsConfigurable.selectProfile(inspectionProfile);
      SwingUtilities.invokeLater(new Runnable(){
        @Override public void run(){
          errorsConfigurable.selectInspectionTool(selectedToolShortName);
        }
      }
);
    }
  }
);
}
