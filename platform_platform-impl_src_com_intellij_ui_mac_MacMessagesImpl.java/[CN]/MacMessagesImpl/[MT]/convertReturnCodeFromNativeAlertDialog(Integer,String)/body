{
  int cancelCode;
  int code;
  if (alternateText != null) {
    cancelCode=Messages.CANCEL;
    if (returnCode == null) {
      returnCode=Messages.CANCEL;
    }
switch (returnCode) {
case 1:
      code=Messages.YES;
    break;
case 0:
  code=Messages.NO;
break;
case -1:
default :
code=Messages.CANCEL;
break;
}
}
 else {
cancelCode=1;
if (returnCode == null) {
returnCode=-1;
}
switch (returnCode) {
case 1:
code=Messages.YES;
break;
case -1:
default :
code=Messages.NO;
break;
}
}
return cancelCode == code ? OPERATION_CANCELED : code;
}
