{
  if (StringUtil.isEmpty(myTasksListUrl)) {
    throw new Exception("'Task list URL' configuration parameter is mandatory");
  }
  if (!isLoginAnonymously() && !isUseHttpAuthentication()) {
    executeMethod(getLoginMethod());
  }
  List<TemplateVariable> variables=concat(getAllTemplateVariables(),new TemplateVariable("max",String.valueOf(max)),new TemplateVariable("since",String.valueOf(since)));
  String requestUrl=substituteTemplateVariables(getTasksListUrl(),variables);
  String responseBody=executeMethod(getHttpMethod(requestUrl,myTasksListMethodType));
  Task[] tasks=getActiveResponseHandler().parseIssues(responseBody,max);
  if (myResponseType == ResponseType.TEXT) {
    return tasks;
  }
  if (StringUtil.isNotEmpty(mySingleTaskUrl) && myDownloadTasksInSeparateRequests) {
    for (int i=0; i < tasks.length; i++) {
      tasks[i]=findTask(tasks[i].getId());
    }
  }
  return tasks;
}
