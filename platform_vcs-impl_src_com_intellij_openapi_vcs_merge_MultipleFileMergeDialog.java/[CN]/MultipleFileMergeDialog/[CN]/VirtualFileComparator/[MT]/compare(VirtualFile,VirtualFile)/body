{
  int delta=StringUtil.naturalCompare(file1.getName(),file2.getName());
  if (delta != 0)   return delta;
  VirtualFile parent1=file1.getParent();
  VirtualFile parent2=file2.getParent();
  String path1=parent1 != null ? parent1.getPath() : null;
  String path2=parent2 != null ? parent2.getPath() : null;
  return StringUtil.naturalCompare(path1,path2);
}
