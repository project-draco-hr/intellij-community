{
  List<Edge> edges=upNodeEdges.get(node);
  for (  Edge edge : edges) {
    if (isVisibleNode(edge.getUpNode())) {
      return edge;
    }
  }
  return null;
}
