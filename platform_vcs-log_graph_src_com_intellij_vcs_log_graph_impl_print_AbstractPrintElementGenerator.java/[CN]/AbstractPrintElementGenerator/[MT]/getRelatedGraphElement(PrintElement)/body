{
  if (printElement instanceof PrintElementWithGraphElement) {
    return ((PrintElementWithGraphElement)printElement).getGraphElement();
  }
  if (printElement instanceof SimplePrintElement) {
    for (    SimpleRowElement rowElement : getSimpleRowElements(printElement.getRowIndex())) {
      if (rowElement.myPosition == printElement.getPositionInCurrentRow())       return rowElement.myElement;
    }
  }
  if (printElement instanceof EdgePrintElement) {
    EdgePrintElement edgePrintElement=(EdgePrintElement)printElement;
    if (edgePrintElement.getType() == EdgePrintElement.Type.DOWN) {
      for (      ShortEdge shortEdge : getDownShortEdges(printElement.getRowIndex())) {
        if (shortEdge.myUpPosition == edgePrintElement.getPositionInCurrentRow() && shortEdge.myDownPosition == edgePrintElement.getPositionInOtherRow()) {
          return shortEdge.myEdge;
        }
      }
    }
    if (edgePrintElement.getType() == EdgePrintElement.Type.DOWN) {
      for (      ShortEdge shortEdge : getDownShortEdges(printElement.getRowIndex() - 1)) {
        if (shortEdge.myDownPosition == edgePrintElement.getPositionInCurrentRow() && shortEdge.myUpPosition == edgePrintElement.getPositionInOtherRow()) {
          return shortEdge.myEdge;
        }
      }
    }
  }
  throw new IllegalStateException("Not found graphElement for this printElement: " + printElement);
}
