{
  getDomManager().registerFileDescription(new DomFileDescription<NamespacedElement>(NamespacedElement.class,"xxx","bar"){
    @Override protected void initializeFileDescription(){
      registerNamespacePolicy("foo","bar");
    }
  }
,myDisposable);
  final PsiFile file=createFile("xxx.xml","<xxx/>");
  assertFalse(getDomManager().isDomFile(file));
  new WriteCommandAction(getProject()){
    @Override protected void run(    @NotNull Result result) throws Throwable {
      ((XmlFile)file).getDocument().getRootTag().setAttribute("xmlns","bar");
    }
  }
.execute();
  assertTrue(getDomManager().isDomFile(file));
}
