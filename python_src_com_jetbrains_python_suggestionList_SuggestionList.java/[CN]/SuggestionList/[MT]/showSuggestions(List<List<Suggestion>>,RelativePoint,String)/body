{
  close();
  myList.setCellRenderer(new MyCellRenderer());
  myListModel.clear();
  if (values.isEmpty()) {
    return;
  }
  for (int groupId=0; groupId < values.size(); groupId++) {
    final List<Suggestion> suggestions=values.get(groupId);
    for (int suggestionId=0; suggestionId < suggestions.size(); suggestionId++) {
      final Suggestion suggestion=suggestions.get(suggestionId);
      myListModel.addElement(new SuggestionListElement((groupId % 2) == 0,suggestion));
      if (suggestion.getText().equals(elementToSelect)) {
        myList.setSelectedIndex(suggestionId + groupId);
      }
    }
  }
  if ((elementToSelect == null) && (!myListModel.isEmpty())) {
    myList.setSelectedIndex(0);
  }
  final JScrollPane content=new JScrollPane(myList,ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);
  myListPopUp=JBPopupFactory.getInstance().createComponentPopupBuilder(content,null).createPopup();
  if (myListener != null) {
    myListPopUp.addListener(myListener);
  }
  myListPopUp.show(displayPoint);
}
