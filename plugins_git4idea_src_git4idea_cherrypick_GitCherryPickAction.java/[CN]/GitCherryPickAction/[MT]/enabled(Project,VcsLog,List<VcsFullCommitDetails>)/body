{
  if (commits.isEmpty()) {
    return false;
  }
  for (  VcsFullCommitDetails commit : commits) {
    if (myIdsInProgress.contains(commit.getId())) {
      return false;
    }
    GitRepository repository=myPlatformFacade.getRepositoryManager(project).getRepositoryForRoot(commit.getRoot());
    if (repository == null) {
      return false;
    }
    GitLocalBranch currentBranch=repository.getCurrentBranch();
    Collection<String> containingBranches=log.getContainingBranches(commit.getId());
    if (currentBranch != null && containingBranches != null && containingBranches.contains(currentBranch.getName())) {
      return false;
    }
  }
  return true;
}
