{
  GithubConnection connection=getConnection();
  try {
    boolean isOpen;
switch (state) {
case OPEN:
      isOpen=true;
    break;
case RESOLVED:
  isOpen=false;
break;
default :
throw new IllegalStateException("Unknown state: " + state);
}
GithubApiUtil.setIssueState(connection,getRepoAuthor(),getRepoName(),task.getNumber(),isOpen);
}
  finally {
connection.close();
}
}
