{
  if (action.getAffectedElement() != null) {
    if (action.getType() == GraphAction.Type.MOUSE_CLICK) {
      GraphElement graphElement=action.getAffectedElement().getGraphElement();
      if (graphElement instanceof GraphEdge) {
        return expandEdge((GraphEdge)graphElement);
      }
 else       if (graphElement instanceof GraphNode) {
        return collapseNode((GraphNode)graphElement);
      }
    }
 else     if (action.getType() == GraphAction.Type.MOUSE_OVER) {
      GraphElement graphElement=action.getAffectedElement().getGraphElement();
      if (graphElement instanceof GraphEdge) {
        return highlightEdge((GraphEdge)graphElement);
      }
 else       if (graphElement instanceof GraphNode) {
        return highlightNode((GraphNode)graphElement);
      }
    }
  }
 else   if (action.getType() == GraphAction.Type.BUTTON_COLLAPSE) {
    return collapseAll();
  }
 else   if (action.getType() == GraphAction.Type.BUTTON_EXPAND) {
    return expandAll();
  }
  return null;
}
