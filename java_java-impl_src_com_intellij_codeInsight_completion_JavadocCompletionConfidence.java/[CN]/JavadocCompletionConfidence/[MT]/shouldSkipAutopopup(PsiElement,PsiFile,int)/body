{
  if (psiElement().inside(PsiDocTag.class).accepts(contextElement)) {
    if (findJavaReference(psiFile,offset - 1) != null) {
      return ThreeState.NO;
    }
    if (PlatformPatterns.psiElement(JavaDocTokenType.DOC_TAG_NAME).accepts(contextElement)) {
      return ThreeState.NO;
    }
    if (contextElement.textMatches("#")) {
      return ThreeState.NO;
    }
  }
  return super.shouldSkipAutopopup(contextElement,psiFile,offset);
}
