{
  if (visited.contains(def)) {
    return;
  }
  visited.add(def);
  final Set<PyFunction.Flag> flags=def.getContainingClass() != null ? PyUtil.detectDecorationsAndWrappersOf(def) : null;
  final KwArgParameterCollector collector=new KwArgParameterCollector(flags,ret);
  def.getParameterList().acceptChildren(collector);
  if (collector.hasKwArgs()) {
    def.getStatementList().acceptChildren(new KwArgStatementCallCollector(ret,collector.getKwArgs()));
  }
  if (collector.hasOnlySelfAndKwArgs()) {
    final PsiElement superMethod=PySuperMethodsSearch.search(def).findFirst();
    if (superMethod instanceof PyFunction) {
      addKeywordArgumentVariants((PyFunction)superMethod,ret,visited);
    }
  }
}
