{
  final PsiPackage hisPackage=ApplicationManager.getApplication().runReadAction(new Computable<PsiPackage>(){
    public PsiPackage compute(){
      return JavaPsiFacade.getInstance(javaFile.getProject()).findPackage(javaFile.getPackageName());
    }
  }
);
  if (hisPackage == null)   return false;
  for (  PsiPackage aPackage : packages) {
    if (PsiTreeUtil.isAncestor(aPackage,hisPackage,false))     return true;
  }
  return false;
}
