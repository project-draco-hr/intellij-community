{
  final String hisPackageName=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    public String compute(){
      return javaFile.getPackageName();
    }
  }
);
  PsiPackage hisPackage=JavaPsiFacade.getInstance(javaFile.getProject()).findPackage(hisPackageName);
  if (hisPackage == null)   return false;
  for (  PsiPackage aPackage : packages) {
    if (PsiTreeUtil.isAncestor(aPackage,hisPackage,false))     return true;
  }
  return false;
}
