{
  final PsiClass[] classes=ApplicationManager.getApplication().runReadAction(new Computable<PsiClass[]>(){
    public PsiClass[] compute(){
      return ((PsiClassOwner)sourceFile).getClasses();
    }
  }
);
  final Set<String> qNames=new HashSet<String>();
  for (  final PsiClass aClass : classes) {
    qNames.add(ApplicationManager.getApplication().runReadAction(new Computable<String>(){
      @Nullable public String compute(){
        return aClass.getQualifiedName();
      }
    }
));
  }
  return qNames;
}
