{
  final VirtualFile virtualFile=psiFile.getVirtualFile();
  if (virtualFile == null)   return false;
  final Project project=psiFile.getProject();
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  if (!suite.isTrackTestFolders() && fileIndex.isInTestSourceContent(virtualFile)) {
    return false;
  }
  for (  CoverageSuite coverageSuite : suite.getSuites()) {
    final JavaCoverageSuite javaSuite=(JavaCoverageSuite)coverageSuite;
    final List<PsiPackage> packages=javaSuite.getCurrentSuitePackages(project);
    if (isUnderFilteredPackages((PsiClassOwner)psiFile,packages)) {
      return true;
    }
 else {
      final List<PsiClass> classes=javaSuite.getCurrentSuiteClasses(project);
      for (      PsiClass aClass : classes) {
        final PsiFile containingFile=aClass.getContainingFile();
        if (psiFile.equals(containingFile)) {
          return true;
        }
      }
    }
  }
  return false;
}
