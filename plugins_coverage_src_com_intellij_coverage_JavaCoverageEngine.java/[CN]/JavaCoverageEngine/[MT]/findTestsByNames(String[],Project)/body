{
  final List<PsiElement> elements=new ArrayList<>();
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(project);
  final GlobalSearchScope projectScope=GlobalSearchScope.projectScope(project);
  for (  String testName : testNames) {
    PsiClass psiClass=facade.findClass(StringUtil.getPackageName(testName,'_').replaceAll("\\_","\\."),projectScope);
    int lastIdx=testName.lastIndexOf("_");
    if (psiClass != null) {
      collectTestsByName(elements,testName,psiClass,lastIdx);
    }
 else {
      String className=testName;
      while (lastIdx > 0) {
        className=className.substring(0,lastIdx - 1);
        psiClass=facade.findClass(StringUtil.getPackageName(className,'_').replaceAll("\\_","\\."),projectScope);
        lastIdx=className.lastIndexOf("_");
        if (psiClass != null) {
          collectTestsByName(elements,testName,psiClass,lastIdx);
          break;
        }
      }
    }
  }
  return elements;
}
