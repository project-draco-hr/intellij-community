{
  myWizardContext.setProjectName(myNamePathComponent.getNameValue());
  myWizardContext.setProjectFileDirectory(myNamePathComponent.getPath());
  myFormatPanel.updateData(myWizardContext);
  ModuleBuilder moduleBuilder=(ModuleBuilder)myWizardContext.getProjectBuilder();
  if (moduleBuilder != null) {
    final String moduleName=getModuleName();
    moduleBuilder.setName(moduleName);
    moduleBuilder.setModuleFilePath(FileUtil.toSystemIndependentName(myModuleFileLocation.getText()) + "/" + moduleName+ ModuleFileType.DOT_DEFAULT_EXTENSION);
    moduleBuilder.setContentEntryPath(FileUtil.toSystemIndependentName(getModuleContentRoot()));
    if (moduleBuilder instanceof TemplateModuleBuilder) {
      myWizardContext.setProjectStorageFormat(StorageScheme.DIRECTORY_BASED);
    }
  }
  if (mySettingsStep != null) {
    mySettingsStep.updateDataModel();
  }
}
