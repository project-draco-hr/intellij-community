{
  final JPanel panel=new JPanel(new VerticalFlowLayout(VerticalFlowLayout.TOP,0,5,true,false));
  panel.add(new JLabel("Forbid API usages:"));
  final JRadioButton projectRb=new JRadioButton("Respecting to project language level settings");
  panel.add(projectRb);
  final JRadioButton customRb=new JRadioButton("Higher than:");
  panel.add(customRb);
  final ButtonGroup gr=new ButtonGroup();
  gr.add(projectRb);
  gr.add(customRb);
  final DefaultComboBoxModel cModel=new DefaultComboBoxModel();
  for (  LanguageLevel level : LanguageLevel.values()) {
    cModel.addElement(level);
  }
  @SuppressWarnings("unchecked") final JComboBox llCombo=new JComboBox(cModel){
    @Override public void setEnabled(    boolean b){
      if (b == customRb.isSelected()) {
        super.setEnabled(b);
      }
    }
  }
;
  llCombo.setSelectedItem(myEffectiveLanguageLevel != null ? myEffectiveLanguageLevel : LanguageLevel.JDK_1_3);
  llCombo.setRenderer(new DefaultListCellRenderer(){
    @Override public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      Component component=super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      if (value instanceof LanguageLevel && component instanceof JLabel) {
        ((JLabel)component).setText(((LanguageLevel)value).getPresentableText());
      }
      return component;
    }
  }
);
  llCombo.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      myEffectiveLanguageLevel=(LanguageLevel)llCombo.getSelectedItem();
    }
  }
);
  final JPanel comboPanel=new JPanel(new BorderLayout());
  comboPanel.setBorder(BorderFactory.createEmptyBorder(0,20,0,0));
  comboPanel.add(llCombo,BorderLayout.WEST);
  panel.add(comboPanel);
  final ActionListener actionListener=new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      if (projectRb.isSelected()) {
        myEffectiveLanguageLevel=null;
      }
 else {
        myEffectiveLanguageLevel=(LanguageLevel)llCombo.getSelectedItem();
      }
      UIUtil.setEnabled(comboPanel,!projectRb.isSelected(),true);
    }
  }
;
  projectRb.addActionListener(actionListener);
  customRb.addActionListener(actionListener);
  projectRb.setSelected(myEffectiveLanguageLevel == null);
  customRb.setSelected(myEffectiveLanguageLevel != null);
  UIUtil.setEnabled(comboPanel,!projectRb.isSelected(),true);
  return panel;
}
