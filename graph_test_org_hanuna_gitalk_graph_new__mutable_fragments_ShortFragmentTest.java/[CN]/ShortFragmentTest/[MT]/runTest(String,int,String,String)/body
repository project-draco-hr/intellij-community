{
  Set<Integer> unhiddenNodesRowIndex=parseInts(unhiddenNodeRows);
  MutableGraph graph=GraphTestUtils.getNewMutableGraph(inputGraph);
  FragmentGenerator fragmentGenerator=new FragmentGenerator(graph);
  Set<Node> unhiddenNodes=new HashSet<Node>();
  for (  Integer i : unhiddenNodesRowIndex) {
    unhiddenNodes.add(getCommitNode(graph,i));
  }
  fragmentGenerator.setUnhiddenNodes(unhiddenNodes);
  Node commitNode=getCommitNode(graph,rowIndex);
  NewGraphFragment fragment=fragmentGenerator.getShortFragment(commitNode);
  assertEquals(fragmentStr,toStr(fragment));
}
