{
  PsiElement psiElement=(PsiElement)this;
  if (!psiElement.isValid())   return null;
  if (Registry.is("psi.deferIconLoading")) {
    Icon baseIcon=LastComputedIcon.get(psiElement,flags);
    if (baseIcon == null) {
      baseIcon=computeBaseIcon(flags);
    }
    return IconDeferrer.getInstance().defer(baseIcon,new ElementIconRequest(psiElement,flags),ICON_COMPUTE);
  }
  return computeIconNow(psiElement,flags);
}
