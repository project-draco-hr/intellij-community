{
  final Project project=expression.getProject();
  final PsiClass functionalInterfaceClass=JavaPsiFacade.getInstance(project).findClass(CommonClassNames.JAVA_LANG_FUNCTIONAL_INTERFACE,GlobalSearchScope.allScope(project));
  if (functionalInterfaceClass == null) {
    return Collections.emptyList();
  }
  final Set<PsiType> types=new LinkedHashSet<PsiType>();
  final String uniqueExprName=JavaCodeStyleManager.getInstance(project).suggestUniqueVariableName("l",expression,true);
  AnnotatedMembersSearch.search(functionalInterfaceClass,expression.getResolveScope()).forEach(new Processor<PsiMember>(){
    @Override public boolean process(    PsiMember member){
      if (member instanceof PsiClass) {
        final PsiType type=getAcceptableType((PsiClass)member,expression,uniqueExprName);
        if (type != null) {
          types.add(type);
        }
      }
      return true;
    }
  }
);
  return types;
}
