{
  super(deploymentSource);
  String repositoryPath=config.getRepositoryPath();
  if (StringUtil.isEmpty(repositoryPath)) {
    File repositoryParentFolder=new File(PathManager.getSystemPath(),"cloud-git-artifact-deploy");
    myRepositoryRootFile=FileUtil.findSequentNonexistentFile(repositoryParentFolder,getArtifactFile().getName(),"");
  }
 else {
    myRepositoryRootFile=new File(repositoryPath);
  }
  if (!FileUtil.createDirectory(myRepositoryRootFile)) {
    throw new ServerRuntimeException("Unable to create deploy folder: " + myRepositoryRootFile);
  }
  config.setRepositoryPath(myRepositoryRootFile.getAbsolutePath());
}
