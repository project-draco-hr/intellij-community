{
  this.ui_controller=ui_controller;
  myActiveSurface=new ActiveSurface(ui_controller);
  packMainPanel();
  ui_controller.getProject().getMessageBus().connect().subscribe(GitRepository.GIT_REPO_CHANGE,new GitRepositoryChangeListener(){
    @Override public void repositoryChanged(    @NotNull final GitRepository repository){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          updateToolbar(repository);
        }
      }
);
    }
  }
);
}
