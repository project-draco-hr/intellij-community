{
  super(project);
  myClass=aClass;
  myInnerClassName=innerClassName;
  myIsDelegateOtherMembers=delegateOtherMembers;
  myManager=myClass.getManager();
  myFactory=JavaPsiFacade.getInstance(myManager.getProject()).getElementFactory();
  myBaseClass=targetBaseClass;
  LOG.assertTrue(myBaseClass.getQualifiedName() == null || !myBaseClass.getQualifiedName().equals(CommonClassNames.JAVA_LANG_OBJECT),myBaseClass);
  myBaseClassMembers=getAllBaseClassMembers();
  myBaseClassBases=getAllBases();
  myBaseClassType=myFactory.createType(myBaseClass,getSuperSubstitutor(myBaseClass));
  myIsInnerClassNeeded=InheritanceToDelegationUtil.isInnerClassNeeded(myClass,myBaseClass);
  myFieldName=fieldName;
  final String propertyName=JavaCodeStyleManager.getInstance(myProject).variableNameToPropertyName(myFieldName,VariableKind.FIELD);
  myGetterName=GenerateMembersUtil.suggestGetterName(propertyName,myBaseClassType,myProject);
  myGenerateGetter=generateGetter;
  myDelegatedInterfaces=new LinkedHashSet<>();
  addAll(myDelegatedInterfaces,delegatedInterfaces);
  myDelegatedMethods=new LinkedHashSet<>();
  addAll(myDelegatedMethods,delegatedMethods);
  myDelegatedMethodsVisibility=new HashMap<>();
  for (  PsiMethod method : myDelegatedMethods) {
    MethodSignature signature=method.getSignature(getSuperSubstitutor(method.getContainingClass()));
    PsiMethod overridingMethod=MethodSignatureUtil.findMethodBySignature(myClass,signature,false);
    if (overridingMethod != null) {
      myDelegatedMethodsVisibility.put(method,VisibilityUtil.getVisibilityModifier(overridingMethod.getModifierList()));
    }
  }
  myOverriddenMethods=getOverriddenMethods();
}
