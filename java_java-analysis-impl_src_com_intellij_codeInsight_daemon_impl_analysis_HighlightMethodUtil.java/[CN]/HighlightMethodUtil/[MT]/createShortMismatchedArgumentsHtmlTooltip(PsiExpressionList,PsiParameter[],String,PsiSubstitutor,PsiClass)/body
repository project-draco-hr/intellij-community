{
  PsiExpression[] expressions=list.getExpressions();
  int cols=Math.max(parameters.length,expressions.length);
  @Language("HTML") @NonNls String parensizedName=methodName + (parameters.length == 0 ? "(&nbsp;)&nbsp;" : "");
  final String errorMessage=InferenceSession.getInferenceErrorMessage(list.getParent());
  return JavaErrorMessages.message("argument.mismatch.html.tooltip",Integer.valueOf(cols - parameters.length + 1),parensizedName,HighlightUtil.formatClass(aClass,false),createMismatchedArgsHtmlTooltipParamsRow(parameters,substitutor,expressions),createMismatchedArgsHtmlTooltipArgumentsRow(expressions,parameters,substitutor,cols),errorMessage != null ? "<br/>reason: " + XmlStringUtil.escapeString(errorMessage).replaceAll("\n","<br/>") : "");
}
