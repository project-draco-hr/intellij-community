{
  if (!(queryParameters.getScope() instanceof GlobalSearchScope) || !isSearching())   return;
  PsiClass base=queryParameters.getClassToProcess();
  GlobalSearchScope scope=(GlobalSearchScope)queryParameters.getScope();
  ClassHierarchy hierarchy=HierarchyService.getHierarchy(base.getProject());
  for (  SmartClassAnchor anchor : hierarchy.getDirectSubtypeCandidates(base)) {
    if (!processCandidate(consumer,base,scope,hierarchy,anchor)) {
      return;
    }
  }
}
