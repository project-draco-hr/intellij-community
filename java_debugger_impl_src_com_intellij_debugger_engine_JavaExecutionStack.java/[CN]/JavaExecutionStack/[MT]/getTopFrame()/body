{
  if (!myTopFrameReady) {
    if (DebuggerManagerThreadImpl.isManagerThread()) {
      myTopFrame=calcTopFrame();
    }
 else {
      myDebugProcess.getManagerThread().invokeAndWait(new DebuggerCommandImpl(){
        @Override public Priority getPriority(){
          return Priority.HIGH;
        }
        @Override protected void action() throws Exception {
          myTopFrame=calcTopFrame();
        }
      }
);
    }
  }
  return myTopFrame;
}
