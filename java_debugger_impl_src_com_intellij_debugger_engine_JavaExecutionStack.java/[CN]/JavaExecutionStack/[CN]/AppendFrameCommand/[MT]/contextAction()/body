{
  if (myStackFramesIterator.hasNext()) {
    JavaStackFrame frame=new JavaStackFrame(myStackFramesIterator.next(),myDebugProcess,myTracker);
    if (DebuggerSettings.getInstance().SHOW_LIBRARY_STACKFRAMES || (!frame.getDescriptor().isSynthetic() && !frame.getDescriptor().isInLibraryContent())) {
      if (++myAdded > mySkip) {
        myContainer.addStackFrames(Arrays.asList(frame),false);
      }
    }
    myDebugProcess.getManagerThread().schedule(new AppendFrameCommand(getSuspendContext(),myStackFramesIterator,myContainer,myAdded,mySkip));
  }
 else {
    myContainer.addStackFrames(Collections.<JavaStackFrame>emptyList(),true);
  }
}
