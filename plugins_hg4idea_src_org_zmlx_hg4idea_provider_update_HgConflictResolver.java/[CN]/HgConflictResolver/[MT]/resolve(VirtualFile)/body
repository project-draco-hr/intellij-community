{
  final List<VirtualFile> conflicts=findConflicts(myProject,updatedFiles,repo);
  if (conflicts.isEmpty()) {
    return;
  }
  final HgVcs vcs=HgVcs.getInstance(myProject);
  if (vcs == null) {
    return;
  }
  ApplicationManager.getApplication().invokeAndWait(new Runnable(){
    public void run(){
      AbstractVcsHelper.getInstance(myProject).showMergeDialog(conflicts,vcs.getMergeProvider());
    }
  }
,ModalityState.defaultModalityState());
}
