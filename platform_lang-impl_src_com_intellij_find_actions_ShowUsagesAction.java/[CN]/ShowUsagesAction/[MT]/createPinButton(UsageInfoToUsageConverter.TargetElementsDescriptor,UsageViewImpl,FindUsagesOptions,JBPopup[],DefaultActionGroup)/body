{
  final AnAction pinAction=new AnAction("Open Find Usages Toolwindow","Show all usages in a separate toolwindow",AllIcons.General.AutohideOff){
{
      AnAction action=ActionManager.getInstance().getAction(IdeActions.ACTION_FIND_USAGES);
      setShortcutSet(action.getShortcutSet());
    }
    @Override public void actionPerformed(    AnActionEvent e){
      hideHints();
      popup[0].cancel();
      FindUsagesManager findUsagesManager=((FindManagerImpl)FindManager.getInstance(usageView.getProject())).getFindUsagesManager();
      FindUsagesManager.SearchData data=new FindUsagesManager.SearchData();
      data.myOptions=options;
      List<SmartPsiElementPointer<PsiElement>> plist=descriptor.getAllElementPointers();
      data.myElements=plist.toArray(new SmartPsiElementPointer[plist.size()]);
      findUsagesManager.rerunAndRecallFromHistory(data);
    }
  }
;
  pinGroup.add(pinAction);
  final ActionToolbar pinToolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.USAGE_VIEW_TOOLBAR,pinGroup,true);
  pinToolbar.setReservePlaceAutoPopupIcon(false);
  final JComponent pinToolBar=pinToolbar.getComponent();
  pinToolBar.setBorder(null);
  pinToolBar.setOpaque(false);
  return new ActiveComponent(){
    @Override public void setActive(    boolean active){
    }
    @Override public JComponent getComponent(){
      return pinToolBar;
    }
  }
;
}
