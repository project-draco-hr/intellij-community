{
  EnumSet<GrIntroduceFieldSettings.Init> result=EnumSet.of(GrIntroduceFieldSettings.Init.FIELD_DECLARATION,GrIntroduceFieldSettings.Init.CONSTRUCTOR);
  GrTypeDefinition clazz=(GrTypeDefinition)context.getScope();
  if (replaceAll) {
    PsiElement anchor=GrIntroduceHandlerBase.findAnchor(context.getOccurrences(),clazz);
    if (anchor != null) {
      result.add(GrIntroduceFieldSettings.Init.CUR_METHOD);
    }
  }
  if (TestFrameworks.getInstance().isTestClass(clazz)) {
    result.add(GrIntroduceFieldSettings.Init.SETUP_METHOD);
  }
  return result;
}
