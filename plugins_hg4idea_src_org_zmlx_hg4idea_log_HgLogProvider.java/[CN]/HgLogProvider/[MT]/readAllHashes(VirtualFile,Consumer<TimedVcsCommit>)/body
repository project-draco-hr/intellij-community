{
  Set<VcsUser> userRegistry=ContainerUtil.newHashSet();
  List<TimedVcsCommit> commits=HgHistoryUtil.readAllHashes(myProject,root,new CollectConsumer<>(userRegistry),Collections.<String>emptyList());
  for (  TimedVcsCommit commit : commits) {
    commitConsumer.consume(commit);
  }
  return new LogDataImpl(readAllRefs(root),userRegistry);
}
