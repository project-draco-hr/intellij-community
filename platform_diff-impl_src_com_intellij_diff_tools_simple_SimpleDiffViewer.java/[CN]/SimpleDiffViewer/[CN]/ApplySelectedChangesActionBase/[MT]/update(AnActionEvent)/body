{
  Editor editor=e.getData(CommonDataKeys.EDITOR);
  Side side=Side.fromLeft(editor == myEditor1);
  if (myEditor1 == null || myEditor2 == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  if (editor != myEditor1 && editor != myEditor2) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  Editor modifiedEditor=side.other(myModifyOpposite).select(myEditor1,myEditor2);
  if (!DiffUtil.isEditable(modifiedEditor)) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  e.getPresentation().setIcon(getIcon(side));
  e.getPresentation().setEnabled(isSomeChangeSelected(side));
}
