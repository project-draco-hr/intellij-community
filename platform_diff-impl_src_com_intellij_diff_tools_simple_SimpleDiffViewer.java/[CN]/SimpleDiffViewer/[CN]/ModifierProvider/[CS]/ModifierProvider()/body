{
  IdeEventQueue.getInstance().addPostprocessor(new IdeEventQueue.EventDispatcher(){
    @Override public boolean dispatch(    AWTEvent e){
      if (e instanceof KeyEvent) {
        final int keyCode=((KeyEvent)e).getKeyCode();
        if (keyCode == KeyEvent.VK_SHIFT) {
          myShiftPressed=e.getID() == KeyEvent.KEY_PRESSED;
          updateActions();
        }
        if (keyCode == KeyEvent.VK_CONTROL) {
          myCtrlPressed=e.getID() == KeyEvent.KEY_PRESSED;
          updateActions();
        }
        if (keyCode == KeyEvent.VK_ALT) {
          myAltPressed=e.getID() == KeyEvent.KEY_PRESSED;
          updateActions();
        }
      }
      return false;
    }
  }
,SimpleDiffViewer.this);
}
