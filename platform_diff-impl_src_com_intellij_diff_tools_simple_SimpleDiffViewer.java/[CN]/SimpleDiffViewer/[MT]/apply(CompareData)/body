{
  return new Runnable(){
    @Override public void run(){
      if (myEditor1 != null && myEditor1.getDocument().getModificationStamp() != data.getStamp1())       return;
      if (myEditor2 != null && myEditor2.getDocument().getModificationStamp() != data.getStamp2())       return;
      if (myFoldingModel != null)       myFoldingModel.updateContext(myRequest,getTextSettings().isExpandByDefault());
      clearDiffPresentation();
      if (data.isEqualContent())       myPanel.addContentsEqualNotification();
      if (data.getFragments() != null) {
        for (        LineFragment fragment : data.getFragments()) {
          myDiffChanges.add(new SimpleDiffChange(SimpleDiffViewer.this,fragment,myEditor1,myEditor2,getHighlightPolicy().isFineFragments()));
        }
      }
      if (myFoldingModel != null) {
        myFoldingModel.install(data.getFragments(),myRequest,getTextSettings().isExpandByDefault(),getTextSettings().getContextRange());
      }
      scrollOnRediff();
      myContentPanel.repaintDivider();
      myStatusPanel.update();
    }
  }
;
}
