{
  final ResourceBundleManagerState newState=new ResourceBundleManagerState();
  final VirtualFileManager virtualFileManager=VirtualFileManager.getInstance();
  for (  final String dissociatedFileUrl : myDissociatedFiles) {
    if (virtualFileManager.findFileByUrl(dissociatedFileUrl) != null) {
      newState.myDissociatedFiles.add(dissociatedFileUrl);
    }
  }
  for (  CustomResourceBundleState customResourceBundle : myCustomResourceBundles) {
    final CustomResourceBundleState updatedCustomResourceBundle=customResourceBundle.removeNonExistentFiles(virtualFileManager);
    if (updatedCustomResourceBundle != null) {
      newState.myCustomResourceBundles.add(updatedCustomResourceBundle);
    }
  }
  return newState;
}
