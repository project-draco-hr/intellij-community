{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          try {
            for (int i=0; i < lessons.size(); i++) {
              Lesson lesson=lessons.get(i);
              lesson.setIndex(i);
              lesson.create(baseDir,resourceRoot,project);
            }
            baseDir.createChildDirectory(this,SANDBOX_DIR);
            File[] files=resourceRoot.listFiles(new FilenameFilter(){
              @Override public boolean accept(              File dir,              String name){
                return !name.contains(Lesson.LESSON_DIR) && !name.equals("course.json") && !name.equals("hints");
              }
            }
);
            for (            File file : files) {
              FileUtil.copy(file,new File(baseDir.getPath(),file.getName()));
            }
          }
 catch (          IOException e) {
            LOG.error(e);
          }
        }
      }
);
    }
  }
);
}
