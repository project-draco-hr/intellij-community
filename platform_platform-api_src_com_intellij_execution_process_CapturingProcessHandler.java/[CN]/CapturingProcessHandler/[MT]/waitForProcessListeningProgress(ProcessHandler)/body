{
  final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
  if (indicator != null) {
    while (!handler.waitFor(300)) {
      if (indicator.isCanceled()) {
        handler.destroyProcess();
        throw new ProcessCanceledException();
      }
    }
  }
 else {
    if (!handler.waitFor()) {
      LOG.info("runProcess: exit value unavailable");
      return false;
    }
  }
  return true;
}
