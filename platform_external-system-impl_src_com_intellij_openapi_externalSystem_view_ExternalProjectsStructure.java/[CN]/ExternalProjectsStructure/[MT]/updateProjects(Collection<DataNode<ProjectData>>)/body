{
  for (  DataNode<ProjectData> each : toImport) {
    final ProjectData projectData=each.getData();
    ExternalSystemNode projectNode=findNodeFor(projectData.getLinkedExternalProjectPath());
    if (projectNode instanceof ProjectNode) {
      doMergeChildrenChanges(projectNode,each,new ProjectNode(myExternalProjectsView,each));
    }
 else {
      ExternalSystemNode node=myNodeMapping.remove(projectData.getLinkedExternalProjectPath());
      if (node != null) {
        SimpleNode parent=node.getParent();
        if (parent instanceof ExternalSystemNode) {
          ((ExternalSystemNode)parent).remove(projectNode);
        }
      }
      projectNode=new ProjectNode(myExternalProjectsView,each);
      myNodeMapping.put(projectData.getLinkedExternalProjectPath(),projectNode);
    }
    if (toImport.size() == 0) {
      myTreeBuilder.expand(projectNode,null);
    }
    doUpdateProject((ProjectNode)projectNode);
  }
}
