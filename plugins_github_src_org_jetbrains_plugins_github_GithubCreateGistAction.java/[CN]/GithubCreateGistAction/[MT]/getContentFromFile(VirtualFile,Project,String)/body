{
  if (file.isDirectory()) {
    return getContentFromDirectory(file,project,prefix);
  }
  String content=readFile(file);
  if (content == null) {
    showError(project,FAILED_TO_CREATE_GIST,"Couldn't read the contents of the file " + file,null,null);
    LOG.info("Couldn't read the contents of the file " + file);
    return Collections.emptyList();
  }
  if (StringUtil.isEmptyOrSpaces(content)) {
    return Collections.emptyList();
  }
  return Collections.singletonList(new NamedContent(addPrefix(file.getName(),prefix,false),content));
}
