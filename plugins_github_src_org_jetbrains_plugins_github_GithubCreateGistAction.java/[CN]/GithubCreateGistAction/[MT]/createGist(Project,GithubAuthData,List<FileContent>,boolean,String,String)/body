{
  if (contents.isEmpty()) {
    GithubNotifications.showWarning(project,FAILED_TO_CREATE_GIST,"Can't create empty gist");
    return null;
  }
  if (contents.size() == 1 && filename != null) {
    FileContent entry=contents.iterator().next();
    contents=Collections.singletonList(new FileContent(filename,entry.getContent()));
  }
  try {
    GithubGist gist=GithubApiUtil.createGist(auth,contents,description,isPrivate);
    return gist.getHtmlUrl();
  }
 catch (  IOException e) {
    GithubNotifications.showError(project,FAILED_TO_CREATE_GIST,e);
    return null;
  }
}
