{
  if (editor != null) {
    String content=getContentFromEditor(editor);
    if (content == null) {
      return Collections.emptyMap();
    }
    if (file != null) {
      return Collections.singletonMap(file.getName(),content);
    }
 else {
      return Collections.singletonMap("",content);
    }
  }
  if (files != null) {
    Map<String,String> contents=new HashMap<String,String>();
    for (    VirtualFile vf : files) {
      contents.putAll(getContentFromFile(vf,project,null));
    }
    return contents;
  }
  if (file != null) {
    return getContentFromFile(file,project,null);
  }
  LOG.error("File, files and editor can't be null all at once!");
  throw new IllegalStateException("File, files and editor can't be null all at once!");
}
