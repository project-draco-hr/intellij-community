{
  manager.checkElementTypes(elementsToMove);
  Collection<? extends PyElement> references=manager.getElementsToStoreReferences((Collection)elementsToMove);
  for (  final PyElement element : references) {
    PyClassRefactoringUtil.rememberNamedReferences(element,PyNames.CANONICAL_SELF);
  }
  final Collection<PyElement> newElements=manager.moveMembers(from,(Collection)elementsToMove,to);
  for (  final PyElement element : newElements) {
    PyClassRefactoringUtil.restoreNamedReferences(element);
  }
  PyClassRefactoringUtil.optimizeImports(from.getContainingFile());
}
