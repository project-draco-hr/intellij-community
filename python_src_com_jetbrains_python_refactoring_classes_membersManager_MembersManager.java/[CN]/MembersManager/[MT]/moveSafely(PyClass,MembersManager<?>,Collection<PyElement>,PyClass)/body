{
  manager.checkElementTypes(elementsToMove);
  for (  final PyElement element : manager.getElementsToStoreReferences((Collection)elementsToMove)) {
    PyClassRefactoringUtil.rememberNamedReferences(element,PyNames.CANONICAL_SELF);
  }
  final Collection<PyElement> newElements=manager.moveMembers(from,(Collection)elementsToMove,to);
  for (  final PyElement element : newElements) {
    PyClassRefactoringUtil.restoreNamedReferences(element);
  }
  PyClassRefactoringUtil.optimizeImports(from.getContainingFile());
}
