{
  if (expression instanceof PsiLambdaExpression) {
    PsiLambdaExpression lambdaExpression=(PsiLambdaExpression)expression;
    return lambdaExpression.getParameterList().getParametersCount() == 1 && (!requireExpressionLambda || LambdaUtil.extractSingleExpressionFromBody(lambdaExpression.getBody()) != null);
  }
 else   if (expression instanceof PsiMethodReferenceExpression) {
    PsiMethodReferenceExpression methodReference=(PsiMethodReferenceExpression)expression;
    return !MethodRefCanBeReplacedWithLambdaInspection.isWithSideEffects(methodReference);
  }
  return false;
}
