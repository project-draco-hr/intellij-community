{
  if (!myInitialScanPerformed.contains(target)) {
    return false;
  }
  final FilesDelta delta=myDeltas.get(target);
  if (delta == null) {
    return false;
  }
  final long targetBuildStart=context.getCompilationStartStamp(target);
  if (targetBuildStart <= 0L) {
    return false;
  }
  final CompileScope scope=context.getScope();
  final BuildRootIndex rootIndex=context.getProjectDescriptor().getBuildRootIndex();
  try {
    delta.lockData();
    for (    Set<File> files : delta.getSourcesToRecompile().values()) {
      files_loop:       for (      File file : files) {
        if ((getEventRegistrationStamp(file) > targetBuildStart || FileSystemUtil.lastModified(file) > targetBuildStart) && scope.isAffected(target,file)) {
          for (          BuildRootDescriptor rd : rootIndex.findAllParentDescriptors(file,context)) {
            if (rd.isGenerated()) {
              continue files_loop;
            }
          }
          if (LOG.isDebugEnabled()) {
            LOG.debug("Unprocessed changes detected for target " + target + "; file: "+ file.getPath()+ "; targetBuildStart="+ targetBuildStart+ "; eventRegistrationStamp="+ getEventRegistrationStamp(file)+ "; lastModified="+ FileSystemUtil.lastModified(file));
          }
          return true;
        }
      }
    }
  }
  finally {
    delta.unlockData();
  }
  return false;
}
