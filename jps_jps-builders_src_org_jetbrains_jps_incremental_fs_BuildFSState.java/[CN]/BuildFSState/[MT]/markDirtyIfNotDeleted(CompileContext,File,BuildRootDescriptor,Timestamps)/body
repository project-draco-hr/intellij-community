{
  final boolean marked=super.markDirtyIfNotDeleted(context,file,rd,tsStorage);
  if (marked) {
    final Key<FilesDelta> deltaKey=DELTA_KEY_SELECTOR.get(context,NEXT_ROUND_DELTA_KEY);
    final FilesDelta roundDelta=getRoundDelta(deltaKey,context);
    if (roundDelta != null) {
      if (isInCurrentContextTargets(context,rd)) {
        roundDelta.markRecompile(rd,file);
      }
    }
  }
  return marked;
}
