{
  final FileTemplateBase template=getTemplates().get(templateName);
  if (template != null) {
    final boolean isEnabled=!(template instanceof BundledFileTemplate) || ((BundledFileTemplate)template).isEnabled();
    if (isEnabled) {
      return template;
    }
  }
  for (  FileTemplateBase t : getAllTemplates(false)) {
    final String qName=t.getQualifiedName();
    if (qName.startsWith(templateName) && qName.length() > templateName.length()) {
      String remainder=qName.substring(templateName.length());
      if (remainder.startsWith(ENCODED_NAME_EXT_DELIMITER) || remainder.charAt(0) == '.') {
        return t;
      }
    }
  }
  return null;
}
