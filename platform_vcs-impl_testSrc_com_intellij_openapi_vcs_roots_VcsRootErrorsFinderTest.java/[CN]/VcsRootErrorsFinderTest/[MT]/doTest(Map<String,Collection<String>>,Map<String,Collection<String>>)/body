{
  initProject(map.get("mock"),Collections.<String>emptyList(),map.get("content_roots"));
  addVcsRoots(map.get("roots"));
  Collection<VcsRootError> expected=new ArrayList<VcsRootError>();
  Collection<String> unregPaths=errors.get("unreg");
  Collection<String> extraPaths=errors.get("extra");
  if (unregPaths != null) {
    expected.addAll(unregAll(unregPaths));
  }
  if (extraPaths != null) {
    expected.addAll(extraAll(extraPaths));
  }
  Collection<VcsRootError> actual=ContainerUtil.filter(new VcsRootErrorsFinder(myProject).find(),new Condition<VcsRootError>(){
    @Override public boolean value(    VcsRootError error){
      return error.getVcsKey().equals(myVcs.getKeyInstanceMethod());
    }
  }
);
  VcsTestUtil.assertEqualCollections(actual,expected);
}
