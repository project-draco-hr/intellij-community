{
  String url=getURL();
  boolean connectionStarted=startConnection(codePanel,path,url,false);
  if (!connectionStarted) {
    ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
      @Override public void run(){
        final boolean serverStarted=startIpythonServer(url,fileEditor);
        if (!serverStarted) {
          return;
        }
        UIUtil.invokeLaterIfNeeded(new Runnable(){
          @Override public void run(){
            startConnection(codePanel,path,url,true);
          }
        }
);
      }
    }
);
  }
}
