{
  if (!(expression instanceof PsiMethodCallExpression)) {
    return false;
  }
  final PsiMethodCallExpression methodCallExpression=(PsiMethodCallExpression)expression;
  final PsiExpressionList argumentList=methodCallExpression.getArgumentList();
  if (argumentList.getExpressions().length != 1) {
    return false;
  }
  final PsiReferenceExpression methodExpression=methodCallExpression.getMethodExpression();
  if (!"toArray".equals(methodExpression.getReferenceName())) {
    return false;
  }
  final PsiMethod method=methodCallExpression.resolveMethod();
  if (method == null) {
    return false;
  }
  final PsiClass containingClass=method.getContainingClass();
  return !(containingClass == null || !InheritanceUtil.isInheritor(containingClass,CommonClassNames.JAVA_UTIL_COLLECTION));
}
