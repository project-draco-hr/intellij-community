{
  for (  PsiDirectory directory : psiPackage.getDirectories(new EverythingGlobalScope(myProject))) {
    final PsiFile packageInfoFile=directory.findFile(PsiPackage.PACKAGE_INFO_FILE);
    if (packageInfoFile != null) {
      final ASTNode node=packageInfoFile.getNode();
      if (node != null) {
        final ASTNode docCommentNode=findRelevantCommentNode(node);
        if (docCommentNode != null) {
          if (generatePrologueAndEpilogue)           generatePrologue(buffer);
          generateCommonSection(buffer,(PsiDocComment)docCommentNode.getPsi());
          if (generatePrologueAndEpilogue)           generateEpilogue(buffer);
          break;
        }
      }
    }
    PsiFile packageHtmlFile=directory.findFile("package.html");
    if (packageHtmlFile != null) {
      generatePackageHtmlJavaDoc(buffer,packageHtmlFile,generatePrologueAndEpilogue);
      break;
    }
  }
}
