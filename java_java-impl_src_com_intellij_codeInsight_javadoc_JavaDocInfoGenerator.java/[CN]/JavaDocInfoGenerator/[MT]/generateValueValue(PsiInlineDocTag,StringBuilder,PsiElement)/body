{
  String text=createLinkText(tag.getDataElements());
  PsiField valueField=null;
  if (text.isEmpty()) {
    if (myElement instanceof PsiField)     valueField=(PsiField)myElement;
  }
 else {
    if (text.indexOf('#') == -1) {
      text="#" + text;
    }
    PsiElement target=JavaDocUtil.findReferenceTarget(PsiManager.getInstance(myProject),text,myElement);
    if (target instanceof PsiField) {
      valueField=(PsiField)target;
    }
  }
  Object value=null;
  if (valueField != null) {
    PsiExpression initializer=valueField.getInitializer();
    value=JavaConstantExpressionEvaluator.computeConstantExpression(initializer,false);
  }
  if (value != null) {
    buffer.append(value);
  }
 else {
    buffer.append(element.getText());
  }
}
