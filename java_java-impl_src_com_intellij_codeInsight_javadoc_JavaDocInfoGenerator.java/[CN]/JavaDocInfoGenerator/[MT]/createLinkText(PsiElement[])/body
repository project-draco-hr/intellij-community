{
  int predictOffset=tagElements.length > 0 ? tagElements[0].getTextOffset() + tagElements[0].getText().length() : 0;
  StringBuilder buffer=new StringBuilder();
  for (int j=0; j < tagElements.length; j++) {
    PsiElement tagElement=tagElements[j];
    if (tagElement.getTextOffset() > predictOffset)     buffer.append(" ");
    predictOffset=tagElement.getTextOffset() + tagElement.getText().length();
    collectElementText(buffer,tagElement);
    if (j < tagElements.length - 1) {
      buffer.append(" ");
    }
  }
  return buffer.toString().trim();
}
