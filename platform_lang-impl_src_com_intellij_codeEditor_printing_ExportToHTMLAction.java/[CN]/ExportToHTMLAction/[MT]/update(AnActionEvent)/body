{
  Presentation presentation=event.getPresentation();
  DataContext dataContext=event.getDataContext();
  PsiElement psiElement=CommonDataKeys.PSI_ELEMENT.getData(dataContext);
  if (psiElement instanceof PsiDirectory) {
    presentation.setEnabled(true);
    return;
  }
  PsiFile psiFile=CommonDataKeys.PSI_FILE.getData(dataContext);
  presentation.setEnabled(psiFile != null && psiFile.getContainingDirectory() != null);
  presentation.setVisible(psiFile != null);
}
