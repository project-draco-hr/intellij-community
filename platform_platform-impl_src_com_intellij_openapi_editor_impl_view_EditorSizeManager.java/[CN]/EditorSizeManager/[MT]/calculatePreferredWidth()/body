{
  int lineCount=myDocument.getLineCount();
  int maxWidth=(lineCount == 0 ? 0 : myView.getLineWidth(0));
  for (int line=1; line < lineCount; line++) {
    LineLayout lineLayout=myView.getCachedLineLayout(line);
    if (lineLayout != null) {
      maxWidth=Math.max(maxWidth,(int)lineLayout.getMaxX());
    }
  }
  int longestLineNumber=guessLongestLineNumber();
  if (longestLineNumber > 0) {
    maxWidth=Math.max(maxWidth,myView.getLineWidth(longestLineNumber));
  }
  return maxWidth;
}
