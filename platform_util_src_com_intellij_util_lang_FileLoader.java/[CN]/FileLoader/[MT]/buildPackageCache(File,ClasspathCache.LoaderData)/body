{
  loaderData.addResourceEntry(getRelativeResourcePath(dir));
  final File[] files=dir.listFiles();
  if (files == null) {
    return;
  }
  boolean containsClasses=false;
  for (  File file : files) {
    final boolean isClass=file.getPath().endsWith(UrlClassLoader.CLASS_EXTENSION);
    if (isClass) {
      if (!containsClasses) {
        loaderData.addResourceEntry(getRelativeResourcePath(file));
        containsClasses=true;
      }
      loaderData.addNameEntry(file.getName());
    }
 else {
      loaderData.addNameEntry(file.getName());
      buildPackageCache(file,loaderData);
    }
  }
}
