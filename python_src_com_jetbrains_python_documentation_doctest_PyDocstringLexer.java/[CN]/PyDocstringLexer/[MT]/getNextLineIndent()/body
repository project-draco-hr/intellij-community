{
  int indent=super.getNextLineIndent();
  if (!ourIgnoreSet.contains(getBaseTokenType()))   return indent;
  indent=0;
  while (getBaseTokenType() != null && ourIgnoreSet.contains(getBaseTokenType()))   advanceBase();
  while (getBaseTokenType() != null && PyTokenTypes.WHITESPACE.contains(getBaseTokenType())) {
    if (getBaseTokenType() == PyTokenTypes.TAB) {
      indent=((indent / 8) + 1) * 8;
    }
 else     if (getBaseTokenType() == PyTokenTypes.SPACE) {
      indent++;
    }
    advanceBase();
  }
  if (getBaseTokenType() == PyTokenTypes.LINE_BREAK) {
    advanceBase();
    return 0;
  }
  if (getBaseTokenType() == null) {
    return 0;
  }
  return indent > 0 ? indent - 1 : indent;
}
