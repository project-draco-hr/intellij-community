{
  if (concatenation.size() == 1) {
    return concatenation.getHead();
  }
  String text=StringUtil.join(ContainerUtil.reverse(new ArrayList<PsiExpression>(concatenation)),new Function<PsiExpression,String>(){
    @Override public String fun(    PsiExpression expression){
      return expression.getText();
    }
  }
,"+");
  try {
    return JavaPsiFacade.getElementFactory(concatenation.getHead().getProject()).createExpressionFromText(text,concatenation.getHead());
  }
 catch (  IncorrectOperationException e) {
    return concatenation.getHead();
  }
}
