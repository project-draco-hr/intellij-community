{
  final Instruction nextInstruction=runner.getInstruction(instruction.getIndex() + 1);
  ValuableDataFlowRunner.MyDfaMemoryState memState=(ValuableDataFlowRunner.MyDfaMemoryState)_memState;
  final DfaValue dfaSource=memState.pop();
  final DfaValue dfaDest=memState.pop();
  if (dfaDest instanceof DfaVariableValue) {
    DfaVariableValue var=(DfaVariableValue)dfaDest;
    final PsiExpression rightValue=instruction.getRExpression();
    final PsiElement parent=rightValue == null ? null : rightValue.getParent();
    final IElementType type=parent instanceof PsiAssignmentExpression ? ((PsiAssignmentExpression)parent).getOperationTokenType() : JavaTokenType.EQ;
    final FList<PsiExpression> prevValue=((ValuableDataFlowRunner.ValuableDfaVariableState)memState.getVariableState(var)).myConcatenation;
    memState.setVarValue(var,dfaSource);
    final ValuableDataFlowRunner.ValuableDfaVariableState curState=(ValuableDataFlowRunner.ValuableDfaVariableState)memState.getVariableState(var);
    final FList<PsiExpression> curValue=curState.myConcatenation;
    final FList<PsiExpression> nextValue;
    if (type == JavaTokenType.PLUSEQ && !prevValue.isEmpty()) {
      nextValue=prevValue.prepend(rightValue);
    }
 else {
      nextValue=curValue.isEmpty() ? curValue.prepend(rightValue) : curValue;
    }
    memState.setVariableState(var,curState.withExpression(nextValue));
  }
  memState.push(dfaDest);
  return new DfaInstructionState[]{new DfaInstructionState(nextInstruction,memState)};
}
