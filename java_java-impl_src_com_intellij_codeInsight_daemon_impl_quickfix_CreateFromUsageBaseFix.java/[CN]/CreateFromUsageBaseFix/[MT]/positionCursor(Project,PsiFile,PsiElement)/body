{
  TextRange range=element.getTextRange();
  LOG.assertTrue(range != null,element.getClass());
  int textOffset=range.getStartOffset();
  VirtualFile file=targetFile.getVirtualFile();
  if (file == null) {
    file=PsiUtilCore.getVirtualFile(element);
    if (file == null)     return null;
  }
  OpenFileDescriptor descriptor=new OpenFileDescriptor(project,file,textOffset);
  return FileEditorManager.getInstance(project).openTextEditor(descriptor,true);
}
