{
  HttpClientBuilder builder=HttpClients.custom();
  return builder.setDefaultRequestConfig(createRequestConfig(auth)).setDefaultConnectionConfig(createConnectionConfig(auth)).setDefaultCredentialsProvider(createCredentialsProvider(auth)).setDefaultHeaders(createHeaders(auth)).addInterceptorFirst(PREEMPTIVE_BASIC_AUTH).setSslcontext(CertificateManager.getInstance().getSslContext()).setHostnameVerifier((X509HostnameVerifier)CertificateManager.HOSTNAME_VERIFIER).build();
}
