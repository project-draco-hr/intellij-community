{
  return new Condition<AnAction>(){
    public boolean value(    final AnAction action){
      if (shortcut == null)       return true;
      if (action == null)       return false;
      final Shortcut[] actionShortcuts=keymap.getShortcuts(action instanceof ActionStub ? ((ActionStub)action).getId() : actionManager.getId(action));
      for (      Shortcut actionShortcut : actionShortcuts) {
        if (actionShortcut != null && actionShortcut.startsWith(shortcut)) {
          return true;
        }
      }
      return false;
    }
  }
;
}
