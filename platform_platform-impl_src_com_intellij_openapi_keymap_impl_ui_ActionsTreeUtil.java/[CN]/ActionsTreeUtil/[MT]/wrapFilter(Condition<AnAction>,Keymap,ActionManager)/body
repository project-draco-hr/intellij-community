{
  if (Registry.is("keymap.show.alias.actions"))   return filter;
  return new Condition<AnAction>(){
    @Override public boolean value(    final AnAction action){
      if (action == null)       return false;
      final String id=action instanceof ActionStub ? ((ActionStub)action).getId() : actionManager.getId(action);
      if (id != null) {
        String binding=getActionBinding(keymap,id);
        boolean bound=binding != null && actionManager.getAction(binding) != null;
        return filter == null ? !bound : !bound && filter.value(action);
      }
      return filter == null || filter.value(action);
    }
  }
;
}
