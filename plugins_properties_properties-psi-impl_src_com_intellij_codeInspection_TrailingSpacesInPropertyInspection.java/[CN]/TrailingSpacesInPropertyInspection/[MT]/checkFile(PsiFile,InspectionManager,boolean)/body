{
  if (!(file instanceof PropertiesFile))   return null;
  final List<IProperty> properties=((PropertiesFile)file).getProperties();
  final List<ProblemDescriptor> descriptors=new SmartList<ProblemDescriptor>();
  for (  IProperty property : properties) {
    ProgressManager.checkCanceled();
    ASTNode keyNode=((PropertyImpl)property).getKeyNode();
    if (keyNode != null) {
      PsiElement key=keyNode.getPsi();
      TextRange textRange=getTrailingSpaces(key,myIgnoreVisibleSpaces);
      if (textRange != null) {
        descriptors.add(manager.createProblemDescriptor(key,textRange,"Trailing Spaces",ProblemHighlightType.GENERIC_ERROR_OR_WARNING,true,new RemoveTrailingSpacesFix(myIgnoreVisibleSpaces)));
      }
    }
    ASTNode valueNode=((PropertyImpl)property).getValueNode();
    if (valueNode != null) {
      PsiElement value=valueNode.getPsi();
      TextRange textRange=getTrailingSpaces(value,myIgnoreVisibleSpaces);
      if (textRange != null) {
        descriptors.add(manager.createProblemDescriptor(value,textRange,"Trailing Spaces",ProblemHighlightType.GENERIC_ERROR_OR_WARNING,true,new RemoveTrailingSpacesFix(myIgnoreVisibleSpaces)));
      }
    }
  }
  return descriptors.toArray(new ProblemDescriptor[descriptors.size()]);
}
