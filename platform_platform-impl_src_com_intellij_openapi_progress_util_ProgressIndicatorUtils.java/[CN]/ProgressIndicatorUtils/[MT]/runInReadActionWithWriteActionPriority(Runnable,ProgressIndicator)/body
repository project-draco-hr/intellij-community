{
  final Ref<Boolean> result=new Ref<Boolean>(Boolean.FALSE);
  runWithWriteActionPriority(new Runnable(){
    @Override public void run(){
      result.set(ApplicationManagerEx.getApplicationEx().tryRunReadAction(action));
    }
  }
,progressIndicator == null ? new ProgressIndicatorBase() : progressIndicator);
  return result.get();
}
