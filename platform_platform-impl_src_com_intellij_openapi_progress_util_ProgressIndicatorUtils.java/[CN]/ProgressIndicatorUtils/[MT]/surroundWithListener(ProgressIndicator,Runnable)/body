{
  final ApplicationAdapter listener=new ApplicationAdapter(){
    @Override public void beforeWriteActionStart(    Object action){
      progressIndicator.cancel();
    }
  }
;
  final Application application=ApplicationManager.getApplication();
  application.addApplicationListener(listener);
  try {
    runnable.run();
  }
  finally {
    application.removeApplicationListener(listener);
  }
}
