{
  PsiFile file=PsiManager.getInstance(project).findFile(virtualFile);
  if (file == null) {
    Language language=new SingleRootFileViewProvider(PsiManager.getInstance(project),virtualFile).getBaseLanguage();
    throw new AssertionError(String.format("no PSI for '%s'\nfile valid=%s, fileType=%s, language=%s",virtualFile.getName(),virtualFile.isValid(),virtualFile.getFileType(),language));
  }
  return file;
}
