{
  if (stepTarget instanceof MethodSmartStepTarget) {
    final PsiMethod method=((MethodSmartStepTarget)stepTarget).getMethod();
    return stepTarget.needsBreakpointRequest() ? new AnonymousClassMethodFilter(method) : new BasicStepMethodFilter(method);
  }
  if (stepTarget instanceof LambdaSmartStepTarget) {
    final LambdaSmartStepTarget lambdaTarget=(LambdaSmartStepTarget)stepTarget;
    return new LambdaMethodFilter(lambdaTarget.getLambda(),lambdaTarget.getOrdinal());
  }
  return null;
}
