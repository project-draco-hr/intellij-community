{
  addWarningIfNeeded();
  final List<IpnbCell> cells=myIpnbFile.getCells();
  for (  IpnbCell cell : cells) {
    addCellToPanel(cell);
  }
  if (myInitialSelection >= 0 && myIpnbPanels.size() > myInitialSelection) {
    final IpnbEditablePanel toSelect=myIpnbPanels.get(myInitialSelection);
    setSelectedCell(toSelect);
    if (switchToEditing) {
      toSelect.switchToEditing();
      switchToEditing=false;
    }
  }
  add(createEmptyPanel());
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      if (mySelectedCell != null)       myParent.updateScrollPosition(mySelectedCell);
    }
  }
);
}
