{
  final IpnbEditablePanel currentCellPanel=getSelectedCellPanel();
  if (currentCellPanel == null)   return;
  final boolean hasCellToMerge=below ? hasNextCell(currentCellPanel) : hasPrevCell(currentCellPanel);
  if (!hasCellToMerge)   return;
  if (below) {
    selectNext(currentCellPanel);
  }
 else {
    selectPrev(currentCellPanel);
  }
  final IpnbEditablePanel cellToMergePanel=getSelectedCellPanel();
  final IpnbCell cellToMerge=cellToMergePanel.getCell();
  final List<String> currentCellSource=getCellSource(currentCellPanel);
  final List<String> cellToMergeSource=((IpnbEditableCell)cellToMerge).getSource();
  final ArrayList<String> source=mergeCellsSource(currentCellSource,cellToMergeSource,below);
  ((IpnbEditableCell)cellToMerge).setSource(source);
  cellToMergePanel.updateCellView();
  actualizeCellData(cellToMerge);
  currentCellPanel.repaint();
  deleteCell(currentCellPanel);
  saveToFile();
}
