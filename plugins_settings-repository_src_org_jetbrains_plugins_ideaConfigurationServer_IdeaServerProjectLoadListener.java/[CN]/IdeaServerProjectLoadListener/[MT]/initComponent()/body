{
  myMessageBusConnection=ApplicationManager.getApplication().getMessageBus().connect();
  if (!ApplicationManager.getApplication().isUnitTestMode()) {
    myMessageBusConnection.subscribe(ProjectLifecycleListener.TOPIC,new ProjectLifecycleListener.Adapter(){
      public void beforeProjectLoaded(      @NotNull final Project project){
        if (!project.isDefault()) {
          IdeaServerManagerImpl.getInstance().registerProjectLevelProviders(project);
        }
      }
    }
);
  }
  IdeaServerManagerImpl.getInstance().startPing();
}
