{
  if (myMatchingVisitor.getElement() instanceof PsiArrayInitializerExpression && myMatchingVisitor.getElement().getParent() instanceof PsiVariable && new1.getArrayDimensions().length == 0 && new1.getArrayInitializer() != null) {
    myMatchingVisitor.setResult(myMatchingVisitor.match(new1.getClassReference(),((PsiVariable)myMatchingVisitor.getElement().getParent()).getTypeElement()));
    myMatchingVisitor.matchSons(new1.getArrayInitializer(),myMatchingVisitor.getElement());
    return;
  }
  if (!(myMatchingVisitor.getElement() instanceof PsiNewExpression)) {
    myMatchingVisitor.setResult(false);
    return;
  }
  final PsiNewExpression new2=(PsiNewExpression)myMatchingVisitor.getElement();
  if (new1.getClassReference() != null) {
    if (new2.getClassReference() != null) {
      myMatchingVisitor.setResult(myMatchingVisitor.match(new1.getClassReference(),new2.getClassReference()) && myMatchingVisitor.matchSons(new1.getArrayInitializer(),new2.getArrayInitializer()));
      if (myMatchingVisitor.getResult()) {
        matchArrayDims(new1,new2);
      }
      return;
    }
 else {
      final PsiKeyword newKeyword=PsiTreeUtil.getChildOfType(new2,PsiKeyword.class);
      final PsiElement element=PsiTreeUtil.getNextSiblingOfType(newKeyword,PsiWhiteSpace.class);
      if (element != null && element.getNextSibling() instanceof PsiKeyword) {
        ((LexicalNodesFilter)LexicalNodesFilter.getInstance()).setCareKeyWords(true);
        myMatchingVisitor.setResult(myMatchingVisitor.match(new1.getClassReference(),element.getNextSibling()) && myMatchingVisitor.matchSons(new1.getArrayInitializer(),new2.getArrayInitializer()));
        ((LexicalNodesFilter)LexicalNodesFilter.getInstance()).setCareKeyWords(false);
        if (myMatchingVisitor.getResult()) {
          matchArrayDims(new1,new2);
        }
        return;
      }
    }
  }
  if (new1.getClassReference() == new2.getClassReference()) {
    ((LexicalNodesFilter)LexicalNodesFilter.getInstance()).setCareKeyWords(true);
    myMatchingVisitor.setResult(myMatchingVisitor.matchSons(new1,new2));
    ((LexicalNodesFilter)LexicalNodesFilter.getInstance()).setCareKeyWords(false);
  }
 else   if (new1.getAnonymousClass() == null && new1.getClassReference() != null && new2.getAnonymousClass() != null) {
    myMatchingVisitor.setResult(myMatchingVisitor.match(new1.getClassReference(),new2.getAnonymousClass().getBaseClassReference()) && myMatchingVisitor.matchSons(new1.getArgumentList(),new2.getArgumentList()));
  }
 else {
    myMatchingVisitor.setResult(false);
  }
}
