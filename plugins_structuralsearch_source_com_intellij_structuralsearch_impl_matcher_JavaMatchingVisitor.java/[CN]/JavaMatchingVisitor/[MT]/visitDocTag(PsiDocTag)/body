{
  final PsiDocTag tag2=(PsiDocTag)myMatchingVisitor.getElement();
  final boolean isTypedVar=myMatchingVisitor.getMatchContext().getPattern().isTypedVar(tag.getNameElement());
  myMatchingVisitor.setResult(isTypedVar || tag.getName().equals(tag2.getName()));
  PsiElement psiDocTagValue=tag.getValueElement();
  boolean isTypedValue=false;
  if (myMatchingVisitor.getResult() && psiDocTagValue != null) {
    final PsiElement[] children=psiDocTagValue.getChildren();
    if (children.length == 1) {
      psiDocTagValue=children[0];
    }
    isTypedValue=myMatchingVisitor.getMatchContext().getPattern().isTypedVar(psiDocTagValue);
    if (isTypedValue) {
      if (tag2.getValueElement() != null) {
        myMatchingVisitor.setResult(myMatchingVisitor.handleTypedElement(psiDocTagValue,tag2.getValueElement()));
      }
 else {
        myMatchingVisitor.setResult(allowsAbsenceOfMatch(psiDocTagValue));
      }
    }
  }
  if (myMatchingVisitor.getResult() && !isTypedValue) {
    myMatchingVisitor.setResult(myMatchingVisitor.matchInAnyOrder(new DocValuesIterator(tag.getFirstChild()),new DocValuesIterator(tag2.getFirstChild())));
  }
  if (myMatchingVisitor.getResult() && isTypedVar) {
    myMatchingVisitor.setResult(myMatchingVisitor.handleTypedElement(tag.getNameElement(),tag2.getNameElement()));
  }
}
