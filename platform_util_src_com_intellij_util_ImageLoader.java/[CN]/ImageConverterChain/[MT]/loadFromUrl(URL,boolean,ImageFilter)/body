{
  final float scaleFactor=calcScaleFactor(allowFloatScaling);
  final boolean scaleImages=(scaleFactor > 1.0f) && !UIUtil.isRetina();
  final boolean loadRetinaImages=UIUtil.isRetina() || scaleImages;
  return ImageDescList.create(url.toString(),null,UIUtil.isUnderDarcula(),loadRetinaImages,allowFloatScaling).load(ImageConverterChain.create().withFilter(filter).withRetina().with(new ImageConverter(){
    public Image convert(    Image source,    ImageDesc desc){
      if (source != null && scaleImages && desc.type != ImageDesc.Type.SVG) {
        if (desc.path.contains("@2x"))         return scaleImage(source,scaleFactor / 2.0f);
 else         return scaleImage(source,scaleFactor);
      }
      return source;
    }
  }
));
}
