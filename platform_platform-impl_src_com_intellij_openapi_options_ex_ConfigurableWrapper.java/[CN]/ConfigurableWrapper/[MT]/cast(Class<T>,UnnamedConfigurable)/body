{
  if (configurable instanceof ConfigurableWrapper) {
    ConfigurableWrapper wrapper=(ConfigurableWrapper)configurable;
    if (wrapper.myConfigurable == null) {
      Class<?> configurableType=wrapper.getExtensionPoint().getConfigurableType();
      if (configurableType != null) {
        if (!type.isAssignableFrom(configurableType)) {
          return null;
        }
      }
 else       if (type == Configurable.Assistant.class || type == OptionalConfigurable.class) {
        return null;
      }
    }
    configurable=wrapper.getConfigurable();
  }
  return type.isInstance(configurable) ? type.cast(configurable) : null;
}
