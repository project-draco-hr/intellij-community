{
  return new RefactoringActionHandler(){
    @Override public void invoke(    @NotNull Project project,    Editor editor,    PsiFile file,    DataContext dataContext){
      final PsiElement element=CommonDataKeys.PSI_ELEMENT.getData(dataContext);
      if (element != null) {
        escalateFunction(project,file,editor,element);
      }
    }
    @Override public void invoke(    @NotNull Project project,    @NotNull PsiElement[] elements,    DataContext dataContext){
      final Editor editor=CommonDataKeys.EDITOR.getData(dataContext);
      if (editor != null && elements.length == 1) {
        escalateFunction(project,elements[0].getContainingFile(),editor,elements[0]);
      }
    }
  }
;
}
