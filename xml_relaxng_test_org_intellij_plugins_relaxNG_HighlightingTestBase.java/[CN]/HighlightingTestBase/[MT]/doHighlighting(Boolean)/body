{
  final Project project=myTestFixture.getProject();
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  final Editor editor=myTestFixture.getEditor();
  int[] ignore=externalToolPass == null || externalToolPass ? new int[]{Pass.LINE_MARKERS,Pass.LOCAL_INSPECTIONS,Pass.POPUP_HINTS,Pass.UPDATE_ALL,Pass.UPDATE_FOLDING,Pass.UPDATE_OVERRIDDEN_MARKERS,Pass.VISIBLE_LINE_MARKERS} : new int[]{Pass.EXTERNAL_TOOLS};
  return CodeInsightTestFixtureImpl.instantiateAndRun(myTestFixture.getFile(),editor,ignore,false);
}
