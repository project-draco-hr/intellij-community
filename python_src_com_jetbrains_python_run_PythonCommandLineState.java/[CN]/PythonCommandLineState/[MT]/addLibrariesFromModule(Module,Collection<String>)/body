{
  final OrderEntry[] entries=ModuleRootManager.getInstance(module).getOrderEntries();
  for (  OrderEntry entry : entries) {
    if (entry instanceof LibraryOrderEntry) {
      final String name=((LibraryOrderEntry)entry).getLibraryName();
      if (name != null && name.endsWith(LibraryContributingFacet.PYTHON_FACET_LIBRARY_NAME_SUFFIX)) {
        continue;
      }
      for (      VirtualFile root : ((LibraryOrderEntry)entry).getRootFiles(OrderRootType.CLASSES)) {
        final Library library=((LibraryOrderEntry)entry).getLibrary();
        if (!PlatformUtils.isPyCharm()) {
          addToPythonPath(root,list);
        }
 else         if (library instanceof LibraryImpl) {
          final PersistentLibraryKind<?> kind=((LibraryImpl)library).getKind();
          if (kind == PythonLibraryType.getInstance().getKind()) {
            addToPythonPath(root,list);
          }
        }
      }
    }
  }
}
