{
  Sdk pythonSdk=PythonSdkType.findSdkByPath(myConfig.getSdkHome());
  if (pythonSdk != null) {
    List<String> pathList=Lists.newArrayList();
    final SdkAdditionalData sdkAdditionalData=pythonSdk.getSdkAdditionalData();
    if (sdkAdditionalData instanceof PythonSdkAdditionalData) {
      final Set<VirtualFile> addedPaths=((PythonSdkAdditionalData)sdkAdditionalData).getAddedPaths();
      for (      VirtualFile file : addedPaths) {
        if (file.getFileSystem() instanceof JarFileSystem) {
          VirtualFile realFile=JarFileSystem.getInstance().getVirtualFileForJar(file);
          if (realFile != null) {
            pathList.add(FileUtil.toSystemDependentName(realFile.getPath()));
          }
        }
 else {
          pathList.add(FileUtil.toSystemDependentName(file.getPath()));
        }
      }
    }
    pathList.addAll(collectPythonPath());
    final PythonSdkFlavor flavor=PythonSdkFlavor.getFlavor(myConfig.getInterpreterPath());
    if (flavor != null) {
      flavor.addToPythonPath(commandLine,pathList);
    }
 else {
      PythonSdkFlavor.initPythonPath(commandLine.getEnvParams(),passParentEnvs,pathList);
    }
  }
}
