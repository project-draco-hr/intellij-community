{
  GeneralCommandLine commandLine=generateCommandLine(patchers);
  PythonRunConfigurationExtensionsManager.getInstance().patchCommandLine(myConfig,getRunnerSettings(),commandLine,getEnvironment().getRunner().getRunnerId());
  Sdk sdk=PythonSdkType.findSdkByPath(myConfig.getInterpreterPath());
  final ProcessHandler processHandler;
  if (PySdkUtil.isRemote(sdk)) {
    PyRemotePathMapper pathMapper=createRemotePathMapper();
    processHandler=createRemoteProcessStarter().startRemoteProcess(sdk,commandLine,myConfig.getProject(),pathMapper);
  }
 else {
    EncodingEnvironmentUtil.fixDefaultEncodingIfMac(commandLine,myConfig.getProject());
    processHandler=doCreateProcess(commandLine);
    ProcessTerminatedListener.attach(processHandler);
  }
  PythonRunConfigurationExtensionsManager.getInstance().attachExtensionsToProcess(myConfig,processHandler,getRunnerSettings());
  return processHandler;
}
