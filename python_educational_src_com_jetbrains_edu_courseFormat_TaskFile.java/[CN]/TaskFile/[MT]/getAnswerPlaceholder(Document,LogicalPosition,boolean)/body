{
  int line=pos.line;
  if (line >= document.getLineCount()) {
    return null;
  }
  int column=pos.column;
  int offset=document.getLineStartOffset(line) + column;
  for (  AnswerPlaceholder placeholder : myAnswerPlaceholders) {
    if (placeholder.getLine() <= line) {
      int realStartOffset=placeholder.getRealStartOffset(document);
      int placeholderLength=useAnswerLength ? placeholder.getPossibleAnswerLength() : placeholder.getLength();
      final int length=placeholderLength > 0 ? placeholderLength : 0;
      int endOffset=realStartOffset + length;
      if (realStartOffset <= offset && offset <= endOffset) {
        return placeholder;
      }
    }
  }
  return null;
}
