{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  Collection<XExecutionStack> res=new ArrayList<XExecutionStack>();
  Collection<ThreadReferenceProxyImpl> threads=getDebugProcess().getVirtualMachineProxy().allThreads();
  for (  ThreadReferenceProxyImpl thread : threads) {
    res.add(new JavaExecutionStack(thread,myDebugProcess));
  }
  myExecutionStacks=res.toArray(new XExecutionStack[res.size()]);
}
