{
  DebuggerSession session=context.getDebuggerSession();
  if (ApplicationManager.getApplication().isUnitTestMode() || (session != null && session.getState() == DebuggerSession.State.PAUSED)) {
    showMessage(MessageDescriptor.EVALUATING);
    context.getDebugProcess().getManagerThread().schedule(command);
  }
 else {
    showMessage(session != null ? session.getStateDescription() : DebuggerBundle.message("status.debug.stopped"));
    if (session == null || session.isStopped()) {
      getNodeFactory().clearHistory();
    }
  }
}
