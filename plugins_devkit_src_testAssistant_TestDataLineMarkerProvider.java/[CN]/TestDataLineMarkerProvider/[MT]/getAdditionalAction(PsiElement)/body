{
  PsiElement element=e.getParent();
  if (!(e instanceof PsiIdentifier) || !(element instanceof PsiMethod) && !(element instanceof PsiClass)) {
    return null;
  }
  if (!PsiUtil.isPluginProject(element.getProject())) {
    return null;
  }
  final VirtualFile file=PsiUtilCore.getVirtualFile(element);
  if (file == null || !ProjectFileIndex.SERVICE.getInstance(element.getProject()).isInTestSourceContent(file)) {
    return null;
  }
  if (element instanceof PsiMethod) {
    return ActionManager.getInstance().getAction("TestData.Navigate");
  }
 else {
    final PsiClass psiClass=(PsiClass)element;
    final String basePath=getTestDataBasePath(psiClass);
    if (basePath != null) {
      return new GotoTestDataAction(basePath,psiClass.getProject(),AllIcons.Nodes.Folder);
    }
  }
  return null;
}
