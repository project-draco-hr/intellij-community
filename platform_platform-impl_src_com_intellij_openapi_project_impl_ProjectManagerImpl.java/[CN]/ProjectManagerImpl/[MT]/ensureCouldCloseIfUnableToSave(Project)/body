{
  UnableToSaveProjectNotification[] notifications=NotificationsManager.getNotificationsManager().getNotificationsOfType(UnableToSaveProjectNotification.class,project);
  if (notifications.length == 0) {
    return true;
  }
  StringBuilder message=new StringBuilder();
  message.append(String.format("%s was unable to save some project files,\nare you sure you want to close this project anyway?",ApplicationNamesInfo.getInstance().getProductName()));
  message.append("\n\nRead-only files:\n");
  int count=0;
  VirtualFile[] files=notifications[0].myFiles;
  for (  VirtualFile file : files) {
    if (count == 10) {
      message.append('\n').append("and ").append(files.length - count).append(" more").append('\n');
    }
 else {
      message.append(file.getPath()).append('\n');
      count++;
    }
  }
  return Messages.showYesNoDialog(project,message.toString(),"Unsaved Project",Messages.getWarningIcon()) == Messages.YES;
}
