{
  Project project=myProgressManager.run(new Task.WithResult<Project,IOException>(null,ProjectBundle.message("project.load.progress"),true){
    @Override protected Project compute(    @NotNull ProgressIndicator indicator) throws IOException {
      final Project project=convertAndLoadProject(filePath);
      if (project == null) {
        return null;
      }
      UIUtil.invokeAndWaitIfNeeded(new Runnable(){
        @Override public void run(){
          openProject(project);
        }
      }
);
      return project;
    }
  }
);
  if (project == null) {
    WelcomeFrame.showIfNoProjectOpened();
    return null;
  }
  if (!project.isOpen()) {
    WelcomeFrame.showIfNoProjectOpened();
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        Disposer.dispose(project);
      }
    }
);
  }
  return project;
}
