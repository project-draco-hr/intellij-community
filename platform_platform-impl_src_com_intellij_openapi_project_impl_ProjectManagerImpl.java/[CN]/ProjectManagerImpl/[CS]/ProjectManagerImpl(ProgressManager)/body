{
  myProgressManager=progressManager;
  final ProjectManagerListener busPublisher=ApplicationManager.getApplication().getMessageBus().syncPublisher(TOPIC);
  addProjectManagerListener(new ProjectManagerListener(){
    @Override public void projectOpened(    final Project project){
      busPublisher.projectOpened(project);
      for (      ProjectManagerListener listener : getListeners(project)) {
        listener.projectOpened(project);
      }
    }
    @Override public void projectClosed(    Project project){
      busPublisher.projectClosed(project);
      for (      ProjectManagerListener listener : getListeners(project)) {
        listener.projectClosed(project);
      }
    }
    @Override public boolean canCloseProject(    Project project){
      for (      ProjectManagerListener listener : getListeners(project)) {
        if (!listener.canCloseProject(project)) {
          return false;
        }
      }
      return true;
    }
    @Override public void projectClosing(    Project project){
      busPublisher.projectClosing(project);
      for (      ProjectManagerListener listener : getListeners(project)) {
        listener.projectClosing(project);
      }
    }
  }
);
}
