{
  if (PluginManagerCore.CORE_PLUGIN_ID.equals(myId.getIdString())) {
    return true;
  }
  String path;
  try {
    path=getPath().getCanonicalPath();
  }
 catch (  IOException e) {
    path=getPath().getAbsolutePath();
  }
  Application app=ApplicationManager.getApplication();
  if (app != null && app.isInternal()) {
    if (path.startsWith(PathManager.getHomePath() + File.separator + "out"+ File.separator+ "classes")) {
      return true;
    }
    if (app.isUnitTestMode() && !path.startsWith(PathManager.getPluginsPath() + File.separatorChar)) {
      return true;
    }
  }
  return path.startsWith(PathManager.getPreInstalledPluginsPath());
}
