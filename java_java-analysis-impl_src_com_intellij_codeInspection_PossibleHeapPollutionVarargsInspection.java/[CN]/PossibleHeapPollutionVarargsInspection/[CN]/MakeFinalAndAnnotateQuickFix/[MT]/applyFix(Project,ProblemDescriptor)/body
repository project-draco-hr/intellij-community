{
  final PsiElement psiElement=descriptor.getPsiElement();
  if (psiElement instanceof PsiIdentifier) {
    if (!FileModificationService.getInstance().preparePsiElementForWrite(psiElement))     return;
    final PsiMethod psiMethod=(PsiMethod)psiElement.getParent();
    psiMethod.getModifierList().setModifierProperty(PsiModifier.FINAL,true);
    new AddAnnotationPsiFix("java.lang.SafeVarargs",psiMethod,PsiNameValuePair.EMPTY_ARRAY).applyFix(project,descriptor);
  }
}
