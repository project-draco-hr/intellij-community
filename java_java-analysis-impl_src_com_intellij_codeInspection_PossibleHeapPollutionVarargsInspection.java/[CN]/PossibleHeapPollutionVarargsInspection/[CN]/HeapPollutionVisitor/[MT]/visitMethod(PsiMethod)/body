{
  super.visitMethod(method);
  if (!PsiUtil.getLanguageLevel(method).isAtLeast(LanguageLevel.JDK_1_7))   return;
  if (AnnotationUtil.isAnnotated(method,"java.lang.SafeVarargs",false))   return;
  if (!method.isVarArgs())   return;
  final PsiParameter[] parameters=method.getParameterList().getParameters();
  final PsiParameter psiParameter=parameters[parameters.length - 1];
  if (!psiParameter.isVarArgs())   return;
  final PsiType type=psiParameter.getType();
  LOG.assertTrue(type instanceof PsiEllipsisType,"type: " + type.getCanonicalText() + "; param: "+ psiParameter);
  final PsiType componentType=((PsiEllipsisType)type).getComponentType();
  if (JavaGenericsUtil.isReifiableType(componentType)) {
    return;
  }
  for (  PsiReference reference : ReferencesSearch.search(psiParameter)) {
    final PsiElement element=reference.getElement();
    if (element instanceof PsiExpression && !PsiUtil.isAccessedForReading((PsiExpression)element)) {
      return;
    }
  }
  final PsiIdentifier nameIdentifier=method.getNameIdentifier();
  if (nameIdentifier != null) {
    registerProblem(method,nameIdentifier);
  }
}
