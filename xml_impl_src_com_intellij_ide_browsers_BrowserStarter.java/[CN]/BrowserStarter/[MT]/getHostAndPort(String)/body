{
  URI url=Urls.parseAsJavaUriWithoutParameters(rawUrl);
  if (url == null) {
    return null;
  }
  int port=url.getPort();
  if (port == -1) {
    port="https".equals(url.getScheme()) ? 443 : 80;
  }
  return HostAndPort.fromParts(StringUtil.notNullize(url.getHost(),"127.0.0.1"),port);
}
