{
  PsiDirectory[] directories=view.getDirectories();
  if (directories.length == 1) {
    PsiDirectory psiDir=directories[0];
    VirtualFile vDir=psiDir.getVirtualFile();
    ProjectFileIndex index=ProjectRootManager.getInstance(psiDir.getProject()).getFileIndex();
    if (vDir.equals(index.getSourceRootForFile(vDir)) && index.isUnderSourceRootOfType(vDir,singleton(JavaSourceRootType.SOURCE))) {
      return psiDir;
    }
  }
  return null;
}
