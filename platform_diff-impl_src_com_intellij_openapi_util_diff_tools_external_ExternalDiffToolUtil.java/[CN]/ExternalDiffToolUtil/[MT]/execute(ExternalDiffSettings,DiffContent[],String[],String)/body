{
  List<String> files=new ArrayList<String>();
  for (int i=0; i < contents.length; i++) {
    files.add(createFile(contents[i],titles[i],windowTitle));
  }
  CommandLineTokenizer parameterTokenizer=new CommandLineTokenizer(settings.getDiffParameters(),true);
  List<String> args=new ArrayList<String>();
  while (parameterTokenizer.hasMoreTokens()) {
    String arg=parameterTokenizer.nextToken();
    if ("%1".equals(arg)) {
      if (files.size() > 0)       args.add(files.get(0));
    }
 else     if ("%2".equals(arg)) {
      if (files.size() > 1)       args.add(files.get(1));
    }
 else     if ("%3".equals(arg)) {
      if (files.size() > 2)       args.add(files.get(2));
    }
 else {
      args.add(arg);
    }
  }
  GeneralCommandLine commandLine=new GeneralCommandLine();
  commandLine.setExePath(settings.getDiffExePath());
  commandLine.addParameters(args);
  commandLine.createProcess();
}
