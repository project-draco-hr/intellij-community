{
  String newText=element.getText();
  if (((PsiJavaToken)element).getTokenType().equals(JavaTokenType.CHARACTER_LITERAL)) {
    newText=newText.substring(1,newText.length() - 1);
  }
  newText="\"" + newText + "\"";
  PsiElement newToken=JavaPsiFacade.getInstance(project).getElementFactory().createExpressionFromText(newText,null).getFirstChild();
  final PsiElement newElement=element.replace(newToken);
  editor.getCaretModel().moveToOffset(newElement.getTextOffset() + newElement.getTextLength());
}
