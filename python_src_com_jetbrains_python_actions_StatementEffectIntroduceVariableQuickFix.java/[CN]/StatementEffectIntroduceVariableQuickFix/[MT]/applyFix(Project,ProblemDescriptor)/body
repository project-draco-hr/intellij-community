{
  PsiElement expression=descriptor.getPsiElement();
  String name="var";
  if (expression != null) {
    Application application=ApplicationManager.getApplication();
    if (application != null && !application.isUnitTestMode()) {
      name=Messages.showInputDialog(project,IdeBundle.message("prompt.enter.new.variable.name"),IdeBundle.message("title.new.variable"),Messages.getQuestionIcon());
      if (name == null)       return;
    }
    if (name.isEmpty())     return;
    PyElementGenerator elementGenerator=PyElementGenerator.getInstance(project);
    expression.replace(elementGenerator.createFromText(LanguageLevel.forElement(expression),PyAssignmentStatement.class,name + " = " + expression.getText()));
  }
}
