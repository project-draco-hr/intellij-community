{
  myPathMacroSubstitutor=pathMacroSubstitutor;
  myRootElementName=rootElementName;
  myStreamProvider=streamProvider;
  myFileSpec=fileSpec;
  myComponentRoamingManager=componentRoamingManager;
  Disposer.register(parentDisposable,this);
  myLocalVersionProvider=localComponentVersionsProvider;
  myRemoteVersionProvider=new ComponentVersionProvider(){
    @Override public long getVersion(    String name){
      if (myProviderVersions == null) {
        loadProviderVersions();
      }
      return myProviderVersions.get(name);
    }
    @Override public void changeVersion(    String name,    long version){
      if (myProviderVersions == null) {
        loadProviderVersions();
      }
      myProviderVersions.put(name,version);
    }
  }
;
}
