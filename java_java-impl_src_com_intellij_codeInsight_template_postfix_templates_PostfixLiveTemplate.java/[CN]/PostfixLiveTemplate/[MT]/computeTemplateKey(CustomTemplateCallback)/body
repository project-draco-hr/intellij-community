{
  Editor editor=callback.getEditor();
  String key=computeTemplateKeyWithoutContextChecking(editor.getDocument().getCharsSequence(),editor.getCaretModel().getOffset());
  if (key == null)   return null;
  return isApplicableTemplate(getTemplateByKey(key),key,callback.getContext().getContainingFile(),editor) ? key : null;
}
