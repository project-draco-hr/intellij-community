{
  List<Node> visibleNodes=new ArrayList<Node>(nodes.size());
  ElementVisibilityController visibilityController=graph.getVisibilityController();
  for (  Node node : nodes) {
    if (visibilityController.isVisible(node)) {
      visibleNodes.add(node);
    }
  }
  return visibleNodes;
}
