{
  final Query<PsiReference> result=INSTANCE.createQuery(parameters);
  if (parameters.isSharedOptimizer) {
    return uniqueResults(result);
  }
  final SearchRequestCollector requests=parameters.getOptimizer();
  Project project=PsiUtilCore.getProjectInReadAction(parameters.getMethod());
  return uniqueResults(new MergeQuery<PsiReference>(result,new SearchRequestQuery(project,requests)));
}
