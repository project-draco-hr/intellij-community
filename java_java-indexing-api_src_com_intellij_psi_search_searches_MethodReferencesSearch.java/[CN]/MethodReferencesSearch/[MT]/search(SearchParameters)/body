{
  long start=System.currentTimeMillis();
  final Query<PsiReference> result=INSTANCE.createQuery(parameters);
  if (parameters.isSharedOptimizer) {
    return uniqueResults(result);
  }
  final SearchRequestCollector requests=parameters.getOptimizer();
  Project project=PsiUtilCore.getProjectInReadAction(parameters.getMethod());
  Query<PsiReference> result2=uniqueResults(new MergeQuery<PsiReference>(result,new SearchRequestQuery(project,requests)));
  long end=System.currentTimeMillis();
  System.out.println("!Method search: " + 1.0 * (end - start) / 1000);
  return result2;
}
