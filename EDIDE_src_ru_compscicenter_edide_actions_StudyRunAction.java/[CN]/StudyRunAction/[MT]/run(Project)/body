{
  Editor selectedEditor=StudyEditor.getSelectedEditor(project);
  FileDocumentManager fileDocumentManager=FileDocumentManager.getInstance();
  VirtualFile openedFile=fileDocumentManager.getFile(selectedEditor.getDocument());
  StudyTaskManager taskManager=StudyTaskManager.getInstance(selectedEditor.getProject());
  if (openedFile != null && openedFile.getCanonicalPath() != null) {
    String filePath=openedFile.getCanonicalPath();
    GeneralCommandLine cmd=new GeneralCommandLine();
    cmd.setWorkDirectory(openedFile.getParent().getCanonicalPath());
    cmd.setExePath("python");
    cmd.addParameter(filePath);
    TaskFile selectedTaskFile=taskManager.getTaskFile(openedFile);
    Task currentTask=selectedTaskFile.getTask();
    if (currentTask.getInput() != null) {
      cmd.addParameter(currentTask.getInput());
    }
    try {
      Process p=cmd.createProcess();
      ProcessHandler handler=new OSProcessHandler(p);
      RunContentExecutor executor=new RunContentExecutor(project,handler);
      executor.run();
    }
 catch (    ExecutionException e) {
      e.printStackTrace();
    }
  }
}
