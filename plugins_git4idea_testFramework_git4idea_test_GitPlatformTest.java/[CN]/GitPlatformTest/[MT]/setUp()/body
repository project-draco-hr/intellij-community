{
  super.setUp();
  try {
    myProjectFixture=IdeaTestFixtureFactory.getFixtureFactory().createFixtureBuilder(getTestName(true)).getFixture();
    myProjectFixture.setUp();
  }
 catch (  Exception e) {
    super.tearDown();
    throw e;
  }
  myProject=myProjectFixture.getProject();
  myProjectRoot=myProject.getBaseDir();
  myProjectPath=myProjectRoot.getPath();
  myGitSettings=GitVcsSettings.getInstance(myProject);
  myGitSettings.getAppSettings().setPathToGit(GIT_EXECUTABLE);
  myDialogManager=(TestDialogManager)ServiceManager.getService(DialogManager.class);
  myVcsNotifier=(TestVcsNotifier)ServiceManager.getService(myProject,VcsNotifier.class);
  myGitRepositoryManager=GitUtil.getRepositoryManager(myProject);
  myPlatformFacade=ServiceManager.getService(myProject,GitPlatformFacade.class);
  myGit=ServiceManager.getService(myProject,Git.class);
  initChangeListManager();
}
