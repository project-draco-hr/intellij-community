{
  Set<FilePath> files=new HashSet<FilePath>();
  final TreePath[] paths=getSelectionPaths();
  if (paths != null) {
    for (    TreePath path : paths) {
      if (isUnderTag(path,tag)) {
        ChangesBrowserNode<?> node=(ChangesBrowserNode)path.getLastPathComponent();
        files.addAll(node.getAllFilePathsUnder());
      }
    }
  }
  return ContainerUtil.newArrayList(files);
}
