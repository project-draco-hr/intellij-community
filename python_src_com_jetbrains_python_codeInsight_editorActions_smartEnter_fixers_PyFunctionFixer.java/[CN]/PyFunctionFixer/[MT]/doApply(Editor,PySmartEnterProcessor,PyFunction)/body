{
  final PsiElement colon=PyPsiUtils.getFirstChildOfType(function,PyTokenTypes.COLON);
  if (!isFakeFunction(function) && colon == null) {
    final PyParameterList parameterList=function.getParameterList();
    if (function.getNameNode() == null) {
      processor.registerUnresolvedError(parameterList.getTextOffset());
    }
    final int colonOffset;
    final PyAnnotation annotation=function.getAnnotation();
    if (annotation != null) {
      colonOffset=annotation.getTextRange().getEndOffset();
    }
 else {
      colonOffset=parameterList.getTextRange().getEndOffset();
    }
    editor.getDocument().insertString(colonOffset,":");
  }
}
