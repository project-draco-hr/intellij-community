{
  PsiElement file=element.getContainingFile();
  if (file == null || !(file instanceof PyFile))   return null;
  final PyFile pyFile=(PyFile)file;
  final List<PyElement> testCases=PythonDocTestUtil.getDocTestCasesFromFile(pyFile);
  if (testCases.isEmpty())   return null;
  final RunnerAndConfigurationSettings settings=makeConfigurationSettings(location,"doc tests from file");
  final PythonDocTestRunConfiguration configuration=(PythonDocTestRunConfiguration)settings.getConfiguration();
  configuration.setTestType(PythonDocTestRunConfiguration.TestType.TEST_SCRIPT);
  if (!setupConfigurationScript(configuration,pyFile))   return null;
  configuration.setName(configuration.suggestedName());
  myPsiElement=pyFile;
  return settings;
}
