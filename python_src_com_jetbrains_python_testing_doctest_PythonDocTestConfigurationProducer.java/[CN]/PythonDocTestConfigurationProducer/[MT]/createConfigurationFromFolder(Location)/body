{
  final PsiElement element=location.getPsiElement();
  if (!(element instanceof PsiDirectory))   return null;
  final Module module=location.getModule();
  if (!isPythonModule(module))   return null;
  PsiDirectory dir=(PsiDirectory)element;
  final VirtualFile file=dir.getVirtualFile();
  final String path=file.getPath();
  final RunnerAndConfigurationSettings settings=makeConfigurationSettings(location,"doc tests from class");
  final PythonDocTestRunConfiguration configuration=(PythonDocTestRunConfiguration)settings.getConfiguration();
  configuration.setTestType(PythonDocTestRunConfiguration.TestType.TEST_FOLDER);
  configuration.setFolderName(path);
  configuration.setWorkingDirectory(path);
  configuration.setName(configuration.suggestedName());
  myPsiElement=dir;
  return settings;
}
