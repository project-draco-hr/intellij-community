{
  String a1=createFile("src1/A.java","class A{}");
  String b=createFile("src2/B.java","class B{}");
  JpsModule m=addModule("m",PathUtil.getParentPath(a1),PathUtil.getParentPath(b));
  makeAll();
  assertOutput(m,fs().file("A.class").file("B.class"));
  delete(a1);
  String a2=createFile("src2/A.java","class A{}");
  makeAll();
  assertOutput(m,fs().file("A.class").file("B.class"));
  delete(a2);
  makeAll();
  assertOutput(m,fs().file("B.class"));
}
