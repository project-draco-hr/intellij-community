{
  final PsiNamedElement e=getElementToMove(element);
  if (e instanceof PyClass || e instanceof PyFunction) {
    if (isTopLevel(e)) {
      doMove(project,new PsiElement[]{e},null,null);
    }
 else {
      CommonRefactoringUtil.showErrorHint(project,editor,PyBundle.message("refactoring.move.class.or.function.error.selection"),RefactoringBundle.message("error.title"),null);
    }
    return true;
  }
  return false;
}
