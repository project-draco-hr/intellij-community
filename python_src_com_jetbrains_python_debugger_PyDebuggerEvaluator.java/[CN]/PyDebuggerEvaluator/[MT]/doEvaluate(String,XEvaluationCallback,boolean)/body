{
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      String expression=expr.trim();
      if (expression.isEmpty()) {
        callback.evaluated(NONE);
        return;
      }
      final boolean isExpression=PyDebugSupportUtils.isExpression(myProject,expression);
      try {
        final PyDebugValue value=myDebugProcess.evaluate(expression,!isExpression,doTrunc);
        if (value.isErrorOnEval()) {
          callback.errorOccurred("{" + value.getType() + "}"+ value.getValue());
        }
 else {
          callback.evaluated(value);
        }
      }
 catch (      PyDebuggerException e) {
        callback.errorOccurred(e.getTracebackError());
      }
    }
  }
);
}
