{
  if (settings == null)   return;
  final Project project=ProjectManager.getInstance().getDefaultProject();
  final DirectoryProjectGenerator generator=settings.getProjectGenerator();
  NewDirectoryProjectAction.doGenerateProject(project,settings.getProjectLocation(),generator,new Function<VirtualFile,Object>(){
    @Override public Object fun(    VirtualFile file){
      return getProjectSettings(generator);
    }
  }
);
}
