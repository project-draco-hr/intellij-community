{
  PyExpression qualifier=getQualifier();
  final String name=getName();
  if (name != null && qualifier != null) {
    PyType qualifier_type=context.getType(qualifier);
    if (qualifier_type instanceof PyClassType) {
      PyClass pyClass=((PyClassType)qualifier_type).getPyClass();
      if (pyClass != null) {
        Property property=pyClass.findProperty(name);
        if (property != null) {
          final Maybe<Callable> accessor=property.getByDirection(AccessDirection.of(this));
          if (!accessor.isDefined()) {
            return Ref.create(null);
          }
          PsiElement resolved=this.getReference().resolve();
          if (resolved instanceof Callable) {
            PyType type=((Callable)resolved).getReturnType(context,this);
            return Ref.create(type);
          }
        }
      }
    }
  }
  return null;
}
