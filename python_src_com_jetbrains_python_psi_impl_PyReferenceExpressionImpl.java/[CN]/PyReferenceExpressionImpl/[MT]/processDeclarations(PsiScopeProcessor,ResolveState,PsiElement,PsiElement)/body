{
  PsiElement parent=getParent();
  if (parent instanceof PyStatement && lastParent == null && PsiTreeUtil.isAncestor(parent,place,true)) {
    return true;
  }
  if (getParent() instanceof PyAssignmentStatement) {
    PsiElement placeParent=place.getParent();
    while (placeParent != null && placeParent instanceof PyExpression) {
      placeParent=placeParent.getParent();
    }
    if (placeParent == getParent()) {
      return true;
    }
  }
  if (this == place)   return true;
  return processor.execute(this,substitutor);
}
