{
  PsiElement target=resolve();
  if (target instanceof PyExpression) {
    return ((PyExpression)target).getType();
  }
  if (target instanceof PyFile) {
    return new PyModuleType((PyFile)target);
  }
  if (target instanceof PyClass) {
    return new PyClassType((PyClass)target);
  }
  return getReferenceTypeFromProviders(target);
}
