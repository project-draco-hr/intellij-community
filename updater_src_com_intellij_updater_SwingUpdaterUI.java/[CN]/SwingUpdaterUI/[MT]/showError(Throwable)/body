{
  hasError.set(true);
  StringWriter w=new StringWriter();
  if (e instanceof RetryException) {
    hasRetry.set(true);
    w.write("+----------------\n");
    w.write("| A file operation failed.\n");
    w.write("| This might be due to a file being locked by another\n");
    w.write("| application. Please try closing any application\n");
    w.write("| that uses the files being updated then press 'Retry'.\n");
    w.write("+----------------\n");
    w.write("\n\n");
  }
  e.printStackTrace(new PrintWriter(w));
  final String content=w.getBuffer().toString();
  myQueue.add(new UpdateRequest(){
    @Override public void perform(){
      StringWriter w=new StringWriter();
      if (!myConsolePane.isVisible()) {
        w.write("Temp. directory: ");
        w.write(System.getProperty("java.io.tmpdir"));
        w.write("\n\n");
      }
      myConsole.append(w.getBuffer().toString());
      myConsole.append(content);
      if (!myConsolePane.isVisible()) {
        myConsole.setCaretPosition(0);
        myConsolePane.setVisible(true);
        myConsolePane.setPreferredSize(new Dimension(10,200));
        myFrame.pack();
      }
    }
  }
);
}
