{
  VirtualFile vFile=file.getVirtualFile();
  if (vFile != null) {
    VirtualFile root=ProjectFileIndex.SERVICE.getInstance(file.getProject()).getSourceRootForFile(vFile);
    if (root != null && !root.equals(vFile.getParent())) {
      String message=JavaErrorMessages.message("module.file.wrong.location");
      HighlightInfo info=HighlightInfo.newHighlightInfo(HighlightInfoType.WARNING).range(range(element)).description(message).create();
      QuickFixAction.registerQuickFixAction(info,new MoveFileFix(vFile,root,QuickFixBundle.message("move.file.to.source.root.text")));
      return info;
    }
  }
  return null;
}
