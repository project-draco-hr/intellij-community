{
  if (refElement != null) {
    PsiElement target=refElement.resolve();
    if (target instanceof PsiPackage) {
      Module module=ModuleUtilCore.findModuleForPsiElement(refElement);
      if (module != null) {
        String packageName=((PsiPackage)target).getQualifiedName();
        PsiDirectory[] directories=((PsiPackage)target).getDirectories(module.getModuleScope(false));
        if (directories.length == 0) {
          String message=JavaErrorMessages.message("package.not.found",packageName);
          return HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(refElement).description(message).create();
        }
        if (PsiUtil.isPackageEmpty(directories,packageName)) {
          String message=JavaErrorMessages.message("package.is.empty",packageName);
          return HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(refElement).description(message).create();
        }
      }
    }
  }
  return null;
}
