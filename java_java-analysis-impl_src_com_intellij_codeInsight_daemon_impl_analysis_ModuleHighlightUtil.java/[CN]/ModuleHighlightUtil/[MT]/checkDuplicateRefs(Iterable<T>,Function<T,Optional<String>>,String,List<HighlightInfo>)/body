{
  Set<String> filter=ContainerUtil.newTroveSet();
  for (  T statement : statements) {
    String refText=ref.apply(statement).orElse(null);
    if (refText != null && !filter.add(refText)) {
      String message=JavaErrorMessages.message(key,refText);
      HighlightInfo info=HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(statement).description(message).create();
      QuickFixAction.registerQuickFixAction(info,new DeleteElementFix(statement));
      results.add(info);
    }
  }
}
