{
  VirtualFile vFile=file.getVirtualFile();
  if (vFile != null) {
    Project project=file.getProject();
    Module module=ProjectFileIndex.SERVICE.getInstance(project).getModuleForFile(vFile);
    if (module != null) {
      Collection<VirtualFile> others=FilenameIndex.getVirtualFilesByName(project,MODULE_FILE_NAME,new ModulesScope(Collections.singleton(module),project));
      if (others.size() > 1) {
        String message=JavaErrorMessages.message("module.file.duplicate");
        return HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(range(element)).description(message).create();
      }
    }
  }
  return null;
}
