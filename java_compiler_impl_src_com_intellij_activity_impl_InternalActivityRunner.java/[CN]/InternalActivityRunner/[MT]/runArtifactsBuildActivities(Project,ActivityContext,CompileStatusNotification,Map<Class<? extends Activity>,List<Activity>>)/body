{
  Collection<? extends Activity> buildActivities=activitiesMap.get(ArtifactBuildActivity.class);
  if (!ContainerUtil.isEmpty(buildActivities)) {
    List<Artifact> toMake=new SmartList<>();
    List<Artifact> toCompile=new SmartList<>();
    for (    Activity buildActivity : buildActivities) {
      ArtifactBuildActivity artifactBuildActivity=(ArtifactBuildActivity)buildActivity;
      if (artifactBuildActivity.isIncrementalBuild()) {
        toMake.add(artifactBuildActivity.getArtifact());
      }
 else {
        toCompile.add(artifactBuildActivity.getArtifact());
      }
    }
    buildArtifacts(project,toMake,context.getSessionId(),compileNotification,false);
    buildArtifacts(project,toCompile,context.getSessionId(),compileNotification,true);
  }
}
