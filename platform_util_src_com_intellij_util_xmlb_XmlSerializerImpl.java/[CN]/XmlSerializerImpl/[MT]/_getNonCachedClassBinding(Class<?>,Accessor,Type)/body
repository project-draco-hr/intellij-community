{
  if (aClass.isPrimitive()) {
    return new PrimitiveValueBinding(aClass,accessor);
  }
  if (aClass.isArray()) {
    return Element.class.isAssignableFrom(aClass.getComponentType()) ? new JDOMElementBinding(accessor) : new ArrayBinding(aClass,accessor);
  }
  if (Number.class.isAssignableFrom(aClass)) {
    return new PrimitiveValueBinding(aClass,accessor);
  }
  if (Boolean.class.isAssignableFrom(aClass)) {
    return new PrimitiveValueBinding(aClass,accessor);
  }
  if (String.class.isAssignableFrom(aClass)) {
    return new PrimitiveValueBinding(aClass,accessor);
  }
  if (Collection.class.isAssignableFrom(aClass) && originalType instanceof ParameterizedType) {
    if (accessor != null) {
      CollectionBean listBean=accessor.getAnnotation(CollectionBean.class);
      if (listBean != null) {
        return new CompactCollectionBinding(accessor);
      }
    }
    return new CollectionBinding((ParameterizedType)originalType,accessor);
  }
  if (accessor != null) {
    if (Map.class.isAssignableFrom(aClass) && originalType instanceof ParameterizedType) {
      return new MapBinding((ParameterizedType)originalType,accessor);
    }
    if (Element.class.isAssignableFrom(aClass)) {
      return new JDOMElementBinding(accessor);
    }
    if (JDOMExternalizableStringList.class == aClass) {
      return new CompactCollectionBinding(accessor);
    }
  }
  if (Date.class.isAssignableFrom(aClass)) {
    return new DateBinding(accessor);
  }
  if (aClass.isEnum()) {
    return new PrimitiveValueBinding(aClass,accessor);
  }
  return new BeanBinding(aClass,accessor);
}
