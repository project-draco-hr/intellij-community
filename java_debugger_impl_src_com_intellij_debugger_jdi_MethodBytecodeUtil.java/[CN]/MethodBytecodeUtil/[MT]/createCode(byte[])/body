{
  try (ByteArrayOutputStream bos=new ByteArrayOutputStream();DataOutputStream dos=new DataOutputStream(bos)){
    dos.writeInt(0xCAFEBABE);
    dos.writeInt(Opcodes.V1_8);
    dos.writeShort(0);
    int codeSize=dos.size();
    dos.writeShort(0);
    dos.writeShort(0);
    dos.writeInt(bytecodes.length);
    dos.write(bytecodes);
    dos.writeShort(0);
    dos.writeShort(0);
    codeSize=dos.size() - codeSize;
    ClassReader cr=new ClassReader(bos.toByteArray());
    return new Attribute("Code"){
      @Override public Attribute read(      ClassReader cr,      int off,      int len,      char[] buf,      int codeOff,      Label[] labels){
        return super.read(cr,off,len,buf,codeOff,labels);
      }
    }
.read(cr,cr.header,codeSize,null,0,null);
  }
 }
