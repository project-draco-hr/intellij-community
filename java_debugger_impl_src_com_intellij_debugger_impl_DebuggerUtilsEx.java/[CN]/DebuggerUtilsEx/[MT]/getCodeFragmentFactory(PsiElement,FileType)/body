{
  DefaultCodeFragmentFactory defaultFactory=DefaultCodeFragmentFactory.getInstance();
  if (fileType == null) {
    return defaultFactory;
  }
  for (  CodeFragmentFactory factory : ApplicationManager.getApplication().getExtensions(CodeFragmentFactory.EXTENSION_POINT_NAME)) {
    if (factory != defaultFactory && factory.getFileType().equals(fileType) && factory.isContextAccepted(context)) {
      return factory;
    }
  }
  return defaultFactory;
}
