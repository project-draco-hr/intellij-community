{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  TextRange lineRange=DocumentUtil.getLineTextRange(document,line);
  if (!intersects(lineRange,lambda))   return null;
  PsiElement body=lambda.getBody();
  if (body == null || !intersects(lineRange,body))   return null;
  if (body instanceof PsiCodeBlock) {
    for (    PsiStatement statement : ((PsiCodeBlock)body).getStatements()) {
      if (lineRange.contains(statement.getTextOffset())) {
        return statement;
      }
 else       if (intersects(lineRange,statement)) {
        for (        PsiElement element : SyntaxTraverser.psiTraverser(statement)) {
          if (lineRange.contains(element.getTextOffset())) {
            return element;
          }
        }
      }
    }
    return null;
  }
  return body;
}
