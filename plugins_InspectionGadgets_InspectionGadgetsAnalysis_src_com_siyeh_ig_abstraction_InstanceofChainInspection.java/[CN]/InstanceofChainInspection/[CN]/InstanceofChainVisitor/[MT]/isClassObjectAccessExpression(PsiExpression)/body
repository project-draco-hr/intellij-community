{
  expression=ParenthesesUtils.stripParentheses(expression);
  if (!(expression instanceof PsiClassObjectAccessExpression)) {
    return false;
  }
  final PsiClassObjectAccessExpression classObjectAccessExpression=(PsiClassObjectAccessExpression)expression;
  final PsiTypeElement typeElement=classObjectAccessExpression.getOperand();
  return !ignoreInstanceofOnLibraryClasses || !LibraryUtil.isTypeInLibrary(typeElement.getType());
}
