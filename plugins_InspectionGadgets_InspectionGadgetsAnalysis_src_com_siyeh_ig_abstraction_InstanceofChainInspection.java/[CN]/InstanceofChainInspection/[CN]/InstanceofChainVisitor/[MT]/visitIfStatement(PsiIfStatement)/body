{
  super.visitIfStatement(ifStatement);
  if (ControlFlowUtils.isElseIf(ifStatement)) {
    return;
  }
  final PsiStatement previousStatement=PsiTreeUtil.getPrevSiblingOfType(ifStatement,PsiStatement.class);
  if (previousStatement instanceof PsiIfStatement) {
    final PsiIfStatement previousIfStatement=(PsiIfStatement)previousStatement;
    if (isInstanceofCheck(previousIfStatement.getCondition())) {
      return;
    }
  }
  int numChecks=0;
  PsiIfStatement branch=ifStatement;
  while (true) {
    final PsiExpression condition=branch.getCondition();
    if (!isInstanceofCheck(condition)) {
      if (numChecks > 1) {
        break;
      }
      return;
    }
    numChecks++;
    final PsiStatement elseBranch=branch.getElseBranch();
    if (elseBranch instanceof PsiIfStatement) {
      branch=(PsiIfStatement)elseBranch;
    }
 else     if (elseBranch == null) {
      final PsiStatement nextStatement=PsiTreeUtil.getNextSiblingOfType(branch,PsiStatement.class);
      if (!(nextStatement instanceof PsiIfStatement)) {
        break;
      }
      branch=(PsiIfStatement)nextStatement;
    }
 else {
      break;
    }
  }
  if (numChecks < 2) {
    return;
  }
  registerStatementError(ifStatement);
}
